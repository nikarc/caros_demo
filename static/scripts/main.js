!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports.BinarySearchTree=require("./lib/bst"),module.exports.AVLTree=require("./lib/avltree")},{"./lib/avltree":2,"./lib/bst":3}],2:[function(require,module,exports){function AVLTree(options){this.tree=new _AVLTree(options)}function _AVLTree(options){options=options||{},this.left=null,this.right=null,this.parent=void 0!==options.parent?options.parent:null,options.hasOwnProperty("key")&&(this.key=options.key),this.data=options.hasOwnProperty("value")?[options.value]:[],this.unique=options.unique||!1,this.compareKeys=options.compareKeys||customUtils.defaultCompareKeysFunction,this.checkValueEquality=options.checkValueEquality||customUtils.defaultCheckValueEquality}var BinarySearchTree=require("./bst"),customUtils=require("./customUtils"),util=require("util");require("underscore");util.inherits(_AVLTree,BinarySearchTree),AVLTree._AVLTree=_AVLTree,_AVLTree.prototype.checkHeightCorrect=function(){var leftH,rightH;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw"Undefined height for node "+this.left.key;if(this.right&&void 0===this.right.height)throw"Undefined height for node "+this.right.key;if(void 0===this.height)throw"Undefined height for node "+this.key;if(leftH=this.left?this.left.height:0,rightH=this.right?this.right.height:0,this.height!==1+Math.max(leftH,rightH))throw"Height constraint failed for node "+this.key;this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},_AVLTree.prototype.balanceFactor=function(){var leftH=this.left?this.left.height:0,rightH=this.right?this.right.height:0;return leftH-rightH},_AVLTree.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw"Tree is unbalanced at node "+this.key;this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},_AVLTree.prototype.checkIsAVLT=function(){_AVLTree.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},AVLTree.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},_AVLTree.prototype.rightRotation=function(){var b,ah,bh,ch,q=this,p=this.left;return p?(b=p.right,q.parent?(p.parent=q.parent,q.parent.left===q?q.parent.left=p:q.parent.right=p):p.parent=null,p.right=q,q.parent=p,q.left=b,b&&(b.parent=q),ah=p.left?p.left.height:0,bh=b?b.height:0,ch=q.right?q.right.height:0,q.height=Math.max(bh,ch)+1,p.height=Math.max(ah,q.height)+1,p):this},_AVLTree.prototype.leftRotation=function(){var b,ah,bh,ch,p=this,q=this.right;return q?(b=q.left,p.parent?(q.parent=p.parent,p.parent.left===p?p.parent.left=q:p.parent.right=q):q.parent=null,q.left=p,p.parent=q,p.right=b,b&&(b.parent=p),ah=p.left?p.left.height:0,bh=b?b.height:0,ch=q.right?q.right.height:0,p.height=Math.max(ah,bh)+1,q.height=Math.max(ch,p.height)+1,q):this},_AVLTree.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},_AVLTree.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},_AVLTree.prototype.rebalanceAlongPath=function(path){var rotated,i,newRoot=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(i=path.length-1;i>=0;i-=1)path[i].height=1+Math.max(path[i].left?path[i].left.height:0,path[i].right?path[i].right.height:0),path[i].balanceFactor()>1&&(rotated=path[i].rightTooSmall(),0===i&&(newRoot=rotated)),path[i].balanceFactor()<-1&&(rotated=path[i].leftTooSmall(),0===i&&(newRoot=rotated));return newRoot},_AVLTree.prototype.insert=function(key,value){var insertPath=[],currentNode=this;if(!this.hasOwnProperty("key"))return this.key=key,this.data.push(value),this.height=1,this;for(;;){if(0===currentNode.compareKeys(currentNode.key,key)){if(currentNode.unique)throw{message:"Can't insert key "+key+", it violates the unique constraint",key:key,errorType:"uniqueViolated"};return currentNode.data.push(value),this}if(insertPath.push(currentNode),currentNode.compareKeys(key,currentNode.key)<0){if(!currentNode.left){insertPath.push(currentNode.createLeftChild({key:key,value:value}));break}currentNode=currentNode.left}else{if(!currentNode.right){insertPath.push(currentNode.createRightChild({key:key,value:value}));break}currentNode=currentNode.right}}return this.rebalanceAlongPath(insertPath)},AVLTree.prototype.insert=function(key,value){var newTree=this.tree.insert(key,value);newTree&&(this.tree=newTree)},_AVLTree.prototype["delete"]=function(key,value){var replaceWith,newData=[],currentNode=this,deletePath=[];if(!this.hasOwnProperty("key"))return this;for(;;){if(0===currentNode.compareKeys(key,currentNode.key))break;if(deletePath.push(currentNode),currentNode.compareKeys(key,currentNode.key)<0){if(!currentNode.left)return this;currentNode=currentNode.left}else{if(!currentNode.right)return this;currentNode=currentNode.right}}if(currentNode.data.length>1&&value)return currentNode.data.forEach(function(d){currentNode.checkValueEquality(d,value)||newData.push(d)}),currentNode.data=newData,this;if(!currentNode.left&&!currentNode.right)return currentNode===this?(delete currentNode.key,currentNode.data=[],delete currentNode.height,this):(currentNode.parent.left===currentNode?currentNode.parent.left=null:currentNode.parent.right=null,this.rebalanceAlongPath(deletePath));if(!currentNode.left||!currentNode.right)return replaceWith=currentNode.left?currentNode.left:currentNode.right,currentNode===this?(replaceWith.parent=null,replaceWith):(currentNode.parent.left===currentNode?(currentNode.parent.left=replaceWith,replaceWith.parent=currentNode.parent):(currentNode.parent.right=replaceWith,replaceWith.parent=currentNode.parent),this.rebalanceAlongPath(deletePath));if(deletePath.push(currentNode),replaceWith=currentNode.left,!replaceWith.right)return currentNode.key=replaceWith.key,currentNode.data=replaceWith.data,currentNode.left=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=currentNode),this.rebalanceAlongPath(deletePath);for(;;){if(!replaceWith.right)break;deletePath.push(replaceWith),replaceWith=replaceWith.right}return currentNode.key=replaceWith.key,currentNode.data=replaceWith.data,replaceWith.parent.right=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent),this.rebalanceAlongPath(deletePath)},AVLTree.prototype["delete"]=function(key,value){var newTree=this.tree["delete"](key,value);newTree&&(this.tree=newTree)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(fn){AVLTree.prototype[fn]=function(){return this.tree[fn].apply(this.tree,arguments)}}),module.exports=AVLTree},{"./bst":3,"./customUtils":4,underscore:5,util:22}],3:[function(require,module,exports){function BinarySearchTree(options){options=options||{},this.left=null,this.right=null,this.parent=void 0!==options.parent?options.parent:null,options.hasOwnProperty("key")&&(this.key=options.key),this.data=options.hasOwnProperty("value")?[options.value]:[],this.unique=options.unique||!1,this.compareKeys=options.compareKeys||customUtils.defaultCompareKeysFunction,this.checkValueEquality=options.checkValueEquality||customUtils.defaultCheckValueEquality}function append(array,toAppend){var i;for(i=0;i<toAppend.length;i+=1)array.push(toAppend[i])}var customUtils=require("./customUtils");BinarySearchTree.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},BinarySearchTree.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},BinarySearchTree.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},BinarySearchTree.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},BinarySearchTree.prototype.checkAllNodesFullfillCondition=function(test){this.hasOwnProperty("key")&&(test(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(test),this.right&&this.right.checkAllNodesFullfillCondition(test))},BinarySearchTree.prototype.checkNodeOrdering=function(){var self=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(k){if(self.compareKeys(k,self.key)>=0)throw"Tree with root "+self.key+" is not a binary search tree"}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(k){if(self.compareKeys(k,self.key)<=0)throw"Tree with root "+self.key+" is not a binary search tree"}),this.right.checkNodeOrdering()))},BinarySearchTree.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw"Parent pointer broken for key "+this.key;this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw"Parent pointer broken for key "+this.key;this.right.checkInternalPointers()}},BinarySearchTree.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw"The root shouldn't have a parent"},BinarySearchTree.prototype.getNumberOfKeys=function(){var res;return this.hasOwnProperty("key")?(res=1,this.left&&(res+=this.left.getNumberOfKeys()),this.right&&(res+=this.right.getNumberOfKeys()),res):0},BinarySearchTree.prototype.createSimilar=function(options){return options=options||{},options.unique=this.unique,options.compareKeys=this.compareKeys,options.checkValueEquality=this.checkValueEquality,new this.constructor(options)},BinarySearchTree.prototype.createLeftChild=function(options){var leftChild=this.createSimilar(options);return leftChild.parent=this,this.left=leftChild,leftChild},BinarySearchTree.prototype.createRightChild=function(options){var rightChild=this.createSimilar(options);return rightChild.parent=this,this.right=rightChild,rightChild},BinarySearchTree.prototype.insert=function(key,value){if(!this.hasOwnProperty("key"))return this.key=key,void this.data.push(value);if(0===this.compareKeys(this.key,key)){if(this.unique)throw{message:"Can't insert key "+key+", it violates the unique constraint",key:key,errorType:"uniqueViolated"};return void this.data.push(value)}this.compareKeys(key,this.key)<0?this.left?this.left.insert(key,value):this.createLeftChild({key:key,value:value}):this.right?this.right.insert(key,value):this.createRightChild({key:key,value:value})},BinarySearchTree.prototype.search=function(key){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,key)?this.data:this.compareKeys(key,this.key)<0?this.left?this.left.search(key):[]:this.right?this.right.search(key):[]:[]},BinarySearchTree.prototype.getLowerBoundMatcher=function(query){var self=this;return query.hasOwnProperty("$gt")||query.hasOwnProperty("$gte")?query.hasOwnProperty("$gt")&&query.hasOwnProperty("$gte")?0===self.compareKeys(query.$gte,query.$gt)?function(key){return self.compareKeys(key,query.$gt)>0}:self.compareKeys(query.$gte,query.$gt)>0?function(key){return self.compareKeys(key,query.$gte)>=0}:function(key){return self.compareKeys(key,query.$gt)>0}:query.hasOwnProperty("$gt")?function(key){return self.compareKeys(key,query.$gt)>0}:function(key){return self.compareKeys(key,query.$gte)>=0}:function(){return!0}},BinarySearchTree.prototype.getUpperBoundMatcher=function(query){var self=this;return query.hasOwnProperty("$lt")||query.hasOwnProperty("$lte")?query.hasOwnProperty("$lt")&&query.hasOwnProperty("$lte")?0===self.compareKeys(query.$lte,query.$lt)?function(key){return self.compareKeys(key,query.$lt)<0}:self.compareKeys(query.$lte,query.$lt)<0?function(key){return self.compareKeys(key,query.$lte)<=0}:function(key){return self.compareKeys(key,query.$lt)<0}:query.hasOwnProperty("$lt")?function(key){return self.compareKeys(key,query.$lt)<0}:function(key){return self.compareKeys(key,query.$lte)<=0}:function(){return!0}},BinarySearchTree.prototype.betweenBounds=function(query,lbm,ubm){var res=[];return this.hasOwnProperty("key")?(lbm=lbm||this.getLowerBoundMatcher(query),ubm=ubm||this.getUpperBoundMatcher(query),lbm(this.key)&&this.left&&append(res,this.left.betweenBounds(query,lbm,ubm)),lbm(this.key)&&ubm(this.key)&&append(res,this.data),ubm(this.key)&&this.right&&append(res,this.right.betweenBounds(query,lbm,ubm)),res):[]},BinarySearchTree.prototype.deleteIfLeaf=function(){return this.left||this.right?!1:this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0)},BinarySearchTree.prototype.deleteIfOnlyOneChild=function(){var child;return this.left&&!this.right&&(child=this.left),!this.left&&this.right&&(child=this.right),child?this.parent?(this.parent.left===this?(this.parent.left=child,child.parent=this.parent):(this.parent.right=child,child.parent=this.parent),!0):(this.key=child.key,this.data=child.data,this.left=null,child.left&&(this.left=child.left,child.left.parent=this),this.right=null,child.right&&(this.right=child.right,child.right.parent=this),!0):!1},BinarySearchTree.prototype["delete"]=function(key,value){var replaceWith,newData=[],self=this;if(this.hasOwnProperty("key")){if(this.compareKeys(key,this.key)<0)return void(this.left&&this.left["delete"](key,value));if(this.compareKeys(key,this.key)>0)return void(this.right&&this.right["delete"](key,value));if(0!==!this.compareKeys(key,this.key))return this.data.length>1&&void 0!==value?(this.data.forEach(function(d){self.checkValueEquality(d,value)||newData.push(d)}),void(self.data=newData)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(replaceWith=this.left.getMaxKeyDescendant(),this.key=replaceWith.key,this.data=replaceWith.data,this===replaceWith.parent?(this.left=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent)):(replaceWith.parent.right=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent))):(replaceWith=this.right.getMinKeyDescendant(),this.key=replaceWith.key,this.data=replaceWith.data,this===replaceWith.parent?(this.right=replaceWith.right,replaceWith.right&&(replaceWith.right.parent=replaceWith.parent)):(replaceWith.parent.left=replaceWith.right,replaceWith.right&&(replaceWith.right.parent=replaceWith.parent)))))}},BinarySearchTree.prototype.executeOnEveryNode=function(fn){this.left&&this.left.executeOnEveryNode(fn),fn(this),this.right&&this.right.executeOnEveryNode(fn)},BinarySearchTree.prototype.prettyPrint=function(printData,spacing){spacing=spacing||"",console.log(spacing+"* "+this.key),printData&&console.log(spacing+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(printData,spacing+"  "):console.log(spacing+"  *"),this.right?this.right.prettyPrint(printData,spacing+"  "):console.log(spacing+"  *"))},module.exports=BinarySearchTree},{"./customUtils":4}],4:[function(require,module,exports){function getRandomArray(n){var res,next;return 0===n?[]:1===n?[0]:(res=getRandomArray(n-1),next=Math.floor(Math.random()*n),res.splice(next,0,n-1),res)}function defaultCompareKeysFunction(a,b){if(b>a)return-1;if(a>b)return 1;if(a===b)return 0;throw{message:"Couldn't compare elements",a:a,b:b}}function defaultCheckValueEquality(a,b){return a===b}module.exports.getRandomArray=getRandomArray,module.exports.defaultCompareKeysFunction=defaultCompareKeysFunction,module.exports.defaultCheckValueEquality=defaultCheckValueEquality},{}],5:[function(require,module,exports){(function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.4.4";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;l>i;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){return iterator.call(context,value,index,list)?(result=value,!0):void 0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&(results[results.length]=value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){return(result=result&&iterator.call(context,value,index,list))?void 0:breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){return result||(result=iterator.call(context,value,index,list))?breaker:void 0}),!!result)};_.contains=_.include=function(obj,target){return null==obj?!1:nativeIndexOf&&obj.indexOf===nativeIndexOf?-1!=obj.indexOf(target):any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?null:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-(1/0);var result={computed:-(1/0),value:-(1/0)};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index<right.index?-1:1}),"value")};var group=function(obj,value,context,behavior){var result={},iterator=lookupIterator(value||_.identity);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)})},_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){_.has(result,key)||(result[key]=0),result[key]++})},_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;high>low;){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return null!=array?null==n||guard?array[0]:slice.call(array,0,n):void 0},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){return null!=array?null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0)):void 0},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return each(input,function(value){_.isArray(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=new Array(length),i=0;length>i;i++)results[i]=_.pluck(args,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,l=list.length;l>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,l=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=0>isSorted?Math.max(0,l+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;l>i;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;for(var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(len);len>idx;)range[idx++]=start,start+=step;return range},_.bind=function(func,context){if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));var args=slice.call(arguments,2);return function(){return func.apply(context,args.concat(slice.call(arguments)))}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);return 0===funcs.length&&(funcs=_.functions(obj)),each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,result,previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return 0>=times?func():function(){return--times<1?func.apply(this,arguments):void 0}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&(keys[keys.length]=key);return keys},_.values=function(obj){var values=[];for(var key in obj)_.has(obj,key)&&values.push(obj[key]);return values},_.pairs=function(obj){var pairs=[];for(var key in obj)_.has(obj,key)&&pairs.push([key,obj[key]]);return pairs},_.invert=function(obj){var result={};for(var key in obj)_.has(obj,key)&&(result[obj[key]]=key);return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)null==obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(obj){return"function"==typeof obj}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(n),i=0;n>i;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;",
"/":"&#x2F;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null==object)return null;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],6:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],7:[function(require,module,exports){(function(process,global){!function(){var define,requireModule,require,requirejs;!function(){var registry={},seen={};define=function(name,deps,callback){registry[name]={deps:deps,callback:callback}},requirejs=require=requireModule=function(name){function resolve(child){if("."!==child.charAt(0))return child;for(var parts=child.split("/"),parentBase=name.split("/").slice(0,-1),i=0,l=parts.length;l>i;i++){var part=parts[i];if(".."===part)parentBase.pop();else{if("."===part)continue;parentBase.push(part)}}return parentBase.join("/")}if(requirejs._eak_seen=registry,seen[name])return seen[name];if(seen[name]={},!registry[name])throw new Error("Could not find module "+name);for(var exports,mod=registry[name],deps=mod.deps,callback=mod.callback,reified=[],i=0,l=deps.length;l>i;i++)"exports"===deps[i]?reified.push(exports={}):reified.push(requireModule(resolve(deps[i])));var value=callback.apply(this,reified);return seen[name]=exports||value}}(),define("promise/all",["./utils","exports"],function(__dependency1__,__exports__){"use strict";function all(promises){var Promise=this;if(!isArray(promises))throw new TypeError("You must pass an array to all.");return new Promise(function(resolve,reject){function resolver(index){return function(value){resolveAll(index,value)}}function resolveAll(index,value){results[index]=value,0===--remaining&&resolve(results)}var promise,results=[],remaining=promises.length;0===remaining&&resolve([]);for(var i=0;i<promises.length;i++)promise=promises[i],promise&&isFunction(promise.then)?promise.then(resolver(i),reject):resolveAll(i,promise)})}var isArray=__dependency1__.isArray,isFunction=__dependency1__.isFunction;__exports__.all=all}),define("promise/asap",["exports"],function(__exports__){"use strict";function useNextTick(){return function(){process.nextTick(flush)}}function useMutationObserver(){var iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function useSetTimeout(){return function(){local.setTimeout(flush,1)}}function flush(){for(var i=0;i<queue.length;i++){var tuple=queue[i],callback=tuple[0],arg=tuple[1];callback(arg)}queue=[]}function asap(callback,arg){var length=queue.push([callback,arg]);1===length&&scheduleFlush()}var scheduleFlush,browserGlobal="undefined"!=typeof window?window:{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,local="undefined"!=typeof global?global:void 0===this?window:this,queue=[];scheduleFlush="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?useNextTick():BrowserMutationObserver?useMutationObserver():useSetTimeout(),__exports__.asap=asap}),define("promise/config",["exports"],function(__exports__){"use strict";function configure(name,value){return 2!==arguments.length?config[name]:void(config[name]=value)}var config={instrument:!1};__exports__.config=config,__exports__.configure=configure}),define("promise/polyfill",["./promise","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";function polyfill(){var local;local="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var es6PromiseSupport="Promise"in local&&"resolve"in local.Promise&&"reject"in local.Promise&&"all"in local.Promise&&"race"in local.Promise&&function(){var resolve;return new local.Promise(function(r){resolve=r}),isFunction(resolve)}();es6PromiseSupport||(local.Promise=RSVPPromise)}var RSVPPromise=__dependency1__.Promise,isFunction=__dependency2__.isFunction;__exports__.polyfill=polyfill}),define("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";function Promise(resolver){if(!isFunction(resolver))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Promise))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],invokeResolver(resolver,this)}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=isFunction(callback);if(hasCallback)try{value=callback(detail),succeeded=!0}catch(e){failed=!0,error=e}else value=detail,succeeded=!0;handleThenable(promise,value)||(hasCallback&&succeeded?resolve(promise,value):failed?reject(promise,error):settled===FULFILLED?resolve(promise,value):settled===REJECTED&&reject(promise,value))}function subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;subscribers[length]=child,subscribers[length+FULFILLED]=onFulfillment,subscribers[length+REJECTED]=onRejection}function publish(promise,settled){for(var child,callback,subscribers=promise._subscribers,detail=promise._detail,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],invokeCallback(settled,child,callback,detail);promise._subscribers=null}function handleThenable(promise,value){var resolved,then=null;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(objectOrFunction(value)&&(then=value.then,isFunction(then)))return then.call(value,function(val){return resolved?!0:(resolved=!0,void(value!==val?resolve(promise,val):fulfill(promise,val)))},function(val){return resolved?!0:(resolved=!0,void reject(promise,val))}),!0}catch(error){return resolved?!0:(reject(promise,error),!0)}return!1}function resolve(promise,value){promise===value?fulfill(promise,value):handleThenable(promise,value)||fulfill(promise,value)}function fulfill(promise,value){promise._state===PENDING&&(promise._state=SEALED,promise._detail=value,config.async(publishFulfillment,promise))}function reject(promise,reason){promise._state===PENDING&&(promise._state=SEALED,promise._detail=reason,config.async(publishRejection,promise))}function publishFulfillment(promise){publish(promise,promise._state=FULFILLED)}function publishRejection(promise){publish(promise,promise._state=REJECTED)}var config=__dependency1__.config,objectOrFunction=(__dependency1__.configure,__dependency2__.objectOrFunction),isFunction=__dependency2__.isFunction,all=(__dependency2__.now,__dependency3__.all),race=__dependency4__.race,staticResolve=__dependency5__.resolve,staticReject=__dependency6__.reject,asap=__dependency7__.asap;config.async=asap;var PENDING=void 0,SEALED=0,FULFILLED=1,REJECTED=2;Promise.prototype={constructor:Promise,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(onFulfillment,onRejection){var promise=this,thenPromise=new this.constructor(function(){});if(this._state){var callbacks=arguments;config.async(function(){invokeCallback(promise._state,thenPromise,callbacks[promise._state-1],promise._detail)})}else subscribe(this,thenPromise,onFulfillment,onRejection);return thenPromise},"catch":function(onRejection){return this.then(null,onRejection)}},Promise.all=all,Promise.race=race,Promise.resolve=staticResolve,Promise.reject=staticReject,__exports__.Promise=Promise}),define("promise/race",["./utils","exports"],function(__dependency1__,__exports__){"use strict";function race(promises){var Promise=this;if(!isArray(promises))throw new TypeError("You must pass an array to race.");return new Promise(function(resolve,reject){for(var promise,i=0;i<promises.length;i++)promise=promises[i],promise&&"function"==typeof promise.then?promise.then(resolve,reject):resolve(promise)})}var isArray=__dependency1__.isArray;__exports__.race=race}),define("promise/reject",["exports"],function(__exports__){"use strict";function reject(reason){var Promise=this;return new Promise(function(resolve,reject){reject(reason)})}__exports__.reject=reject}),define("promise/resolve",["exports"],function(__exports__){"use strict";function resolve(value){if(value&&"object"==typeof value&&value.constructor===this)return value;var Promise=this;return new Promise(function(resolve){resolve(value)})}__exports__.resolve=resolve}),define("promise/utils",["exports"],function(__exports__){"use strict";function objectOrFunction(x){return isFunction(x)||"object"==typeof x&&null!==x}function isFunction(x){return"function"==typeof x}function isArray(x){return"[object Array]"===Object.prototype.toString.call(x)}var now=Date.now||function(){return(new Date).getTime()};__exports__.objectOrFunction=objectOrFunction,__exports__.isFunction=isFunction,__exports__.isArray=isArray,__exports__.now=now}),requireModule("promise/polyfill").polyfill()}(),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.localforage=factory():root.localforage=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0,function(){function callWhenReady(localForageInstance,libraryMethod){localForageInstance[libraryMethod]=function(){var _args=arguments;return localForageInstance.ready().then(function(){return localForageInstance[libraryMethod].apply(localForageInstance,_args)})}}function extend(){for(var i=1;i<arguments.length;i++){var arg=arguments[i];if(arg)for(var key in arg)arg.hasOwnProperty(key)&&(isArray(arg[key])?arguments[0][key]=arg[key].slice():arguments[0][key]=arg[key])}return arguments[0]}function isLibraryDriver(driverName){for(var driver in DriverType)if(DriverType.hasOwnProperty(driver)&&DriverType[driver]===driverName)return!0;return!1}var CustomDrivers={},DriverType={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},DefaultDriverOrder=[DriverType.INDEXEDDB,DriverType.WEBSQL,DriverType.LOCALSTORAGE],LibraryMethods=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],DefaultConfig={description:"",driver:DefaultDriverOrder.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},driverSupport=function(self){var indexedDB=indexedDB||self.indexedDB||self.webkitIndexedDB||self.mozIndexedDB||self.OIndexedDB||self.msIndexedDB,result={};return result[DriverType.WEBSQL]=!!self.openDatabase,result[DriverType.INDEXEDDB]=!!function(){if("undefined"!=typeof self.openDatabase&&self.navigator&&self.navigator.userAgent&&/Safari/.test(self.navigator.userAgent)&&!/Chrome/.test(self.navigator.userAgent))return!1;try{return indexedDB&&"function"==typeof indexedDB.open&&"undefined"!=typeof self.IDBKeyRange}catch(e){return!1}}(),result[DriverType.LOCALSTORAGE]=!!function(){try{return self.localStorage&&"setItem"in self.localStorage&&self.localStorage.setItem}catch(e){return!1}}(),result}(this),isArray=Array.isArray||function(arg){return"[object Array]"===Object.prototype.toString.call(arg)},LocalForage=function(){function LocalForage(options){_classCallCheck(this,LocalForage),this.INDEXEDDB=DriverType.INDEXEDDB,this.LOCALSTORAGE=DriverType.LOCALSTORAGE,this.WEBSQL=DriverType.WEBSQL,this._defaultConfig=extend({},DefaultConfig),this._config=extend({},this._defaultConfig,options),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return LocalForage.prototype.config=function(options){if("object"==typeof options){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in options)"storeName"===i&&(options[i]=options[i].replace(/\W/g,"_")),this._config[i]=options[i];return"driver"in options&&options.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof options?this._config[options]:this._config},LocalForage.prototype.defineDriver=function(driverObject,callback,errorCallback){var promise=new Promise(function(resolve,reject){try{var driverName=driverObject._driver,complianceError=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),namingError=new Error("Custom driver name already in use: "+driverObject._driver);if(!driverObject._driver)return void reject(complianceError);if(isLibraryDriver(driverObject._driver))return void reject(namingError);for(var customDriverMethods=LibraryMethods.concat("_initStorage"),i=0;i<customDriverMethods.length;i++){var customDriverMethod=customDriverMethods[i];if(!customDriverMethod||!driverObject[customDriverMethod]||"function"!=typeof driverObject[customDriverMethod])return void reject(complianceError)}var supportPromise=Promise.resolve(!0);"_support"in driverObject&&(supportPromise=driverObject._support&&"function"==typeof driverObject._support?driverObject._support():Promise.resolve(!!driverObject._support)),supportPromise.then(function(supportResult){driverSupport[driverName]=supportResult,CustomDrivers[driverName]=driverObject,resolve()},reject)}catch(e){reject(e)}});return promise.then(callback,errorCallback),promise},LocalForage.prototype.driver=function(){return this._driver||null},LocalForage.prototype.getDriver=function(driverName,callback,errorCallback){var self=this,getDriverPromise=function(){if(isLibraryDriver(driverName))switch(driverName){case self.INDEXEDDB:return new Promise(function(resolve,reject){resolve(__webpack_require__(1))});case self.LOCALSTORAGE:return new Promise(function(resolve,reject){resolve(__webpack_require__(2))});case self.WEBSQL:return new Promise(function(resolve,reject){resolve(__webpack_require__(4))})}else if(CustomDrivers[driverName])return Promise.resolve(CustomDrivers[driverName]);return Promise.reject(new Error("Driver not found."))}();return getDriverPromise.then(callback,errorCallback),getDriverPromise},LocalForage.prototype.getSerializer=function(callback){var serializerPromise=new Promise(function(resolve,reject){resolve(__webpack_require__(3))});return callback&&"function"==typeof callback&&serializerPromise.then(function(result){callback(result)}),serializerPromise},LocalForage.prototype.ready=function(callback){var self=this,promise=self._driverSet.then(function(){return null===self._ready&&(self._ready=self._initDriver()),self._ready});return promise.then(callback,callback),promise},LocalForage.prototype.setDriver=function(drivers,callback,errorCallback){function setDriverToConfig(){self._config.driver=self.driver()}function initDriver(supportedDrivers){return function(){function driverPromiseLoop(){for(;currentDriverIndex<supportedDrivers.length;){var driverName=supportedDrivers[currentDriverIndex];return currentDriverIndex++,self._dbInfo=null,self._ready=null,self.getDriver(driverName).then(function(driver){return self._extend(driver),setDriverToConfig(),self._ready=self._initStorage(self._config),self._ready})["catch"](driverPromiseLoop)}setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise.reject(error),self._driverSet}var currentDriverIndex=0;return driverPromiseLoop()}}var self=this;isArray(drivers)||(drivers=[drivers]);var supportedDrivers=this._getSupportedDrivers(drivers),oldDriverSetDone=null!==this._driverSet?this._driverSet["catch"](function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=oldDriverSetDone.then(function(){var driverName=supportedDrivers[0];return self._dbInfo=null,self._ready=null,self.getDriver(driverName).then(function(driver){self._driver=driver._driver,setDriverToConfig(),self._wrapLibraryMethodsWithReady(),self._initDriver=initDriver(supportedDrivers)})})["catch"](function(){setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise.reject(error),self._driverSet}),this._driverSet.then(callback,errorCallback),this._driverSet},LocalForage.prototype.supports=function(driverName){return!!driverSupport[driverName]},LocalForage.prototype._extend=function(libraryMethodsAndProperties){extend(this,libraryMethodsAndProperties)},LocalForage.prototype._getSupportedDrivers=function(drivers){for(var supportedDrivers=[],i=0,len=drivers.length;len>i;i++){var driverName=drivers[i];this.supports(driverName)&&supportedDrivers.push(driverName)}return supportedDrivers},LocalForage.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0;i<LibraryMethods.length;i++)callWhenReady(this,LibraryMethods[i])},LocalForage.prototype.createInstance=function(options){return new LocalForage(options)},LocalForage}(),localForage=new LocalForage;exports["default"]=localForage}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=!0,function(){function _createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(e){if("TypeError"!==e.name)throw e;for(var BlobBuilder=globalObject.BlobBuilder||globalObject.MSBlobBuilder||globalObject.MozBlobBuilder||globalObject.WebKitBlobBuilder,builder=new BlobBuilder,i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}function _binStringToArrayBuffer(bin){for(var length=bin.length,buf=new ArrayBuffer(length),arr=new Uint8Array(buf),i=0;length>i;i++)arr[i]=bin.charCodeAt(i);return buf}function _blobAjax(url){return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.withCredentials=!0,xhr.responseType="arraybuffer",xhr.onreadystatechange=function(){return 4===xhr.readyState?200===xhr.status?resolve({response:xhr.response,type:xhr.getResponseHeader("Content-Type")}):void reject({status:xhr.status,response:xhr.response}):void 0},xhr.send()})}function _checkBlobSupportWithoutCaching(idb){return new Promise(function(resolve,reject){var blob=_createBlob([""],{type:"image/png"}),txn=idb.transaction([DETECT_BLOB_SUPPORT_STORE],"readwrite");txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob,"key"),txn.oncomplete=function(){var blobTxn=idb.transaction([DETECT_BLOB_SUPPORT_STORE],"readwrite"),getBlobReq=blobTxn.objectStore(DETECT_BLOB_SUPPORT_STORE).get("key");getBlobReq.onerror=reject,getBlobReq.onsuccess=function(e){var storedBlob=e.target.result,url=URL.createObjectURL(storedBlob);_blobAjax(url).then(function(res){resolve(!(!res||"image/png"!==res.type))},function(){resolve(!1)}).then(function(){URL.revokeObjectURL(url)})}}})["catch"](function(){return!1})}function _checkBlobSupport(idb){return"boolean"==typeof supportsBlobs?Promise.resolve(supportsBlobs):_checkBlobSupportWithoutCaching(idb).then(function(value){return supportsBlobs=value})}function _encodeBlob(blob){return new Promise(function(resolve,reject){var reader=new FileReader;reader.onerror=reject,reader.onloadend=function(e){var base64=btoa(e.target.result||"");resolve({__local_forage_encoded_blob:!0,data:base64,type:blob.type})},reader.readAsBinaryString(blob)})}function _decodeBlob(encodedBlob){var arrayBuff=_binStringToArrayBuffer(atob(encodedBlob.data));return _createBlob([arrayBuff],{type:encodedBlob.type})}function _isEncodedBlob(value){return value&&value.__local_forage_encoded_blob}function _initStorage(options){function ignoreErrors(){return Promise.resolve()}var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]=options[i];dbContexts||(dbContexts={});var dbContext=dbContexts[dbInfo.name];dbContext||(dbContext={forages:[],db:null},dbContexts[dbInfo.name]=dbContext),dbContext.forages.push(this);for(var readyPromises=[],j=0;j<dbContext.forages.length;j++){var forage=dbContext.forages[j];forage!==this&&readyPromises.push(forage.ready()["catch"](ignoreErrors))}var forages=dbContext.forages.slice(0);return Promise.all(readyPromises).then(function(){return dbInfo.db=dbContext.db,_getOriginalConnection(dbInfo)}).then(function(db){return dbInfo.db=db,_isUpgradeNeeded(dbInfo,self._defaultConfig.version)?_getUpgradedConnection(dbInfo):db}).then(function(db){dbInfo.db=dbContext.db=db,self._dbInfo=dbInfo;for(var k in forages){var forage=forages[k];forage!==self&&(forage._dbInfo.db=dbInfo.db,forage._dbInfo.version=dbInfo.version)}})}function _getOriginalConnection(dbInfo){return _getConnection(dbInfo,!1)}function _getUpgradedConnection(dbInfo){return _getConnection(dbInfo,!0)}function _getConnection(dbInfo,upgradeNeeded){return new Promise(function(resolve,reject){if(dbInfo.db){if(!upgradeNeeded)return resolve(dbInfo.db);dbInfo.db.close()}var dbArgs=[dbInfo.name];upgradeNeeded&&dbArgs.push(dbInfo.version);var openreq=indexedDB.open.apply(indexedDB,dbArgs);upgradeNeeded&&(openreq.onupgradeneeded=function(e){var db=openreq.result;try{db.createObjectStore(dbInfo.storeName),e.oldVersion<=1&&db.createObjectStore(DETECT_BLOB_SUPPORT_STORE)}catch(ex){if("ConstraintError"!==ex.name)throw ex;globalObject.console.warn('The database "'+dbInfo.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+dbInfo.storeName+'" already exists.')}}),openreq.onerror=function(){reject(openreq.error)},openreq.onsuccess=function(){resolve(openreq.result)}})}function _isUpgradeNeeded(dbInfo,defaultVersion){if(!dbInfo.db)return!0;var isNewStore=!dbInfo.db.objectStoreNames.contains(dbInfo.storeName),isDowngrade=dbInfo.version<dbInfo.db.version,isUpgrade=dbInfo.version>dbInfo.db.version;if(isDowngrade&&(dbInfo.version!==defaultVersion&&globalObject.console.warn('The database "'+dbInfo.name+"\" can't be downgraded from version "+dbInfo.db.version+" to version "+dbInfo.version+"."),dbInfo.version=dbInfo.db.version),isUpgrade||isNewStore){if(isNewStore){var incVersion=dbInfo.db.version+1;incVersion>dbInfo.version&&(dbInfo.version=incVersion)}return!0}return!1}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.get(key);req.onsuccess=function(){var value=req.result;void 0===value&&(value=null),_isEncodedBlob(value)&&(value=_decodeBlob(value)),resolve(value)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.openCursor(),iterationNumber=1;req.onsuccess=function(){var cursor=req.result;if(cursor){var value=cursor.value;_isEncodedBlob(value)&&(value=_decodeBlob(value));var result=iterator(value,cursor.key,iterationNumber++);void 0!==result?resolve(result):cursor["continue"]()}else resolve()},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){var dbInfo;self.ready().then(function(){return dbInfo=self._dbInfo,_checkBlobSupport(dbInfo.db)}).then(function(blobSupport){return!blobSupport&&value instanceof Blob?_encodeBlob(value):value}).then(function(value){var transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName);null===value&&(value=void 0);var req=store.put(value,key);transaction.oncomplete=function(){void 0===value&&(value=null),resolve(value)},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName),req=store["delete"](key);transaction.oncomplete=function(){resolve()},transaction.onerror=function(){reject(req.error)},transaction.onabort=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function clear(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName),req=store.clear();transaction.oncomplete=function(){resolve()},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.count();req.onsuccess=function(){resolve(req.result)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=new Promise(function(resolve,reject){return 0>n?void resolve(null):void self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),advanced=!1,req=store.openCursor();req.onsuccess=function(){var cursor=req.result;return cursor?void(0===n?resolve(cursor.key):advanced?resolve(cursor.key):(advanced=!0,cursor.advance(n))):void resolve(null)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.openCursor(),keys=[];req.onsuccess=function(){var cursor=req.result;return cursor?(keys.push(cursor.key),void cursor["continue"]()):void resolve(keys)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,indexedDB=indexedDB||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(indexedDB){var supportsBlobs,dbContexts,DETECT_BLOB_SUPPORT_STORE="local-forage-detect-blob-support",asyncStorage={_driver:"asyncStorage",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=asyncStorage}}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,function(){function _initStorage(options){var self=this,dbInfo={};if(options)for(var i in options)dbInfo[i]=options[i];return dbInfo.keyPrefix=dbInfo.name+"/",dbInfo.storeName!==self._defaultConfig.storeName&&(dbInfo.keyPrefix+=dbInfo.storeName+"/"),self._dbInfo=dbInfo,new Promise(function(resolve,reject){resolve(__webpack_require__(3))}).then(function(lib){return dbInfo.serializer=lib,Promise.resolve()})}function clear(callback){var self=this,promise=self.ready().then(function(){for(var keyPrefix=self._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){
var key=localStorage.key(i);0===key.indexOf(keyPrefix)&&localStorage.removeItem(key)}});return executeCallback(promise,callback),promise}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){var dbInfo=self._dbInfo,result=localStorage.getItem(dbInfo.keyPrefix+key);return result&&(result=dbInfo.serializer.deserialize(result)),result});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=self.ready().then(function(){for(var dbInfo=self._dbInfo,keyPrefix=dbInfo.keyPrefix,keyPrefixLength=keyPrefix.length,length=localStorage.length,iterationNumber=1,i=0;length>i;i++){var key=localStorage.key(i);if(0===key.indexOf(keyPrefix)){var value=localStorage.getItem(key);if(value&&(value=dbInfo.serializer.deserialize(value)),value=iterator(value,key.substring(keyPrefixLength),iterationNumber++),void 0!==value)return value}}});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=self.ready().then(function(){var result,dbInfo=self._dbInfo;try{result=localStorage.key(n)}catch(error){result=null}return result&&(result=result.substring(dbInfo.keyPrefix.length)),result});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=self.ready().then(function(){for(var dbInfo=self._dbInfo,length=localStorage.length,keys=[],i=0;length>i;i++)0===localStorage.key(i).indexOf(dbInfo.keyPrefix)&&keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));return keys});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=self.keys().then(function(keys){return keys.length});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){var dbInfo=self._dbInfo;localStorage.removeItem(dbInfo.keyPrefix+key)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){void 0===value&&(value=null);var originalValue=value;return new Promise(function(resolve,reject){var dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){if(error)reject(error);else try{localStorage.setItem(dbInfo.keyPrefix+key,value),resolve(originalValue)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&reject(e),reject(e)}})})});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,localStorage=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;localStorage=this.localStorage}catch(e){return}var localStorageWrapper={_driver:"localStorageWrapper",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=localStorageWrapper}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=!0,function(){function _createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(err){if("TypeError"!==err.name)throw err;for(var BlobBuilder=globalObject.BlobBuilder||globalObject.MSBlobBuilder||globalObject.MozBlobBuilder||globalObject.WebKitBlobBuilder,builder=new BlobBuilder,i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}function serialize(value,callback){var valueString="";if(value&&(valueString=value.toString()),value&&("[object ArrayBuffer]"===value.toString()||value.buffer&&"[object ArrayBuffer]"===value.buffer.toString())){var buffer,marker=SERIALIZED_MARKER;value instanceof ArrayBuffer?(buffer=value,marker+=TYPE_ARRAYBUFFER):(buffer=value.buffer,"[object Int8Array]"===valueString?marker+=TYPE_INT8ARRAY:"[object Uint8Array]"===valueString?marker+=TYPE_UINT8ARRAY:"[object Uint8ClampedArray]"===valueString?marker+=TYPE_UINT8CLAMPEDARRAY:"[object Int16Array]"===valueString?marker+=TYPE_INT16ARRAY:"[object Uint16Array]"===valueString?marker+=TYPE_UINT16ARRAY:"[object Int32Array]"===valueString?marker+=TYPE_INT32ARRAY:"[object Uint32Array]"===valueString?marker+=TYPE_UINT32ARRAY:"[object Float32Array]"===valueString?marker+=TYPE_FLOAT32ARRAY:"[object Float64Array]"===valueString?marker+=TYPE_FLOAT64ARRAY:callback(new Error("Failed to get type for BinaryArray"))),callback(marker+bufferToString(buffer))}else if("[object Blob]"===valueString){var fileReader=new FileReader;fileReader.onload=function(){var str=BLOB_TYPE_PREFIX+value.type+"~"+bufferToString(this.result);callback(SERIALIZED_MARKER+TYPE_BLOB+str)},fileReader.readAsArrayBuffer(value)}else try{callback(JSON.stringify(value))}catch(e){console.error("Couldn't convert value into a JSON string: ",value),callback(null,e)}}function deserialize(value){if(value.substring(0,SERIALIZED_MARKER_LENGTH)!==SERIALIZED_MARKER)return JSON.parse(value);var blobType,serializedString=value.substring(TYPE_SERIALIZED_MARKER_LENGTH),type=value.substring(SERIALIZED_MARKER_LENGTH,TYPE_SERIALIZED_MARKER_LENGTH);if(type===TYPE_BLOB&&BLOB_TYPE_PREFIX_REGEX.test(serializedString)){var matcher=serializedString.match(BLOB_TYPE_PREFIX_REGEX);blobType=matcher[1],serializedString=serializedString.substring(matcher[0].length)}var buffer=stringToBuffer(serializedString);switch(type){case TYPE_ARRAYBUFFER:return buffer;case TYPE_BLOB:return _createBlob([buffer],{type:blobType});case TYPE_INT8ARRAY:return new Int8Array(buffer);case TYPE_UINT8ARRAY:return new Uint8Array(buffer);case TYPE_UINT8CLAMPEDARRAY:return new Uint8ClampedArray(buffer);case TYPE_INT16ARRAY:return new Int16Array(buffer);case TYPE_UINT16ARRAY:return new Uint16Array(buffer);case TYPE_INT32ARRAY:return new Int32Array(buffer);case TYPE_UINT32ARRAY:return new Uint32Array(buffer);case TYPE_FLOAT32ARRAY:return new Float32Array(buffer);case TYPE_FLOAT64ARRAY:return new Float64Array(buffer);default:throw new Error("Unkown type: "+type)}}function stringToBuffer(serializedString){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*serializedString.length,len=serializedString.length,p=0;"="===serializedString[serializedString.length-1]&&(bufferLength--,"="===serializedString[serializedString.length-2]&&bufferLength--);var buffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(buffer);for(i=0;len>i;i+=4)encoded1=BASE_CHARS.indexOf(serializedString[i]),encoded2=BASE_CHARS.indexOf(serializedString[i+1]),encoded3=BASE_CHARS.indexOf(serializedString[i+2]),encoded4=BASE_CHARS.indexOf(serializedString[i+3]),bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return buffer}function bufferToString(buffer){var i,bytes=new Uint8Array(buffer),base64String="";for(i=0;i<bytes.length;i+=3)base64String+=BASE_CHARS[bytes[i]>>2],base64String+=BASE_CHARS[(3&bytes[i])<<4|bytes[i+1]>>4],base64String+=BASE_CHARS[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64String+=BASE_CHARS[63&bytes[i+2]];return bytes.length%3===2?base64String=base64String.substring(0,base64String.length-1)+"=":bytes.length%3===1&&(base64String=base64String.substring(0,base64String.length-2)+"=="),base64String}var BASE_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BLOB_TYPE_PREFIX="~~local_forage_type~",BLOB_TYPE_PREFIX_REGEX=/^~~local_forage_type~([^~]+)~/,SERIALIZED_MARKER="__lfsc__:",SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER.length,TYPE_ARRAYBUFFER="arbf",TYPE_BLOB="blob",TYPE_INT8ARRAY="si08",TYPE_UINT8ARRAY="ui08",TYPE_UINT8CLAMPEDARRAY="uic8",TYPE_INT16ARRAY="si16",TYPE_INT32ARRAY="si32",TYPE_UINT16ARRAY="ur16",TYPE_UINT32ARRAY="ui32",TYPE_FLOAT32ARRAY="fl32",TYPE_FLOAT64ARRAY="fl64",TYPE_SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER_LENGTH+TYPE_ARRAYBUFFER.length,globalObject=this,localforageSerializer={serialize:serialize,deserialize:deserialize,stringToBuffer:stringToBuffer,bufferToString:bufferToString};exports["default"]=localforageSerializer}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,function(){function _initStorage(options){var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]="string"!=typeof options[i]?options[i].toString():options[i];var dbInfoPromise=new Promise(function(resolve,reject){try{dbInfo.db=openDatabase(dbInfo.name,String(dbInfo.version),dbInfo.description,dbInfo.size)}catch(e){return self.setDriver(self.LOCALSTORAGE).then(function(){return self._initStorage(options)}).then(resolve)["catch"](reject)}dbInfo.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+dbInfo.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){self._dbInfo=dbInfo,resolve()},function(t,error){reject(error)})})});return new Promise(function(resolve,reject){resolve(__webpack_require__(3))}).then(function(lib){return dbInfo.serializer=lib,dbInfoPromise})}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT * FROM "+dbInfo.storeName+" WHERE key = ? LIMIT 1",[key],function(t,results){var result=results.rows.length?results.rows.item(0).value:null;result&&(result=dbInfo.serializer.deserialize(result)),resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT * FROM "+dbInfo.storeName,[],function(t,results){for(var rows=results.rows,length=rows.length,i=0;length>i;i++){var item=rows.item(i),result=item.value;if(result&&(result=dbInfo.serializer.deserialize(result)),result=iterator(result,item.key,i+1),void 0!==result)return void resolve(result)}resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){void 0===value&&(value=null);var originalValue=value,dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){error?reject(error):dbInfo.db.transaction(function(t){t.executeSql("INSERT OR REPLACE INTO "+dbInfo.storeName+" (key, value) VALUES (?, ?)",[key,value],function(){resolve(originalValue)},function(t,error){reject(error)})},function(sqlError){sqlError.code===sqlError.QUOTA_ERR&&reject(sqlError)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("DELETE FROM "+dbInfo.storeName+" WHERE key = ?",[key],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function clear(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("DELETE FROM "+dbInfo.storeName,[],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+dbInfo.storeName,[],function(t,results){var result=results.rows.item(0).c;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT key FROM "+dbInfo.storeName+" WHERE id = ? LIMIT 1",[n+1],function(t,results){var result=results.rows.length?results.rows.item(0).key:null;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT key FROM "+dbInfo.storeName,[],function(t,results){for(var keys=[],i=0;i<results.rows.length;i++)keys.push(results.rows.item(i).key);resolve(keys)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,openDatabase=this.openDatabase;if(openDatabase){var webSQLStorage={_driver:"webSQLStorage",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=webSQLStorage}}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]}])})}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:20}],8:[function(require,module,exports){function randomBytes(size){for(var r,r,bytes=new Array(size),i=0;size>i;i++)0==(3&i)&&(r=4294967296*Math.random()),bytes[i]=r>>>((3&i)<<3)&255;return bytes}function byteArrayToBase64(uint8){function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}var temp,length,i,lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=lookup[temp>>2],output+=lookup[temp<<4&63],output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=lookup[temp>>10],output+=lookup[temp>>4&63],output+=lookup[temp<<2&63],output+="="}return output}function uid(len){return byteArrayToBase64(randomBytes(Math.ceil(Math.max(8,2*len)))).replace(/[+\/]/g,"").slice(0,len)}module.exports.uid=uid},{}],9:[function(require,module,exports){function exists(filename,callback){localforage.getItem(filename,function(err,value){return callback(null!==value?!0:!1)})}function rename(filename,newFilename,callback){localforage.getItem(filename,function(err,value){null===value?localforage.removeItem(newFilename,function(){return callback()}):localforage.setItem(newFilename,value,function(){localforage.removeItem(filename,function(){return callback()})})})}function writeFile(filename,contents,options,callback){"function"==typeof options&&(callback=options),localforage.setItem(filename,contents,function(){return callback()})}function appendFile(filename,toAppend,options,callback){"function"==typeof options&&(callback=options),localforage.getItem(filename,function(err,contents){contents=contents||"",contents+=toAppend,localforage.setItem(filename,contents,function(){return callback()})})}function readFile(filename,options,callback){"function"==typeof options&&(callback=options),localforage.getItem(filename,function(err,contents){return callback(null,contents||"")})}function unlink(filename,callback){localforage.removeItem(filename,function(){return callback()})}function mkdirp(dir,callback){return callback()}function ensureDatafileIntegrity(filename,callback){return callback(null)}var localforage=require("localforage");localforage.config({name:"NeDB",storeName:"nedbdata"}),module.exports.exists=exists,module.exports.rename=rename,module.exports.writeFile=writeFile,module.exports.crashSafeWriteFile=writeFile,module.exports.appendFile=appendFile,module.exports.readFile=readFile,module.exports.unlink=unlink,module.exports.mkdirp=mkdirp,module.exports.ensureDatafileIntegrity=ensureDatafileIntegrity},{localforage:7}],10:[function(require,module,exports){var Datastore=require("./lib/datastore");module.exports=Datastore},{"./lib/datastore":12}],11:[function(require,module,exports){function Cursor(db,query,execFn){this.db=db,this.query=query||{},execFn&&(this.execFn=execFn)}var model=require("./model"),_=require("underscore");Cursor.prototype.limit=function(limit){return this._limit=limit,this},Cursor.prototype.skip=function(skip){return this._skip=skip,this},Cursor.prototype.sort=function(sortQuery){return this._sort=sortQuery,this},Cursor.prototype.projection=function(projection){return this._projection=projection,this},Cursor.prototype.project=function(candidates){var keepId,action,keys,res=[],self=this;return void 0===this._projection||0===Object.keys(this._projection).length?candidates:(keepId=0===this._projection._id?!1:!0,this._projection=_.omit(this._projection,"_id"),keys=Object.keys(this._projection),keys.forEach(function(k){if(void 0!==action&&self._projection[k]!==action)throw"Can't both keep and omit fields except for _id";action=self._projection[k]}),candidates.forEach(function(candidate){var toPush=1===action?_.pick(candidate,keys):_.omit(candidate,keys);keepId?toPush._id=candidate._id:delete toPush._id,res.push(toPush)}),res)},Cursor.prototype._exec=function(callback){var i,keys,key,candidates=this.db.getCandidates(this.query),res=[],added=0,skipped=0,self=this,error=null;try{for(i=0;i<candidates.length;i+=1)if(model.match(candidates[i],this.query))if(this._sort)res.push(candidates[i]);else if(this._skip&&this._skip>skipped)skipped+=1;else if(res.push(candidates[i]),added+=1,this._limit&&this._limit<=added)break}catch(err){return callback(err)}if(this._sort){keys=Object.keys(this._sort);var criteria=[];for(i=0;i<keys.length;i++)key=keys[i],criteria.push({key:key,direction:self._sort[key]});res.sort(function(a,b){var criterion,compare,i;for(i=0;i<criteria.length;i++)if(criterion=criteria[i],compare=criterion.direction*model.compareThings(model.getDotValue(a,criterion.key),model.getDotValue(b,criterion.key)),0!==compare)return compare;return 0});var limit=this._limit||res.length,skip=this._skip||0;res=res.slice(skip,skip+limit)}try{res=this.project(res)}catch(e){error=e,res=void 0}return this.execFn?this.execFn(error,res,callback):callback(error,res)},Cursor.prototype.exec=function(){this.db.executor.push({"this":this,fn:this._exec,arguments:arguments})},module.exports=Cursor},{"./model":15,underscore:18}],12:[function(require,module,exports){function Datastore(options){var filename;"string"==typeof options?(filename=options,this.inMemoryOnly=!1):(options=options||{},filename=options.filename,this.inMemoryOnly=options.inMemoryOnly||!1,this.autoload=options.autoload||!1,this.timestampData=options.timestampData||!1),filename&&"string"==typeof filename&&0!==filename.length?this.filename=filename:(this.filename=null,this.inMemoryOnly=!0),this.persistence=new Persistence({db:this,nodeWebkitAppName:options.nodeWebkitAppName,afterSerialization:options.afterSerialization,beforeDeserialization:options.beforeDeserialization,corruptAlertThreshold:options.corruptAlertThreshold}),this.executor=new Executor,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new Index({fieldName:"_id",unique:!0}),this.autoload&&this.loadDatabase(options.onload||function(err){if(err)throw err})}var customUtils=require("./customUtils"),model=require("./model"),async=require("async"),Executor=require("./executor"),Index=require("./indexes"),util=require("util"),_=require("underscore"),Persistence=require("./persistence"),Cursor=require("./cursor");Datastore.prototype.loadDatabase=function(){this.executor.push({"this":this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},Datastore.prototype.getAllData=function(){return this.indexes._id.getAll()},Datastore.prototype.resetIndexes=function(newData){var self=this;Object.keys(this.indexes).forEach(function(i){self.indexes[i].reset(newData)})},Datastore.prototype.ensureIndex=function(options,cb){var callback=cb||function(){};if(options=options||{},!options.fieldName)return callback({missingFieldName:!0});if(this.indexes[options.fieldName])return callback(null);this.indexes[options.fieldName]=new Index(options);try{this.indexes[options.fieldName].insert(this.getAllData())}catch(e){return delete this.indexes[options.fieldName],callback(e)}this.persistence.persistNewState([{$$indexCreated:options}],function(err){return callback(err?err:null)})},Datastore.prototype.removeIndex=function(fieldName,cb){var callback=cb||function(){};delete this.indexes[fieldName],this.persistence.persistNewState([{$$indexRemoved:fieldName}],function(err){return callback(err?err:null)})},Datastore.prototype.addToIndexes=function(doc){var i,failingIndex,error,keys=Object.keys(this.indexes);for(i=0;i<keys.length;i+=1)try{this.indexes[keys[i]].insert(doc)}catch(e){failingIndex=i,error=e;break}if(error){for(i=0;failingIndex>i;i+=1)this.indexes[keys[i]].remove(doc);throw error}},Datastore.prototype.removeFromIndexes=function(doc){var self=this;Object.keys(this.indexes).forEach(function(i){self.indexes[i].remove(doc)})},Datastore.prototype.updateIndexes=function(oldDoc,newDoc){var i,failingIndex,error,keys=Object.keys(this.indexes);for(i=0;i<keys.length;i+=1)try{this.indexes[keys[i]].update(oldDoc,newDoc)}catch(e){failingIndex=i,error=e;break}if(error){for(i=0;failingIndex>i;i+=1)this.indexes[keys[i]].revertUpdate(oldDoc,newDoc);throw error}},Datastore.prototype.getCandidates=function(query){var usableQueryKeys,indexNames=Object.keys(this.indexes);return usableQueryKeys=[],Object.keys(query).forEach(function(k){("string"==typeof query[k]||"number"==typeof query[k]||"boolean"==typeof query[k]||util.isDate(query[k])||null===query[k])&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]]):(usableQueryKeys=[],Object.keys(query).forEach(function(k){query[k]&&query[k].hasOwnProperty("$in")&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]].$in):(usableQueryKeys=[],Object.keys(query).forEach(function(k){query[k]&&(query[k].hasOwnProperty("$lt")||query[k].hasOwnProperty("$lte")||query[k].hasOwnProperty("$gt")||query[k].hasOwnProperty("$gte"))&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getBetweenBounds(query[usableQueryKeys[0]]):this.getAllData()))},Datastore.prototype._insert=function(newDoc,cb){var preparedDoc,callback=cb||function(){};try{preparedDoc=this.prepareDocumentForInsertion(newDoc),this._insertInCache(preparedDoc)}catch(e){return callback(e)}this.persistence.persistNewState(util.isArray(preparedDoc)?preparedDoc:[preparedDoc],function(err){return err?callback(err):callback(null,model.deepCopy(preparedDoc))})},Datastore.prototype.createNewId=function(){var tentativeId=customUtils.uid(16);return this.indexes._id.getMatching(tentativeId).length>0&&(tentativeId=this.createNewId()),tentativeId},Datastore.prototype.prepareDocumentForInsertion=function(newDoc){var preparedDoc,self=this;if(util.isArray(newDoc))preparedDoc=[],newDoc.forEach(function(doc){preparedDoc.push(self.prepareDocumentForInsertion(doc))});else{preparedDoc=model.deepCopy(newDoc),void 0===preparedDoc._id&&(preparedDoc._id=this.createNewId());var now=new Date;this.timestampData&&void 0===preparedDoc.createdAt&&(preparedDoc.createdAt=now),this.timestampData&&void 0===preparedDoc.updatedAt&&(preparedDoc.updatedAt=now),model.checkObject(preparedDoc)}return preparedDoc},Datastore.prototype._insertInCache=function(preparedDoc){util.isArray(preparedDoc)?this._insertMultipleDocsInCache(preparedDoc):this.addToIndexes(preparedDoc)},Datastore.prototype._insertMultipleDocsInCache=function(preparedDocs){var i,failingI,error;for(i=0;i<preparedDocs.length;i+=1)try{this.addToIndexes(preparedDocs[i])}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.removeFromIndexes(preparedDocs[i]);throw error}},Datastore.prototype.insert=function(){this.executor.push({"this":this,fn:this._insert,arguments:arguments})},Datastore.prototype.count=function(query,callback){var cursor=new Cursor(this,query,function(err,docs,callback){return err?callback(err):callback(null,docs.length)});return"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype.find=function(query,projection,callback){switch(arguments.length){case 1:projection={};break;case 2:"function"==typeof projection&&(callback=projection,projection={})}var cursor=new Cursor(this,query,function(err,docs,callback){var i,res=[];if(err)return callback(err);for(i=0;i<docs.length;i+=1)res.push(model.deepCopy(docs[i]));return callback(null,res)});return cursor.projection(projection),"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype.findOne=function(query,projection,callback){switch(arguments.length){case 1:projection={};break;case 2:"function"==typeof projection&&(callback=projection,projection={})}var cursor=new Cursor(this,query,function(err,docs,callback){return err?callback(err):1===docs.length?callback(null,model.deepCopy(docs[0])):callback(null,null)});return cursor.projection(projection).limit(1),"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype._update=function(query,updateQuery,options,cb){var callback,multi,upsert,i,self=this,numReplaced=0;"function"==typeof options&&(cb=options,options={}),callback=cb||function(){},multi=void 0!==options.multi?options.multi:!1,upsert=void 0!==options.upsert?options.upsert:!1,async.waterfall([function(cb){if(!upsert)return cb();var cursor=new Cursor(self,query);cursor.limit(1)._exec(function(err,docs){if(err)return callback(err);if(1===docs.length)return cb();var toBeInserted;try{model.checkObject(updateQuery),toBeInserted=updateQuery}catch(e){try{toBeInserted=model.modify(model.deepCopy(query,!0),updateQuery)}catch(err){return callback(err)}}return self._insert(toBeInserted,function(err,newDoc){return err?callback(err):callback(null,1,newDoc)})})},function(){var modifiedDoc,candidates=self.getCandidates(query),modifications=[];try{for(i=0;i<candidates.length;i+=1)model.match(candidates[i],query)&&(multi||0===numReplaced)&&(numReplaced+=1,modifiedDoc=model.modify(candidates[i],updateQuery),self.timestampData&&(modifiedDoc.updatedAt=new Date),modifications.push({oldDoc:candidates[i],newDoc:modifiedDoc}))}catch(err){return callback(err)}try{self.updateIndexes(modifications)}catch(err){return callback(err)}self.persistence.persistNewState(_.pluck(modifications,"newDoc"),function(err){return err?callback(err):callback(null,numReplaced)})}])},Datastore.prototype.update=function(){this.executor.push({"this":this,fn:this._update,arguments:arguments})},Datastore.prototype._remove=function(query,options,cb){var callback,multi,self=this,numRemoved=0,removedDocs=[],candidates=this.getCandidates(query);"function"==typeof options&&(cb=options,options={}),callback=cb||function(){},multi=void 0!==options.multi?options.multi:!1;try{candidates.forEach(function(d){model.match(d,query)&&(multi||0===numRemoved)&&(numRemoved+=1,removedDocs.push({$$deleted:!0,_id:d._id}),self.removeFromIndexes(d))})}catch(err){return callback(err)}self.persistence.persistNewState(removedDocs,function(err){return err?callback(err):callback(null,numRemoved)})},Datastore.prototype.remove=function(){this.executor.push({"this":this,fn:this._remove,arguments:arguments})},module.exports=Datastore},{"./cursor":11,"./customUtils":8,"./executor":13,"./indexes":14,"./model":15,"./persistence":16,async:17,underscore:18,util:22}],13:[function(require,module,exports){(function(process){function Executor(){this.buffer=[],this.ready=!1,this.queue=async.queue(function(task,cb){var callback,i,lastArg=task.arguments[task.arguments.length-1],newArguments=[];for(i=0;i<task.arguments.length;i+=1)newArguments.push(task.arguments[i]);"function"==typeof lastArg?(callback=function(){"function"==typeof setImmediate?setImmediate(cb):process.nextTick(cb),lastArg.apply(null,arguments)},newArguments[newArguments.length-1]=callback):(callback=function(){cb()},newArguments.push(callback)),task.fn.apply(task["this"],newArguments)},1)}var async=require("async");Executor.prototype.push=function(task,forceQueuing){this.ready||forceQueuing?this.queue.push(task):this.buffer.push(task)},Executor.prototype.processBuffer=function(){var i;for(this.ready=!0,i=0;i<this.buffer.length;i+=1)this.queue.push(this.buffer[i]);this.buffer=[]},module.exports=Executor}).call(this,require("_process"))},{_process:20,async:17}],14:[function(require,module,exports){function checkValueEquality(a,b){return a===b}function projectForUnique(elt){return null===elt?"$null":"string"==typeof elt?"$string"+elt:"boolean"==typeof elt?"$boolean"+elt:"number"==typeof elt?"$number"+elt:util.isArray(elt)?"$date"+elt.getTime():elt}function Index(options){this.fieldName=options.fieldName,this.unique=options.unique||!1,this.sparse=options.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:model.compareThings,checkValueEquality:checkValueEquality},this.reset()}var BinarySearchTree=require("binary-search-tree").AVLTree,model=require("./model"),_=require("underscore"),util=require("util");Index.prototype.reset=function(newData){this.tree=new BinarySearchTree(this.treeOptions),newData&&this.insert(newData)},Index.prototype.insert=function(doc){var key,keys,i,failingI,error;if(util.isArray(doc))return void this.insertMultipleDocs(doc);if(key=model.getDotValue(doc,this.fieldName),void 0!==key||!this.sparse)if(util.isArray(key)){for(keys=_.uniq(key,projectForUnique),i=0;i<keys.length;i+=1)try{this.tree.insert(keys[i],doc)}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.tree["delete"](keys[i],doc);throw error}}else this.tree.insert(key,doc)},Index.prototype.insertMultipleDocs=function(docs){var i,error,failingI;for(i=0;i<docs.length;i+=1)try{this.insert(docs[i])}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.remove(docs[i]);throw error}},Index.prototype.remove=function(doc){var key,self=this;return util.isArray(doc)?void doc.forEach(function(d){self.remove(d)}):(key=model.getDotValue(doc,this.fieldName),void(void 0===key&&this.sparse||(util.isArray(key)?_.uniq(key,projectForUnique).forEach(function(_key){self.tree["delete"](_key,doc)}):this.tree["delete"](key,doc))))},Index.prototype.update=function(oldDoc,newDoc){if(util.isArray(oldDoc))return void this.updateMultipleDocs(oldDoc);this.remove(oldDoc);try{this.insert(newDoc)}catch(e){throw this.insert(oldDoc),e}},Index.prototype.updateMultipleDocs=function(pairs){var i,failingI,error;for(i=0;i<pairs.length;i+=1)this.remove(pairs[i].oldDoc);for(i=0;i<pairs.length;i+=1)try{this.insert(pairs[i].newDoc)}catch(e){error=e,failingI=i;break}if(error){
for(i=0;failingI>i;i+=1)this.remove(pairs[i].newDoc);for(i=0;i<pairs.length;i+=1)this.insert(pairs[i].oldDoc);throw error}},Index.prototype.revertUpdate=function(oldDoc,newDoc){var revert=[];util.isArray(oldDoc)?(oldDoc.forEach(function(pair){revert.push({oldDoc:pair.newDoc,newDoc:pair.oldDoc})}),this.update(revert)):this.update(newDoc,oldDoc)},Index.prototype.getMatching=function(value){var self=this;if(util.isArray(value)){var _res={},res=[];return value.forEach(function(v){self.getMatching(v).forEach(function(doc){_res[doc._id]=doc})}),Object.keys(_res).forEach(function(_id){res.push(_res[_id])}),res}return this.tree.search(value)},Index.prototype.getBetweenBounds=function(query){return this.tree.betweenBounds(query)},Index.prototype.getAll=function(){var res=[];return this.tree.executeOnEveryNode(function(node){var i;for(i=0;i<node.data.length;i+=1)res.push(node.data[i])}),res},module.exports=Index},{"./model":15,"binary-search-tree":1,underscore:18,util:22}],15:[function(require,module,exports){function checkKey(k,v){if("number"==typeof k&&(k=k.toString()),!("$"!==k[0]||"$$date"===k&&"number"==typeof v||"$$deleted"===k&&v===!0||"$$indexCreated"===k||"$$indexRemoved"===k))throw"Field names cannot begin with the $ character";if(-1!==k.indexOf("."))throw"Field names cannot contain a ."}function checkObject(obj){util.isArray(obj)&&obj.forEach(function(o){checkObject(o)}),"object"==typeof obj&&null!==obj&&Object.keys(obj).forEach(function(k){checkKey(k,obj[k]),checkObject(obj[k])})}function serialize(obj){var res;return res=JSON.stringify(obj,function(k,v){return checkKey(k,v),void 0!==v?null===v?null:"function"==typeof this[k].getTime?{$$date:this[k].getTime()}:v:void 0})}function deserialize(rawData){return JSON.parse(rawData,function(k,v){return"$$date"===k?new Date(v):"string"==typeof v||"number"==typeof v||"boolean"==typeof v||null===v?v:v&&v.$$date?v.$$date:v})}function deepCopy(obj,strictKeys){var res;return"boolean"==typeof obj||"number"==typeof obj||"string"==typeof obj||null===obj||util.isDate(obj)?obj:util.isArray(obj)?(res=[],obj.forEach(function(o){res.push(deepCopy(o,strictKeys))}),res):"object"==typeof obj?(res={},Object.keys(obj).forEach(function(k){(!strictKeys||"$"!==k[0]&&-1===k.indexOf("."))&&(res[k]=deepCopy(obj[k],strictKeys))}),res):void 0}function isPrimitiveType(obj){return"boolean"==typeof obj||"number"==typeof obj||"string"==typeof obj||null===obj||util.isDate(obj)||util.isArray(obj)}function compareNSB(a,b){return b>a?-1:a>b?1:0}function compareArrays(a,b){var i,comp;for(i=0;i<Math.min(a.length,b.length);i+=1)if(comp=compareThings(a[i],b[i]),0!==comp)return comp;return compareNSB(a.length,b.length)}function compareThings(a,b){var aKeys,bKeys,comp,i;if(void 0===a)return void 0===b?0:-1;if(void 0===b)return void 0===a?0:1;if(null===a)return null===b?0:-1;if(null===b)return null===a?0:1;if("number"==typeof a)return"number"==typeof b?compareNSB(a,b):-1;if("number"==typeof b)return"number"==typeof a?compareNSB(a,b):1;if("string"==typeof a)return"string"==typeof b?compareNSB(a,b):-1;if("string"==typeof b)return"string"==typeof a?compareNSB(a,b):1;if("boolean"==typeof a)return"boolean"==typeof b?compareNSB(a,b):-1;if("boolean"==typeof b)return"boolean"==typeof a?compareNSB(a,b):1;if(util.isDate(a))return util.isDate(b)?compareNSB(a.getTime(),b.getTime()):-1;if(util.isDate(b))return util.isDate(a)?compareNSB(a.getTime(),b.getTime()):1;if(util.isArray(a))return util.isArray(b)?compareArrays(a,b):-1;if(util.isArray(b))return util.isArray(a)?compareArrays(a,b):1;for(aKeys=Object.keys(a).sort(),bKeys=Object.keys(b).sort(),i=0;i<Math.min(aKeys.length,bKeys.length);i+=1)if(comp=compareThings(a[aKeys[i]],b[bKeys[i]]),0!==comp)return comp;return compareNSB(aKeys.length,bKeys.length)}function createModifierFunction(modifier){return function(obj,field,value){var fieldParts="string"==typeof field?field.split("."):field;1===fieldParts.length?lastStepModifierFunctions[modifier](obj,field,value):(obj[fieldParts[0]]=obj[fieldParts[0]]||{},modifierFunctions[modifier](obj[fieldParts[0]],fieldParts.slice(1),value))}}function modify(obj,updateQuery){var newDoc,modifiers,keys=Object.keys(updateQuery),firstChars=_.map(keys,function(item){return item[0]}),dollarFirstChars=_.filter(firstChars,function(c){return"$"===c});if(-1!==keys.indexOf("_id")&&updateQuery._id!==obj._id)throw"You cannot change a document's _id";if(0!==dollarFirstChars.length&&dollarFirstChars.length!==firstChars.length)throw"You cannot mix modifiers and normal fields";if(0===dollarFirstChars.length?(newDoc=deepCopy(updateQuery),newDoc._id=obj._id):(modifiers=_.uniq(keys),newDoc=deepCopy(obj),modifiers.forEach(function(m){var keys;if(!modifierFunctions[m])throw"Unknown modifier "+m;if("object"!=typeof updateQuery[m])throw"Modifier "+m+"'s argument must be an object";keys=Object.keys(updateQuery[m]),keys.forEach(function(k){modifierFunctions[m](newDoc,k,updateQuery[m][k])})})),checkObject(newDoc),obj._id!==newDoc._id)throw"You can't change a document's _id";return newDoc}function getDotValue(obj,field){var i,objs,fieldParts="string"==typeof field?field.split("."):field;if(obj){if(0===fieldParts.length)return obj;if(1===fieldParts.length)return obj[fieldParts[0]];if(util.isArray(obj[fieldParts[0]])){if(i=parseInt(fieldParts[1],10),"number"==typeof i&&!isNaN(i))return getDotValue(obj[fieldParts[0]][i],fieldParts.slice(2));for(objs=new Array,i=0;i<obj[fieldParts[0]].length;i+=1)objs.push(getDotValue(obj[fieldParts[0]][i],fieldParts.slice(1)));return objs}return getDotValue(obj[fieldParts[0]],fieldParts.slice(1))}}function areThingsEqual(a,b){var aKeys,bKeys,i;if(null===a||"string"==typeof a||"boolean"==typeof a||"number"==typeof a||null===b||"string"==typeof b||"boolean"==typeof b||"number"==typeof b)return a===b;if(util.isDate(a)||util.isDate(b))return util.isDate(a)&&util.isDate(b)&&a.getTime()===b.getTime();if(util.isArray(a)||util.isArray(b)||void 0===a||void 0===b)return!1;try{aKeys=Object.keys(a),bKeys=Object.keys(b)}catch(e){return!1}if(aKeys.length!==bKeys.length)return!1;for(i=0;i<aKeys.length;i+=1){if(-1===bKeys.indexOf(aKeys[i]))return!1;if(!areThingsEqual(a[aKeys[i]],b[aKeys[i]]))return!1}return!0}function areComparable(a,b){return"string"==typeof a||"number"==typeof a||util.isDate(a)||"string"==typeof b||"number"==typeof b||util.isDate(b)?typeof a!=typeof b?!1:!0:!1}function match(obj,query){var queryKeys,queryKey,queryValue,i;if(isPrimitiveType(obj)||isPrimitiveType(query))return matchQueryPart({needAKey:obj},"needAKey",query);for(queryKeys=Object.keys(query),i=0;i<queryKeys.length;i+=1)if(queryKey=queryKeys[i],queryValue=query[queryKey],"$"===queryKey[0]){if(!logicalOperators[queryKey])throw"Unknown logical operator "+queryKey;if(!logicalOperators[queryKey](obj,queryValue))return!1}else if(!matchQueryPart(obj,queryKey,queryValue))return!1;return!0}function matchQueryPart(obj,queryKey,queryValue,treatObjAsValue){var i,keys,firstChars,dollarFirstChars,objValue=getDotValue(obj,queryKey);if(util.isArray(objValue)&&!treatObjAsValue){if(null!==queryValue&&"object"==typeof queryValue&&!util.isRegExp(queryValue))for(keys=Object.keys(queryValue),i=0;i<keys.length;i+=1)if(arrayComparisonFunctions[keys[i]])return matchQueryPart(obj,queryKey,queryValue,!0);for(i=0;i<objValue.length;i+=1)if(matchQueryPart({k:objValue[i]},"k",queryValue))return!0;return!1}if(null!==queryValue&&"object"==typeof queryValue&&!util.isRegExp(queryValue)){if(keys=Object.keys(queryValue),firstChars=_.map(keys,function(item){return item[0]}),dollarFirstChars=_.filter(firstChars,function(c){return"$"===c}),0!==dollarFirstChars.length&&dollarFirstChars.length!==firstChars.length)throw"You cannot mix operators and normal fields";if(dollarFirstChars.length>0){for(i=0;i<keys.length;i+=1){if(!comparisonFunctions[keys[i]])throw"Unknown comparison function "+keys[i];if(!comparisonFunctions[keys[i]](objValue,queryValue[keys[i]]))return!1}return!0}}return util.isRegExp(queryValue)?comparisonFunctions.$regex(objValue,queryValue):areThingsEqual(objValue,queryValue)?!0:!1}var util=require("util"),_=require("underscore"),modifierFunctions={},lastStepModifierFunctions={},comparisonFunctions={},logicalOperators={},arrayComparisonFunctions={};lastStepModifierFunctions.$set=function(obj,field,value){obj[field]=value},lastStepModifierFunctions.$unset=function(obj,field,value){delete obj[field]},lastStepModifierFunctions.$push=function(obj,field,value){if(obj.hasOwnProperty(field)||(obj[field]=[]),!util.isArray(obj[field]))throw"Can't $push an element on non-array values";if(null!==value&&"object"==typeof value&&value.$each){if(Object.keys(value).length>1)throw"Can't use another field in conjunction with $each";if(!util.isArray(value.$each))throw"$each requires an array value";value.$each.forEach(function(v){obj[field].push(v)})}else obj[field].push(value)},lastStepModifierFunctions.$addToSet=function(obj,field,value){var addToSet=!0;if(obj.hasOwnProperty(field)||(obj[field]=[]),!util.isArray(obj[field]))throw"Can't $addToSet an element on non-array values";if(null!==value&&"object"==typeof value&&value.$each){if(Object.keys(value).length>1)throw"Can't use another field in conjunction with $each";if(!util.isArray(value.$each))throw"$each requires an array value";value.$each.forEach(function(v){lastStepModifierFunctions.$addToSet(obj,field,v)})}else obj[field].forEach(function(v){0===compareThings(v,value)&&(addToSet=!1)}),addToSet&&obj[field].push(value)},lastStepModifierFunctions.$pop=function(obj,field,value){if(!util.isArray(obj[field]))throw"Can't $pop an element from non-array values";if("number"!=typeof value)throw value+" isn't an integer, can't use it with $pop";0!==value&&(value>0?obj[field]=obj[field].slice(0,obj[field].length-1):obj[field]=obj[field].slice(1))},lastStepModifierFunctions.$pull=function(obj,field,value){var arr,i;if(!util.isArray(obj[field]))throw"Can't $pull an element from non-array values";for(arr=obj[field],i=arr.length-1;i>=0;i-=1)match(arr[i],value)&&arr.splice(i,1)},lastStepModifierFunctions.$inc=function(obj,field,value){if("number"!=typeof value)throw value+" must be a number";if("number"!=typeof obj[field]){if(_.has(obj,field))throw"Don't use the $inc modifier on non-number fields";obj[field]=value}else obj[field]+=value},Object.keys(lastStepModifierFunctions).forEach(function(modifier){modifierFunctions[modifier]=createModifierFunction(modifier)}),comparisonFunctions.$lt=function(a,b){return areComparable(a,b)&&b>a},comparisonFunctions.$lte=function(a,b){return areComparable(a,b)&&b>=a},comparisonFunctions.$gt=function(a,b){return areComparable(a,b)&&a>b},comparisonFunctions.$gte=function(a,b){return areComparable(a,b)&&a>=b},comparisonFunctions.$ne=function(a,b){return void 0===a?!0:!areThingsEqual(a,b)},comparisonFunctions.$in=function(a,b){var i;if(!util.isArray(b))throw"$in operator called with a non-array";for(i=0;i<b.length;i+=1)if(areThingsEqual(a,b[i]))return!0;return!1},comparisonFunctions.$nin=function(a,b){if(!util.isArray(b))throw"$nin operator called with a non-array";return!comparisonFunctions.$in(a,b)},comparisonFunctions.$regex=function(a,b){if(!util.isRegExp(b))throw"$regex operator called with non regular expression";return"string"!=typeof a?!1:b.test(a)},comparisonFunctions.$exists=function(value,exists){return exists=exists||""===exists?!0:!1,void 0===value?!exists:exists},comparisonFunctions.$size=function(obj,value){if(!util.isArray(obj))return!1;if(value%1!==0)throw"$size operator called without an integer";return obj.length==value},arrayComparisonFunctions.$size=!0,logicalOperators.$or=function(obj,query){var i;if(!util.isArray(query))throw"$or operator used without an array";for(i=0;i<query.length;i+=1)if(match(obj,query[i]))return!0;return!1},logicalOperators.$and=function(obj,query){var i;if(!util.isArray(query))throw"$and operator used without an array";for(i=0;i<query.length;i+=1)if(!match(obj,query[i]))return!1;return!0},logicalOperators.$not=function(obj,query){return!match(obj,query)},logicalOperators.$where=function(obj,fn){var result;if(!_.isFunction(fn))throw"$where operator used without a function";if(result=fn.call(obj),!_.isBoolean(result))throw"$where function must return boolean";return result},module.exports.serialize=serialize,module.exports.deserialize=deserialize,module.exports.deepCopy=deepCopy,module.exports.checkObject=checkObject,module.exports.isPrimitiveType=isPrimitiveType,module.exports.modify=modify,module.exports.getDotValue=getDotValue,module.exports.match=match,module.exports.areThingsEqual=areThingsEqual,module.exports.compareThings=compareThings},{underscore:18,util:22}],16:[function(require,module,exports){(function(process){function Persistence(options){var i,j,randomString;if(this.db=options.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==options.corruptAlertThreshold?options.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw"The datafile name can't end with a ~, which is reserved for crash safe backup files";if(options.afterSerialization&&!options.beforeDeserialization)throw"Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss";if(!options.afterSerialization&&options.beforeDeserialization)throw"Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss";for(this.afterSerialization=options.afterSerialization||function(s){return s},this.beforeDeserialization=options.beforeDeserialization||function(s){return s},i=1;30>i;i+=1)for(j=0;10>j;j+=1)if(randomString=customUtils.uid(i),this.beforeDeserialization(this.afterSerialization(randomString))!==randomString)throw"beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss";this.filename&&options.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=Persistence.getNWAppFilename(options.nodeWebkitAppName,this.filename))}var storage=require("./storage"),path=require("path"),model=require("./model"),async=require("async"),customUtils=require("./customUtils"),Index=require("./indexes");Persistence.ensureDirectoryExists=function(dir,cb){var callback=cb||function(){};storage.mkdirp(dir,function(err){return callback(err)})},Persistence.getNWAppFilename=function(appName,relativeFilename){var home;switch(process.platform){case"win32":case"win64":if(home=process.env.LOCALAPPDATA||process.env.APPDATA,!home)throw"Couldn't find the base application data folder";home=path.join(home,appName);break;case"darwin":if(home=process.env.HOME,!home)throw"Couldn't find the base application data directory";home=path.join(home,"Library","Application Support",appName);break;case"linux":if(home=process.env.HOME,!home)throw"Couldn't find the base application data directory";home=path.join(home,".config",appName);break;default:throw"Can't use the Node Webkit relative path for platform "+process.platform}return path.join(home,"nedb-data",relativeFilename)},Persistence.prototype.persistCachedDatabase=function(cb){var callback=cb||function(){},toPersist="",self=this;return this.inMemoryOnly?callback(null):(this.db.getAllData().forEach(function(doc){toPersist+=self.afterSerialization(model.serialize(doc))+"\n"}),Object.keys(this.db.indexes).forEach(function(fieldName){"_id"!=fieldName&&(toPersist+=self.afterSerialization(model.serialize({$$indexCreated:{fieldName:fieldName,unique:self.db.indexes[fieldName].unique,sparse:self.db.indexes[fieldName].sparse}}))+"\n")}),void storage.crashSafeWriteFile(this.filename,toPersist,callback))},Persistence.prototype.compactDatafile=function(){this.db.executor.push({"this":this,fn:this.persistCachedDatabase,arguments:[]})},Persistence.prototype.setAutocompactionInterval=function(interval){var self=this,minInterval=5e3,realInterval=Math.max(interval||0,minInterval);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval(function(){self.compactDatafile()},realInterval)},Persistence.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},Persistence.prototype.persistNewState=function(newDocs,cb){var self=this,toPersist="",callback=cb||function(){};return self.inMemoryOnly?callback(null):(newDocs.forEach(function(doc){toPersist+=self.afterSerialization(model.serialize(doc))+"\n"}),0===toPersist.length?callback(null):void storage.appendFile(self.filename,toPersist,"utf8",function(err){return callback(err)}))},Persistence.prototype.treatRawData=function(rawData){var i,data=rawData.split("\n"),dataById={},tdata=[],indexes={},corruptItems=-1;for(i=0;i<data.length;i+=1){var doc;try{doc=model.deserialize(this.beforeDeserialization(data[i])),doc._id?doc.$$deleted===!0?delete dataById[doc._id]:dataById[doc._id]=doc:doc.$$indexCreated&&void 0!=doc.$$indexCreated.fieldName?indexes[doc.$$indexCreated.fieldName]=doc.$$indexCreated:"string"==typeof doc.$$indexRemoved&&delete indexes[doc.$$indexRemoved]}catch(e){corruptItems+=1}}if(data.length>0&&corruptItems/data.length>this.corruptAlertThreshold)throw"More than 10% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss";return Object.keys(dataById).forEach(function(k){tdata.push(dataById[k])}),{data:tdata,indexes:indexes}},Persistence.prototype.loadDatabase=function(cb){var callback=cb||function(){},self=this;return self.db.resetIndexes(),self.inMemoryOnly?callback(null):void async.waterfall([function(cb){Persistence.ensureDirectoryExists(path.dirname(self.filename),function(err){storage.ensureDatafileIntegrity(self.filename,function(err){storage.readFile(self.filename,"utf8",function(err,rawData){if(err)return cb(err);try{var treatedData=self.treatRawData(rawData)}catch(e){return cb(e)}Object.keys(treatedData.indexes).forEach(function(key){self.db.indexes[key]=new Index(treatedData.indexes[key])});try{self.db.resetIndexes(treatedData.data)}catch(e){return self.db.resetIndexes(),cb(e)}self.db.persistence.persistCachedDatabase(cb)})})})}],function(err){return err?callback(err):(self.db.executor.processBuffer(),callback(null))})},module.exports=Persistence}).call(this,require("_process"))},{"./customUtils":8,"./indexes":14,"./model":15,"./storage":9,_process:20,async:17,path:19}],17:[function(require,module,exports){(function(process){!function(){function only_once(fn){var called=!1;return function(){if(called)throw new Error("Callback was already called.");called=!0,fn.apply(root,arguments)}}var root,previous_async,async={};root=this,null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _each=function(arr,iterator){if(arr.forEach)return arr.forEach(iterator);for(var i=0;i<arr.length;i+=1)iterator(arr[i],i,arr)},_map=function(arr,iterator){if(arr.map)return arr.map(iterator);var results=[];return _each(arr,function(x,i,a){results.push(iterator(x,i,a))}),results},_reduce=function(arr,iterator,memo){return arr.reduce?arr.reduce(iterator,memo):(_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo)},_keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys};"undefined"!=typeof process&&process.nextTick?(async.nextTick=process.nextTick,"undefined"!=typeof setImmediate?async.setImmediate=function(fn){setImmediate(fn)}:async.setImmediate=async.nextTick):"function"==typeof setImmediate?(async.nextTick=function(fn){setImmediate(fn)},async.setImmediate=async.nextTick):(async.nextTick=function(fn){setTimeout(fn,0)},async.setImmediate=async.nextTick),async.each=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0;_each(arr,function(x){iterator(x,only_once(function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length&&callback(null))}))})},async.forEach=async.each,async.eachSeries=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0,iterate=function(){iterator(arr[completed],function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length?callback(null):iterate())})};iterate()},async.forEachSeries=async.eachSeries,async.eachLimit=function(arr,limit,iterator,callback){var fn=_eachLimit(limit);fn.apply(null,[arr,iterator,callback])},async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){if(callback=callback||function(){},!arr.length||0>=limit)return callback();var completed=0,started=0,running=0;!function replenish(){if(completed>=arr.length)return callback();for(;limit>running&&started<arr.length;)started+=1,running+=1,iterator(arr[started-1],function(err){err?(callback(err),callback=function(){}):(completed+=1,running-=1,completed>=arr.length?callback():replenish())})}()}},doParallel=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.each].concat(args))}},doParallelLimit=function(limit,fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}},doSeries=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.eachSeries].concat(args))}},_asyncMap=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v,callback(err)})},function(err){callback(err,results)})};async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})},async.inject=async.reduce,async.foldl=async.reduce,async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse();async.reduce(reversed,memo,iterator,callback)},async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v&&results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter),async.filterSeries=doSeries(_filter),async.select=async.filter,async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v||results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject),async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){result?(main_callback(x),main_callback=function(){}):callback()})},function(err){main_callback()})};async.detect=doParallel(_detect),async.detectSeries=doSeries(_detect),async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v&&(main_callback(!0),main_callback=function(){}),callback()})},function(err){main_callback(!1)})},async.any=async.some,async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v||(main_callback(!1),main_callback=function(){}),callback()})},function(err){main_callback(!0)})},async.all=async.every,async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){if(err)return callback(err);var fn=function(left,right){var a=left.criteria,b=right.criteria;return b>a?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))})},async.auto=function(tasks,callback){callback=callback||function(){};var keys=_keys(tasks);if(!keys.length)return callback(null);var results={},listeners=[],addListener=function(fn){listeners.unshift(fn)},removeListener=function(fn){for(var i=0;i<listeners.length;i+=1)if(listeners[i]===fn)return void listeners.splice(i,1)},taskComplete=function(){_each(listeners.slice(0),function(fn){fn()})};addListener(function(){_keys(results).length===keys.length&&(callback(null,results),callback=function(){})}),_each(keys,function(k){var task=tasks[k]instanceof Function?[tasks[k]]:tasks[k],taskCallback=function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1&&(args=args[0]),err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]}),safeResults[k]=args,callback(err,safeResults),callback=function(){}}else results[k]=args,async.setImmediate(taskComplete)},requires=task.slice(0,Math.abs(task.length-1))||[],ready=function(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)};if(ready())task[task.length-1](taskCallback,results);else{var listener=function(){ready()&&(removeListener(listener),task[task.length-1](taskCallback,results))};addListener(listener)}})},async.waterfall=function(tasks,callback){if(callback=callback||function(){},tasks.constructor!==Array){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length)return callback();var wrapIterator=function(iterator){return function(err){if(err)callback.apply(null,arguments),callback=function(){};else{var args=Array.prototype.slice.call(arguments,1),next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),async.setImmediate(function(){iterator.apply(null,args)})}}};wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)eachfn.map(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each},tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)},async.series=function(tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)async.mapSeries(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}},async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()};return fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null},fn};return makeCallback(0)},async.apply=function(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(null,args.concat(Array.prototype.slice.call(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]),cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat),async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){test()?iterator(function(err){return err?callback(err):void async.whilst(test,iterator,callback)}):callback()},async.doWhilst=function(iterator,test,callback){iterator(function(err){return err?callback(err):void(test()?async.doWhilst(iterator,test,callback):callback())})},async.until=function(test,iterator,callback){test()?callback():iterator(function(err){return err?callback(err):void async.until(test,iterator,callback)})},async.doUntil=function(iterator,test,callback){iterator(function(err){return err?callback(err):void(test()?callback():async.doUntil(iterator,test,callback))})},async.queue=function(worker,concurrency){function _insert(q,data,pos,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){var item={data:task,callback:"function"==typeof callback?callback:null};pos?q.tasks.unshift(item):q.tasks.push(item),q.saturated&&q.tasks.length===concurrency&&q.saturated(),async.setImmediate(q.process)})}void 0===concurrency&&(concurrency=1);var workers=0,q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,push:function(data,callback){_insert(q,data,!1,callback)},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){if(workers<q.concurrency&&q.tasks.length){var task=q.tasks.shift();q.empty&&0===q.tasks.length&&q.empty(),workers+=1;var next=function(){workers-=1,task.callback&&task.callback.apply(task,arguments),q.drain&&q.tasks.length+workers===0&&q.drain(),q.process()},cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers}};return q},async.cargo=function(worker,payload){var working=!1,tasks=[],cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,push:function(data,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){tasks.push({data:task,callback:"function"==typeof callback?callback:null}),cargo.saturated&&tasks.length===payload&&cargo.saturated()}),async.setImmediate(cargo.process)},process:function process(){if(!working){if(0===tasks.length)return void(cargo.drain&&cargo.drain());var ts="number"==typeof payload?tasks.splice(0,payload):tasks.splice(0),ds=_map(ts,function(task){return task.data});cargo.empty&&cargo.empty(),working=!0,worker(ds,function(){working=!1;var args=arguments;_each(ts,function(data){data.callback&&data.callback.apply(null,args)}),process()})}},length:function(){return tasks.length},running:function(){return working}};return cargo};var _console_fn=function(name){return function(fn){var args=Array.prototype.slice.call(arguments,1);fn.apply(null,args.concat([function(err){var args=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(err?console.error&&console.error(err):console[name]&&_each(args,function(x){console[name](x)}))}]))}};async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=Array.prototype.slice.call(arguments),callback=args.pop(),key=hasher.apply(null,args);key in memo?callback.apply(null,memo[key]):key in queues?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([function(){memo[key]=arguments;var q=queues[key];delete queues[key];for(var i=0,l=q.length;l>i;i++)q[i].apply(null,arguments)}])))};return memoized.memo=memo,
memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.map(counter,iterator,callback)},async.timesSeries=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.mapSeries(counter,iterator,callback)},async.compose=function(){var fns=Array.prototype.reverse.call(arguments);return function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0],nextargs=Array.prototype.slice.call(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};var _applyEach=function(eachfn,fns){var go=function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return go.apply(this,args)}return go};async.applyEach=doParallel(_applyEach),async.applyEachSeries=doSeries(_applyEach),async.forever=function(fn,callback){function next(err){if(err){if(callback)return callback(err);throw err}fn(next)}next()},"undefined"!=typeof define&&define.amd?define([],function(){return async}):"undefined"!=typeof module&&module.exports?module.exports=async:root.async=async}()}).call(this,require("_process"))},{_process:20}],18:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],19:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;length>i;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return 0>start&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:20}],20:[function(require,module,exports){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],21:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],22:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":21,_process:20,inherits:6}],23:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _index=require("../../node_modules/nedb/index.js"),_index2=_interopRequireDefault(_index),db={};db.songs=new _index2["default"]({filename:"database/caros_songs.db"}),db.artists=new _index2["default"]({filename:"database/caros_artists.db"}),db.albums=new _index2["default"]({filename:"database/caros_albums.db"}),db.songs.loadDatabase(),db.artists.loadDatabase(),db.albums.loadDatabase(),module.exports={add_music:function(data,callback){console.log("Adding: "+data.path),data.artist?!function(){var song={title:data.title,path:data.path,number:data.tracknum,duration:data.duration},artist={name:data.artist},album={title:data.album,image:data.image};db.songs.update({title:song.title},{title:song.title,path:song.path,number:data.tracknum,duration:song.duration},{upsert:!0},function(err,num,songDoc){err&&console.error(err),song._id=songDoc._id,db.artists.update({name:artist.name},{name:artist.name},{upsert:!0},function(err,num,artistDoc){err&&console.error(err),artist._id=artistDoc._id,db.albums.update({title:album.title},{title:album.title,artist:artist._id,image:album.image},{upsert:!0},function(err,num,albumDoc){err&&console.error(err),album._id=albumDoc._id,db.songs.update({_id:song._id},{title:song.title,artist:artist._id,album:album._id,path:song.path,number:data.tracknum,duration:song.duration}),db.artists.update({_id:artist._id},{$addToSet:{songs:song._id,albums:album._id}}),db.albums.update({_id:album._id},{$addToSet:{songs:song._id}}),setTimeout(function(){callback()},300)})})})}():data.title&&!data.artist&&db.songs.update({title:data.title},{title:data.title,path:data.path},{upsert:!0},function(err,num,doc){err&&console.error(err)})},get_songs:function(callback){db.songs.find({}).sort({title:1}).exec(function(err,docs){err&&console.error(err);var songs=docs.sort();db.artists.find({}).sort({name:1}).exec(function(err,docs){err&&console.error(err);var artists=docs.sort();db.albums.find({}).sort({title:1}).exec(function(err,docs){err&&console.error(err);var albums=docs.sort();callback({artists:artists,albums:albums,songs:songs})})})})},print_songs:function(){db.artists.find({},function(err,docs){err&&console.error(err),console.log(docs)}),db.albums.find({},function(err,docs){err&&console.error(err),console.log(docs)}),db.songs.find({},function(err,docs){err&&console.error(err),console.log(docs)})},print_one_song:function(title){db.songs.findOne({title:title},function(err,doc){console.log(doc)})},drop_dbs:function(){db.artists.remove({},{multi:!0}),db.albums.remove({},{multi:!0}),db.songs.remove({},{multi:!0})}}},{"../../node_modules/nedb/index.js":10}],24:[function(require,module,exports){"use strict";var musicScroller,app=(require("./database.js"),angular.module("CarOS",[]));app.controller("MainController",["$scope","$interval",function($scope,$interval){$scope.mainwindow="main-menu",$scope.windowStack=["main-menu"],$scope.time=moment().format("h:mm a"),$scope.date=moment().format("ddd - MMM Do"),$scope.yoscroll=!1,$scope.goBack=function(){$scope.windowStack.pop(),$scope.mainwindow=$scope.windowStack[$scope.windowStack.length-1]},$interval(function(){$scope.time=moment().format("h:mm a")},1e3),$interval(function(){$scope.date=moment().format("MM/dd")},432e5),$scope.navigate=function(context){$scope.mainwindow=context}}]),app.controller("MainMenu",["$scope",function($scope){}]),app.controller("Music",["$scope","$filter","$timeout","$http","MusicService",function($scope,$filter,$timeout,$http,MusicService){$scope.songs=[],$scope.artists=[],$scope.albums=[],$scope.playing=!1,$scope.active={sideBar:"",listView:"",song:""},$scope.currentArtist={artist:null,songs:[]},$http({method:"GET",url:"/demo/get_songs"}).then(function(res){$scope.artists=res.data.artists,$scope.albums=res.data.albums,$scope.songs=res.data.songs}),$scope.$watch(function(){return MusicService.currentSong},function(song){$scope.currentSong=song}),$scope.$watch(function(){return MusicService.currentAlbum},function(album){$scope.currentAlbum=album}),$scope.context="",$scope.changeContext=function(ctxt,index){$scope.context=ctxt,$scope.currentArtist={artist:null,albums:[],songs:[]},$scope.currentAlbum={},$scope.updateScroller(index)},$scope.updateScroller=function(index){var list=$(".list-view")[index];musicScroller.scrollTo(0,0,0),$timeout(function(){musicScroller.updateDimensions($(list).outerWidth(),$(list).outerHeight()+25)},100)},$scope.showAlbums=function(artist,index){$scope.currentArtist={artist:artist,songs:[],albums:[]},$scope.albums.forEach(function(a){artist.albums.forEach(function(al){a._id===al&&!function(){var newAlbum={title:a.title,image:a.image,songs:[]};a.songs.forEach(function(so){$scope.songs.forEach(function(s){so===s._id&&newAlbum.songs.push(s)})}),$scope.currentArtist.albums.push(newAlbum)}()})}),$scope.updateScroller(index)},$scope.showSongs=function(album,index){$scope.currentAlbum={title:album.title,artist:null,image:album.image,songs:[]},$scope.artists.forEach(function(a){a._id===album.artist&&($scope.currentAlbum.artist=a,$scope.currentArtist.artist=a)}),$scope.songs.forEach(function(s){album.songs.forEach(function(so){s._id===so&&$scope.currentAlbum.songs.push(s)})}),$scope.updateScroller(index)},$scope.getArtist=function(artist){var name="";return $scope.artists.forEach(function(a){a._id===artist&&(name=a.name)}),name},$scope.playSong=function(song,album){var songlist=$scope.songs;album?MusicService.playSong(song,album,$scope.currentArtist):MusicService.playSong(song,songlist,$scope.currentArtist)},$scope.queueSong=function(song){MusicService.queueSong(song)},$scope.$watch(function(){return MusicService.songlist},function(list){list.length>0?$scope.playing=!0:$scope.playing=!1,$scope.songlist=angular.copy(list)},!0)}]),app.controller("Settings",["$scope",function($scope){$scope.settings={},$scope.refreshMusic=function(){}}]),app.controller("Player",["$scope","$interval","MusicService",function($scope,$interval,MusicService){var timer=(MusicService.songlist,void 0);$scope.duration=0,$scope.playlist=[],$scope.scrubber={},$scope.scrubber.value="0",$scope.playing=!1,$scope.songlist=[],$scope.$watch(function(){return MusicService.duration},function(dur){$scope.duration=Math.round(dur),dur>1&&(timer=$interval(function(){$scope.scrubber.value=Math.floor(MusicService.player.currentTime)},1e3))},!0),$scope.$watch(function(){return MusicService.paused},function(paused){$scope.paused=paused}),$scope.$watch(function(){return MusicService.songlist},function(list){list.length>0?$scope.playing=!0:$scope.playing=!1,$scope.songlist=angular.copy(list)},!0),$scope.$watch(function(){return MusicService.currentSong},function(song){$scope.currentSong=song}),$scope.$watch(function(){return MusicService.currentArtist},function(artist){$scope.currentArtist=artist}),$scope.$watch(function(){return MusicService.currentAlbum},function(album){$scope.currentAlbum=album}),$scope.scrubberWidth=function(){return $scope.duration>1?{width:$scope.scrubber.value/$scope.duration*100+"%"}:void 0},$scope.showFullPlayer=function(){$("#player").animate({bottom:""})},$scope.seek=function(seekTo){MusicService.seek(seekTo)},$scope.playPause=function(){$scope.paused?(MusicService.play(),timer=$interval(function(){$scope.scrubber.value=Math.floor(MusicService.player.currentTime)},1e3)):(MusicService.pause(),$interval.cancel(timer))},$scope.fastForward=function(){MusicService.fastForward($scope.currentSong.number)},$scope.rewind=function(){MusicService.rewind($scope.currentSong.number)},$scope.prevSong=function(){MusicService.prevSong($scope.currentSong.number)}}]),app.factory("MusicService",function(){return{songlist:[],player:new Audio,duration:1,paused:!1,playing:!1,currentSong:{},currentArtist:{},currentAlbum:{},getDuration:function(){return this.duration},playSong:function(song,songlist,currentArtist){songlist&&(console.log(songlist),this.songlist=songlist.songs),this.currentSong=song,songlist&&songlist.image&&(this.currentAlbum=songlist),currentArtist&&(this.currentArtist=currentArtist),this.addEvent(),this.play(song.path.replace(/\#/gi,"%23")),this.playing=!0},getCurrentTime:function(){return this.player.currentTime},play:function(path){path&&(this.player.src=path),this.player.play(),this.paused=!1,this.playing=!0,setTimeout(function(){var scrollerHeight=$(musicScroller.contentContainerNode).height(),scrollerWidth=$(musicScroller.contentContainerNode).width();musicScroller.updateDimensions(scrollerWidth,scrollerHeight+100,!0)},100);var that=this;this.player.onended=function(){if(that.songlist.length>0){var index=that.songlist.indexOf(that.currentSong)+1,song=that.songlist[index];that.currentSong=song,that.player.src=song.path,that.player.play()}}},pause:function(){this.player.pause(),this.paused=!0},seek:function(seekTo){this.player.currentTime=seekTo},fastForward:function(index){var song=this.songlist[index];this.playSong(song)},rewind:function(index){var song=this.songlist[index-1];this.playSong(song)},prevSong:function(index){var song=this.songlist[index-2];this.playSong(song)},addEvent:function(){var _this=this;this.player.addEventListener("loadedmetadata",function(){_this.duration=_this.player.duration})}}}),app.filter("timecode",function(){return function(input){var min=Math.floor(input/60)<10?"0"+Math.floor(input/60):Math.floor(input/60),seconds=Math.floor(input%60)<10?"0"+Math.floor(input%60):Math.floor(input%60);return min+":"+seconds}});var scrollable=document.getElementById("music-content");musicScroller=new FTScroller(scrollable,{scrollbars:!1,scrollingX:!1})},{"./database.js":23}]},{},[24]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLDEsIm1vZHVsZSIsIkJpbmFyeVNlYXJjaFRyZWUiLCJBVkxUcmVlIiwiLi9saWIvYXZsdHJlZSIsIi4vbGliL2JzdCIsMiwib3B0aW9ucyIsInRoaXMiLCJ0cmVlIiwiX0FWTFRyZWUiLCJsZWZ0IiwicmlnaHQiLCJwYXJlbnQiLCJ1bmRlZmluZWQiLCJoYXNPd25Qcm9wZXJ0eSIsImtleSIsImRhdGEiLCJ2YWx1ZSIsInVuaXF1ZSIsImNvbXBhcmVLZXlzIiwiY3VzdG9tVXRpbHMiLCJkZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbiIsImNoZWNrVmFsdWVFcXVhbGl0eSIsImRlZmF1bHRDaGVja1ZhbHVlRXF1YWxpdHkiLCJ1dGlsIiwiaW5oZXJpdHMiLCJwcm90b3R5cGUiLCJjaGVja0hlaWdodENvcnJlY3QiLCJsZWZ0SCIsInJpZ2h0SCIsImhlaWdodCIsIk1hdGgiLCJtYXgiLCJiYWxhbmNlRmFjdG9yIiwiY2hlY2tCYWxhbmNlRmFjdG9ycyIsImFicyIsImNoZWNrSXNBVkxUIiwic3VwZXJfIiwiY2hlY2tJc0JTVCIsInJpZ2h0Um90YXRpb24iLCJiIiwiYWgiLCJiaCIsImNoIiwicSIsInAiLCJsZWZ0Um90YXRpb24iLCJyaWdodFRvb1NtYWxsIiwibGVmdFRvb1NtYWxsIiwicmViYWxhbmNlQWxvbmdQYXRoIiwicGF0aCIsInJvdGF0ZWQiLCJuZXdSb290IiwiaW5zZXJ0IiwiaW5zZXJ0UGF0aCIsImN1cnJlbnROb2RlIiwicHVzaCIsIm1lc3NhZ2UiLCJlcnJvclR5cGUiLCJjcmVhdGVMZWZ0Q2hpbGQiLCJjcmVhdGVSaWdodENoaWxkIiwibmV3VHJlZSIsInJlcGxhY2VXaXRoIiwibmV3RGF0YSIsImRlbGV0ZVBhdGgiLCJmb3JFYWNoIiwiZCIsImZuIiwiYXBwbHkiLCJhcmd1bWVudHMiLCIuL2JzdCIsIi4vY3VzdG9tVXRpbHMiLCJ1bmRlcnNjb3JlIiwzLCJhcHBlbmQiLCJhcnJheSIsInRvQXBwZW5kIiwiZ2V0TWF4S2V5RGVzY2VuZGFudCIsImdldE1heEtleSIsImdldE1pbktleURlc2NlbmRhbnQiLCJnZXRNaW5LZXkiLCJjaGVja0FsbE5vZGVzRnVsbGZpbGxDb25kaXRpb24iLCJ0ZXN0IiwiY2hlY2tOb2RlT3JkZXJpbmciLCJzZWxmIiwiayIsImNoZWNrSW50ZXJuYWxQb2ludGVycyIsImdldE51bWJlck9mS2V5cyIsInJlcyIsImNyZWF0ZVNpbWlsYXIiLCJjb25zdHJ1Y3RvciIsImxlZnRDaGlsZCIsInJpZ2h0Q2hpbGQiLCJzZWFyY2giLCJnZXRMb3dlckJvdW5kTWF0Y2hlciIsInF1ZXJ5IiwiJGd0ZSIsIiRndCIsImdldFVwcGVyQm91bmRNYXRjaGVyIiwiJGx0ZSIsIiRsdCIsImJldHdlZW5Cb3VuZHMiLCJsYm0iLCJ1Ym0iLCJkZWxldGVJZkxlYWYiLCJkZWxldGVJZk9ubHlPbmVDaGlsZCIsImNoaWxkIiwicmFuZG9tIiwiZXhlY3V0ZU9uRXZlcnlOb2RlIiwicHJldHR5UHJpbnQiLCJwcmludERhdGEiLCJzcGFjaW5nIiwiY29uc29sZSIsImxvZyIsNCwiZ2V0UmFuZG9tQXJyYXkiLCJuZXh0IiwiZmxvb3IiLCJzcGxpY2UiLDUsInJvb3QiLCJwcmV2aW91c1VuZGVyc2NvcmUiLCJfIiwiYnJlYWtlciIsIkFycmF5UHJvdG8iLCJBcnJheSIsIk9ialByb3RvIiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJzbGljZSIsImNvbmNhdCIsInRvU3RyaW5nIiwibmF0aXZlRm9yRWFjaCIsIm5hdGl2ZU1hcCIsIm1hcCIsIm5hdGl2ZVJlZHVjZSIsInJlZHVjZSIsIm5hdGl2ZVJlZHVjZVJpZ2h0IiwicmVkdWNlUmlnaHQiLCJuYXRpdmVGaWx0ZXIiLCJmaWx0ZXIiLCJuYXRpdmVFdmVyeSIsImV2ZXJ5IiwibmF0aXZlU29tZSIsInNvbWUiLCJuYXRpdmVJbmRleE9mIiwiaW5kZXhPZiIsIm5hdGl2ZUxhc3RJbmRleE9mIiwibGFzdEluZGV4T2YiLCJuYXRpdmVJc0FycmF5IiwiaXNBcnJheSIsIm5hdGl2ZUtleXMiLCJrZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJvYmoiLCJfd3JhcHBlZCIsIlZFUlNJT04iLCJlYWNoIiwiaXRlcmF0b3IiLCJjb250ZXh0IiwiaGFzIiwiY29sbGVjdCIsInJlc3VsdHMiLCJpbmRleCIsImxpc3QiLCJyZWR1Y2VFcnJvciIsImZvbGRsIiwiaW5qZWN0IiwibWVtbyIsImluaXRpYWwiLCJUeXBlRXJyb3IiLCJmb2xkciIsImZpbmQiLCJkZXRlY3QiLCJyZXN1bHQiLCJhbnkiLCJzZWxlY3QiLCJyZWplY3QiLCJhbGwiLCJpZGVudGl0eSIsImNvbnRhaW5zIiwiaW5jbHVkZSIsInRhcmdldCIsImludm9rZSIsIm1ldGhvZCIsImFyZ3MiLCJpc0Z1bmMiLCJpc0Z1bmN0aW9uIiwicGx1Y2siLCJ3aGVyZSIsImF0dHJzIiwiZmlyc3QiLCJpc0VtcHR5IiwiZmluZFdoZXJlIiwiSW5maW5pdHkiLCJjb21wdXRlZCIsIm1pbiIsInNodWZmbGUiLCJyYW5kIiwic2h1ZmZsZWQiLCJsb29rdXBJdGVyYXRvciIsInNvcnRCeSIsImNyaXRlcmlhIiwic29ydCIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiY291bnRCeSIsInNvcnRlZEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsInRvQXJyYXkiLCJ2YWx1ZXMiLCJzaXplIiwiaGVhZCIsInRha2UiLCJndWFyZCIsImxhc3QiLCJyZXN0IiwidGFpbCIsImRyb3AiLCJjb21wYWN0IiwiZmxhdHRlbiIsImlucHV0Iiwic2hhbGxvdyIsIm91dHB1dCIsIndpdGhvdXQiLCJkaWZmZXJlbmNlIiwidW5pcSIsImlzU29ydGVkIiwic2VlbiIsInVuaW9uIiwiaW50ZXJzZWN0aW9uIiwiaXRlbSIsIm90aGVyIiwiemlwIiwib2JqZWN0IiwiZnJvbSIsImhhc0luZGV4IiwicmFuZ2UiLCJzdGFydCIsInN0b3AiLCJzdGVwIiwibGVuIiwiY2VpbCIsImlkeCIsImZ1bmMiLCJwYXJ0aWFsIiwiYmluZEFsbCIsImZ1bmNzIiwiZnVuY3Rpb25zIiwibWVtb2l6ZSIsImhhc2hlciIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwidGltZW91dCIsInByZXZpb3VzIiwibGF0ZXIiLCJEYXRlIiwibm93IiwicmVtYWluaW5nIiwiY2xlYXJUaW1lb3V0IiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJjYWxsTm93Iiwib25jZSIsInJhbiIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJwYWlycyIsImludmVydCIsIm1ldGhvZHMiLCJuYW1lcyIsImV4dGVuZCIsInNvdXJjZSIsInByb3AiLCJwaWNrIiwiY29weSIsIm9taXQiLCJkZWZhdWx0cyIsImNsb25lIiwiaXNPYmplY3QiLCJ0YXAiLCJpbnRlcmNlcHRvciIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiU3RyaW5nIiwiZ2xvYmFsIiwibXVsdGlsaW5lIiwiaWdub3JlQ2FzZSIsImFDdG9yIiwiYkN0b3IiLCJwb3AiLCJpc0VxdWFsIiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsIm5hbWUiLCJpc0FyZ3VtZW50cyIsImlzRmluaXRlIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc0Jvb2xlYW4iLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJhY2N1bSIsImVudGl0eU1hcCIsImVzY2FwZSIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsIi8iLCJ1bmVzY2FwZSIsImVudGl0eVJlZ2V4ZXMiLCJSZWdFeHAiLCJqb2luIiwic3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoIiwicHJvcGVydHkiLCJtaXhpbiIsImlkQ291bnRlciIsInVuaXF1ZUlkIiwicHJlZml4IiwiaWQiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsIm5vTWF0Y2giLCJlc2NhcGVzIiwiXFwiLCJcciIsIlxuIiwiXHQiLCLigKgiLCLigKkiLCJlc2NhcGVyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJyZW5kZXIiLCJtYXRjaGVyIiwib2Zmc2V0IiwidmFyaWFibGUiLCJjaGFpbiIsIl9jaGFpbiIsNiwiY3JlYXRlIiwiY3RvciIsInN1cGVyQ3RvciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiw3LCJwcm9jZXNzIiwiZGVmaW5lIiwicmVxdWlyZU1vZHVsZSIsInJlcXVpcmVqcyIsInJlZ2lzdHJ5IiwiZGVwcyIsImNhbGxiYWNrIiwicmVzb2x2ZSIsImNoYXJBdCIsInBhcnRzIiwic3BsaXQiLCJwYXJlbnRCYXNlIiwicGFydCIsIl9lYWtfc2VlbiIsIm1vZCIsInJlaWZpZWQiLCJfX2RlcGVuZGVuY3kxX18iLCJfX2V4cG9ydHNfXyIsInByb21pc2VzIiwiUHJvbWlzZSIsInJlc29sdmVyIiwicmVzb2x2ZUFsbCIsInByb21pc2UiLCJ0aGVuIiwidXNlTmV4dFRpY2siLCJuZXh0VGljayIsImZsdXNoIiwidXNlTXV0YXRpb25PYnNlcnZlciIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsIkJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInVzZVNldFRpbWVvdXQiLCJsb2NhbCIsInF1ZXVlIiwidHVwbGUiLCJhcmciLCJhc2FwIiwic2NoZWR1bGVGbHVzaCIsImJyb3dzZXJHbG9iYWwiLCJ3aW5kb3ciLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImNvbmZpZ3VyZSIsImNvbmZpZyIsImluc3RydW1lbnQiLCJfX2RlcGVuZGVuY3kyX18iLCJwb2x5ZmlsbCIsImVzNlByb21pc2VTdXBwb3J0IiwiUlNWUFByb21pc2UiLCJfX2RlcGVuZGVuY3kzX18iLCJfX2RlcGVuZGVuY3k0X18iLCJfX2RlcGVuZGVuY3k1X18iLCJfX2RlcGVuZGVuY3k2X18iLCJfX2RlcGVuZGVuY3k3X18iLCJfc3Vic2NyaWJlcnMiLCJpbnZva2VSZXNvbHZlciIsInJlc29sdmVQcm9taXNlIiwicmVqZWN0UHJvbWlzZSIsInJlYXNvbiIsImludm9rZUNhbGxiYWNrIiwic2V0dGxlZCIsImRldGFpbCIsImVycm9yIiwic3VjY2VlZGVkIiwiZmFpbGVkIiwiaGFzQ2FsbGJhY2siLCJoYW5kbGVUaGVuYWJsZSIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwic3Vic2NyaWJlIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwic3Vic2NyaWJlcnMiLCJwdWJsaXNoIiwiX2RldGFpbCIsInJlc29sdmVkIiwib2JqZWN0T3JGdW5jdGlvbiIsInZhbCIsImZ1bGZpbGwiLCJfc3RhdGUiLCJQRU5ESU5HIiwiU0VBTEVEIiwiYXN5bmMiLCJwdWJsaXNoRnVsZmlsbG1lbnQiLCJwdWJsaXNoUmVqZWN0aW9uIiwicmFjZSIsInN0YXRpY1Jlc29sdmUiLCJzdGF0aWNSZWplY3QiLCJ0aGVuUHJvbWlzZSIsImNhbGxiYWNrcyIsImNhdGNoIiwieCIsImdldFRpbWUiLCJmYWN0b3J5IiwiYW1kIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJsb2FkZWQiLCJtIiwiYyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfX2VzTW9kdWxlIiwiY2FsbFdoZW5SZWFkeSIsImxvY2FsRm9yYWdlSW5zdGFuY2UiLCJsaWJyYXJ5TWV0aG9kIiwiX2FyZ3MiLCJyZWFkeSIsImlzTGlicmFyeURyaXZlciIsImRyaXZlck5hbWUiLCJkcml2ZXIiLCJEcml2ZXJUeXBlIiwiQ3VzdG9tRHJpdmVycyIsIklOREVYRUREQiIsIkxPQ0FMU1RPUkFHRSIsIldFQlNRTCIsIkRlZmF1bHREcml2ZXJPcmRlciIsIkxpYnJhcnlNZXRob2RzIiwiRGVmYXVsdENvbmZpZyIsImRlc2NyaXB0aW9uIiwic3RvcmVOYW1lIiwidmVyc2lvbiIsImRyaXZlclN1cHBvcnQiLCJpbmRleGVkREIiLCJ3ZWJraXRJbmRleGVkREIiLCJtb3pJbmRleGVkREIiLCJPSW5kZXhlZERCIiwibXNJbmRleGVkREIiLCJvcGVuRGF0YWJhc2UiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJvcGVuIiwiSURCS2V5UmFuZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiTG9jYWxGb3JhZ2UiLCJfZGVmYXVsdENvbmZpZyIsIl9jb25maWciLCJfZHJpdmVyU2V0IiwiX2luaXREcml2ZXIiLCJfcmVhZHkiLCJfZGJJbmZvIiwiX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSIsInNldERyaXZlciIsImRlZmluZURyaXZlciIsImRyaXZlck9iamVjdCIsImVycm9yQ2FsbGJhY2siLCJfZHJpdmVyIiwiY29tcGxpYW5jZUVycm9yIiwibmFtaW5nRXJyb3IiLCJjdXN0b21Ecml2ZXJNZXRob2RzIiwiY3VzdG9tRHJpdmVyTWV0aG9kIiwic3VwcG9ydFByb21pc2UiLCJfc3VwcG9ydCIsInN1cHBvcnRSZXN1bHQiLCJnZXREcml2ZXIiLCJnZXREcml2ZXJQcm9taXNlIiwiZ2V0U2VyaWFsaXplciIsInNlcmlhbGl6ZXJQcm9taXNlIiwiZHJpdmVycyIsInNldERyaXZlclRvQ29uZmlnIiwiaW5pdERyaXZlciIsInN1cHBvcnRlZERyaXZlcnMiLCJkcml2ZXJQcm9taXNlTG9vcCIsImN1cnJlbnREcml2ZXJJbmRleCIsIl9leHRlbmQiLCJfaW5pdFN0b3JhZ2UiLCJfZ2V0U3VwcG9ydGVkRHJpdmVycyIsIm9sZERyaXZlclNldERvbmUiLCJzdXBwb3J0cyIsImxpYnJhcnlNZXRob2RzQW5kUHJvcGVydGllcyIsImNyZWF0ZUluc3RhbmNlIiwibG9jYWxGb3JhZ2UiLCJfY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJCbG9iIiwiQmxvYkJ1aWxkZXIiLCJnbG9iYWxPYmplY3QiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImJ1aWxkZXIiLCJnZXRCbG9iIiwidHlwZSIsIl9iaW5TdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJhcnIiLCJVaW50OEFycmF5IiwiY2hhckNvZGVBdCIsIl9ibG9iQWpheCIsInVybCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJzZW5kIiwiX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyIsImlkYiIsImJsb2IiLCJ0eG4iLCJ0cmFuc2FjdGlvbiIsIkRFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUiLCJvYmplY3RTdG9yZSIsInB1dCIsIm9uY29tcGxldGUiLCJibG9iVHhuIiwiZ2V0QmxvYlJlcSIsImdldCIsIm9uZXJyb3IiLCJvbnN1Y2Nlc3MiLCJzdG9yZWRCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiX2NoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0Jsb2JzIiwiX2VuY29kZUJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkZW5kIiwiYmFzZTY0IiwiYnRvYSIsIl9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYiIsInJlYWRBc0JpbmFyeVN0cmluZyIsIl9kZWNvZGVCbG9iIiwiZW5jb2RlZEJsb2IiLCJhcnJheUJ1ZmYiLCJhdG9iIiwiX2lzRW5jb2RlZEJsb2IiLCJpZ25vcmVFcnJvcnMiLCJkYkluZm8iLCJkYiIsImRiQ29udGV4dHMiLCJkYkNvbnRleHQiLCJmb3JhZ2VzIiwicmVhZHlQcm9taXNlcyIsImoiLCJmb3JhZ2UiLCJfZ2V0T3JpZ2luYWxDb25uZWN0aW9uIiwiX2lzVXBncmFkZU5lZWRlZCIsIl9nZXRVcGdyYWRlZENvbm5lY3Rpb24iLCJfZ2V0Q29ubmVjdGlvbiIsInVwZ3JhZGVOZWVkZWQiLCJjbG9zZSIsImRiQXJncyIsIm9wZW5yZXEiLCJvbnVwZ3JhZGVuZWVkZWQiLCJjcmVhdGVPYmplY3RTdG9yZSIsIm9sZFZlcnNpb24iLCJleCIsIndhcm4iLCJuZXdWZXJzaW9uIiwiZGVmYXVsdFZlcnNpb24iLCJpc05ld1N0b3JlIiwib2JqZWN0U3RvcmVOYW1lcyIsImlzRG93bmdyYWRlIiwiaXNVcGdyYWRlIiwiaW5jVmVyc2lvbiIsImdldEl0ZW0iLCJzdG9yZSIsInJlcSIsImV4ZWN1dGVDYWxsYmFjayIsIml0ZXJhdGUiLCJvcGVuQ3Vyc29yIiwiaXRlcmF0aW9uTnVtYmVyIiwiY3Vyc29yIiwiYmxvYlN1cHBvcnQiLCJvbmFib3J0IiwiZXJyIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiY291bnQiLCJhZHZhbmNlZCIsImFkdmFuY2UiLCJhc3luY1N0b3JhZ2UiLCJrZXlQcmVmaXgiLCJsaWIiLCJzZXJpYWxpemVyIiwiZGVzZXJpYWxpemUiLCJrZXlQcmVmaXhMZW5ndGgiLCJzdWJzdHJpbmciLCJvcmlnaW5hbFZhbHVlIiwic2VyaWFsaXplIiwibG9jYWxTdG9yYWdlV3JhcHBlciIsInZhbHVlU3RyaW5nIiwiYnVmZmVyIiwibWFya2VyIiwiU0VSSUFMSVpFRF9NQVJLRVIiLCJUWVBFX0FSUkFZQlVGRkVSIiwiVFlQRV9JTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZIiwiVFlQRV9JTlQxNkFSUkFZIiwiVFlQRV9VSU5UMTZBUlJBWSIsIlRZUEVfSU5UMzJBUlJBWSIsIlRZUEVfVUlOVDMyQVJSQVkiLCJUWVBFX0ZMT0FUMzJBUlJBWSIsIlRZUEVfRkxPQVQ2NEFSUkFZIiwiYnVmZmVyVG9TdHJpbmciLCJmaWxlUmVhZGVyIiwib25sb2FkIiwic3RyIiwiQkxPQl9UWVBFX1BSRUZJWCIsIlRZUEVfQkxPQiIsInJlYWRBc0FycmF5QnVmZmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlNFUklBTElaRURfTUFSS0VSX0xFTkdUSCIsInBhcnNlIiwiYmxvYlR5cGUiLCJzZXJpYWxpemVkU3RyaW5nIiwiVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgiLCJCTE9CX1RZUEVfUFJFRklYX1JFR0VYIiwic3RyaW5nVG9CdWZmZXIiLCJJbnQ4QXJyYXkiLCJVaW50OENsYW1wZWRBcnJheSIsIkludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsImVuY29kZWQxIiwiZW5jb2RlZDIiLCJlbmNvZGVkMyIsImVuY29kZWQ0IiwiYnVmZmVyTGVuZ3RoIiwiYnl0ZXMiLCJCQVNFX0NIQVJTIiwiYmFzZTY0U3RyaW5nIiwibG9jYWxmb3JhZ2VTZXJpYWxpemVyIiwiZGJJbmZvUHJvbWlzZSIsImV4ZWN1dGVTcWwiLCJyb3dzIiwic3FsRXJyb3IiLCJRVU9UQV9FUlIiLCJ3ZWJTUUxTdG9yYWdlIiwiX3Byb2Nlc3MiLDgsInJhbmRvbUJ5dGVzIiwiYnl0ZUFycmF5VG9CYXNlNjQiLCJ1aW50OCIsInRyaXBsZXRUb0Jhc2U2NCIsIm51bSIsImxvb2t1cCIsInRlbXAiLCJleHRyYUJ5dGVzIiwidWlkIiw5LCJleGlzdHMiLCJmaWxlbmFtZSIsImxvY2FsZm9yYWdlIiwicmVuYW1lIiwibmV3RmlsZW5hbWUiLCJ3cml0ZUZpbGUiLCJjb250ZW50cyIsImFwcGVuZEZpbGUiLCJyZWFkRmlsZSIsInVubGluayIsIm1rZGlycCIsImRpciIsImVuc3VyZURhdGFmaWxlSW50ZWdyaXR5IiwiY3Jhc2hTYWZlV3JpdGVGaWxlIiwxMCwiRGF0YXN0b3JlIiwiLi9saWIvZGF0YXN0b3JlIiwxMSwiQ3Vyc29yIiwiZXhlY0ZuIiwibW9kZWwiLCJsaW1pdCIsIl9saW1pdCIsInNraXAiLCJfc2tpcCIsInNvcnRRdWVyeSIsIl9zb3J0IiwicHJvamVjdGlvbiIsIl9wcm9qZWN0aW9uIiwicHJvamVjdCIsImNhbmRpZGF0ZXMiLCJrZWVwSWQiLCJhY3Rpb24iLCJfaWQiLCJjYW5kaWRhdGUiLCJ0b1B1c2giLCJfZXhlYyIsImdldENhbmRpZGF0ZXMiLCJhZGRlZCIsInNraXBwZWQiLCJkaXJlY3Rpb24iLCJjcml0ZXJpb24iLCJjb21wYXJlIiwiY29tcGFyZVRoaW5ncyIsImdldERvdFZhbHVlIiwiZXhlYyIsImV4ZWN1dG9yIiwiLi9tb2RlbCIsMTIsImluTWVtb3J5T25seSIsImF1dG9sb2FkIiwidGltZXN0YW1wRGF0YSIsInBlcnNpc3RlbmNlIiwiUGVyc2lzdGVuY2UiLCJub2RlV2Via2l0QXBwTmFtZSIsImFmdGVyU2VyaWFsaXphdGlvbiIsImJlZm9yZURlc2VyaWFsaXphdGlvbiIsImNvcnJ1cHRBbGVydFRocmVzaG9sZCIsIkV4ZWN1dG9yIiwiaW5kZXhlcyIsIkluZGV4IiwiZmllbGROYW1lIiwibG9hZERhdGFiYXNlIiwiZ2V0QWxsRGF0YSIsImdldEFsbCIsInJlc2V0SW5kZXhlcyIsInJlc2V0IiwiZW5zdXJlSW5kZXgiLCJjYiIsIm1pc3NpbmdGaWVsZE5hbWUiLCJwZXJzaXN0TmV3U3RhdGUiLCIkJGluZGV4Q3JlYXRlZCIsInJlbW92ZUluZGV4IiwiJCRpbmRleFJlbW92ZWQiLCJhZGRUb0luZGV4ZXMiLCJkb2MiLCJmYWlsaW5nSW5kZXgiLCJyZW1vdmUiLCJyZW1vdmVGcm9tSW5kZXhlcyIsInVwZGF0ZUluZGV4ZXMiLCJvbGREb2MiLCJuZXdEb2MiLCJ1cGRhdGUiLCJyZXZlcnRVcGRhdGUiLCJ1c2FibGVRdWVyeUtleXMiLCJpbmRleE5hbWVzIiwiaXNEYXRlIiwiZ2V0TWF0Y2hpbmciLCIkaW4iLCJnZXRCZXR3ZWVuQm91bmRzIiwiX2luc2VydCIsInByZXBhcmVkRG9jIiwicHJlcGFyZURvY3VtZW50Rm9ySW5zZXJ0aW9uIiwiX2luc2VydEluQ2FjaGUiLCJkZWVwQ29weSIsImNyZWF0ZU5ld0lkIiwidGVudGF0aXZlSWQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJjaGVja09iamVjdCIsIl9pbnNlcnRNdWx0aXBsZURvY3NJbkNhY2hlIiwicHJlcGFyZWREb2NzIiwiZmFpbGluZ0kiLCJkb2NzIiwiZmluZE9uZSIsIl91cGRhdGUiLCJ1cGRhdGVRdWVyeSIsIm11bHRpIiwidXBzZXJ0IiwibnVtUmVwbGFjZWQiLCJ3YXRlcmZhbGwiLCJ0b0JlSW5zZXJ0ZWQiLCJtb2RpZnkiLCJtb2RpZmllZERvYyIsIm1vZGlmaWNhdGlvbnMiLCJfcmVtb3ZlIiwibnVtUmVtb3ZlZCIsInJlbW92ZWREb2NzIiwiJCRkZWxldGVkIiwiLi9jdXJzb3IiLCIuL2V4ZWN1dG9yIiwiLi9pbmRleGVzIiwiLi9wZXJzaXN0ZW5jZSIsMTMsInRhc2siLCJsYXN0QXJnIiwibmV3QXJndW1lbnRzIiwic2V0SW1tZWRpYXRlIiwiZm9yY2VRdWV1aW5nIiwicHJvY2Vzc0J1ZmZlciIsMTQsInByb2plY3RGb3JVbmlxdWUiLCJlbHQiLCJzcGFyc2UiLCJ0cmVlT3B0aW9ucyIsImluc2VydE11bHRpcGxlRG9jcyIsIl9rZXkiLCJ1cGRhdGVNdWx0aXBsZURvY3MiLCJyZXZlcnQiLCJwYWlyIiwiX3JlcyIsInYiLCJiaW5hcnktc2VhcmNoLXRyZWUiLDE1LCJjaGVja0tleSIsIiQkZGF0ZSIsInJhd0RhdGEiLCJzdHJpY3RLZXlzIiwiaXNQcmltaXRpdmVUeXBlIiwiY29tcGFyZU5TQiIsImNvbXBhcmVBcnJheXMiLCJjb21wIiwiYUtleXMiLCJiS2V5cyIsImNyZWF0ZU1vZGlmaWVyRnVuY3Rpb24iLCJtb2RpZmllciIsImZpZWxkIiwiZmllbGRQYXJ0cyIsImxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMiLCJtb2RpZmllckZ1bmN0aW9ucyIsIm1vZGlmaWVycyIsImZpcnN0Q2hhcnMiLCJkb2xsYXJGaXJzdENoYXJzIiwib2JqcyIsInBhcnNlSW50IiwiYXJlVGhpbmdzRXF1YWwiLCJhcmVDb21wYXJhYmxlIiwicXVlcnlLZXlzIiwicXVlcnlLZXkiLCJxdWVyeVZhbHVlIiwibWF0Y2hRdWVyeVBhcnQiLCJuZWVkQUtleSIsImxvZ2ljYWxPcGVyYXRvcnMiLCJ0cmVhdE9iakFzVmFsdWUiLCJvYmpWYWx1ZSIsImlzUmVnRXhwIiwiYXJyYXlDb21wYXJpc29uRnVuY3Rpb25zIiwiY29tcGFyaXNvbkZ1bmN0aW9ucyIsIiRyZWdleCIsIiRzZXQiLCIkdW5zZXQiLCIkcHVzaCIsIiRlYWNoIiwiJGFkZFRvU2V0IiwiYWRkVG9TZXQiLCIkcG9wIiwiJHB1bGwiLCIkaW5jIiwiJG5lIiwiJG5pbiIsIiRleGlzdHMiLCIkc2l6ZSIsIiRvciIsIiRhbmQiLCIkbm90IiwiJHdoZXJlIiwxNiwicmFuZG9tU3RyaW5nIiwiZ2V0TldBcHBGaWxlbmFtZSIsInN0b3JhZ2UiLCJlbnN1cmVEaXJlY3RvcnlFeGlzdHMiLCJhcHBOYW1lIiwicmVsYXRpdmVGaWxlbmFtZSIsImhvbWUiLCJwbGF0Zm9ybSIsImVudiIsIkxPQ0FMQVBQREFUQSIsIkFQUERBVEEiLCJIT01FIiwicGVyc2lzdENhY2hlZERhdGFiYXNlIiwidG9QZXJzaXN0IiwiY29tcGFjdERhdGFmaWxlIiwic2V0QXV0b2NvbXBhY3Rpb25JbnRlcnZhbCIsImludGVydmFsIiwibWluSW50ZXJ2YWwiLCJyZWFsSW50ZXJ2YWwiLCJzdG9wQXV0b2NvbXBhY3Rpb24iLCJhdXRvY29tcGFjdGlvbkludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJuZXdEb2NzIiwidHJlYXRSYXdEYXRhIiwiZGF0YUJ5SWQiLCJ0ZGF0YSIsImNvcnJ1cHRJdGVtcyIsImRpcm5hbWUiLCJ0cmVhdGVkRGF0YSIsIi4vc3RvcmFnZSIsMTcsIm9ubHlfb25jZSIsImNhbGxlZCIsInByZXZpb3VzX2FzeW5jIiwiX2VhY2giLCJfbWFwIiwiX3JlZHVjZSIsIl9rZXlzIiwiY29tcGxldGVkIiwiZWFjaFNlcmllcyIsImZvckVhY2hTZXJpZXMiLCJlYWNoTGltaXQiLCJfZWFjaExpbWl0IiwiZm9yRWFjaExpbWl0Iiwic3RhcnRlZCIsInJ1bm5pbmciLCJyZXBsZW5pc2giLCJkb1BhcmFsbGVsIiwiZG9QYXJhbGxlbExpbWl0IiwiZG9TZXJpZXMiLCJfYXN5bmNNYXAiLCJlYWNoZm4iLCJtYXBTZXJpZXMiLCJtYXBMaW1pdCIsIl9tYXBMaW1pdCIsInJldmVyc2VkIiwicmV2ZXJzZSIsIl9maWx0ZXIiLCJmaWx0ZXJTZXJpZXMiLCJzZWxlY3RTZXJpZXMiLCJfcmVqZWN0IiwicmVqZWN0U2VyaWVzIiwiX2RldGVjdCIsIm1haW5fY2FsbGJhY2siLCJkZXRlY3RTZXJpZXMiLCJhdXRvIiwidGFza3MiLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInVuc2hpZnQiLCJyZW1vdmVMaXN0ZW5lciIsInRhc2tDb21wbGV0ZSIsInRhc2tDYWxsYmFjayIsInNhZmVSZXN1bHRzIiwicmtleSIsInJlcXVpcmVzIiwibGlzdGVuZXIiLCJ3cmFwSXRlcmF0b3IiLCJfcGFyYWxsZWwiLCJwYXJhbGxlbCIsInBhcmFsbGVsTGltaXQiLCJzZXJpZXMiLCJtYWtlQ2FsbGJhY2siLCJfY29uY2F0IiwieSIsImNvbmNhdFNlcmllcyIsIndoaWxzdCIsImRvV2hpbHN0IiwidW50aWwiLCJkb1VudGlsIiwid29ya2VyIiwiY29uY3VycmVuY3kiLCJwb3MiLCJzYXR1cmF0ZWQiLCJ3b3JrZXJzIiwiZW1wdHkiLCJkcmFpbiIsInNoaWZ0IiwiY2FyZ28iLCJwYXlsb2FkIiwid29ya2luZyIsInRzIiwiZHMiLCJfY29uc29sZV9mbiIsInF1ZXVlcyIsIm1lbW9pemVkIiwidW5tZW1vaXplZCIsInVubWVtb2l6ZSIsImNvdW50ZXIiLCJ0aW1lc1NlcmllcyIsImZucyIsInRoYXQiLCJuZXdhcmdzIiwibmV4dGFyZ3MiLCJfYXBwbHlFYWNoIiwiZ28iLCJhcHBseUVhY2giLCJhcHBseUVhY2hTZXJpZXMiLCJmb3JldmVyIiwxOCwiZHVwIiwxOSwibm9ybWFsaXplQXJyYXkiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwieHMiLCJzcGxpdFBhdGhSZSIsInNwbGl0UGF0aCIsInJlc29sdmVkUGF0aCIsInJlc29sdmVkQWJzb2x1dGUiLCJjd2QiLCJub3JtYWxpemUiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsInN1YnN0ciIsInBhdGhzIiwicmVsYXRpdmUiLCJ0byIsInRyaW0iLCJlbmQiLCJmcm9tUGFydHMiLCJ0b1BhcnRzIiwic2FtZVBhcnRzTGVuZ3RoIiwib3V0cHV0UGFydHMiLCJzZXAiLCJkZWxpbWl0ZXIiLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLDIwLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwicnVuIiwiSXRlbSIsImZ1biIsIm5vb3AiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbnMiLCJvbiIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY2hkaXIiLCJ1bWFzayIsMjEsImZpbGwiLCJyZWFkVUludDgiLDIyLCJpbnNwZWN0Iiwib3B0cyIsImN0eCIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwic2hvd0hpZGRlbiIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsImFycmF5VG9IYXNoIiwiaGFzaCIsInJlY3Vyc2VUaW1lcyIsInJldCIsInByaW1pdGl2ZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImlzRXJyb3IiLCJmb3JtYXRFcnJvciIsImJhc2UiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsImZvcm1hdEFycmF5IiwiZm9ybWF0UHJvcGVydHkiLCJyZWR1Y2VUb1NpbmdsZVN0cmluZyIsInNpbXBsZSIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXQiLCJsaW5lIiwibnVtTGluZXNFc3QiLCJwcmV2IiwiY3VyIiwiYXIiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwicmUiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwidGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXREYXRlIiwibW9udGhzIiwiZ2V0TW9udGgiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJvYmplY3RzIiwiTnVtYmVyIiwiZGVwcmVjYXRlIiwibXNnIiwiZGVwcmVjYXRlZCIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJ0cmFjZURlcHJlY2F0aW9uIiwidHJhY2UiLCJub0RlcHJlY2F0aW9uIiwiZGVidWdFbnZpcm9uIiwiZGVidWdzIiwiZGVidWdsb2ciLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJwaWQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaW52ZXJzZSIsIndoaXRlIiwiZ3JleSIsImJsYWNrIiwiYmx1ZSIsImN5YW4iLCJncmVlbiIsIm1hZ2VudGEiLCJyZWQiLCJ5ZWxsb3ciLCJzcGVjaWFsIiwibnVtYmVyIiwiYm9vbGVhbiIsIm51bGwiLCJkYXRlIiwicmVnZXhwIiwiaXNCdWZmZXIiLCJvcmlnaW4iLCJhZGQiLCIuL3N1cHBvcnQvaXNCdWZmZXIiLDIzLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZGVmYXVsdCIsIl9pbmRleCIsIl9pbmRleDIiLCJzb25ncyIsImFydGlzdHMiLCJhbGJ1bXMiLCJhZGRfbXVzaWMiLCJhcnRpc3QiLCJzb25nIiwidHJhY2tudW0iLCJkdXJhdGlvbiIsImFsYnVtIiwiaW1hZ2UiLCJzb25nRG9jIiwiYXJ0aXN0RG9jIiwiYWxidW1Eb2MiLCJnZXRfc29uZ3MiLCJwcmludF9zb25ncyIsInByaW50X29uZV9zb25nIiwiZHJvcF9kYnMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbmVkYi9pbmRleC5qcyIsMjQsIm11c2ljU2Nyb2xsZXIiLCJhcHAiLCJhbmd1bGFyIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRpbnRlcnZhbCIsIm1haW53aW5kb3ciLCJ3aW5kb3dTdGFjayIsIm1vbWVudCIsInlvc2Nyb2xsIiwiZ29CYWNrIiwibmF2aWdhdGUiLCIkZmlsdGVyIiwiJHRpbWVvdXQiLCIkaHR0cCIsIk11c2ljU2VydmljZSIsInBsYXlpbmciLCJhY3RpdmUiLCJzaWRlQmFyIiwibGlzdFZpZXciLCJjdXJyZW50QXJ0aXN0IiwiJHdhdGNoIiwiY3VycmVudFNvbmciLCJjdXJyZW50QWxidW0iLCJjaGFuZ2VDb250ZXh0IiwiY3R4dCIsInVwZGF0ZVNjcm9sbGVyIiwiJCIsInNjcm9sbFRvIiwidXBkYXRlRGltZW5zaW9ucyIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsInNob3dBbGJ1bXMiLCJhbCIsIm5ld0FsYnVtIiwic28iLCJzaG93U29uZ3MiLCJnZXRBcnRpc3QiLCJwbGF5U29uZyIsInNvbmdsaXN0IiwicXVldWVTb25nIiwicmVmcmVzaE11c2ljIiwidGltZXIiLCJwbGF5bGlzdCIsInNjcnViYmVyIiwiZHVyIiwicm91bmQiLCJwbGF5ZXIiLCJjdXJyZW50VGltZSIsInBhdXNlZCIsInNjcnViYmVyV2lkdGgiLCJ3aWR0aCIsInNob3dGdWxsUGxheWVyIiwiYW5pbWF0ZSIsImJvdHRvbSIsInNlZWsiLCJzZWVrVG8iLCJwbGF5UGF1c2UiLCJwbGF5IiwicGF1c2UiLCJjYW5jZWwiLCJmYXN0Rm9yd2FyZCIsInJld2luZCIsInByZXZTb25nIiwiQXVkaW8iLCJnZXREdXJhdGlvbiIsImFkZEV2ZW50IiwiZ2V0Q3VycmVudFRpbWUiLCJzcmMiLCJzY3JvbGxlckhlaWdodCIsImNvbnRlbnRDb250YWluZXJOb2RlIiwic2Nyb2xsZXJXaWR0aCIsIm9uZW5kZWQiLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWNvbmRzIiwic2Nyb2xsYWJsZSIsImdldEVsZW1lbnRCeUlkIiwiRlRTY3JvbGxlciIsInNjcm9sbGJhcnMiLCJzY3JvbGxpbmdYIiwiLi9kYXRhYmFzZS5qcyJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLElBQUlLLEdBQUUsR0FBSUMsT0FBTSx1QkFBdUJOLEVBQUUsSUFBSyxNQUFNSyxHQUFFRSxLQUFLLG1CQUFtQkYsRUFBRSxHQUFJRyxHQUFFWCxFQUFFRyxJQUFJUyxXQUFZYixHQUFFSSxHQUFHLEdBQUdVLEtBQUtGLEVBQUVDLFFBQVEsU0FBU2QsR0FBRyxHQUFJRSxHQUFFRCxFQUFFSSxHQUFHLEdBQUdMLEVBQUcsT0FBT0ksR0FBRUYsRUFBRUEsRUFBRUYsSUFBSWEsRUFBRUEsRUFBRUMsUUFBUWQsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxNQUFPRCxHQUFFRyxHQUFHUyxRQUFrRCxJQUFJLEdBQTFDTCxHQUFrQixrQkFBVEQsVUFBcUJBLFFBQWdCSCxFQUFFLEVBQUVBLEVBQUVGLEVBQUVhLE9BQU9YLElBQUlELEVBQUVELEVBQUVFLEdBQUksT0FBT0QsS0FBS2EsR0FBRyxTQUFTVCxRQUFRVSxPQUFPSixTQUN2ZEksT0FBT0osUUFBUUssaUJBQW1CWCxRQUFRLGFBQzFDVSxPQUFPSixRQUFRTSxRQUFVWixRQUFRLG1CQUU5QmEsZ0JBQWdCLEVBQUVDLFlBQVksSUFBSUMsR0FBRyxTQUFTZixRQUFRVSxPQUFPSixTQWtCaEUsUUFBU00sU0FBU0ksU0FDaEJDLEtBQUtDLEtBQU8sR0FBSUMsVUFBU0gsU0FZM0IsUUFBU0csVUFBVUgsU0FDakJBLFFBQVVBLFlBRVZD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TUFBS3V1QyxTQUFTcEQsT0FFaEI2RSxTQUFVLFNBQWtCbG1DLE9BQzFCLEdBQUlxaEMsTUFBT25yQyxLQUFLd3VDLFNBQVMxa0MsTUFBUSxFQUVqQzlKLE1BQUt1dUMsU0FBU3BELE9BRWhCZ0YsU0FBVSxXQUNSLEdBQUlPLE9BQVExd0MsSUFFWkEsTUFBS2d2QyxPQUFPMkIsaUJBQWlCLGlCQUFrQixXQUM3Q0QsTUFBTXJGLFNBQVdxRixNQUFNMUIsT0FBTzNELGVBTXRDYSxJQUFJNWpDLE9BQU8sV0FBWSxXQUNyQixNQUFPLFVBQVVxRixPQUNmLEdBQUk1QixLQUFNdkssS0FBS3NGLE1BQU02RyxNQUFRLElBQU0sR0FBSyxJQUFNbk0sS0FBS3NGLE1BQU02RyxNQUFRLElBQU1uTSxLQUFLc0YsTUFBTTZHLE1BQVEsSUFDdEZpakMsUUFBVXB2QyxLQUFLc0YsTUFBTTZHLE1BQVEsSUFBTSxHQUFLLElBQU1uTSxLQUFLc0YsTUFBTTZHLE1BQVEsSUFBTW5NLEtBQUtzRixNQUFNNkcsTUFBUSxHQUM5RixPQUFPNUIsS0FBTSxJQUFNNmtDLFVBTXJCLElBQUlDLFlBQWFsNEIsU0FBU200QixlQUFlLGdCQUN6QzdFLGVBQWdCLEdBQUk4RSxZQUFXRixZQUM3QkcsWUFBWSxFQUNaQyxZQUFZLE1BUWJDLGdCQUFnQixVQUFVIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cy5CaW5hcnlTZWFyY2hUcmVlID0gcmVxdWlyZSgnLi9saWIvYnN0Jyk7XG5tb2R1bGUuZXhwb3J0cy5BVkxUcmVlID0gcmVxdWlyZSgnLi9saWIvYXZsdHJlZScpO1xuXG59LHtcIi4vbGliL2F2bHRyZWVcIjoyLFwiLi9saWIvYnN0XCI6M31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBTZWxmLWJhbGFuY2luZyBiaW5hcnkgc2VhcmNoIHRyZWUgdXNpbmcgdGhlIEFWTCBpbXBsZW1lbnRhdGlvblxuICovXG52YXIgQmluYXJ5U2VhcmNoVHJlZSA9IHJlcXVpcmUoJy4vYnN0JylcbiAgLCBjdXN0b21VdGlscyA9IHJlcXVpcmUoJy4vY3VzdG9tVXRpbHMnKVxuICAsIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpXG4gIDtcblxuXG4vKipcbiAqIENvbnN0cnVjdG9yXG4gKiBXZSBjYW4ndCB1c2UgYSBkaXJlY3QgcG9pbnRlciB0byB0aGUgcm9vdCBub2RlIChhcyBpbiB0aGUgc2ltcGxlIGJpbmFyeSBzZWFyY2ggdHJlZSlcbiAqIGFzIHRoZSByb290IHdpbGwgY2hhbmdlIGR1cmluZyB0cmVlIHJvdGF0aW9uc1xuICogQHBhcmFtIHtCb29sZWFufSAgb3B0aW9ucy51bmlxdWUgV2hldGhlciB0byBlbmZvcmNlIGEgJ3VuaXF1ZScgY29uc3RyYWludCBvbiB0aGUga2V5IG9yIG5vdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5jb21wYXJlS2V5cyBJbml0aWFsaXplIHRoaXMgQlNUJ3MgY29tcGFyZUtleXNcbiAqL1xuZnVuY3Rpb24gQVZMVHJlZSAob3B0aW9ucykge1xuICB0aGlzLnRyZWUgPSBuZXcgX0FWTFRyZWUob3B0aW9ucyk7XG59XG5cblxuLyoqXG4gKiBDb25zdHJ1Y3RvciBvZiB0aGUgaW50ZXJuYWwgQVZMVHJlZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gIG9wdGlvbnMudW5pcXVlIFdoZXRoZXIgdG8gZW5mb3JjZSBhICd1bmlxdWUnIGNvbnN0cmFpbnQgb24gdGhlIGtleSBvciBub3RcbiAqIEBwYXJhbSB7S2V5fSAgICAgIG9wdGlvbnMua2V5IEluaXRpYWxpemUgdGhpcyBCU1QncyBrZXkgd2l0aCBrZXlcbiAqIEBwYXJhbSB7VmFsdWV9ICAgIG9wdGlvbnMudmFsdWUgSW5pdGlhbGl6ZSB0aGlzIEJTVCdzIGRhdGEgd2l0aCBbdmFsdWVdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmNvbXBhcmVLZXlzIEluaXRpYWxpemUgdGhpcyBCU1QncyBjb21wYXJlS2V5c1xuICovXG5mdW5jdGlvbiBfQVZMVHJlZSAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB0aGlzLmxlZnQgPSBudWxsO1xuICB0aGlzLnJpZ2h0ID0gbnVsbDtcbiAgdGhpcy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYXJlbnQgOiBudWxsO1xuICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgdGhpcy5rZXkgPSBvcHRpb25zLmtleTsgfVxuICB0aGlzLmRhdGEgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd2YWx1ZScpID8gW29wdGlvbnMudmFsdWVdIDogW107XG4gIHRoaXMudW5pcXVlID0gb3B0aW9ucy51bmlxdWUgfHwgZmFsc2U7XG5cbiAgdGhpcy5jb21wYXJlS2V5cyA9IG9wdGlvbnMuY29tcGFyZUtleXMgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENvbXBhcmVLZXlzRnVuY3Rpb247XG4gIHRoaXMuY2hlY2tWYWx1ZUVxdWFsaXR5ID0gb3B0aW9ucy5jaGVja1ZhbHVlRXF1YWxpdHkgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENoZWNrVmFsdWVFcXVhbGl0eTtcbn1cblxuXG4vKipcbiAqIEluaGVyaXQgYmFzaWMgZnVuY3Rpb25zIGZyb20gdGhlIGJhc2ljIGJpbmFyeSBzZWFyY2ggdHJlZVxuICovXG51dGlsLmluaGVyaXRzKF9BVkxUcmVlLCBCaW5hcnlTZWFyY2hUcmVlKTtcblxuLyoqXG4gKiBLZWVwIGEgcG9pbnRlciB0byB0aGUgaW50ZXJuYWwgdHJlZSBjb25zdHJ1Y3RvciBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuICovXG5BVkxUcmVlLl9BVkxUcmVlID0gX0FWTFRyZWU7XG5cblxuLyoqXG4gKiBDaGVjayB0aGUgcmVjb3JkZWQgaGVpZ2h0IGlzIGNvcnJlY3QgZm9yIGV2ZXJ5IG5vZGVcbiAqIFRocm93cyBpZiBvbmUgaGVpZ2h0IGRvZXNuJ3QgbWF0Y2hcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLmNoZWNrSGVpZ2h0Q29ycmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxlZnRILCByaWdodEg7XG5cbiAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdrZXknKSkgeyByZXR1cm47IH0gICAvLyBFbXB0eSB0cmVlXG5cbiAgaWYgKHRoaXMubGVmdCAmJiB0aGlzLmxlZnQuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHsgdGhyb3cgXCJVbmRlZmluZWQgaGVpZ2h0IGZvciBub2RlIFwiICsgdGhpcy5sZWZ0LmtleTsgfVxuICBpZiAodGhpcy5yaWdodCAmJiB0aGlzLnJpZ2h0LmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7IHRocm93IFwiVW5kZWZpbmVkIGhlaWdodCBmb3Igbm9kZSBcIiArIHRoaXMucmlnaHQua2V5OyB9XG4gIGlmICh0aGlzLmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7IHRocm93IFwiVW5kZWZpbmVkIGhlaWdodCBmb3Igbm9kZSBcIiArIHRoaXMua2V5OyB9XG5cbiAgbGVmdEggPSB0aGlzLmxlZnQgPyB0aGlzLmxlZnQuaGVpZ2h0IDogMDtcbiAgcmlnaHRIID0gdGhpcy5yaWdodCA/IHRoaXMucmlnaHQuaGVpZ2h0IDogMDtcblxuICBpZiAodGhpcy5oZWlnaHQgIT09IDEgKyBNYXRoLm1heChsZWZ0SCwgcmlnaHRIKSkgeyB0aHJvdyBcIkhlaWdodCBjb25zdHJhaW50IGZhaWxlZCBmb3Igbm9kZSBcIiArIHRoaXMua2V5OyB9XG4gIGlmICh0aGlzLmxlZnQpIHsgdGhpcy5sZWZ0LmNoZWNrSGVpZ2h0Q29ycmVjdCgpOyB9XG4gIGlmICh0aGlzLnJpZ2h0KSB7IHRoaXMucmlnaHQuY2hlY2tIZWlnaHRDb3JyZWN0KCk7IH1cbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGJhbGFuY2UgZmFjdG9yXG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5iYWxhbmNlRmFjdG9yID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGVmdEggPSB0aGlzLmxlZnQgPyB0aGlzLmxlZnQuaGVpZ2h0IDogMFxuICAgICwgcmlnaHRIID0gdGhpcy5yaWdodCA/IHRoaXMucmlnaHQuaGVpZ2h0IDogMFxuICAgIDtcbiAgcmV0dXJuIGxlZnRIIC0gcmlnaHRIO1xufTtcblxuXG4vKipcbiAqIENoZWNrIHRoYXQgdGhlIGJhbGFuY2UgZmFjdG9ycyBhcmUgYWxsIGJldHdlZW4gLTEgYW5kIDFcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLmNoZWNrQmFsYW5jZUZhY3RvcnMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChNYXRoLmFicyh0aGlzLmJhbGFuY2VGYWN0b3IoKSkgPiAxKSB7IHRocm93ICdUcmVlIGlzIHVuYmFsYW5jZWQgYXQgbm9kZSAnICsgdGhpcy5rZXk7IH1cblxuICBpZiAodGhpcy5sZWZ0KSB7IHRoaXMubGVmdC5jaGVja0JhbGFuY2VGYWN0b3JzKCk7IH1cbiAgaWYgKHRoaXMucmlnaHQpIHsgdGhpcy5yaWdodC5jaGVja0JhbGFuY2VGYWN0b3JzKCk7IH1cbn07XG5cblxuLyoqXG4gKiBXaGVuIGNoZWNraW5nIGlmIHRoZSBCU1QgY29uZGl0aW9ucyBhcmUgbWV0LCBhbHNvIGNoZWNrIHRoYXQgdGhlIGhlaWdodHMgYXJlIGNvcnJlY3RcbiAqIGFuZCB0aGUgdHJlZSBpcyBiYWxhbmNlZFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUuY2hlY2tJc0FWTFQgPSBmdW5jdGlvbiAoKSB7XG4gIF9BVkxUcmVlLnN1cGVyXy5wcm90b3R5cGUuY2hlY2tJc0JTVC5jYWxsKHRoaXMpO1xuICB0aGlzLmNoZWNrSGVpZ2h0Q29ycmVjdCgpO1xuICB0aGlzLmNoZWNrQmFsYW5jZUZhY3RvcnMoKTtcbn07XG5BVkxUcmVlLnByb3RvdHlwZS5jaGVja0lzQVZMVCA9IGZ1bmN0aW9uICgpIHsgdGhpcy50cmVlLmNoZWNrSXNBVkxUKCk7IH07XG5cblxuLyoqXG4gKiBQZXJmb3JtIGEgcmlnaHQgcm90YXRpb24gb2YgdGhlIHRyZWUgaWYgcG9zc2libGVcbiAqIGFuZCByZXR1cm4gdGhlIHJvb3Qgb2YgdGhlIHJlc3VsdGluZyB0cmVlXG4gKiBUaGUgcmVzdWx0aW5nIHRyZWUncyBub2RlcycgaGVpZ2h0cyBhcmUgYWxzbyB1cGRhdGVkXG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5yaWdodFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcSA9IHRoaXNcbiAgICAsIHAgPSB0aGlzLmxlZnRcbiAgICAsIGJcbiAgICAsIGFoLCBiaCwgY2g7XG5cbiAgaWYgKCFwKSB7IHJldHVybiB0aGlzOyB9ICAgLy8gTm8gY2hhbmdlXG5cbiAgYiA9IHAucmlnaHQ7XG5cbiAgLy8gQWx0ZXIgdHJlZSBzdHJ1Y3R1cmVcbiAgaWYgKHEucGFyZW50KSB7XG4gICAgcC5wYXJlbnQgPSBxLnBhcmVudDtcbiAgICBpZiAocS5wYXJlbnQubGVmdCA9PT0gcSkgeyBxLnBhcmVudC5sZWZ0ID0gcDsgfSBlbHNlIHsgcS5wYXJlbnQucmlnaHQgPSBwOyB9XG4gIH0gZWxzZSB7XG4gICAgcC5wYXJlbnQgPSBudWxsO1xuICB9XG4gIHAucmlnaHQgPSBxO1xuICBxLnBhcmVudCA9IHA7XG4gIHEubGVmdCA9IGI7XG4gIGlmIChiKSB7IGIucGFyZW50ID0gcTsgfVxuXG4gIC8vIFVwZGF0ZSBoZWlnaHRzXG4gIGFoID0gcC5sZWZ0ID8gcC5sZWZ0LmhlaWdodCA6IDA7XG4gIGJoID0gYiA/IGIuaGVpZ2h0IDogMDtcbiAgY2ggPSBxLnJpZ2h0ID8gcS5yaWdodC5oZWlnaHQgOiAwO1xuICBxLmhlaWdodCA9IE1hdGgubWF4KGJoLCBjaCkgKyAxO1xuICBwLmhlaWdodCA9IE1hdGgubWF4KGFoLCBxLmhlaWdodCkgKyAxO1xuXG4gIHJldHVybiBwO1xufTtcblxuXG4vKipcbiAqIFBlcmZvcm0gYSBsZWZ0IHJvdGF0aW9uIG9mIHRoZSB0cmVlIGlmIHBvc3NpYmxlXG4gKiBhbmQgcmV0dXJuIHRoZSByb290IG9mIHRoZSByZXN1bHRpbmcgdHJlZVxuICogVGhlIHJlc3VsdGluZyB0cmVlJ3Mgbm9kZXMnIGhlaWdodHMgYXJlIGFsc28gdXBkYXRlZFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUubGVmdFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcCA9IHRoaXNcbiAgICAsIHEgPSB0aGlzLnJpZ2h0XG4gICAgLCBiXG4gICAgLCBhaCwgYmgsIGNoO1xuXG4gIGlmICghcSkgeyByZXR1cm4gdGhpczsgfSAgIC8vIE5vIGNoYW5nZVxuXG4gIGIgPSBxLmxlZnQ7XG5cbiAgLy8gQWx0ZXIgdHJlZSBzdHJ1Y3R1cmVcbiAgaWYgKHAucGFyZW50KSB7XG4gICAgcS5wYXJlbnQgPSBwLnBhcmVudDtcbiAgICBpZiAocC5wYXJlbnQubGVmdCA9PT0gcCkgeyBwLnBhcmVudC5sZWZ0ID0gcTsgfSBlbHNlIHsgcC5wYXJlbnQucmlnaHQgPSBxOyB9XG4gIH0gZWxzZSB7XG4gICAgcS5wYXJlbnQgPSBudWxsO1xuICB9XG4gIHEubGVmdCA9IHA7XG4gIHAucGFyZW50ID0gcTtcbiAgcC5yaWdodCA9IGI7XG4gIGlmIChiKSB7IGIucGFyZW50ID0gcDsgfVxuXG4gIC8vIFVwZGF0ZSBoZWlnaHRzXG4gIGFoID0gcC5sZWZ0ID8gcC5sZWZ0LmhlaWdodCA6IDA7XG4gIGJoID0gYiA/IGIuaGVpZ2h0IDogMDtcbiAgY2ggPSBxLnJpZ2h0ID8gcS5yaWdodC5oZWlnaHQgOiAwO1xuICBwLmhlaWdodCA9IE1hdGgubWF4KGFoLCBiaCkgKyAxO1xuICBxLmhlaWdodCA9IE1hdGgubWF4KGNoLCBwLmhlaWdodCkgKyAxO1xuXG4gIHJldHVybiBxO1xufTtcblxuXG4vKipcbiAqIE1vZGlmeSB0aGUgdHJlZSBpZiBpdHMgcmlnaHQgc3VidHJlZSBpcyB0b28gc21hbGwgY29tcGFyZWQgdG8gdGhlIGxlZnRcbiAqIFJldHVybiB0aGUgbmV3IHJvb3QgaWYgYW55XG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5yaWdodFRvb1NtYWxsID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5iYWxhbmNlRmFjdG9yKCkgPD0gMSkgeyByZXR1cm4gdGhpczsgfSAgIC8vIFJpZ2h0IGlzIG5vdCB0b28gc21hbGwsIGRvbid0IGNoYW5nZVxuXG4gIGlmICh0aGlzLmxlZnQuYmFsYW5jZUZhY3RvcigpIDwgMCkge1xuICAgIHRoaXMubGVmdC5sZWZ0Um90YXRpb24oKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnJpZ2h0Um90YXRpb24oKTtcbn07XG5cblxuLyoqXG4gKiBNb2RpZnkgdGhlIHRyZWUgaWYgaXRzIGxlZnQgc3VidHJlZSBpcyB0b28gc21hbGwgY29tcGFyZWQgdG8gdGhlIHJpZ2h0XG4gKiBSZXR1cm4gdGhlIG5ldyByb290IGlmIGFueVxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUubGVmdFRvb1NtYWxsID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5iYWxhbmNlRmFjdG9yKCkgPj0gLTEpIHsgcmV0dXJuIHRoaXM7IH0gICAvLyBMZWZ0IGlzIG5vdCB0b28gc21hbGwsIGRvbid0IGNoYW5nZVxuXG4gIGlmICh0aGlzLnJpZ2h0LmJhbGFuY2VGYWN0b3IoKSA+IDApIHtcbiAgICB0aGlzLnJpZ2h0LnJpZ2h0Um90YXRpb24oKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmxlZnRSb3RhdGlvbigpO1xufTtcblxuXG4vKipcbiAqIFJlYmFsYW5jZSB0aGUgdHJlZSBhbG9uZyB0aGUgZ2l2ZW4gcGF0aC4gVGhlIHBhdGggaXMgZ2l2ZW4gcmV2ZXJzZWQgKGFzIGhlIHdhcyBjYWxjdWxhdGVkXG4gKiBpbiB0aGUgaW5zZXJ0IGFuZCBkZWxldGUgZnVuY3Rpb25zKS5cbiAqIFJldHVybnMgdGhlIG5ldyByb290IG9mIHRoZSB0cmVlXG4gKiBPZiBjb3Vyc2UsIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBwYXRoIG11c3QgYmUgdGhlIHJvb3Qgb2YgdGhlIHRyZWVcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLnJlYmFsYW5jZUFsb25nUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gIHZhciBuZXdSb290ID0gdGhpc1xuICAgICwgcm90YXRlZFxuICAgICwgaTtcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IGRlbGV0ZSB0aGlzLmhlaWdodDsgcmV0dXJuIHRoaXM7IH0gICAvLyBFbXB0eSB0cmVlXG5cbiAgLy8gUmViYWxhbmNlIHRoZSB0cmVlIGFuZCB1cGRhdGUgYWxsIGhlaWdodHNcbiAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgIHBhdGhbaV0uaGVpZ2h0ID0gMSArIE1hdGgubWF4KHBhdGhbaV0ubGVmdCA/IHBhdGhbaV0ubGVmdC5oZWlnaHQgOiAwLCBwYXRoW2ldLnJpZ2h0ID8gcGF0aFtpXS5yaWdodC5oZWlnaHQgOiAwKTtcblxuICAgIGlmIChwYXRoW2ldLmJhbGFuY2VGYWN0b3IoKSA+IDEpIHtcbiAgICAgIHJvdGF0ZWQgPSBwYXRoW2ldLnJpZ2h0VG9vU21hbGwoKTtcbiAgICAgIGlmIChpID09PSAwKSB7IG5ld1Jvb3QgPSByb3RhdGVkOyB9XG4gICAgfVxuXG4gICAgaWYgKHBhdGhbaV0uYmFsYW5jZUZhY3RvcigpIDwgLTEpIHtcbiAgICAgIHJvdGF0ZWQgPSBwYXRoW2ldLmxlZnRUb29TbWFsbCgpO1xuICAgICAgaWYgKGkgPT09IDApIHsgbmV3Um9vdCA9IHJvdGF0ZWQ7IH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3Um9vdDtcbn07XG5cblxuLyoqXG4gKiBJbnNlcnQgYSBrZXksIHZhbHVlIHBhaXIgaW4gdGhlIHRyZWUgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIEFWTCB0cmVlIGhlaWdodCBjb25zdHJhaW50XG4gKiBSZXR1cm4gYSBwb2ludGVyIHRvIHRoZSByb290IG5vZGUsIHdoaWNoIG1heSBoYXZlIGNoYW5nZWRcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBpbnNlcnRQYXRoID0gW11cbiAgICAsIGN1cnJlbnROb2RlID0gdGhpc1xuICAgIDtcblxuICAvLyBFbXB0eSB0cmVlLCBpbnNlcnQgYXMgcm9vdFxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIHRoaXMuaGVpZ2h0ID0gMTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEluc2VydCBuZXcgbGVhZiBhdCB0aGUgcmlnaHQgcGxhY2VcbiAgd2hpbGUgKHRydWUpIHtcbiAgICAvLyBTYW1lIGtleTogbm8gY2hhbmdlIGluIHRoZSB0cmVlIHN0cnVjdHVyZVxuICAgIGlmIChjdXJyZW50Tm9kZS5jb21wYXJlS2V5cyhjdXJyZW50Tm9kZS5rZXksIGtleSkgPT09IDApIHtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS51bmlxdWUpIHtcbiAgICAgICAgdGhyb3cgeyBtZXNzYWdlOiBcIkNhbid0IGluc2VydCBrZXkgXCIgKyBrZXkgKyBcIiwgaXQgdmlvbGF0ZXMgdGhlIHVuaXF1ZSBjb25zdHJhaW50XCJcbiAgICAgICAgICAgICAgLCBrZXk6IGtleVxuICAgICAgICAgICAgICAsIGVycm9yVHlwZTogJ3VuaXF1ZVZpb2xhdGVkJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudE5vZGUuZGF0YS5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGluc2VydFBhdGgucHVzaChjdXJyZW50Tm9kZSk7XG5cbiAgICBpZiAoY3VycmVudE5vZGUuY29tcGFyZUtleXMoa2V5LCBjdXJyZW50Tm9kZS5rZXkpIDwgMCkge1xuICAgICAgaWYgKCFjdXJyZW50Tm9kZS5sZWZ0KSB7XG4gICAgICAgIGluc2VydFBhdGgucHVzaChjdXJyZW50Tm9kZS5jcmVhdGVMZWZ0Q2hpbGQoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLmxlZnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghY3VycmVudE5vZGUucmlnaHQpIHtcbiAgICAgICAgaW5zZXJ0UGF0aC5wdXNoKGN1cnJlbnROb2RlLmNyZWF0ZVJpZ2h0Q2hpbGQoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnJpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLnJlYmFsYW5jZUFsb25nUGF0aChpbnNlcnRQYXRoKTtcbn07XG5cbi8vIEluc2VydCBpbiB0aGUgaW50ZXJuYWwgdHJlZSwgdXBkYXRlIHRoZSBwb2ludGVyIHRvIHRoZSByb290IGlmIG5lZWRlZFxuQVZMVHJlZS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG5ld1RyZWUgPSB0aGlzLnRyZWUuaW5zZXJ0KGtleSwgdmFsdWUpO1xuXG4gIC8vIElmIG5ld1RyZWUgaXMgdW5kZWZpbmVkLCB0aGF0IG1lYW5zIGl0cyBzdHJ1Y3R1cmUgd2FzIG5vdCBtb2RpZmllZFxuICBpZiAobmV3VHJlZSkgeyB0aGlzLnRyZWUgPSBuZXdUcmVlOyB9XG59O1xuXG5cbi8qKlxuICogRGVsZXRlIGEga2V5IG9yIGp1c3QgYSB2YWx1ZSBhbmQgcmV0dXJuIHRoZSBuZXcgcm9vdCBvZiB0aGUgdHJlZVxuICogQHBhcmFtIHtLZXl9IGtleVxuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWUgT3B0aW9uYWwuIElmIG5vdCBzZXQsIHRoZSB3aG9sZSBrZXkgaXMgZGVsZXRlZC4gSWYgc2V0LCBvbmx5IHRoaXMgdmFsdWUgaXMgZGVsZXRlZFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG5ld0RhdGEgPSBbXSwgcmVwbGFjZVdpdGhcbiAgICAsIHNlbGYgPSB0aGlzXG4gICAgLCBjdXJyZW50Tm9kZSA9IHRoaXNcbiAgICAsIGRlbGV0ZVBhdGggPSBbXVxuICAgIDtcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybiB0aGlzOyB9ICAgLy8gRW1wdHkgdHJlZVxuXG4gIC8vIEVpdGhlciBubyBtYXRjaCBpcyBmb3VuZCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGZyb20gd2l0aGluIHRoZSBsb29wXG4gIC8vIE9yIGEgbWF0Y2ggaXMgZm91bmQgYW5kIGRlbGV0ZVBhdGggd2lsbCBjb250YWluIHRoZSBwYXRoIGZyb20gdGhlIHJvb3QgdG8gdGhlIG5vZGUgdG8gZGVsZXRlIGFmdGVyIHRoZSBsb29wXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGN1cnJlbnROb2RlLmNvbXBhcmVLZXlzKGtleSwgY3VycmVudE5vZGUua2V5KSA9PT0gMCkgeyBicmVhazsgfVxuXG4gICAgZGVsZXRlUGF0aC5wdXNoKGN1cnJlbnROb2RlKTtcblxuICAgIGlmIChjdXJyZW50Tm9kZS5jb21wYXJlS2V5cyhrZXksIGN1cnJlbnROb2RlLmtleSkgPCAwKSB7XG4gICAgICBpZiAoY3VycmVudE5vZGUubGVmdCkge1xuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLmxlZnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpczsgICAvLyBLZXkgbm90IGZvdW5kLCBubyBtb2RpZmljYXRpb25cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY3VycmVudE5vZGUuY29tcGFyZUtleXMoa2V5LCBjdXJyZW50Tm9kZS5rZXkpIGlzID4gMFxuICAgICAgaWYgKGN1cnJlbnROb2RlLnJpZ2h0KSB7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucmlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpczsgICAvLyBLZXkgbm90IGZvdW5kLCBubyBtb2RpZmljYXRpb25cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZWxldGUgb25seSBhIHZhbHVlIChubyB0cmVlIG1vZGlmaWNhdGlvbilcbiAgaWYgKGN1cnJlbnROb2RlLmRhdGEubGVuZ3RoID4gMSAmJiB2YWx1ZSkge1xuICAgIGN1cnJlbnROb2RlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKCFjdXJyZW50Tm9kZS5jaGVja1ZhbHVlRXF1YWxpdHkoZCwgdmFsdWUpKSB7IG5ld0RhdGEucHVzaChkKTsgfVxuICAgIH0pO1xuICAgIGN1cnJlbnROb2RlLmRhdGEgPSBuZXdEYXRhO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gRGVsZXRlIGEgd2hvbGUgbm9kZVxuXG4gIC8vIExlYWZcbiAgaWYgKCFjdXJyZW50Tm9kZS5sZWZ0ICYmICFjdXJyZW50Tm9kZS5yaWdodCkge1xuICAgIGlmIChjdXJyZW50Tm9kZSA9PT0gdGhpcykgeyAgIC8vIFRoaXMgbGVhZiBpcyBhbHNvIHRoZSByb290XG4gICAgICBkZWxldGUgY3VycmVudE5vZGUua2V5O1xuICAgICAgY3VycmVudE5vZGUuZGF0YSA9IFtdO1xuICAgICAgZGVsZXRlIGN1cnJlbnROb2RlLmhlaWdodDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY3VycmVudE5vZGUucGFyZW50LmxlZnQgPT09IGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5sZWZ0ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5yaWdodCA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZWJhbGFuY2VBbG9uZ1BhdGgoZGVsZXRlUGF0aCk7XG4gICAgfVxuICB9XG5cblxuICAvLyBOb2RlIHdpdGggb25seSBvbmUgY2hpbGRcbiAgaWYgKCFjdXJyZW50Tm9kZS5sZWZ0IHx8ICFjdXJyZW50Tm9kZS5yaWdodCkge1xuICAgIHJlcGxhY2VXaXRoID0gY3VycmVudE5vZGUubGVmdCA/IGN1cnJlbnROb2RlLmxlZnQgOiBjdXJyZW50Tm9kZS5yaWdodDtcblxuICAgIGlmIChjdXJyZW50Tm9kZSA9PT0gdGhpcykgeyAgIC8vIFRoaXMgbm9kZSBpcyBhbHNvIHRoZSByb290XG4gICAgICByZXBsYWNlV2l0aC5wYXJlbnQgPSBudWxsO1xuICAgICAgcmV0dXJuIHJlcGxhY2VXaXRoOyAgIC8vIGhlaWdodCBvZiByZXBsYWNlV2l0aCBpcyBuZWNlc3NhcmlseSAxIGJlY2F1c2UgdGhlIHRyZWUgd2FzIGJhbGFuY2VkIGJlZm9yZSBkZWxldGlvblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY3VycmVudE5vZGUucGFyZW50LmxlZnQgPT09IGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5sZWZ0ID0gcmVwbGFjZVdpdGg7XG4gICAgICAgIHJlcGxhY2VXaXRoLnBhcmVudCA9IGN1cnJlbnROb2RlLnBhcmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5yaWdodCA9IHJlcGxhY2VXaXRoO1xuICAgICAgICByZXBsYWNlV2l0aC5wYXJlbnQgPSBjdXJyZW50Tm9kZS5wYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlYmFsYW5jZUFsb25nUGF0aChkZWxldGVQYXRoKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIE5vZGUgd2l0aCB0d28gY2hpbGRyZW5cbiAgLy8gVXNlIHRoZSBpbi1vcmRlciBwcmVkZWNlc3NvciAobm8gbmVlZCB0byByYW5kb21pemUgc2luY2Ugd2UgYWN0aXZlbHkgcmViYWxhbmNlKVxuICBkZWxldGVQYXRoLnB1c2goY3VycmVudE5vZGUpO1xuICByZXBsYWNlV2l0aCA9IGN1cnJlbnROb2RlLmxlZnQ7XG5cbiAgLy8gU3BlY2lhbCBjYXNlOiB0aGUgaW4tb3JkZXIgcHJlZGVjZXNzb3IgaXMgcmlnaHQgYmVsb3cgdGhlIG5vZGUgdG8gZGVsZXRlXG4gIGlmICghcmVwbGFjZVdpdGgucmlnaHQpIHtcbiAgICBjdXJyZW50Tm9kZS5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gICAgY3VycmVudE5vZGUuZGF0YSA9IHJlcGxhY2VXaXRoLmRhdGE7XG4gICAgY3VycmVudE5vZGUubGVmdCA9IHJlcGxhY2VXaXRoLmxlZnQ7XG4gICAgaWYgKHJlcGxhY2VXaXRoLmxlZnQpIHsgcmVwbGFjZVdpdGgubGVmdC5wYXJlbnQgPSBjdXJyZW50Tm9kZTsgfVxuICAgIHJldHVybiB0aGlzLnJlYmFsYW5jZUFsb25nUGF0aChkZWxldGVQYXRoKTtcbiAgfVxuXG4gIC8vIEFmdGVyIHRoaXMgbG9vcCwgcmVwbGFjZVdpdGggaXMgdGhlIHJpZ2h0LW1vc3QgbGVhZiBpbiB0aGUgbGVmdCBzdWJ0cmVlXG4gIC8vIGFuZCBkZWxldGVQYXRoIHRoZSBwYXRoIGZyb20gdGhlIHJvb3QgKGluY2x1c2l2ZSkgdG8gcmVwbGFjZVdpdGggKGV4Y2x1c2l2ZSlcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAocmVwbGFjZVdpdGgucmlnaHQpIHtcbiAgICAgIGRlbGV0ZVBhdGgucHVzaChyZXBsYWNlV2l0aCk7XG4gICAgICByZXBsYWNlV2l0aCA9IHJlcGxhY2VXaXRoLnJpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBjdXJyZW50Tm9kZS5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gIGN1cnJlbnROb2RlLmRhdGEgPSByZXBsYWNlV2l0aC5kYXRhO1xuXG4gIHJlcGxhY2VXaXRoLnBhcmVudC5yaWdodCA9IHJlcGxhY2VXaXRoLmxlZnQ7XG4gIGlmIChyZXBsYWNlV2l0aC5sZWZ0KSB7IHJlcGxhY2VXaXRoLmxlZnQucGFyZW50ID0gcmVwbGFjZVdpdGgucGFyZW50OyB9XG5cbiAgcmV0dXJuIHRoaXMucmViYWxhbmNlQWxvbmdQYXRoKGRlbGV0ZVBhdGgpO1xufTtcblxuLy8gRGVsZXRlIGEgdmFsdWVcbkFWTFRyZWUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBuZXdUcmVlID0gdGhpcy50cmVlLmRlbGV0ZShrZXksIHZhbHVlKTtcblxuICAvLyBJZiBuZXdUcmVlIGlzIHVuZGVmaW5lZCwgdGhhdCBtZWFucyBpdHMgc3RydWN0dXJlIHdhcyBub3QgbW9kaWZpZWRcbiAgaWYgKG5ld1RyZWUpIHsgdGhpcy50cmVlID0gbmV3VHJlZTsgfVxufTtcblxuXG4vKipcbiAqIE90aGVyIGZ1bmN0aW9ucyB3ZSB3YW50IHRvIHVzZSBvbiBhbiBBVkxUcmVlIGFzIGlmIGl0IHdlcmUgdGhlIGludGVybmFsIF9BVkxUcmVlXG4gKi9cblsnZ2V0TnVtYmVyT2ZLZXlzJywgJ3NlYXJjaCcsICdiZXR3ZWVuQm91bmRzJywgJ3ByZXR0eVByaW50JywgJ2V4ZWN1dGVPbkV2ZXJ5Tm9kZSddLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gIEFWTFRyZWUucHJvdG90eXBlW2ZuXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50cmVlW2ZuXS5hcHBseSh0aGlzLnRyZWUsIGFyZ3VtZW50cyk7XG4gIH07XG59KTtcblxuXG4vLyBJbnRlcmZhY2Vcbm1vZHVsZS5leHBvcnRzID0gQVZMVHJlZTtcblxufSx7XCIuL2JzdFwiOjMsXCIuL2N1c3RvbVV0aWxzXCI6NCxcInVuZGVyc2NvcmVcIjo1LFwidXRpbFwiOjIyfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIFNpbXBsZSBiaW5hcnkgc2VhcmNoIHRyZWVcbiAqL1xudmFyIGN1c3RvbVV0aWxzID0gcmVxdWlyZSgnLi9jdXN0b21VdGlscycpO1xuXG5cbi8qKlxuICogQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbmFsXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICBvcHRpb25zLnVuaXF1ZSBXaGV0aGVyIHRvIGVuZm9yY2UgYSAndW5pcXVlJyBjb25zdHJhaW50IG9uIHRoZSBrZXkgb3Igbm90XG4gKiBAcGFyYW0ge0tleX0gICAgICBvcHRpb25zLmtleSBJbml0aWFsaXplIHRoaXMgQlNUJ3Mga2V5IHdpdGgga2V5XG4gKiBAcGFyYW0ge1ZhbHVlfSAgICBvcHRpb25zLnZhbHVlIEluaXRpYWxpemUgdGhpcyBCU1QncyBkYXRhIHdpdGggW3ZhbHVlXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5jb21wYXJlS2V5cyBJbml0aWFsaXplIHRoaXMgQlNUJ3MgY29tcGFyZUtleXNcbiAqL1xuZnVuY3Rpb24gQmluYXJ5U2VhcmNoVHJlZSAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB0aGlzLmxlZnQgPSBudWxsO1xuICB0aGlzLnJpZ2h0ID0gbnVsbDtcbiAgdGhpcy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYXJlbnQgOiBudWxsO1xuICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgdGhpcy5rZXkgPSBvcHRpb25zLmtleTsgfVxuICB0aGlzLmRhdGEgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd2YWx1ZScpID8gW29wdGlvbnMudmFsdWVdIDogW107XG4gIHRoaXMudW5pcXVlID0gb3B0aW9ucy51bmlxdWUgfHwgZmFsc2U7XG5cbiAgdGhpcy5jb21wYXJlS2V5cyA9IG9wdGlvbnMuY29tcGFyZUtleXMgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENvbXBhcmVLZXlzRnVuY3Rpb247XG4gIHRoaXMuY2hlY2tWYWx1ZUVxdWFsaXR5ID0gb3B0aW9ucy5jaGVja1ZhbHVlRXF1YWxpdHkgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENoZWNrVmFsdWVFcXVhbGl0eTtcbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTWV0aG9kcyB1c2VkIHRvIHRlc3QgdGhlIHRyZWVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuLyoqXG4gKiBHZXQgdGhlIGRlc2NlbmRhbnQgd2l0aCBtYXgga2V5XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmdldE1heEtleURlc2NlbmRhbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgcmV0dXJuIHRoaXMucmlnaHQuZ2V0TWF4S2V5RGVzY2VuZGFudCgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5cbi8qKlxuICogR2V0IHRoZSBtYXhpbXVtIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXRNYXhLZXkgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldE1heEtleURlc2NlbmRhbnQoKS5rZXk7XG59O1xuXG5cbi8qKlxuICogR2V0IHRoZSBkZXNjZW5kYW50IHdpdGggbWluIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXRNaW5LZXlEZXNjZW5kYW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgcmV0dXJuIHRoaXMubGVmdC5nZXRNaW5LZXlEZXNjZW5kYW50KClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuXG4vKipcbiAqIEdldCB0aGUgbWluaW11bSBrZXlcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0TWluS2V5ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nZXRNaW5LZXlEZXNjZW5kYW50KCkua2V5O1xufTtcblxuXG4vKipcbiAqIENoZWNrIHRoYXQgYWxsIG5vZGVzIChpbmNsLiBsZWF2ZXMpIGZ1bGxmaWwgY29uZGl0aW9uIGdpdmVuIGJ5IGZuXG4gKiB0ZXN0IGlzIGEgZnVuY3Rpb24gcGFzc2VkIGV2ZXJ5IChrZXksIGRhdGEpIGFuZCB3aGljaCB0aHJvd3MgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNoZWNrQWxsTm9kZXNGdWxsZmlsbENvbmRpdGlvbiA9IGZ1bmN0aW9uICh0ZXN0KSB7XG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuOyB9XG5cbiAgdGVzdCh0aGlzLmtleSwgdGhpcy5kYXRhKTtcbiAgaWYgKHRoaXMubGVmdCkgeyB0aGlzLmxlZnQuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uKHRlc3QpOyB9XG4gIGlmICh0aGlzLnJpZ2h0KSB7IHRoaXMucmlnaHQuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uKHRlc3QpOyB9XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgdGhhdCB0aGUgY29yZSBCU1QgcHJvcGVydGllcyBvbiBub2RlIG9yZGVyaW5nIGFyZSB2ZXJpZmllZFxuICogVGhyb3cgaWYgdGhleSBhcmVuJ3RcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuY2hlY2tOb2RlT3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybjsgfVxuXG4gIGlmICh0aGlzLmxlZnQpIHtcbiAgICB0aGlzLmxlZnQuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoc2VsZi5jb21wYXJlS2V5cyhrLCBzZWxmLmtleSkgPj0gMCkge1xuICAgICAgICB0aHJvdyAnVHJlZSB3aXRoIHJvb3QgJyArIHNlbGYua2V5ICsgJyBpcyBub3QgYSBiaW5hcnkgc2VhcmNoIHRyZWUnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMubGVmdC5jaGVja05vZGVPcmRlcmluZygpO1xuICB9XG5cbiAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICB0aGlzLnJpZ2h0LmNoZWNrQWxsTm9kZXNGdWxsZmlsbENvbmRpdGlvbihmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKHNlbGYuY29tcGFyZUtleXMoaywgc2VsZi5rZXkpIDw9IDApIHtcbiAgICAgICAgdGhyb3cgJ1RyZWUgd2l0aCByb290ICcgKyBzZWxmLmtleSArICcgaXMgbm90IGEgYmluYXJ5IHNlYXJjaCB0cmVlJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnJpZ2h0LmNoZWNrTm9kZU9yZGVyaW5nKCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDaGVjayB0aGF0IGFsbCBwb2ludGVycyBhcmUgY29oZXJlbnQgaW4gdGhpcyB0cmVlXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNoZWNrSW50ZXJuYWxQb2ludGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMubGVmdCkge1xuICAgIGlmICh0aGlzLmxlZnQucGFyZW50ICE9PSB0aGlzKSB7IHRocm93ICdQYXJlbnQgcG9pbnRlciBicm9rZW4gZm9yIGtleSAnICsgdGhpcy5rZXk7IH1cbiAgICB0aGlzLmxlZnQuY2hlY2tJbnRlcm5hbFBvaW50ZXJzKCk7XG4gIH1cblxuICBpZiAodGhpcy5yaWdodCkge1xuICAgIGlmICh0aGlzLnJpZ2h0LnBhcmVudCAhPT0gdGhpcykgeyB0aHJvdyAnUGFyZW50IHBvaW50ZXIgYnJva2VuIGZvciBrZXkgJyArIHRoaXMua2V5OyB9XG4gICAgdGhpcy5yaWdodC5jaGVja0ludGVybmFsUG9pbnRlcnMoKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENoZWNrIHRoYXQgYSB0cmVlIGlzIGEgQlNUIGFzIGRlZmluZWQgaGVyZSAobm9kZSBvcmRlcmluZyBhbmQgcG9pbnRlciByZWZlcmVuY2VzKVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5jaGVja0lzQlNUID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNoZWNrTm9kZU9yZGVyaW5nKCk7XG4gIHRoaXMuY2hlY2tJbnRlcm5hbFBvaW50ZXJzKCk7XG4gIGlmICh0aGlzLnBhcmVudCkgeyB0aHJvdyBcIlRoZSByb290IHNob3VsZG4ndCBoYXZlIGEgcGFyZW50XCI7IH1cbn07XG5cblxuLyoqXG4gKiBHZXQgbnVtYmVyIG9mIGtleXMgaW5zZXJ0ZWRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0TnVtYmVyT2ZLZXlzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVzO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuIDA7IH1cblxuICByZXMgPSAxO1xuICBpZiAodGhpcy5sZWZ0KSB7IHJlcyArPSB0aGlzLmxlZnQuZ2V0TnVtYmVyT2ZLZXlzKCk7IH1cbiAgaWYgKHRoaXMucmlnaHQpIHsgcmVzICs9IHRoaXMucmlnaHQuZ2V0TnVtYmVyT2ZLZXlzKCk7IH1cblxuICByZXR1cm4gcmVzO1xufTtcblxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNZXRob2RzIHVzZWQgdG8gYWN0dWFsbHkgd29yayBvbiB0aGUgdHJlZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDcmVhdGUgYSBCU1Qgc2ltaWxhciAoaS5lLiBzYW1lIG9wdGlvbnMgZXhjZXB0IGZvciBrZXkgYW5kIHZhbHVlKSB0byB0aGUgY3VycmVudCBvbmVcbiAqIFVzZSB0aGUgc2FtZSBjb25zdHJ1Y3RvciAoaS5lLiBCaW5hcnlTZWFyY2hUcmVlLCBBVkxUcmVlIGV0YylcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHNlZSBjb25zdHJ1Y3RvclxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5jcmVhdGVTaW1pbGFyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMudW5pcXVlID0gdGhpcy51bmlxdWU7XG4gIG9wdGlvbnMuY29tcGFyZUtleXMgPSB0aGlzLmNvbXBhcmVLZXlzO1xuICBvcHRpb25zLmNoZWNrVmFsdWVFcXVhbGl0eSA9IHRoaXMuY2hlY2tWYWx1ZUVxdWFsaXR5O1xuXG4gIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvcHRpb25zKTtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgdGhlIGxlZnQgY2hpbGQgb2YgdGhpcyBCU1QgYW5kIHJldHVybiBpdFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5jcmVhdGVMZWZ0Q2hpbGQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgbGVmdENoaWxkID0gdGhpcy5jcmVhdGVTaW1pbGFyKG9wdGlvbnMpO1xuICBsZWZ0Q2hpbGQucGFyZW50ID0gdGhpcztcbiAgdGhpcy5sZWZ0ID0gbGVmdENoaWxkO1xuXG4gIHJldHVybiBsZWZ0Q2hpbGQ7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIHRoZSByaWdodCBjaGlsZCBvZiB0aGlzIEJTVCBhbmQgcmV0dXJuIGl0XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNyZWF0ZVJpZ2h0Q2hpbGQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgcmlnaHRDaGlsZCA9IHRoaXMuY3JlYXRlU2ltaWxhcihvcHRpb25zKTtcbiAgcmlnaHRDaGlsZC5wYXJlbnQgPSB0aGlzO1xuICB0aGlzLnJpZ2h0ID0gcmlnaHRDaGlsZDtcblxuICByZXR1cm4gcmlnaHRDaGlsZDtcbn07XG5cblxuLyoqXG4gKiBJbnNlcnQgYSBuZXcgZWxlbWVudFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAvLyBFbXB0eSB0cmVlLCBpbnNlcnQgYXMgcm9vdFxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFNhbWUga2V5IGFzIHJvb3RcbiAgaWYgKHRoaXMuY29tcGFyZUtleXModGhpcy5rZXksIGtleSkgPT09IDApIHtcbiAgICBpZiAodGhpcy51bmlxdWUpIHtcbiAgICAgIHRocm93IHsgbWVzc2FnZTogXCJDYW4ndCBpbnNlcnQga2V5IFwiICsga2V5ICsgXCIsIGl0IHZpb2xhdGVzIHRoZSB1bmlxdWUgY29uc3RyYWludFwiXG4gICAgICAgICAgICAsIGtleToga2V5XG4gICAgICAgICAgICAsIGVycm9yVHlwZTogJ3VuaXF1ZVZpb2xhdGVkJ1xuICAgICAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5jb21wYXJlS2V5cyhrZXksIHRoaXMua2V5KSA8IDApIHtcbiAgICAvLyBJbnNlcnQgaW4gbGVmdCBzdWJ0cmVlXG4gICAgaWYgKHRoaXMubGVmdCkge1xuICAgICAgdGhpcy5sZWZ0Lmluc2VydChrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVMZWZ0Q2hpbGQoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJbnNlcnQgaW4gcmlnaHQgc3VidHJlZVxuICAgIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgICB0aGlzLnJpZ2h0Lmluc2VydChrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVSaWdodENoaWxkKHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTZWFyY2ggZm9yIGFsbCBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gYSBrZXlcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKGtleSkge1xuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybiBbXTsgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKHRoaXMua2V5LCBrZXkpID09PSAwKSB7IHJldHVybiB0aGlzLmRhdGE7IH1cblxuICBpZiAodGhpcy5jb21wYXJlS2V5cyhrZXksIHRoaXMua2V5KSA8IDApIHtcbiAgICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgICByZXR1cm4gdGhpcy5sZWZ0LnNlYXJjaChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5yaWdodC5zZWFyY2goa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgdGVsbHMgd2hldGhlciBhIGdpdmVuIGtleSBtYXRjaGVzIGEgbG93ZXIgYm91bmRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0TG93ZXJCb3VuZE1hdGNoZXIgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIE5vIGxvd2VyIGJvdW5kXG4gIGlmICghcXVlcnkuaGFzT3duUHJvcGVydHkoJyRndCcpICYmICFxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGd0ZScpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gIH1cblxuICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoJyRndCcpICYmIHF1ZXJ5Lmhhc093blByb3BlcnR5KCckZ3RlJykpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlS2V5cyhxdWVyeS4kZ3RlLCBxdWVyeS4kZ3QpID09PSAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRndCkgPiAwOyB9O1xuICAgIH1cblxuICAgIGlmIChzZWxmLmNvbXBhcmVLZXlzKHF1ZXJ5LiRndGUsIHF1ZXJ5LiRndCkgPiAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRndGUpID49IDA7IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGd0KSA+IDA7IH07XG4gICAgfVxuICB9XG5cbiAgaWYgKHF1ZXJ5Lmhhc093blByb3BlcnR5KCckZ3QnKSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGd0KSA+IDA7IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kZ3RlKSA+PSAwOyB9O1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCB0ZWxscyB3aGV0aGVyIGEgZ2l2ZW4ga2V5IG1hdGNoZXMgYW4gdXBwZXIgYm91bmRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0VXBwZXJCb3VuZE1hdGNoZXIgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIE5vIGxvd2VyIGJvdW5kXG4gIGlmICghcXVlcnkuaGFzT3duUHJvcGVydHkoJyRsdCcpICYmICFxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGx0ZScpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gIH1cblxuICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoJyRsdCcpICYmIHF1ZXJ5Lmhhc093blByb3BlcnR5KCckbHRlJykpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlS2V5cyhxdWVyeS4kbHRlLCBxdWVyeS4kbHQpID09PSAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRsdCkgPCAwOyB9O1xuICAgIH1cblxuICAgIGlmIChzZWxmLmNvbXBhcmVLZXlzKHF1ZXJ5LiRsdGUsIHF1ZXJ5LiRsdCkgPCAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRsdGUpIDw9IDA7IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGx0KSA8IDA7IH07XG4gICAgfVxuICB9XG5cbiAgaWYgKHF1ZXJ5Lmhhc093blByb3BlcnR5KCckbHQnKSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGx0KSA8IDA7IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kbHRlKSA8PSAwOyB9O1xuICB9XG59O1xuXG5cbi8vIEFwcGVuZCBhbGwgZWxlbWVudHMgaW4gdG9BcHBlbmQgdG8gYXJyYXlcbmZ1bmN0aW9uIGFwcGVuZCAoYXJyYXksIHRvQXBwZW5kKSB7XG4gIHZhciBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCB0b0FwcGVuZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGFycmF5LnB1c2godG9BcHBlbmRbaV0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBHZXQgYWxsIGRhdGEgZm9yIGEga2V5IGJldHdlZW4gYm91bmRzXG4gKiBSZXR1cm4gaXQgaW4ga2V5IG9yZGVyXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnkgTW9uZ28tc3R5bGUgcXVlcnkgd2hlcmUga2V5cyBhcmUgJGx0LCAkbHRlLCAkZ3Qgb3IgJGd0ZSAob3RoZXIga2V5cyBhcmUgbm90IGNvbnNpZGVyZWQpXG4gKiBAcGFyYW0ge0Z1bmN0aW9uc30gbGJtL3VibSBtYXRjaGluZyBmdW5jdGlvbnMgY2FsY3VsYXRlZCBhdCB0aGUgZmlyc3QgcmVjdXJzaXZlIHN0ZXBcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuYmV0d2VlbkJvdW5kcyA9IGZ1bmN0aW9uIChxdWVyeSwgbGJtLCB1Ym0pIHtcbiAgdmFyIHJlcyA9IFtdO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuIFtdOyB9ICAgLy8gRW1wdHkgdHJlZVxuXG4gIGxibSA9IGxibSB8fCB0aGlzLmdldExvd2VyQm91bmRNYXRjaGVyKHF1ZXJ5KTtcbiAgdWJtID0gdWJtIHx8IHRoaXMuZ2V0VXBwZXJCb3VuZE1hdGNoZXIocXVlcnkpO1xuXG4gIGlmIChsYm0odGhpcy5rZXkpICYmIHRoaXMubGVmdCkgeyBhcHBlbmQocmVzLCB0aGlzLmxlZnQuYmV0d2VlbkJvdW5kcyhxdWVyeSwgbGJtLCB1Ym0pKTsgfVxuICBpZiAobGJtKHRoaXMua2V5KSAmJiB1Ym0odGhpcy5rZXkpKSB7IGFwcGVuZChyZXMsIHRoaXMuZGF0YSk7IH1cbiAgaWYgKHVibSh0aGlzLmtleSkgJiYgdGhpcy5yaWdodCkgeyBhcHBlbmQocmVzLCB0aGlzLnJpZ2h0LmJldHdlZW5Cb3VuZHMocXVlcnksIGxibSwgdWJtKSk7IH1cblxuICByZXR1cm4gcmVzO1xufTtcblxuXG4vKipcbiAqIERlbGV0ZSB0aGUgY3VycmVudCBub2RlIGlmIGl0IGlzIGEgbGVhZlxuICogUmV0dXJuIHRydWUgaWYgaXQgd2FzIGRlbGV0ZWRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZGVsZXRlSWZMZWFmID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5sZWZ0IHx8IHRoaXMucmlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgLy8gVGhlIGxlYWYgaXMgaXRzZWxmIGEgcm9vdFxuICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgZGVsZXRlIHRoaXMua2V5O1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHRoaXMucGFyZW50LmxlZnQgPT09IHRoaXMpIHtcbiAgICB0aGlzLnBhcmVudC5sZWZ0ID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnBhcmVudC5yaWdodCA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBEZWxldGUgdGhlIGN1cnJlbnQgbm9kZSBpZiBpdCBoYXMgb25seSBvbmUgY2hpbGRcbiAqIFJldHVybiB0cnVlIGlmIGl0IHdhcyBkZWxldGVkXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmRlbGV0ZUlmT25seU9uZUNoaWxkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY2hpbGQ7XG5cbiAgaWYgKHRoaXMubGVmdCAmJiAhdGhpcy5yaWdodCkgeyBjaGlsZCA9IHRoaXMubGVmdDsgfVxuICBpZiAoIXRoaXMubGVmdCAmJiB0aGlzLnJpZ2h0KSB7IGNoaWxkID0gdGhpcy5yaWdodDsgfVxuICBpZiAoIWNoaWxkKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIC8vIFJvb3RcbiAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgIHRoaXMua2V5ID0gY2hpbGQua2V5O1xuICAgIHRoaXMuZGF0YSA9IGNoaWxkLmRhdGE7XG5cbiAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgIGlmIChjaGlsZC5sZWZ0KSB7XG4gICAgICB0aGlzLmxlZnQgPSBjaGlsZC5sZWZ0O1xuICAgICAgY2hpbGQubGVmdC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMucmlnaHQgPSBudWxsO1xuICAgIGlmIChjaGlsZC5yaWdodCkge1xuICAgICAgdGhpcy5yaWdodCA9IGNoaWxkLnJpZ2h0O1xuICAgICAgY2hpbGQucmlnaHQucGFyZW50ID0gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0aGlzLnBhcmVudC5sZWZ0ID09PSB0aGlzKSB7XG4gICAgdGhpcy5wYXJlbnQubGVmdCA9IGNoaWxkO1xuICAgIGNoaWxkLnBhcmVudCA9IHRoaXMucGFyZW50O1xuICB9IGVsc2Uge1xuICAgIHRoaXMucGFyZW50LnJpZ2h0ID0gY2hpbGQ7XG4gICAgY2hpbGQucGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBEZWxldGUgYSBrZXkgb3IganVzdCBhIHZhbHVlXG4gKiBAcGFyYW0ge0tleX0ga2V5XG4gKiBAcGFyYW0ge1ZhbHVlfSB2YWx1ZSBPcHRpb25hbC4gSWYgbm90IHNldCwgdGhlIHdob2xlIGtleSBpcyBkZWxldGVkLiBJZiBzZXQsIG9ubHkgdGhpcyB2YWx1ZSBpcyBkZWxldGVkXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBuZXdEYXRhID0gW10sIHJlcGxhY2VXaXRoXG4gICAgLCBzZWxmID0gdGhpc1xuICAgIDtcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybjsgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpIDwgMCkge1xuICAgIGlmICh0aGlzLmxlZnQpIHsgdGhpcy5sZWZ0LmRlbGV0ZShrZXksIHZhbHVlKTsgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpID4gMCkge1xuICAgIGlmICh0aGlzLnJpZ2h0KSB7IHRoaXMucmlnaHQuZGVsZXRlKGtleSwgdmFsdWUpOyB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpID09PSAwKSB7IHJldHVybjsgfVxuXG4gIC8vIERlbGV0ZSBvbmx5IGEgdmFsdWVcbiAgaWYgKHRoaXMuZGF0YS5sZW5ndGggPiAxICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKCFzZWxmLmNoZWNrVmFsdWVFcXVhbGl0eShkLCB2YWx1ZSkpIHsgbmV3RGF0YS5wdXNoKGQpOyB9XG4gICAgfSk7XG4gICAgc2VsZi5kYXRhID0gbmV3RGF0YTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWxldGUgdGhlIHdob2xlIG5vZGVcbiAgaWYgKHRoaXMuZGVsZXRlSWZMZWFmKCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRoaXMuZGVsZXRlSWZPbmx5T25lQ2hpbGQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFdlIGFyZSBpbiB0aGUgY2FzZSB3aGVyZSB0aGUgbm9kZSB0byBkZWxldGUgaGFzIHR3byBjaGlsZHJlblxuICBpZiAoTWF0aC5yYW5kb20oKSA+PSAwLjUpIHsgICAvLyBSYW5kb21pemUgcmVwbGFjZW1lbnQgdG8gYXZvaWQgdW5iYWxhbmNpbmcgdGhlIHRyZWUgdG9vIG11Y2hcbiAgICAvLyBVc2UgdGhlIGluLW9yZGVyIHByZWRlY2Vzc29yXG4gICAgcmVwbGFjZVdpdGggPSB0aGlzLmxlZnQuZ2V0TWF4S2V5RGVzY2VuZGFudCgpO1xuXG4gICAgdGhpcy5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gICAgdGhpcy5kYXRhID0gcmVwbGFjZVdpdGguZGF0YTtcblxuICAgIGlmICh0aGlzID09PSByZXBsYWNlV2l0aC5wYXJlbnQpIHsgICAvLyBTcGVjaWFsIGNhc2VcbiAgICAgIHRoaXMubGVmdCA9IHJlcGxhY2VXaXRoLmxlZnQ7XG4gICAgICBpZiAocmVwbGFjZVdpdGgubGVmdCkgeyByZXBsYWNlV2l0aC5sZWZ0LnBhcmVudCA9IHJlcGxhY2VXaXRoLnBhcmVudDsgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlV2l0aC5wYXJlbnQucmlnaHQgPSByZXBsYWNlV2l0aC5sZWZ0O1xuICAgICAgaWYgKHJlcGxhY2VXaXRoLmxlZnQpIHsgcmVwbGFjZVdpdGgubGVmdC5wYXJlbnQgPSByZXBsYWNlV2l0aC5wYXJlbnQ7IH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBpbi1vcmRlciBzdWNjZXNzb3JcbiAgICByZXBsYWNlV2l0aCA9IHRoaXMucmlnaHQuZ2V0TWluS2V5RGVzY2VuZGFudCgpO1xuXG4gICAgdGhpcy5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gICAgdGhpcy5kYXRhID0gcmVwbGFjZVdpdGguZGF0YTtcblxuICAgIGlmICh0aGlzID09PSByZXBsYWNlV2l0aC5wYXJlbnQpIHsgICAvLyBTcGVjaWFsIGNhc2VcbiAgICAgIHRoaXMucmlnaHQgPSByZXBsYWNlV2l0aC5yaWdodDtcbiAgICAgIGlmIChyZXBsYWNlV2l0aC5yaWdodCkgeyByZXBsYWNlV2l0aC5yaWdodC5wYXJlbnQgPSByZXBsYWNlV2l0aC5wYXJlbnQ7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbGFjZVdpdGgucGFyZW50LmxlZnQgPSByZXBsYWNlV2l0aC5yaWdodDtcbiAgICAgIGlmIChyZXBsYWNlV2l0aC5yaWdodCkgeyByZXBsYWNlV2l0aC5yaWdodC5wYXJlbnQgPSByZXBsYWNlV2l0aC5wYXJlbnQ7IH1cbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBFeGVjdXRlIGEgZnVuY3Rpb24gb24gZXZlcnkgbm9kZSBvZiB0aGUgdHJlZSwgaW4ga2V5IG9yZGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBTaWduYXR1cmU6IG5vZGUuIE1vc3QgdXNlZnVsIHdpbGwgcHJvYmFibHkgYmUgbm9kZS5rZXkgYW5kIG5vZGUuZGF0YVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5leGVjdXRlT25FdmVyeU5vZGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgaWYgKHRoaXMubGVmdCkgeyB0aGlzLmxlZnQuZXhlY3V0ZU9uRXZlcnlOb2RlKGZuKTsgfVxuICBmbih0aGlzKTtcbiAgaWYgKHRoaXMucmlnaHQpIHsgdGhpcy5yaWdodC5leGVjdXRlT25FdmVyeU5vZGUoZm4pOyB9XG59O1xuXG5cbi8qKlxuICogUHJldHR5IHByaW50IGEgdHJlZVxuICogQHBhcmFtIHtCb29sZWFufSBwcmludERhdGEgVG8gcHJpbnQgdGhlIG5vZGVzJyBkYXRhIGFsb25nIHdpdGggdGhlIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5wcmV0dHlQcmludCA9IGZ1bmN0aW9uIChwcmludERhdGEsIHNwYWNpbmcpIHtcbiAgc3BhY2luZyA9IHNwYWNpbmcgfHwgXCJcIjtcblxuICBjb25zb2xlLmxvZyhzcGFjaW5nICsgXCIqIFwiICsgdGhpcy5rZXkpO1xuICBpZiAocHJpbnREYXRhKSB7IGNvbnNvbGUubG9nKHNwYWNpbmcgKyBcIiogXCIgKyB0aGlzLmRhdGEpOyB9XG5cbiAgaWYgKCF0aGlzLmxlZnQgJiYgIXRoaXMucmlnaHQpIHsgcmV0dXJuOyB9XG5cbiAgaWYgKHRoaXMubGVmdCkge1xuICAgIHRoaXMubGVmdC5wcmV0dHlQcmludChwcmludERhdGEsIHNwYWNpbmcgKyBcIiAgXCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKHNwYWNpbmcgKyBcIiAgKlwiKTtcbiAgfVxuICBpZiAodGhpcy5yaWdodCkge1xuICAgIHRoaXMucmlnaHQucHJldHR5UHJpbnQocHJpbnREYXRhLCBzcGFjaW5nICsgXCIgIFwiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhzcGFjaW5nICsgXCIgICpcIik7XG4gIH1cbn07XG5cblxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMgPSBCaW5hcnlTZWFyY2hUcmVlO1xuXG59LHtcIi4vY3VzdG9tVXRpbHNcIjo0fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIFJldHVybiBhbiBhcnJheSB3aXRoIHRoZSBudW1iZXJzIGZyb20gMCB0byBuLTEsIGluIGEgcmFuZG9tIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGdldFJhbmRvbUFycmF5IChuKSB7XG4gIHZhciByZXMsIG5leHQ7XG5cbiAgaWYgKG4gPT09IDApIHsgcmV0dXJuIFtdOyB9XG4gIGlmIChuID09PSAxKSB7IHJldHVybiBbMF07IH1cblxuICByZXMgPSBnZXRSYW5kb21BcnJheShuIC0gMSk7XG4gIG5leHQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBuKTtcbiAgcmVzLnNwbGljZShuZXh0LCAwLCBuIC0gMSk7ICAgLy8gQWRkIG4tMSBhdCBhIHJhbmRvbSBwb3NpdGlvbiBpbiB0aGUgYXJyYXlcblxuICByZXR1cm4gcmVzO1xufTtcbm1vZHVsZS5leHBvcnRzLmdldFJhbmRvbUFycmF5ID0gZ2V0UmFuZG9tQXJyYXk7XG5cblxuLypcbiAqIERlZmF1bHQgY29tcGFyZUtleXMgZnVuY3Rpb24gd2lsbCB3b3JrIGZvciBudW1iZXJzLCBzdHJpbmdzIGFuZCBkYXRlc1xuICovXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbiAoYSwgYikge1xuICBpZiAoYSA8IGIpIHsgcmV0dXJuIC0xOyB9XG4gIGlmIChhID4gYikgeyByZXR1cm4gMTsgfVxuICBpZiAoYSA9PT0gYikgeyByZXR1cm4gMDsgfVxuXG4gIHRocm93IHsgbWVzc2FnZTogXCJDb3VsZG4ndCBjb21wYXJlIGVsZW1lbnRzXCIsIGE6IGEsIGI6IGIgfTtcbn1cbm1vZHVsZS5leHBvcnRzLmRlZmF1bHRDb21wYXJlS2V5c0Z1bmN0aW9uID0gZGVmYXVsdENvbXBhcmVLZXlzRnVuY3Rpb247XG5cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHR3byB2YWx1ZXMgYXJlIGVxdWFsICh1c2VkIGluIG5vbi11bmlxdWUgZGVsZXRpb24pXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRDaGVja1ZhbHVlRXF1YWxpdHkgKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0Q2hlY2tWYWx1ZUVxdWFsaXR5ID0gZGVmYXVsdENoZWNrVmFsdWVFcXVhbGl0eTtcblxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyAgICAgVW5kZXJzY29yZS5qcyAxLjQuNFxuLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAxMyBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgSW5jLlxuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbihmdW5jdGlvbigpIHtcblxuICAvLyBCYXNlbGluZSBzZXR1cFxuICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIGluIHRoZSBicm93c2VyLCBvciBgZ2xvYmFsYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHRoaXM7XG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBFc3RhYmxpc2ggdGhlIG9iamVjdCB0aGF0IGdldHMgcmV0dXJuZWQgdG8gYnJlYWsgb3V0IG9mIGEgbG9vcCBpdGVyYXRpb24uXG4gIHZhciBicmVha2VyID0ge307XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgRnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuICB2YXIgcHVzaCAgICAgICAgICAgICA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICAgIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgICAgY29uY2F0ICAgICAgICAgICA9IEFycmF5UHJvdG8uY29uY2F0LFxuICAgICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlRm9yRWFjaCAgICAgID0gQXJyYXlQcm90by5mb3JFYWNoLFxuICAgIG5hdGl2ZU1hcCAgICAgICAgICA9IEFycmF5UHJvdG8ubWFwLFxuICAgIG5hdGl2ZVJlZHVjZSAgICAgICA9IEFycmF5UHJvdG8ucmVkdWNlLFxuICAgIG5hdGl2ZVJlZHVjZVJpZ2h0ICA9IEFycmF5UHJvdG8ucmVkdWNlUmlnaHQsXG4gICAgbmF0aXZlRmlsdGVyICAgICAgID0gQXJyYXlQcm90by5maWx0ZXIsXG4gICAgbmF0aXZlRXZlcnkgICAgICAgID0gQXJyYXlQcm90by5ldmVyeSxcbiAgICBuYXRpdmVTb21lICAgICAgICAgPSBBcnJheVByb3RvLnNvbWUsXG4gICAgbmF0aXZlSW5kZXhPZiAgICAgID0gQXJyYXlQcm90by5pbmRleE9mLFxuICAgIG5hdGl2ZUxhc3RJbmRleE9mICA9IEFycmF5UHJvdG8ubGFzdEluZGV4T2YsXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZDtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZSBvbGQgYHJlcXVpcmUoKWAgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QgdmlhIGEgc3RyaW5nIGlkZW50aWZpZXIsXG4gIC8vIGZvciBDbG9zdXJlIENvbXBpbGVyIFwiYWR2YW5jZWRcIiBtb2RlLlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjQuNCc7XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyBvYmplY3RzIHdpdGggdGhlIGJ1aWx0LWluIGBmb3JFYWNoYCwgYXJyYXlzLCBhbmQgcmF3IG9iamVjdHMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBmb3JFYWNoYCBpZiBhdmFpbGFibGUuXG4gIHZhciBlYWNoID0gXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuO1xuICAgIGlmIChuYXRpdmVGb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBuYXRpdmVGb3JFYWNoKSB7XG4gICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKSA9PT0gYnJlYWtlcikgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChfLmhhcyhvYmosIGtleSkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopID09PSBicmVha2VyKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRvciB0byBlYWNoIGVsZW1lbnQuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBtYXBgIGlmIGF2YWlsYWJsZS5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHRzO1xuICAgIGlmIChuYXRpdmVNYXAgJiYgb2JqLm1hcCA9PT0gbmF0aXZlTWFwKSByZXR1cm4gb2JqLm1hcChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzLmxlbmd0aF0gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgdmFyIHJlZHVjZUVycm9yID0gJ1JlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUnO1xuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYHJlZHVjZWAgaWYgYXZhaWxhYmxlLlxuICBfLnJlZHVjZSA9IF8uZm9sZGwgPSBfLmluamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIG1lbW8sIGNvbnRleHQpIHtcbiAgICB2YXIgaW5pdGlhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICAgIGlmIChvYmogPT0gbnVsbCkgb2JqID0gW107XG4gICAgaWYgKG5hdGl2ZVJlZHVjZSAmJiBvYmoucmVkdWNlID09PSBuYXRpdmVSZWR1Y2UpIHtcbiAgICAgIGlmIChjb250ZXh0KSBpdGVyYXRvciA9IF8uYmluZChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgICByZXR1cm4gaW5pdGlhbCA/IG9iai5yZWR1Y2UoaXRlcmF0b3IsIG1lbW8pIDogb2JqLnJlZHVjZShpdGVyYXRvcik7XG4gICAgfVxuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmICghaW5pdGlhbCkge1xuICAgICAgICBtZW1vID0gdmFsdWU7XG4gICAgICAgIGluaXRpYWwgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgdmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWluaXRpYWwpIHRocm93IG5ldyBUeXBlRXJyb3IocmVkdWNlRXJyb3IpO1xuICAgIHJldHVybiBtZW1vO1xuICB9O1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgcmVkdWNlUmlnaHRgIGlmIGF2YWlsYWJsZS5cbiAgXy5yZWR1Y2VSaWdodCA9IF8uZm9sZHIgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgICBpZiAob2JqID09IG51bGwpIG9iaiA9IFtdO1xuICAgIGlmIChuYXRpdmVSZWR1Y2VSaWdodCAmJiBvYmoucmVkdWNlUmlnaHQgPT09IG5hdGl2ZVJlZHVjZVJpZ2h0KSB7XG4gICAgICBpZiAoY29udGV4dCkgaXRlcmF0b3IgPSBfLmJpbmQoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGluaXRpYWwgPyBvYmoucmVkdWNlUmlnaHQoaXRlcmF0b3IsIG1lbW8pIDogb2JqLnJlZHVjZVJpZ2h0KGl0ZXJhdG9yKTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gK2xlbmd0aCkge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIH1cbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICBpbmRleCA9IGtleXMgPyBrZXlzWy0tbGVuZ3RoXSA6IC0tbGVuZ3RoO1xuICAgICAgaWYgKCFpbml0aWFsKSB7XG4gICAgICAgIG1lbW8gPSBvYmpbaW5kZXhdO1xuICAgICAgICBpbml0aWFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG1lbW8sIG9ialtpbmRleF0sIGluZGV4LCBsaXN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWluaXRpYWwpIHRocm93IG5ldyBUeXBlRXJyb3IocmVkdWNlRXJyb3IpO1xuICAgIHJldHVybiBtZW1vO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC4gQWxpYXNlZCBhcyBgZGV0ZWN0YC5cbiAgXy5maW5kID0gXy5kZXRlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBhbnkob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGZpbHRlcmAgaWYgYXZhaWxhYmxlLlxuICAvLyBBbGlhc2VkIGFzIGBzZWxlY3RgLlxuICBfLmZpbHRlciA9IF8uc2VsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0cztcbiAgICBpZiAobmF0aXZlRmlsdGVyICYmIG9iai5maWx0ZXIgPT09IG5hdGl2ZUZpbHRlcikgcmV0dXJuIG9iai5maWx0ZXIoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHJlc3VsdHNbcmVzdWx0cy5sZW5ndGhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgZm9yIHdoaWNoIGEgdHJ1dGggdGVzdCBmYWlscy5cbiAgXy5yZWplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXR1cm4gIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICB9LCBjb250ZXh0KTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgd2hldGhlciBhbGwgb2YgdGhlIGVsZW1lbnRzIG1hdGNoIGEgdHJ1dGggdGVzdC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGV2ZXJ5YCBpZiBhdmFpbGFibGUuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRvciB8fCAoaXRlcmF0b3IgPSBfLmlkZW50aXR5KTtcbiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKG5hdGl2ZUV2ZXJ5ICYmIG9iai5ldmVyeSA9PT0gbmF0aXZlRXZlcnkpIHJldHVybiBvYmouZXZlcnkoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmICghKHJlc3VsdCA9IHJlc3VsdCAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpKSByZXR1cm4gYnJlYWtlcjtcbiAgICB9KTtcbiAgICByZXR1cm4gISFyZXN1bHQ7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgbWF0Y2hlcyBhIHRydXRoIHRlc3QuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBzb21lYCBpZiBhdmFpbGFibGUuXG4gIC8vIEFsaWFzZWQgYXMgYGFueWAuXG4gIHZhciBhbnkgPSBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRvciB8fCAoaXRlcmF0b3IgPSBfLmlkZW50aXR5KTtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0O1xuICAgIGlmIChuYXRpdmVTb21lICYmIG9iai5zb21lID09PSBuYXRpdmVTb21lKSByZXR1cm4gb2JqLnNvbWUoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChyZXN1bHQgfHwgKHJlc3VsdCA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkpIHJldHVybiBicmVha2VyO1xuICAgIH0pO1xuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgdGhlIGFycmF5IG9yIG9iamVjdCBjb250YWlucyBhIGdpdmVuIHZhbHVlICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlID0gZnVuY3Rpb24ob2JqLCB0YXJnZXQpIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBpZiAobmF0aXZlSW5kZXhPZiAmJiBvYmouaW5kZXhPZiA9PT0gbmF0aXZlSW5kZXhPZikgcmV0dXJuIG9iai5pbmRleE9mKHRhcmdldCkgIT0gLTE7XG4gICAgcmV0dXJuIGFueShvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRhcmdldDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIChpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdKS5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgbWFwYDogZmV0Y2hpbmcgYSBwcm9wZXJ0eS5cbiAgXy5wbHVjayA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gdmFsdWVba2V5XTsgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycywgZmlyc3QpIHtcbiAgICBpZiAoXy5pc0VtcHR5KGF0dHJzKSkgcmV0dXJuIGZpcnN0ID8gbnVsbCA6IFtdO1xuICAgIHJldHVybiBfW2ZpcnN0ID8gJ2ZpbmQnIDogJ2ZpbHRlciddKG9iaiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoYXR0cnNba2V5XSAhPT0gdmFsdWVba2V5XSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmluZGA6IGdldHRpbmcgdGhlIGZpcnN0IG9iamVjdFxuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmZpbmRXaGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy53aGVyZShvYmosIGF0dHJzLCB0cnVlKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCBvciAoZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIC8vIENhbid0IG9wdGltaXplIGFycmF5cyBvZiBpbnRlZ2VycyBsb25nZXIgdGhhbiA2NSw1MzUgZWxlbWVudHMuXG4gIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTgwNzk3XG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmICghaXRlcmF0b3IgJiYgXy5pc0FycmF5KG9iaikgJiYgb2JqWzBdID09PSArb2JqWzBdICYmIG9iai5sZW5ndGggPCA2NTUzNSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsIG9iaik7XG4gICAgfVxuICAgIGlmICghaXRlcmF0b3IgJiYgXy5pc0VtcHR5KG9iaikpIHJldHVybiAtSW5maW5pdHk7XG4gICAgdmFyIHJlc3VsdCA9IHtjb21wdXRlZCA6IC1JbmZpbml0eSwgdmFsdWU6IC1JbmZpbml0eX07XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgdmFyIGNvbXB1dGVkID0gaXRlcmF0b3IgPyBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkgOiB2YWx1ZTtcbiAgICAgIGNvbXB1dGVkID49IHJlc3VsdC5jb21wdXRlZCAmJiAocmVzdWx0ID0ge3ZhbHVlIDogdmFsdWUsIGNvbXB1dGVkIDogY29tcHV0ZWR9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzQXJyYXkob2JqKSAmJiBvYmpbMF0gPT09ICtvYmpbMF0gJiYgb2JqLmxlbmd0aCA8IDY1NTM1KSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgb2JqKTtcbiAgICB9XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzRW1wdHkob2JqKSkgcmV0dXJuIEluZmluaXR5O1xuICAgIHZhciByZXN1bHQgPSB7Y29tcHV0ZWQgOiBJbmZpbml0eSwgdmFsdWU6IEluZmluaXR5fTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSBpdGVyYXRvciA/IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSA6IHZhbHVlO1xuICAgICAgY29tcHV0ZWQgPCByZXN1bHQuY29tcHV0ZWQgJiYgKHJlc3VsdCA9IHt2YWx1ZSA6IHZhbHVlLCBjb21wdXRlZCA6IGNvbXB1dGVkfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgfTtcblxuICAvLyBTaHVmZmxlIGFuIGFycmF5LlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmFuZDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzaHVmZmxlZCA9IFtdO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmFuZCA9IF8ucmFuZG9tKGluZGV4KyspO1xuICAgICAgc2h1ZmZsZWRbaW5kZXggLSAxXSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgbG9va3VwIGl0ZXJhdG9ycy5cbiAgdmFyIGxvb2t1cEl0ZXJhdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogZnVuY3Rpb24ob2JqKXsgcmV0dXJuIG9ialt2YWx1ZV07IH07XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdG9yLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBsb29rdXBJdGVyYXRvcih2YWx1ZSk7XG4gICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlIDogdmFsdWUsXG4gICAgICAgIGluZGV4IDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhIDogaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggPCByaWdodC5pbmRleCA/IC0xIDogMTtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihvYmosIHZhbHVlLCBjb250ZXh0LCBiZWhhdmlvcikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIgaXRlcmF0b3IgPSBsb29rdXBJdGVyYXRvcih2YWx1ZSB8fCBfLmlkZW50aXR5KTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgICBiZWhhdmlvcihyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZnVuY3Rpb24ob2JqLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBncm91cChvYmosIHZhbHVlLCBjb250ZXh0LCBmdW5jdGlvbihyZXN1bHQsIGtleSwgdmFsdWUpIHtcbiAgICAgIChfLmhhcyhyZXN1bHQsIGtleSkgPyByZXN1bHRba2V5XSA6IChyZXN1bHRba2V5XSA9IFtdKSkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGZ1bmN0aW9uKG9iaiwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZ3JvdXAob2JqLCB2YWx1ZSwgY29udGV4dCwgZnVuY3Rpb24ocmVzdWx0LCBrZXkpIHtcbiAgICAgIGlmICghXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XSA9IDA7XG4gICAgICByZXN1bHRba2V5XSsrO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yID09IG51bGwgPyBfLmlkZW50aXR5IDogbG9va3VwSXRlcmF0b3IoaXRlcmF0b3IpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqKTtcbiAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgYXJyYXlbbWlkXSkgPCB2YWx1ZSA/IGxvdyA9IG1pZCArIDEgOiBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIFNhZmVseSBjb252ZXJ0IGFueXRoaW5nIGl0ZXJhYmxlIGludG8gYSByZWFsLCBsaXZlIGFycmF5LlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIHJldHVybiAobiAhPSBudWxsKSAmJiAhZ3VhcmQgPyBzbGljZS5jYWxsKGFycmF5LCAwLCBuKSA6IGFycmF5WzBdO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuICAvLyB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiBhbGwgdGhlIHZhbHVlcyBpblxuICAvLyB0aGUgYXJyYXksIGV4Y2x1ZGluZyB0aGUgbGFzdCBOLiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGhcbiAgLy8gYF8ubWFwYC5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIGFycmF5Lmxlbmd0aCAtICgobiA9PSBudWxsKSB8fCBndWFyZCA/IDEgOiBuKSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGxhc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKChuICE9IG51bGwpICYmICFndWFyZCkge1xuICAgICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIE1hdGgubWF4KGFycmF5Lmxlbmd0aCAtIG4sIDApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgIGFuZCBgZHJvcGAuXG4gIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuXG4gIC8vIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZSBhcnJheS4gVGhlICoqZ3VhcmQqKlxuICAvLyBjaGVjayBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAobiA9PSBudWxsKSB8fCBndWFyZCA/IDEgOiBuKTtcbiAgfTtcblxuICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBfLmlkZW50aXR5KTtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG4gIHZhciBmbGF0dGVuID0gZnVuY3Rpb24oaW5wdXQsIHNoYWxsb3csIG91dHB1dCkge1xuICAgIGVhY2goaW5wdXQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBzaGFsbG93ID8gcHVzaC5hcHBseShvdXRwdXQsIHZhbHVlKSA6IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIG91dHB1dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb21wbGV0ZWx5IGZsYXR0ZW5lZCB2ZXJzaW9uIG9mIGFuIGFycmF5LlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBbXSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIEFsaWFzZWQgYXMgYHVuaXF1ZWAuXG4gIF8udW5pcSA9IF8udW5pcXVlID0gZnVuY3Rpb24oYXJyYXksIGlzU29ydGVkLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXNTb3J0ZWQpKSB7XG4gICAgICBjb250ZXh0ID0gaXRlcmF0b3I7XG4gICAgICBpdGVyYXRvciA9IGlzU29ydGVkO1xuICAgICAgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGluaXRpYWwgPSBpdGVyYXRvciA/IF8ubWFwKGFycmF5LCBpdGVyYXRvciwgY29udGV4dCkgOiBhcnJheTtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZWFjaChpbml0aWFsLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGlmIChpc1NvcnRlZCA/ICghaW5kZXggfHwgc2VlbltzZWVuLmxlbmd0aCAtIDFdICE9PSB2YWx1ZSkgOiAhXy5jb250YWlucyhzZWVuLCB2YWx1ZSkpIHtcbiAgICAgICAgc2Vlbi5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGFycmF5W2luZGV4XSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1bmlvbjogZWFjaCBkaXN0aW5jdCBlbGVtZW50IGZyb20gYWxsIG9mXG4gIC8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLnVuaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW5pcShjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgYXJndW1lbnRzKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKF8udW5pcShhcnJheSksIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBfLmV2ZXJ5KHJlc3QsIGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBfLmluZGV4T2Yob3RoZXIsIGl0ZW0pID49IDA7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXsgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTsgfSk7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICB2YXIgbGVuZ3RoID0gXy5tYXgoXy5wbHVjayhhcmdzLCAnbGVuZ3RoJykpO1xuICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0c1tpXSA9IF8ucGx1Y2soYXJncywgXCJcIiArIGkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0cyBsaXN0cyBpbnRvIG9iamVjdHMuIFBhc3MgZWl0aGVyIGEgc2luZ2xlIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gXG4gIC8vIHBhaXJzLCBvciB0d28gcGFyYWxsZWwgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCAtLSBvbmUgb2Yga2V5cywgYW5kIG9uZSBvZlxuICAvLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gIF8ub2JqZWN0ID0gZnVuY3Rpb24obGlzdCwgdmFsdWVzKSB7XG4gICAgaWYgKGxpc3QgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldWzBdXSA9IGxpc3RbaV1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gSWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwbHkgdXMgd2l0aCBpbmRleE9mIChJJ20gbG9va2luZyBhdCB5b3UsICoqTVNJRSoqKSxcbiAgLy8gd2UgbmVlZCB0aGlzIGZ1bmN0aW9uLiBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuXG4gIC8vIGl0ZW0gaW4gYW4gYXJyYXksIG9yIC0xIGlmIHRoZSBpdGVtIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgYXJyYXkuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBpbmRleE9mYCBpZiBhdmFpbGFibGUuXG4gIC8vIElmIHRoZSBhcnJheSBpcyBsYXJnZSBhbmQgYWxyZWFkeSBpbiBzb3J0IG9yZGVyLCBwYXNzIGB0cnVlYFxuICAvLyBmb3IgKippc1NvcnRlZCoqIHRvIHVzZSBiaW5hcnkgc2VhcmNoLlxuICBfLmluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgaXRlbSwgaXNTb3J0ZWQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIC0xO1xuICAgIHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaXNTb3J0ZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgaXNTb3J0ZWQgPT0gJ251bWJlcicpIHtcbiAgICAgICAgaSA9IChpc1NvcnRlZCA8IDAgPyBNYXRoLm1heCgwLCBsICsgaXNTb3J0ZWQpIDogaXNTb3J0ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IF8uc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaV0gPT09IGl0ZW0gPyBpIDogLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYXRpdmVJbmRleE9mICYmIGFycmF5LmluZGV4T2YgPT09IG5hdGl2ZUluZGV4T2YpIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0sIGlzU29ydGVkKTtcbiAgICBmb3IgKDsgaSA8IGw7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGxhc3RJbmRleE9mYCBpZiBhdmFpbGFibGUuXG4gIF8ubGFzdEluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgaXRlbSwgZnJvbSkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gLTE7XG4gICAgdmFyIGhhc0luZGV4ID0gZnJvbSAhPSBudWxsO1xuICAgIGlmIChuYXRpdmVMYXN0SW5kZXhPZiAmJiBhcnJheS5sYXN0SW5kZXhPZiA9PT0gbmF0aXZlTGFzdEluZGV4T2YpIHtcbiAgICAgIHJldHVybiBoYXNJbmRleCA/IGFycmF5Lmxhc3RJbmRleE9mKGl0ZW0sIGZyb20pIDogYXJyYXkubGFzdEluZGV4T2YoaXRlbSk7XG4gICAgfVxuICAgIHZhciBpID0gKGhhc0luZGV4ID8gZnJvbSA6IGFycmF5Lmxlbmd0aCk7XG4gICAgd2hpbGUgKGktLSkgaWYgKGFycmF5W2ldID09PSBpdGVtKSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IGFyZ3VtZW50c1syXSB8fCAxO1xuXG4gICAgdmFyIGxlbiA9IE1hdGgubWF4KE1hdGguY2VpbCgoc3RvcCAtIHN0YXJ0KSAvIHN0ZXApLCAwKTtcbiAgICB2YXIgaWR4ID0gMDtcbiAgICB2YXIgcmFuZ2UgPSBuZXcgQXJyYXkobGVuKTtcblxuICAgIHdoaWxlKGlkeCA8IGxlbikge1xuICAgICAgcmFuZ2VbaWR4KytdID0gc3RhcnQ7XG4gICAgICBzdGFydCArPSBzdGVwO1xuICAgIH1cblxuICAgIHJldHVybiByYW5nZTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiAoYWhlbSkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmIChmdW5jLmJpbmQgPT09IG5hdGl2ZUJpbmQgJiYgbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbiAgLy8gYXJndW1lbnRzIHByZS1maWxsZWQsIHdpdGhvdXQgY2hhbmdpbmcgaXRzIGR5bmFtaWMgYHRoaXNgIGNvbnRleHQuXG4gIF8ucGFydGlhbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEJpbmQgYWxsIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdFxuICAvLyBhbGwgY2FsbGJhY2tzIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGZ1bmNzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGlmIChmdW5jcy5sZW5ndGggPT09IDApIGZ1bmNzID0gXy5mdW5jdGlvbnMob2JqKTtcbiAgICBlYWNoKGZ1bmNzLCBmdW5jdGlvbihmKSB7IG9ialtmXSA9IF8uYmluZChvYmpbZl0sIG9iaik7IH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy5cbiAgXy5tZW1vaXplID0gZnVuY3Rpb24oZnVuYywgaGFzaGVyKSB7XG4gICAgdmFyIG1lbW8gPSB7fTtcbiAgICBoYXNoZXIgfHwgKGhhc2hlciA9IF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBrZXkgPSBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBfLmhhcyhtZW1vLCBrZXkpID8gbWVtb1trZXldIDogKG1lbW9ba2V5XSA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBEZWxheXMgYSBmdW5jdGlvbiBmb3IgdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGNhbGxzXG4gIC8vIGl0IHdpdGggdGhlIGFyZ3VtZW50cyBzdXBwbGllZC5cbiAgXy5kZWxheSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpeyByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTsgfSwgd2FpdCk7XG4gIH07XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgcmV0dXJuIF8uZGVsYXkuYXBwbHkoXywgW2Z1bmMsIDFdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHRpbWVvdXQsIHJlc3VsdDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBuZXcgRGF0ZTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIGlmICghaW1tZWRpYXRlKSByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93XG4gIC8vIG9mdGVuIHlvdSBjYWxsIGl0LiBVc2VmdWwgZm9yIGxhenkgaW5pdGlhbGl6YXRpb24uXG4gIF8ub25jZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgcmFuID0gZmFsc2UsIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHJhbikgcmV0dXJuIG1lbW87XG4gICAgICByYW4gPSB0cnVlO1xuICAgICAgbWVtbyA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbZnVuY107XG4gICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gd3JhcHBlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBhIGxpc3Qgb2YgZnVuY3Rpb25zLCBlYWNoXG4gIC8vIGNvbnN1bWluZyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG4gIF8uY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmdW5jcyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGZvciAodmFyIGkgPSBmdW5jcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhcmdzID0gW2Z1bmNzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIGFmdGVyIGJlaW5nIGNhbGxlZCBOIHRpbWVzLlxuICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICBpZiAodGltZXMgPD0gMCkgcmV0dXJuIGZ1bmMoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIE9iamVjdCBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgXG4gIF8ua2V5cyA9IG5hdGl2ZUtleXMgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiAhPT0gT2JqZWN0KG9iaikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgb2JqZWN0Jyk7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBrZXlzW2tleXMubGVuZ3RoXSA9IGtleTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIHZhbHVlcy5wdXNoKG9ialtrZXldKTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHBhaXJzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkgcGFpcnMucHVzaChba2V5LCBvYmpba2V5XV0pO1xuICAgIHJldHVybiBwYWlycztcbiAgfTtcblxuICAvLyBJbnZlcnQgdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3QuIFRoZSB2YWx1ZXMgbXVzdCBiZSBzZXJpYWxpemFibGUuXG4gIF8uaW52ZXJ0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIHJlc3VsdFtvYmpba2V5XV0gPSBrZXk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0aGUgZnVuY3Rpb24gbmFtZXMgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QuXG4gIC8vIEFsaWFzZWQgYXMgYG1ldGhvZHNgXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBmdW5jdGlvbihvYmopIHtcbiAgICBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb25seSBjb250YWluaW5nIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLnBpY2sgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgY29weSA9IHt9O1xuICAgIHZhciBrZXlzID0gY29uY2F0LmFwcGx5KEFycmF5UHJvdG8sIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgZWFjaChrZXlzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChrZXkgaW4gb2JqKSBjb3B5W2tleV0gPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29weTtcbiAgfTtcblxuICAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ub21pdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgdmFyIGtleXMgPSBjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoIV8uY29udGFpbnMoa2V5cywga2V5KSkgY29weVtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgaWYgKG9ialtwcm9wXSA9PSBudWxsKSBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIChzaGFsbG93LWNsb25lZCkgZHVwbGljYXRlIG9mIGFuIG9iamVjdC5cbiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7XG4gIH07XG5cbiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuICAvLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbiAgLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG4gIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikge1xuICAgIGludGVyY2VwdG9yKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIEhhcm1vbnkgYGVnYWxgIHByb3Bvc2FsOiBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwuXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09IDEgLyBiO1xuICAgIC8vIEEgc3RyaWN0IGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5IGJlY2F1c2UgYG51bGwgPT0gdW5kZWZpbmVkYC5cbiAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGEgPT09IGI7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gYSA9PSBTdHJpbmcoYik7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLiBBbiBgZWdhbGAgY29tcGFyaXNvbiBpcyBwZXJmb3JtZWQgZm9yXG4gICAgICAgIC8vIG90aGVyIG51bWVyaWMgdmFsdWVzLlxuICAgICAgICByZXR1cm4gYSAhPSArYSA/IGIgIT0gK2IgOiAoYSA9PSAwID8gMSAvIGEgPT0gMSAvIGIgOiBhID09ICtiKTtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PSArYjtcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIHNvdXJjZSBwYXR0ZXJucyBhbmQgZmxhZ3MuXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgICByZXR1cm4gYS5zb3VyY2UgPT0gYi5zb3VyY2UgJiZcbiAgICAgICAgICAgICAgIGEuZ2xvYmFsID09IGIuZ2xvYmFsICYmXG4gICAgICAgICAgICAgICBhLm11bHRpbGluZSA9PSBiLm11bHRpbGluZSAmJlxuICAgICAgICAgICAgICAgYS5pZ25vcmVDYXNlID09IGIuaWdub3JlQ2FzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gQXNzdW1lIGVxdWFsaXR5IGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpY1xuICAgIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuICAgIHZhciBsZW5ndGggPSBhU3RhY2subGVuZ3RoO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgLy8gTGluZWFyIHNlYXJjaC4gUGVyZm9ybWFuY2UgaXMgaW52ZXJzZWx5IHByb3BvcnRpb25hbCB0byB0aGUgbnVtYmVyIG9mXG4gICAgICAvLyB1bmlxdWUgbmVzdGVkIHN0cnVjdHVyZXMuXG4gICAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09IGI7XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcbiAgICB2YXIgc2l6ZSA9IDAsIHJlc3VsdCA9IHRydWU7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGNsYXNzTmFtZSA9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICAgIHNpemUgPSBhLmxlbmd0aDtcbiAgICAgIHJlc3VsdCA9IHNpemUgPT0gYi5sZW5ndGg7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIC8vIERlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMuXG4gICAgICAgIHdoaWxlIChzaXplLS0pIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBlcShhW3NpemVdLCBiW3NpemVdLCBhU3RhY2ssIGJTdGFjaykpKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHNcbiAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiAoYUN0b3IgaW5zdGFuY2VvZiBhQ3RvcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIChiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gYSkge1xuICAgICAgICBpZiAoXy5oYXMoYSwga2V5KSkge1xuICAgICAgICAgIC8vIENvdW50IHRoZSBleHBlY3RlZCBudW1iZXIgb2YgcHJvcGVydGllcy5cbiAgICAgICAgICBzaXplKys7XG4gICAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyLlxuICAgICAgICAgIGlmICghKHJlc3VsdCA9IF8uaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGFTdGFjaywgYlN0YWNrKSkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcy5cbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgZm9yIChrZXkgaW4gYikge1xuICAgICAgICAgIGlmIChfLmhhcyhiLCBrZXkpICYmICEoc2l6ZS0tKSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gIXNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgZmlyc3Qgb2JqZWN0IGZyb20gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wb3AoKTtcbiAgICBiU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQZXJmb3JtIGEgZGVlcCBjb21wYXJpc29uIHRvIGNoZWNrIGlmIHR3byBvYmplY3RzIGFyZSBlcXVhbC5cbiAgXy5pc0VxdWFsID0gZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBlcShhLCBiLCBbXSwgW10pO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikpIHJldHVybiBvYmoubGVuZ3RoID09PSAwO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG4gIH07XG5cbiAgLy8gQWRkIHNvbWUgaXNUeXBlIG1ldGhvZHM6IGlzQXJndW1lbnRzLCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaXNOdW1iZXIsIGlzRGF0ZSwgaXNSZWdFeHAuXG4gIGVhY2goWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuICEhKG9iaiAmJiBfLmhhcyhvYmosICdjYWxsZWUnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS5cbiAgaWYgKHR5cGVvZiAoLy4vKSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbic7XG4gICAgfTtcbiAgfVxuXG4gIC8vIElzIGEgZ2l2ZW4gb2JqZWN0IGEgZmluaXRlIG51bWJlcj9cbiAgXy5pc0Zpbml0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBpc0Zpbml0ZShvYmopICYmICFpc05hTihwYXJzZUZsb2F0KG9iaikpO1xuICB9O1xuXG4gIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBgTmFOYD8gKE5hTiBpcyB0aGUgb25seSBudW1iZXIgd2hpY2ggZG9lcyBub3QgZXF1YWwgaXRzZWxmKS5cbiAgXy5pc05hTiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLmlzTnVtYmVyKG9iaikgJiYgb2JqICE9ICtvYmo7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0b3JzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUnVuIGEgZnVuY3Rpb24gKipuKiogdGltZXMuXG4gIF8udGltZXMgPSBmdW5jdGlvbihuLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciBhY2N1bSA9IEFycmF5KG4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlbnRpdHlNYXAgPSB7XG4gICAgZXNjYXBlOiB7XG4gICAgICAnJic6ICcmYW1wOycsXG4gICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICc+JzogJyZndDsnLFxuICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICBcIidcIjogJyYjeDI3OycsXG4gICAgICAnLyc6ICcmI3gyRjsnXG4gICAgfVxuICB9O1xuICBlbnRpdHlNYXAudW5lc2NhcGUgPSBfLmludmVydChlbnRpdHlNYXAuZXNjYXBlKTtcblxuICAvLyBSZWdleGVzIGNvbnRhaW5pbmcgdGhlIGtleXMgYW5kIHZhbHVlcyBsaXN0ZWQgaW1tZWRpYXRlbHkgYWJvdmUuXG4gIHZhciBlbnRpdHlSZWdleGVzID0ge1xuICAgIGVzY2FwZTogICBuZXcgUmVnRXhwKCdbJyArIF8ua2V5cyhlbnRpdHlNYXAuZXNjYXBlKS5qb2luKCcnKSArICddJywgJ2cnKSxcbiAgICB1bmVzY2FwZTogbmV3IFJlZ0V4cCgnKCcgKyBfLmtleXMoZW50aXR5TWFwLnVuZXNjYXBlKS5qb2luKCd8JykgKyAnKScsICdnJylcbiAgfTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIF8uZWFjaChbJ2VzY2FwZScsICd1bmVzY2FwZSddLCBmdW5jdGlvbihtZXRob2QpIHtcbiAgICBfW21ldGhvZF0gPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIGlmIChzdHJpbmcgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgICAgcmV0dXJuICgnJyArIHN0cmluZykucmVwbGFjZShlbnRpdHlSZWdleGVzW21ldGhvZF0sIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBlbnRpdHlNYXBbbWV0aG9kXVttYXRjaF07XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIG5hbWVkIHByb3BlcnR5IGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQ7XG4gIC8vIG90aGVyd2lzZSwgcmV0dXJuIGl0LlxuICBfLnJlc3VsdCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgcmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBlYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jYWxsKHRoaXMsIGZ1bmMuYXBwbHkoXywgYXJncykpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLlxuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlXG4gIC8vIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgIGV2YWx1YXRlICAgIDogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZSAgICAgIDogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogICAgICBcIidcIixcbiAgICAnXFxcXCc6ICAgICAnXFxcXCcsXG4gICAgJ1xccic6ICAgICAncicsXG4gICAgJ1xcbic6ICAgICAnbicsXG4gICAgJ1xcdCc6ICAgICAndCcsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIHZhciBlc2NhcGVyID0gL1xcXFx8J3xcXHJ8XFxufFxcdHxcXHUyMDI4fFxcdTIwMjkvZztcblxuICAvLyBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcsIHNpbWlsYXIgdG8gSm9obiBSZXNpZydzIGltcGxlbWVudGF0aW9uLlxuICAvLyBVbmRlcnNjb3JlIHRlbXBsYXRpbmcgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzIHdoaXRlc3BhY2UsXG4gIC8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgZGF0YSwgc2V0dGluZ3MpIHtcbiAgICB2YXIgcmVuZGVyO1xuICAgIHNldHRpbmdzID0gXy5kZWZhdWx0cyh7fSwgc2V0dGluZ3MsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG5cbiAgICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgICAgIC5yZXBsYWNlKGVzY2FwZXIsIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVybiAnXFxcXCcgKyBlc2NhcGVzW21hdGNoXTsgfSk7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH1cbiAgICAgIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGludGVycG9sYXRlICsgXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjtcbiAgICAgIH1cbiAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyBcInJldHVybiBfX3A7XFxuXCI7XG5cbiAgICB0cnkge1xuICAgICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIGlmIChkYXRhKSByZXR1cm4gcmVuZGVyKGRhdGEsIF8pO1xuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24gc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonKSArICcpe1xcbicgKyBzb3VyY2UgKyAnfSc7XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH07XG5cbiAgLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLCB3aGljaCB3aWxsIGRlbGVnYXRlIHRvIHRoZSB3cmFwcGVyLlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF8ob2JqKS5jaGFpbigpO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciByZXN1bHQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG4gIF8ubWl4aW4oXyk7XG5cbiAgLy8gQWRkIGFsbCBtdXRhdG9yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PSAnc2hpZnQnIHx8IG5hbWUgPT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgZWFjaChbJ2NvbmNhdCcsICdqb2luJywgJ3NsaWNlJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5jYWxsKHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICBfLmV4dGVuZChfLnByb3RvdHlwZSwge1xuXG4gICAgLy8gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICAgIGNoYWluOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2NoYWluID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgICB9XG5cbiAgfSk7XG5cbn0pLmNhbGwodGhpcyk7XG5cbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4vKiFcbiAgICBsb2NhbEZvcmFnZSAtLSBPZmZsaW5lIFN0b3JhZ2UsIEltcHJvdmVkXG4gICAgVmVyc2lvbiAxLjMuMFxuICAgIGh0dHBzOi8vbW96aWxsYS5naXRodWIuaW8vbG9jYWxGb3JhZ2VcbiAgICAoYykgMjAxMy0yMDE1IE1vemlsbGEsIEFwYWNoZSBMaWNlbnNlIDIuMFxuKi9cbihmdW5jdGlvbigpIHtcbnZhciBkZWZpbmUsIHJlcXVpcmVNb2R1bGUsIHJlcXVpcmUsIHJlcXVpcmVqcztcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgcmVnaXN0cnkgPSB7fSwgc2VlbiA9IHt9O1xuXG4gIGRlZmluZSA9IGZ1bmN0aW9uKG5hbWUsIGRlcHMsIGNhbGxiYWNrKSB7XG4gICAgcmVnaXN0cnlbbmFtZV0gPSB7IGRlcHM6IGRlcHMsIGNhbGxiYWNrOiBjYWxsYmFjayB9O1xuICB9O1xuXG4gIHJlcXVpcmVqcyA9IHJlcXVpcmUgPSByZXF1aXJlTW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xuICByZXF1aXJlanMuX2Vha19zZWVuID0gcmVnaXN0cnk7XG5cbiAgICBpZiAoc2VlbltuYW1lXSkgeyByZXR1cm4gc2VlbltuYW1lXTsgfVxuICAgIHNlZW5bbmFtZV0gPSB7fTtcblxuICAgIGlmICghcmVnaXN0cnlbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIG1vZHVsZSBcIiArIG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBtb2QgPSByZWdpc3RyeVtuYW1lXSxcbiAgICAgICAgZGVwcyA9IG1vZC5kZXBzLFxuICAgICAgICBjYWxsYmFjayA9IG1vZC5jYWxsYmFjayxcbiAgICAgICAgcmVpZmllZCA9IFtdLFxuICAgICAgICBleHBvcnRzO1xuXG4gICAgZm9yICh2YXIgaT0wLCBsPWRlcHMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgaWYgKGRlcHNbaV0gPT09ICdleHBvcnRzJykge1xuICAgICAgICByZWlmaWVkLnB1c2goZXhwb3J0cyA9IHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlaWZpZWQucHVzaChyZXF1aXJlTW9kdWxlKHJlc29sdmUoZGVwc1tpXSkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBjYWxsYmFjay5hcHBseSh0aGlzLCByZWlmaWVkKTtcbiAgICByZXR1cm4gc2VlbltuYW1lXSA9IGV4cG9ydHMgfHwgdmFsdWU7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQuY2hhckF0KDApICE9PSAnLicpIHsgcmV0dXJuIGNoaWxkOyB9XG4gICAgICB2YXIgcGFydHMgPSBjaGlsZC5zcGxpdChcIi9cIik7XG4gICAgICB2YXIgcGFyZW50QmFzZSA9IG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKTtcblxuICAgICAgZm9yICh2YXIgaT0wLCBsPXBhcnRzLmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICBpZiAocGFydCA9PT0gJy4uJykgeyBwYXJlbnRCYXNlLnBvcCgpOyB9XG4gICAgICAgIGVsc2UgaWYgKHBhcnQgPT09ICcuJykgeyBjb250aW51ZTsgfVxuICAgICAgICBlbHNlIHsgcGFyZW50QmFzZS5wdXNoKHBhcnQpOyB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnRCYXNlLmpvaW4oXCIvXCIpO1xuICAgIH1cbiAgfTtcbn0pKCk7XG5cbmRlZmluZShcInByb21pc2UvYWxsXCIsIFxuICBbXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2RlcGVuZGVuY3kxX18sIF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLyogZ2xvYmFsIHRvU3RyaW5nICovXG5cbiAgICB2YXIgaXNBcnJheSA9IF9fZGVwZW5kZW5jeTFfXy5pc0FycmF5O1xuICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5MV9fLmlzRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHRoZSBnaXZlbiBwcm9taXNlcyBoYXZlIGJlZW5cbiAgICAgIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLiBUaGUgcmV0dXJuIHByb21pc2VcbiAgICAgIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IHRoYXQgZ2l2ZXMgYWxsIHRoZSB2YWx1ZXMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZVxuICAgICAgcGFzc2VkIGluIHRoZSBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50LlxuXG4gICAgICBFeGFtcGxlOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gICAgICB2YXIgcHJvbWlzZTIgPSBSU1ZQLnJlc29sdmUoMik7XG4gICAgICB2YXIgcHJvbWlzZTMgPSBSU1ZQLnJlc29sdmUoMyk7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICAgICAgUlNWUC5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgICAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5hbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgICAgIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICAgICAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gICAgICBFeGFtcGxlOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gICAgICB2YXIgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgICAgIHZhciBwcm9taXNlMyA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICAgICAgdmFyIHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgICAgIFJTVlAuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAvLyBlcnJvci5tZXNzYWdlID09PSBcIjJcIlxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCBhbGxcbiAgICAgIEBmb3IgUlNWUFxuICAgICAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgICAgIEBwYXJhbSB7U3RyaW5nfSBsYWJlbFxuICAgICAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gICAgKi9cbiAgICBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIGlmICghaXNBcnJheShwcm9taXNlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBhbGwuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXSwgcmVtYWluaW5nID0gcHJvbWlzZXMubGVuZ3RoLFxuICAgICAgICBwcm9taXNlO1xuXG4gICAgICAgIGlmIChyZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVyKGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXNvbHZlQWxsKGluZGV4LCB2YWx1ZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVBbGwoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICAgIGlmIChwcm9taXNlICYmIGlzRnVuY3Rpb24ocHJvbWlzZS50aGVuKSkge1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmVyKGkpLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlQWxsKGksIHByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18uYWxsID0gYWxsO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvYXNhcFwiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgYnJvd3Nlckdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB7fTtcbiAgICB2YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIHZhciBsb2NhbCA9ICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgPyBnbG9iYWwgOiAodGhpcyA9PT0gdW5kZWZpbmVkPyB3aW5kb3c6dGhpcyk7XG5cbiAgICAvLyBub2RlXG4gICAgZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9jYWwuc2V0VGltZW91dChmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdHVwbGUgPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdHVwbGVbMF0sIGFyZyA9IHR1cGxlWzFdO1xuICAgICAgICBjYWxsYmFjayhhcmcpO1xuICAgICAgfVxuICAgICAgcXVldWUgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgc2NoZWR1bGVGbHVzaDtcblxuICAgIC8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAoQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBJZiBsZW5ndGggaXMgMSwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9fZXhwb3J0c19fLmFzYXAgPSBhc2FwO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvY29uZmlnXCIsIFxuICBbXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBpbnN0cnVtZW50OiBmYWxzZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmUobmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGNvbmZpZ1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5jb25maWcgPSBjb25maWc7XG4gICAgX19leHBvcnRzX18uY29uZmlndXJlID0gY29uZmlndXJlO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcG9seWZpbGxcIiwgXG4gIFtcIi4vcHJvbWlzZVwiLFwiLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2RlcGVuZGVuY3kyX18sIF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLypnbG9iYWwgc2VsZiovXG4gICAgdmFyIFJTVlBQcm9taXNlID0gX19kZXBlbmRlbmN5MV9fLlByb21pc2U7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBfX2RlcGVuZGVuY3kyX18uaXNGdW5jdGlvbjtcblxuICAgIGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICAgICAgdmFyIGxvY2FsO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICBsb2NhbCA9IHdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVzNlByb21pc2VTdXBwb3J0ID0gXG4gICAgICAgIFwiUHJvbWlzZVwiIGluIGxvY2FsICYmXG4gICAgICAgIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gICAgICAgIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgXCJyZXNvbHZlXCIgaW4gbG9jYWwuUHJvbWlzZSAmJlxuICAgICAgICBcInJlamVjdFwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgXCJhbGxcIiBpbiBsb2NhbC5Qcm9taXNlICYmXG4gICAgICAgIFwicmFjZVwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgLy8gT2xkZXIgdmVyc2lvbiBvZiB0aGUgc3BlYyBoYWQgYSByZXNvbHZlciBvYmplY3RcbiAgICAgICAgLy8gYXMgdGhlIGFyZyByYXRoZXIgdGhhbiBhIGZ1bmN0aW9uXG4gICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcmVzb2x2ZTtcbiAgICAgICAgICBuZXcgbG9jYWwuUHJvbWlzZShmdW5jdGlvbihyKSB7IHJlc29sdmUgPSByOyB9KTtcbiAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihyZXNvbHZlKTtcbiAgICAgICAgfSgpKTtcblxuICAgICAgaWYgKCFlczZQcm9taXNlU3VwcG9ydCkge1xuICAgICAgICBsb2NhbC5Qcm9taXNlID0gUlNWUFByb21pc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucG9seWZpbGwgPSBwb2x5ZmlsbDtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3Byb21pc2VcIiwgXG4gIFtcIi4vY29uZmlnXCIsXCIuL3V0aWxzXCIsXCIuL2FsbFwiLFwiLi9yYWNlXCIsXCIuL3Jlc29sdmVcIixcIi4vcmVqZWN0XCIsXCIuL2FzYXBcIixcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19kZXBlbmRlbmN5Ml9fLCBfX2RlcGVuZGVuY3kzX18sIF9fZGVwZW5kZW5jeTRfXywgX19kZXBlbmRlbmN5NV9fLCBfX2RlcGVuZGVuY3k2X18sIF9fZGVwZW5kZW5jeTdfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgY29uZmlnID0gX19kZXBlbmRlbmN5MV9fLmNvbmZpZztcbiAgICB2YXIgY29uZmlndXJlID0gX19kZXBlbmRlbmN5MV9fLmNvbmZpZ3VyZTtcbiAgICB2YXIgb2JqZWN0T3JGdW5jdGlvbiA9IF9fZGVwZW5kZW5jeTJfXy5vYmplY3RPckZ1bmN0aW9uO1xuICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5Ml9fLmlzRnVuY3Rpb247XG4gICAgdmFyIG5vdyA9IF9fZGVwZW5kZW5jeTJfXy5ub3c7XG4gICAgdmFyIGFsbCA9IF9fZGVwZW5kZW5jeTNfXy5hbGw7XG4gICAgdmFyIHJhY2UgPSBfX2RlcGVuZGVuY3k0X18ucmFjZTtcbiAgICB2YXIgc3RhdGljUmVzb2x2ZSA9IF9fZGVwZW5kZW5jeTVfXy5yZXNvbHZlO1xuICAgIHZhciBzdGF0aWNSZWplY3QgPSBfX2RlcGVuZGVuY3k2X18ucmVqZWN0O1xuICAgIHZhciBhc2FwID0gX19kZXBlbmRlbmN5N19fLmFzYXA7XG5cbiAgICB2YXIgY291bnRlciA9IDA7XG5cbiAgICBjb25maWcuYXN5bmMgPSBhc2FwOyAvLyBkZWZhdWx0IGFzeW5jIGlzIGFzYXA7XG5cbiAgICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICAgIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihyZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRCkge1xuICAgICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBQRU5ESU5HICAgPSB2b2lkIDA7XG4gICAgdmFyIFNFQUxFRCAgICA9IDA7XG4gICAgdmFyIEZVTEZJTExFRCA9IDE7XG4gICAgdmFyIFJFSkVDVEVEICA9IDI7XG5cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgbGVuZ3RoID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIFJFSkVDVEVEXSAgPSBvblJlamVjdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoKHByb21pc2UsIHNldHRsZWQpIHtcbiAgICAgIHZhciBjaGlsZCwgY2FsbGJhY2ssIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnMsIGRldGFpbCA9IHByb21pc2UuX2RldGFpbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgICAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgICB9XG5cbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzID0gbnVsbDtcbiAgICB9XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gICAgICBfc3RhdGU6IHVuZGVmaW5lZCxcbiAgICAgIF9kZXRhaWw6IHVuZGVmaW5lZCxcbiAgICAgIF9zdWJzY3JpYmVyczogdW5kZWZpbmVkLFxuXG4gICAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRoZW5Qcm9taXNlID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZnVuY3Rpb24oKSB7fSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IGFyZ3VtZW50cztcbiAgICAgICAgICBjb25maWcuYXN5bmMoZnVuY3Rpb24gaW52b2tlUHJvbWlzZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2socHJvbWlzZS5fc3RhdGUsIHRoZW5Qcm9taXNlLCBjYWxsYmFja3NbcHJvbWlzZS5fc3RhdGUgLSAxXSwgcHJvbWlzZS5fZGV0YWlsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWJzY3JpYmUodGhpcywgdGhlblByb21pc2UsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGVuUHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBQcm9taXNlLmFsbCA9IGFsbDtcbiAgICBQcm9taXNlLnJhY2UgPSByYWNlO1xuICAgIFByb21pc2UucmVzb2x2ZSA9IHN0YXRpY1Jlc29sdmU7XG4gICAgUHJvbWlzZS5yZWplY3QgPSBzdGF0aWNSZWplY3Q7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgdmFyIHRoZW4gPSBudWxsLFxuICAgICAgcmVzb2x2ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG5cbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc29sdmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgcHJvbWlzZS5fZGV0YWlsID0gdmFsdWU7XG5cbiAgICAgIGNvbmZpZy5hc3luYyhwdWJsaXNoRnVsZmlsbG1lbnQsIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgcHJvbWlzZS5fZGV0YWlsID0gcmVhc29uO1xuXG4gICAgICBjb25maWcuYXN5bmMocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVibGlzaEZ1bGZpbGxtZW50KHByb21pc2UpIHtcbiAgICAgIHB1Ymxpc2gocHJvbWlzZSwgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgICAgcHVibGlzaChwcm9taXNlLCBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEKTtcbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5Qcm9taXNlID0gUHJvbWlzZTtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3JhY2VcIiwgXG4gIFtcIi4vdXRpbHNcIixcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKiBnbG9iYWwgdG9TdHJpbmcgKi9cbiAgICB2YXIgaXNBcnJheSA9IF9fZGVwZW5kZW5jeTFfXy5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICBgUlNWUC5yYWNlYCBhbGxvd3MgeW91IHRvIHdhdGNoIGEgc2VyaWVzIG9mIHByb21pc2VzIGFuZCBhY3QgYXMgc29vbiBhcyB0aGVcbiAgICAgIGZpcnN0IHByb21pc2UgZ2l2ZW4gdG8gdGhlIGBwcm9taXNlc2AgYXJndW1lbnQgZnVsZmlsbHMgb3IgcmVqZWN0cy5cblxuICAgICAgRXhhbXBsZTpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVzb2x2ZShcInByb21pc2UgMVwiKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcHJvbWlzZTIgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXNvbHZlKFwicHJvbWlzZSAyXCIpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSk7XG5cbiAgICAgIFJTVlAucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAvLyByZXN1bHQgPT09IFwicHJvbWlzZSAyXCIgYmVjYXVzZSBpdCB3YXMgcmVzb2x2ZWQgYmVmb3JlIHByb21pc2UxXG4gICAgICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIGBSU1ZQLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3QgY29tcGxldGVkXG4gICAgICBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZSBgcHJvbWlzZXNgXG4gICAgICBhcnJheSBhcmd1bWVudCBhcmUgcmVzb2x2ZWQsIGJ1dCB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2UgaGFzIGJlY29tZVxuICAgICAgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWQgcHJvbWlzZVxuICAgICAgd2lsbCBiZWNvbWUgcmVqZWN0ZWQ6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlMSA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIHJlc29sdmUoXCJwcm9taXNlIDFcIik7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHByb21pc2UyID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcInByb21pc2UgMlwiKSk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgUlNWUC5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09IFwicHJvbWlzZTJcIiBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgICAgIC8vIHByb21pc2UgMSBiZWNhbWUgZnVsZmlsbGVkXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIHJhY2VcbiAgICAgIEBmb3IgUlNWUFxuICAgICAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICAgICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgZGVzY3JpYmluZyB0aGUgcHJvbWlzZSByZXR1cm5lZC5cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGJlY29tZXMgZnVsZmlsbGVkIHdpdGggdGhlIHZhbHVlIHRoZSBmaXJzdFxuICAgICAgY29tcGxldGVkIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggaWYgdGhlIGZpcnN0IGNvbXBsZXRlZCBwcm9taXNlIHdhc1xuICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gdGhhdCB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2VcbiAgICAgIHdhcyByZWplY3RlZCB3aXRoLlxuICAgICovXG4gICAgZnVuY3Rpb24gcmFjZShwcm9taXNlcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBQcm9taXNlID0gdGhpcztcblxuICAgICAgaWYgKCFpc0FycmF5KHByb21pc2VzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW10sIHByb21pc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmFjZSA9IHJhY2U7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS9yZWplY3RcIiwgXG4gIFtcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLyoqXG4gICAgICBgUlNWUC5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkXG4gICAgICBgcmVhc29uYC4gYFJTVlAucmVqZWN0YCBpcyBlc3NlbnRpYWxseSBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gICAgICB9KTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgcmVqZWN0XG4gICAgICBAZm9yIFJTVlBcbiAgICAgIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gICAgICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBpZGVudGlmeWluZyB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuXG4gICAgICBgcmVhc29uYC5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcmVzb2x2ZVwiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IHRoaXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmVzb2x2ZSA9IHJlc29sdmU7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS91dGlsc1wiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHgpIHx8ICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQXJyYXkoeCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgIH1cblxuICAgIC8vIERhdGUubm93IGlzIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlcnMgPCBJRTlcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL25vdyNDb21wYXRpYmlsaXR5XG4gICAgdmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7IH07XG5cblxuICAgIF9fZXhwb3J0c19fLm9iamVjdE9yRnVuY3Rpb24gPSBvYmplY3RPckZ1bmN0aW9uO1xuICAgIF9fZXhwb3J0c19fLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIF9fZXhwb3J0c19fLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIF9fZXhwb3J0c19fLm5vdyA9IG5vdztcbiAgfSk7XG5yZXF1aXJlTW9kdWxlKCdwcm9taXNlL3BvbHlmaWxsJykucG9seWZpbGwoKTtcbn0oKSk7KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibG9jYWxmb3JhZ2VcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibG9jYWxmb3JhZ2VcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgICd1c2Ugc3RyaWN0JztcblxuXHQgICAgLy8gQ3VzdG9tIGRyaXZlcnMgYXJlIHN0b3JlZCBoZXJlIHdoZW4gYGRlZmluZURyaXZlcigpYCBpcyBjYWxsZWQuXG5cdCAgICAvLyBUaGV5IGFyZSBzaGFyZWQgYWNyb3NzIGFsbCBpbnN0YW5jZXMgb2YgbG9jYWxGb3JhZ2UuXG5cdCAgICB2YXIgQ3VzdG9tRHJpdmVycyA9IHt9O1xuXG5cdCAgICB2YXIgRHJpdmVyVHlwZSA9IHtcblx0ICAgICAgICBJTkRFWEVEREI6ICdhc3luY1N0b3JhZ2UnLFxuXHQgICAgICAgIExPQ0FMU1RPUkFHRTogJ2xvY2FsU3RvcmFnZVdyYXBwZXInLFxuXHQgICAgICAgIFdFQlNRTDogJ3dlYlNRTFN0b3JhZ2UnXG5cdCAgICB9O1xuXG5cdCAgICB2YXIgRGVmYXVsdERyaXZlck9yZGVyID0gW0RyaXZlclR5cGUuSU5ERVhFRERCLCBEcml2ZXJUeXBlLldFQlNRTCwgRHJpdmVyVHlwZS5MT0NBTFNUT1JBR0VdO1xuXG5cdCAgICB2YXIgTGlicmFyeU1ldGhvZHMgPSBbJ2NsZWFyJywgJ2dldEl0ZW0nLCAnaXRlcmF0ZScsICdrZXknLCAna2V5cycsICdsZW5ndGgnLCAncmVtb3ZlSXRlbScsICdzZXRJdGVtJ107XG5cblx0ICAgIHZhciBEZWZhdWx0Q29uZmlnID0ge1xuXHQgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcblx0ICAgICAgICBkcml2ZXI6IERlZmF1bHREcml2ZXJPcmRlci5zbGljZSgpLFxuXHQgICAgICAgIG5hbWU6ICdsb2NhbGZvcmFnZScsXG5cdCAgICAgICAgLy8gRGVmYXVsdCBEQiBzaXplIGlzIF9KVVNUIFVOREVSXyA1TUIsIGFzIGl0J3MgdGhlIGhpZ2hlc3Qgc2l6ZVxuXHQgICAgICAgIC8vIHdlIGNhbiB1c2Ugd2l0aG91dCBhIHByb21wdC5cblx0ICAgICAgICBzaXplOiA0OTgwNzM2LFxuXHQgICAgICAgIHN0b3JlTmFtZTogJ2tleXZhbHVlcGFpcnMnLFxuXHQgICAgICAgIHZlcnNpb246IDEuMFxuXHQgICAgfTtcblxuXHQgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIEluZGV4ZWREQiBpcyBhdmFpbGFibGUgYW5kIGlmIGl0IGlzIHRoZSBsYXRlc3Rcblx0ICAgIC8vIGltcGxlbWVudGF0aW9uOyBpdCdzIG91ciBwcmVmZXJyZWQgYmFja2VuZCBsaWJyYXJ5LiBXZSB1c2UgXCJfc3BlY190ZXN0XCJcblx0ICAgIC8vIGFzIHRoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSBiZWNhdXNlIGl0J3Mgbm90IHRoZSBvbmUgd2UnbGwgb3BlcmF0ZSBvbixcblx0ICAgIC8vIGJ1dCBpdCdzIHVzZWZ1bCB0byBtYWtlIHN1cmUgaXRzIHVzaW5nIHRoZSByaWdodCBzcGVjLlxuXHQgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTI4XG5cdCAgICB2YXIgZHJpdmVyU3VwcG9ydCA9IChmdW5jdGlvbiAoc2VsZikge1xuXHQgICAgICAgIC8vIEluaXRpYWxpemUgSW5kZXhlZERCOyBmYWxsIGJhY2sgdG8gdmVuZG9yLXByZWZpeGVkIHZlcnNpb25zXG5cdCAgICAgICAgLy8gaWYgbmVlZGVkLlxuXHQgICAgICAgIHZhciBpbmRleGVkREIgPSBpbmRleGVkREIgfHwgc2VsZi5pbmRleGVkREIgfHwgc2VsZi53ZWJraXRJbmRleGVkREIgfHwgc2VsZi5tb3pJbmRleGVkREIgfHwgc2VsZi5PSW5kZXhlZERCIHx8IHNlbGYubXNJbmRleGVkREI7XG5cblx0ICAgICAgICB2YXIgcmVzdWx0ID0ge307XG5cblx0ICAgICAgICByZXN1bHRbRHJpdmVyVHlwZS5XRUJTUUxdID0gISFzZWxmLm9wZW5EYXRhYmFzZTtcblx0ICAgICAgICByZXN1bHRbRHJpdmVyVHlwZS5JTkRFWEVEREJdID0gISEoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBXZSBtaW1pYyBQb3VjaERCIGhlcmU7IGp1c3QgVUEgdGVzdCBmb3IgU2FmYXJpICh3aGljaCwgYXMgb2Zcblx0ICAgICAgICAgICAgLy8gaU9TIDgvWW9zZW1pdGUsIGRvZXNuJ3QgcHJvcGVybHkgc3VwcG9ydCBJbmRleGVkREIpLlxuXHQgICAgICAgICAgICAvLyBJbmRleGVkREIgc3VwcG9ydCBpcyBicm9rZW4gYW5kIGRpZmZlcmVudCBmcm9tIEJsaW5rJ3MuXG5cdCAgICAgICAgICAgIC8vIFRoaXMgaXMgZmFzdGVyIHRoYW4gdGhlIHRlc3QgY2FzZSAoYW5kIGl0J3Mgc3luYyksIHNvIHdlIGp1c3Rcblx0ICAgICAgICAgICAgLy8gZG8gdGhpcy4gKlNJR0gqXG5cdCAgICAgICAgICAgIC8vIGh0dHA6Ly9ibC5vY2tzLm9yZy9ub2xhbmxhd3Nvbi9yYXcvYzgzZTkwMzllZGYyMjc4MDQ3ZTkvXG5cdCAgICAgICAgICAgIC8vXG5cdCAgICAgICAgICAgIC8vIFdlIHRlc3QgZm9yIG9wZW5EYXRhYmFzZSBiZWNhdXNlIElFIE1vYmlsZSBpZGVudGlmaWVzIGl0c2VsZlxuXHQgICAgICAgICAgICAvLyBhcyBTYWZhcmkuIE9oIHRoZSBsdWx6Li4uXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5vcGVuRGF0YWJhc2UgIT09ICd1bmRlZmluZWQnICYmIHNlbGYubmF2aWdhdG9yICYmIHNlbGYubmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvU2FmYXJpLy50ZXN0KHNlbGYubmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIS9DaHJvbWUvLnRlc3Qoc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhlZERCICYmIHR5cGVvZiBpbmRleGVkREIub3BlbiA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgICAgICAgICAgICAgLy8gU29tZSBTYW1zdW5nL0hUQyBBbmRyb2lkIDQuMC00LjMgZGV2aWNlc1xuXHQgICAgICAgICAgICAgICAgLy8gaGF2ZSBvbGRlciBJbmRleGVkREIgc3BlY3M7IGlmIHRoaXMgaXNuJ3QgYXZhaWxhYmxlXG5cdCAgICAgICAgICAgICAgICAvLyB0aGVpciBJbmRleGVkREIgaXMgdG9vIG9sZCBmb3IgdXMgdG8gdXNlLlxuXHQgICAgICAgICAgICAgICAgLy8gKFJlcGxhY2VzIHRoZSBvbnVwZ3JhZGVuZWVkZWQgdGVzdC4pXG5cdCAgICAgICAgICAgICAgICB0eXBlb2Ygc2VsZi5JREJLZXlSYW5nZSAhPT0gJ3VuZGVmaW5lZCc7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pKCk7XG5cblx0ICAgICAgICByZXN1bHRbRHJpdmVyVHlwZS5MT0NBTFNUT1JBR0VdID0gISEoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYubG9jYWxTdG9yYWdlICYmICdzZXRJdGVtJyBpbiBzZWxmLmxvY2FsU3RvcmFnZSAmJiBzZWxmLmxvY2FsU3RvcmFnZS5zZXRJdGVtO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KSgpO1xuXG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0pKHRoaXMpO1xuXG5cdCAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0ICAgIH07XG5cblx0ICAgIGZ1bmN0aW9uIGNhbGxXaGVuUmVhZHkobG9jYWxGb3JhZ2VJbnN0YW5jZSwgbGlicmFyeU1ldGhvZCkge1xuXHQgICAgICAgIGxvY2FsRm9yYWdlSW5zdGFuY2VbbGlicmFyeU1ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBfYXJncyA9IGFyZ3VtZW50cztcblx0ICAgICAgICAgICAgcmV0dXJuIGxvY2FsRm9yYWdlSW5zdGFuY2UucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbEZvcmFnZUluc3RhbmNlW2xpYnJhcnlNZXRob2RdLmFwcGx5KGxvY2FsRm9yYWdlSW5zdGFuY2UsIF9hcmdzKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZXh0ZW5kKCkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cblx0ICAgICAgICAgICAgaWYgKGFyZykge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZykge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChhcmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmdba2V5XSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV0uc2xpY2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBpc0xpYnJhcnlEcml2ZXIoZHJpdmVyTmFtZSkge1xuXHQgICAgICAgIGZvciAodmFyIGRyaXZlciBpbiBEcml2ZXJUeXBlKSB7XG5cdCAgICAgICAgICAgIGlmIChEcml2ZXJUeXBlLmhhc093blByb3BlcnR5KGRyaXZlcikgJiYgRHJpdmVyVHlwZVtkcml2ZXJdID09PSBkcml2ZXJOYW1lKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgdmFyIExvY2FsRm9yYWdlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBMb2NhbEZvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2NhbEZvcmFnZSk7XG5cblx0ICAgICAgICAgICAgdGhpcy5JTkRFWEVEREIgPSBEcml2ZXJUeXBlLklOREVYRUREQjtcblx0ICAgICAgICAgICAgdGhpcy5MT0NBTFNUT1JBR0UgPSBEcml2ZXJUeXBlLkxPQ0FMU1RPUkFHRTtcblx0ICAgICAgICAgICAgdGhpcy5XRUJTUUwgPSBEcml2ZXJUeXBlLldFQlNRTDtcblxuXHQgICAgICAgICAgICB0aGlzLl9kZWZhdWx0Q29uZmlnID0gZXh0ZW5kKHt9LCBEZWZhdWx0Q29uZmlnKTtcblx0ICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gZXh0ZW5kKHt9LCB0aGlzLl9kZWZhdWx0Q29uZmlnLCBvcHRpb25zKTtcblx0ICAgICAgICAgICAgdGhpcy5fZHJpdmVyU2V0ID0gbnVsbDtcblx0ICAgICAgICAgICAgdGhpcy5faW5pdERyaXZlciA9IG51bGw7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHRoaXMuX2RiSW5mbyA9IG51bGw7XG5cblx0ICAgICAgICAgICAgdGhpcy5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5KCk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0RHJpdmVyKHRoaXMuX2NvbmZpZy5kcml2ZXIpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFRoZSBhY3R1YWwgbG9jYWxGb3JhZ2Ugb2JqZWN0IHRoYXQgd2UgZXhwb3NlIGFzIGEgbW9kdWxlIG9yIHZpYSBhXG5cdCAgICAgICAgLy8gZ2xvYmFsLiBJdCdzIGV4dGVuZGVkIGJ5IHB1bGxpbmcgaW4gb25lIG9mIG91ciBvdGhlciBsaWJyYXJpZXMuXG5cblx0ICAgICAgICAvLyBTZXQgYW55IGNvbmZpZyB2YWx1ZXMgZm9yIGxvY2FsRm9yYWdlOyBjYW4gYmUgY2FsbGVkIGFueXRpbWUgYmVmb3JlXG5cdCAgICAgICAgLy8gdGhlIGZpcnN0IEFQSSBjYWxsIChlLmcuIGBnZXRJdGVtYCwgYHNldEl0ZW1gKS5cblx0ICAgICAgICAvLyBXZSBsb29wIHRocm91Z2ggb3B0aW9ucyBzbyB3ZSBkb24ndCBvdmVyd3JpdGUgZXhpc3RpbmcgY29uZmlnXG5cdCAgICAgICAgLy8gdmFsdWVzLlxuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNvbmZpZyA9IGZ1bmN0aW9uIGNvbmZpZyhvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIC8vIElmIHRoZSBvcHRpb25zIGFyZ3VtZW50IGlzIGFuIG9iamVjdCwgd2UgdXNlIGl0IHRvIHNldCB2YWx1ZXMuXG5cdCAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2UgcmV0dXJuIGVpdGhlciBhIHNwZWNpZmllZCBjb25maWcgdmFsdWUgb3IgYWxsXG5cdCAgICAgICAgICAgIC8vIGNvbmZpZyB2YWx1ZXMuXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgICAgIC8vIElmIGxvY2FsZm9yYWdlIGlzIHJlYWR5IGFuZCBmdWxseSBpbml0aWFsaXplZCwgd2UgY2FuJ3Qgc2V0XG5cdCAgICAgICAgICAgICAgICAvLyBhbnkgbmV3IGNvbmZpZ3VyYXRpb24gdmFsdWVzLiBJbnN0ZWFkLCB3ZSByZXR1cm4gYW4gZXJyb3IuXG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVhZHkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiQ2FuJ3QgY2FsbCBjb25maWcoKSBhZnRlciBsb2NhbGZvcmFnZSBcIiArICdoYXMgYmVlbiB1c2VkLicpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gJ3N0b3JlTmFtZScpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IG9wdGlvbnNbaV0ucmVwbGFjZSgvXFxXL2csICdfJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnW2ldID0gb3B0aW9uc1tpXTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgYWxsIGNvbmZpZyBvcHRpb25zIGFyZSBzZXQgYW5kXG5cdCAgICAgICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG9wdGlvbiBpcyB1c2VkLCB0cnkgc2V0dGluZyBpdFxuXHQgICAgICAgICAgICAgICAgaWYgKCdkcml2ZXInIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5kcml2ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERyaXZlcih0aGlzLl9jb25maWcuZHJpdmVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnW29wdGlvbnNdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cblx0ICAgICAgICAvLyBVc2VkIHRvIGRlZmluZSBhIGN1c3RvbSBkcml2ZXIsIHNoYXJlZCBhY3Jvc3MgYWxsIGluc3RhbmNlcyBvZlxuXHQgICAgICAgIC8vIGxvY2FsRm9yYWdlLlxuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmRlZmluZURyaXZlciA9IGZ1bmN0aW9uIGRlZmluZURyaXZlcihkcml2ZXJPYmplY3QsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlck9iamVjdC5fZHJpdmVyO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjb21wbGlhbmNlRXJyb3IgPSBuZXcgRXJyb3IoJ0N1c3RvbSBkcml2ZXIgbm90IGNvbXBsaWFudDsgc2VlICcgKyAnaHR0cHM6Ly9tb3ppbGxhLmdpdGh1Yi5pby9sb2NhbEZvcmFnZS8jZGVmaW5lZHJpdmVyJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWluZ0Vycm9yID0gbmV3IEVycm9yKCdDdXN0b20gZHJpdmVyIG5hbWUgYWxyZWFkeSBpbiB1c2U6ICcgKyBkcml2ZXJPYmplY3QuX2RyaXZlcik7XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBBIGRyaXZlciBuYW1lIHNob3VsZCBiZSBkZWZpbmVkIGFuZCBub3Qgb3ZlcmxhcCB3aXRoIHRoZVxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGxpYnJhcnktZGVmaW5lZCwgZGVmYXVsdCBkcml2ZXJzLlxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghZHJpdmVyT2JqZWN0Ll9kcml2ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGNvbXBsaWFuY2VFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGlicmFyeURyaXZlcihkcml2ZXJPYmplY3QuX2RyaXZlcikpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5hbWluZ0Vycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21Ecml2ZXJNZXRob2RzID0gTGlicmFyeU1ldGhvZHMuY29uY2F0KCdfaW5pdFN0b3JhZ2UnKTtcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1c3RvbURyaXZlck1ldGhvZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1c3RvbURyaXZlck1ldGhvZCA9IGN1c3RvbURyaXZlck1ldGhvZHNbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VzdG9tRHJpdmVyTWV0aG9kIHx8ICFkcml2ZXJPYmplY3RbY3VzdG9tRHJpdmVyTWV0aG9kXSB8fCB0eXBlb2YgZHJpdmVyT2JqZWN0W2N1c3RvbURyaXZlck1ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChjb21wbGlhbmNlRXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHN1cHBvcnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICgnX3N1cHBvcnQnIGluIGRyaXZlck9iamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJpdmVyT2JqZWN0Ll9zdXBwb3J0ICYmIHR5cGVvZiBkcml2ZXJPYmplY3QuX3N1cHBvcnQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRQcm9taXNlID0gZHJpdmVyT2JqZWN0Ll9zdXBwb3J0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSghIWRyaXZlck9iamVjdC5fc3VwcG9ydCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICBzdXBwb3J0UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdXBwb3J0UmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRyaXZlclN1cHBvcnRbZHJpdmVyTmFtZV0gPSBzdXBwb3J0UmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21Ecml2ZXJzW2RyaXZlck5hbWVdID0gZHJpdmVyT2JqZWN0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXG5cdCAgICAgICAgICAgIHByb21pc2UudGhlbihjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuZHJpdmVyID0gZnVuY3Rpb24gZHJpdmVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJpdmVyIHx8IG51bGw7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXREcml2ZXIgPSBmdW5jdGlvbiBnZXREcml2ZXIoZHJpdmVyTmFtZSwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgICAgICB2YXIgZ2V0RHJpdmVyUHJvbWlzZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNMaWJyYXJ5RHJpdmVyKGRyaXZlck5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkcml2ZXJOYW1lKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugc2VsZi5JTkRFWEVEREI6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBzZWxmLkxPQ0FMU1RPUkFHRTpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHNlbGYuV0VCU1FMOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChDdXN0b21Ecml2ZXJzW2RyaXZlck5hbWVdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShDdXN0b21Ecml2ZXJzW2RyaXZlck5hbWVdKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRHJpdmVyIG5vdCBmb3VuZC4nKSk7XG5cdCAgICAgICAgICAgIH0pKCk7XG5cblx0ICAgICAgICAgICAgZ2V0RHJpdmVyUHJvbWlzZS50aGVuKGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGdldERyaXZlclByb21pc2U7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXRTZXJpYWxpemVyID0gZnVuY3Rpb24gZ2V0U2VyaWFsaXplcihjYWxsYmFjaykge1xuXHQgICAgICAgICAgICB2YXIgc2VyaWFsaXplclByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICByZXNvbHZlKF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgc2VyaWFsaXplclByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVyUHJvbWlzZTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gcmVhZHkoY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5fZHJpdmVyU2V0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHNlbGYuX3JlYWR5ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0RHJpdmVyKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9yZWFkeTtcblx0ICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgcHJvbWlzZS50aGVuKGNhbGxiYWNrLCBjYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuc2V0RHJpdmVyID0gZnVuY3Rpb24gc2V0RHJpdmVyKGRyaXZlcnMsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgICAgICBpZiAoIWlzQXJyYXkoZHJpdmVycykpIHtcblx0ICAgICAgICAgICAgICAgIGRyaXZlcnMgPSBbZHJpdmVyc107XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgc3VwcG9ydGVkRHJpdmVycyA9IHRoaXMuX2dldFN1cHBvcnRlZERyaXZlcnMoZHJpdmVycyk7XG5cblx0ICAgICAgICAgICAgZnVuY3Rpb24gc2V0RHJpdmVyVG9Db25maWcoKSB7XG5cdCAgICAgICAgICAgICAgICBzZWxmLl9jb25maWcuZHJpdmVyID0gc2VsZi5kcml2ZXIoKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIGluaXREcml2ZXIoc3VwcG9ydGVkRHJpdmVycykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudERyaXZlckluZGV4ID0gMDtcblxuXHQgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRyaXZlclByb21pc2VMb29wKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudERyaXZlckluZGV4IDwgc3VwcG9ydGVkRHJpdmVycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcml2ZXJOYW1lID0gc3VwcG9ydGVkRHJpdmVyc1tjdXJyZW50RHJpdmVySW5kZXhdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERyaXZlckluZGV4Kys7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RiSW5mbyA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWFkeSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldERyaXZlcihkcml2ZXJOYW1lKS50aGVuKGZ1bmN0aW9uIChkcml2ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9leHRlbmQoZHJpdmVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0U3RvcmFnZShzZWxmLl9jb25maWcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9yZWFkeTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pWydjYXRjaCddKGRyaXZlclByb21pc2VMb29wKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcignTm8gYXZhaWxhYmxlIHN0b3JhZ2UgbWV0aG9kIGZvdW5kLicpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kcml2ZXJTZXQgPSBQcm9taXNlLnJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9kcml2ZXJTZXQ7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRyaXZlclByb21pc2VMb29wKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgYSBkcml2ZXIgaW5pdGlhbGl6YXRpb24gaW4gcHJvZ3Jlc3Ncblx0ICAgICAgICAgICAgLy8gc28gd2FpdCBmb3IgaXQgdG8gZmluaXNoIGluIG9yZGVyIHRvIGF2b2lkIGEgcG9zc2libGVcblx0ICAgICAgICAgICAgLy8gcmFjZSBjb25kaXRpb24gdG8gc2V0IF9kYkluZm9cblx0ICAgICAgICAgICAgdmFyIG9sZERyaXZlclNldERvbmUgPSB0aGlzLl9kcml2ZXJTZXQgIT09IG51bGwgPyB0aGlzLl9kcml2ZXJTZXRbJ2NhdGNoJ10oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICB9KSA6IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdCAgICAgICAgICAgIHRoaXMuX2RyaXZlclNldCA9IG9sZERyaXZlclNldERvbmUudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IHN1cHBvcnRlZERyaXZlcnNbMF07XG5cdCAgICAgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBudWxsO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXREcml2ZXIoZHJpdmVyTmFtZSkudGhlbihmdW5jdGlvbiAoZHJpdmVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZi5fZHJpdmVyID0gZHJpdmVyLl9kcml2ZXI7XG5cdCAgICAgICAgICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl9pbml0RHJpdmVyID0gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdObyBhdmFpbGFibGUgc3RvcmFnZSBtZXRob2QgZm91bmQuJyk7XG5cdCAgICAgICAgICAgICAgICBzZWxmLl9kcml2ZXJTZXQgPSBQcm9taXNlLnJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZHJpdmVyU2V0O1xuXHQgICAgICAgICAgICB9KTtcblxuXHQgICAgICAgICAgICB0aGlzLl9kcml2ZXJTZXQudGhlbihjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXJTZXQ7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5zdXBwb3J0cyA9IGZ1bmN0aW9uIHN1cHBvcnRzKGRyaXZlck5hbWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICEhZHJpdmVyU3VwcG9ydFtkcml2ZXJOYW1lXTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9leHRlbmQgPSBmdW5jdGlvbiBfZXh0ZW5kKGxpYnJhcnlNZXRob2RzQW5kUHJvcGVydGllcykge1xuXHQgICAgICAgICAgICBleHRlbmQodGhpcywgbGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzKTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9nZXRTdXBwb3J0ZWREcml2ZXJzID0gZnVuY3Rpb24gX2dldFN1cHBvcnRlZERyaXZlcnMoZHJpdmVycykge1xuXHQgICAgICAgICAgICB2YXIgc3VwcG9ydGVkRHJpdmVycyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZHJpdmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBkcml2ZXJzW2ldO1xuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHMoZHJpdmVyTmFtZSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWREcml2ZXJzLnB1c2goZHJpdmVyTmFtZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnRlZERyaXZlcnM7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5ID0gZnVuY3Rpb24gX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSgpIHtcblx0ICAgICAgICAgICAgLy8gQWRkIGEgc3R1YiBmb3IgZWFjaCBkcml2ZXIgQVBJIG1ldGhvZCB0aGF0IGRlbGF5cyB0aGUgY2FsbCB0byB0aGVcblx0ICAgICAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkcml2ZXIgbWV0aG9kIHVudGlsIGxvY2FsRm9yYWdlIGlzIHJlYWR5LiBUaGVzZSBzdHVic1xuXHQgICAgICAgICAgICAvLyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBkcml2ZXIgbWV0aG9kcyBhcyBzb29uIGFzIHRoZSBkcml2ZXIgaXNcblx0ICAgICAgICAgICAgLy8gbG9hZGVkLCBzbyB0aGVyZSBpcyBubyBwZXJmb3JtYW5jZSBpbXBhY3QuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTGlicmFyeU1ldGhvZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxXaGVuUmVhZHkodGhpcywgTGlicmFyeU1ldGhvZHNbaV0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhbEZvcmFnZShvcHRpb25zKTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgcmV0dXJuIExvY2FsRm9yYWdlO1xuXHQgICAgfSkoKTtcblxuXHQgICAgdmFyIGxvY2FsRm9yYWdlID0gbmV3IExvY2FsRm9yYWdlKCk7XG5cblx0ICAgIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGxvY2FsRm9yYWdlO1xuXHR9KS5jYWxsKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogc2VsZik7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gU29tZSBjb2RlIG9yaWdpbmFsbHkgZnJvbSBhc3luY19zdG9yYWdlLmpzIGluXG5cdC8vIFtHYWlhXShodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS1iMmcvZ2FpYSkuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICB2YXIgZ2xvYmFsT2JqZWN0ID0gdGhpcztcblx0ICAgIC8vIEluaXRpYWxpemUgSW5kZXhlZERCOyBmYWxsIGJhY2sgdG8gdmVuZG9yLXByZWZpeGVkIHZlcnNpb25zIGlmIG5lZWRlZC5cblx0ICAgIHZhciBpbmRleGVkREIgPSBpbmRleGVkREIgfHwgdGhpcy5pbmRleGVkREIgfHwgdGhpcy53ZWJraXRJbmRleGVkREIgfHwgdGhpcy5tb3pJbmRleGVkREIgfHwgdGhpcy5PSW5kZXhlZERCIHx8IHRoaXMubXNJbmRleGVkREI7XG5cblx0ICAgIC8vIElmIEluZGV4ZWREQiBpc24ndCBhdmFpbGFibGUsIHdlIGdldCBvdXR0YSBoZXJlIVxuXHQgICAgaWYgKCFpbmRleGVkREIpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIHZhciBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFID0gJ2xvY2FsLWZvcmFnZS1kZXRlY3QtYmxvYi1zdXBwb3J0Jztcblx0ICAgIHZhciBzdXBwb3J0c0Jsb2JzO1xuXHQgICAgdmFyIGRiQ29udGV4dHM7XG5cblx0ICAgIC8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuXHQgICAgLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3Rvci4gKGkuZS5cblx0ICAgIC8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgYXQgbGVhc3QpLlxuXHQgICAgZnVuY3Rpb24gX2NyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcblx0ICAgICAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuXHQgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS5uYW1lICE9PSAnVHlwZUVycm9yJykge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgQmxvYkJ1aWxkZXIgPSBnbG9iYWxPYmplY3QuQmxvYkJ1aWxkZXIgfHwgZ2xvYmFsT2JqZWN0Lk1TQmxvYkJ1aWxkZXIgfHwgZ2xvYmFsT2JqZWN0Lk1vekJsb2JCdWlsZGVyIHx8IGdsb2JhbE9iamVjdC5XZWJLaXRCbG9iQnVpbGRlcjtcblx0ICAgICAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgICAgICAgICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IocHJvcGVydGllcy50eXBlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIFRyYW5zZm9ybSBhIGJpbmFyeSBzdHJpbmcgdG8gYW4gYXJyYXkgYnVmZmVyLCBiZWNhdXNlIG90aGVyd2lzZVxuXHQgICAgLy8gd2VpcmQgc3R1ZmYgaGFwcGVucyB3aGVuIHlvdSB0cnkgdG8gd29yayB3aXRoIHRoZSBiaW5hcnkgc3RyaW5nIGRpcmVjdGx5LlxuXHQgICAgLy8gSXQgaXMga25vd24uXG5cdCAgICAvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5Njc2NDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuXHQgICAgLy8gZW5jb2RlLWRlY29kZS1pbWFnZS13aXRoLWJhc2U2NC1icmVha3MtaW1hZ2UgKDIwMTMtMDQtMjEpXG5cdCAgICBmdW5jdGlvbiBfYmluU3RyaW5nVG9BcnJheUJ1ZmZlcihiaW4pIHtcblx0ICAgICAgICB2YXIgbGVuZ3RoID0gYmluLmxlbmd0aDtcblx0ICAgICAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XG5cdCAgICAgICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGJ1Zjtcblx0ICAgIH1cblxuXHQgICAgLy8gRmV0Y2ggYSBibG9iIHVzaW5nIGFqYXguIFRoaXMgcmV2ZWFscyBidWdzIGluIENocm9tZSA8IDQzLlxuXHQgICAgLy8gRm9yIGRldGFpbHMgb24gYWxsIHRoaXMganVuazpcblx0ICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2xhbmxhd3Nvbi9zdGF0ZS1vZi1iaW5hcnktZGF0YS1pbi10aGUtYnJvd3NlciNyZWFkbWVcblx0ICAgIGZ1bmN0aW9uIF9ibG9iQWpheCh1cmwpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdCAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuXHQgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblx0ICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cblx0ICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gNCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB4aHIucmVzcG9uc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJylcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJlamVjdCh7IHN0YXR1czogeGhyLnN0YXR1cywgcmVzcG9uc2U6IHhoci5yZXNwb25zZSB9KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgeGhyLnNlbmQoKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgLy9cblx0ICAgIC8vIERldGVjdCBibG9iIHN1cHBvcnQuIENocm9tZSBkaWRuJ3Qgc3VwcG9ydCBpdCB1bnRpbCB2ZXJzaW9uIDM4LlxuXHQgICAgLy8gSW4gdmVyc2lvbiAzNyB0aGV5IGhhZCBhIGJyb2tlbiB2ZXJzaW9uIHdoZXJlIFBOR3MgKGFuZCBwb3NzaWJseVxuXHQgICAgLy8gb3RoZXIgYmluYXJ5IHR5cGVzKSBhcmVuJ3Qgc3RvcmVkIGNvcnJlY3RseSwgYmVjYXVzZSB3aGVuIHlvdSBmZXRjaFxuXHQgICAgLy8gdGhlbSwgdGhlIGNvbnRlbnQgdHlwZSBpcyBhbHdheXMgbnVsbC5cblx0ICAgIC8vXG5cdCAgICAvLyBGdXJ0aGVybW9yZSwgdGhleSBoYXZlIHNvbWUgb3V0c3RhbmRpbmcgYnVncyB3aGVyZSBibG9icyBvY2Nhc2lvbmFsbHlcblx0ICAgIC8vIGFyZSByZWFkIGJ5IEZpbGVSZWFkZXIgYXMgbnVsbCwgb3IgYnkgYWpheCBhcyA0MDRzLlxuXHQgICAgLy9cblx0ICAgIC8vIFNhZGx5IHdlIHVzZSB0aGUgNDA0IGJ1ZyB0byBkZXRlY3QgdGhlIEZpbGVSZWFkZXIgYnVnLCBzbyBpZiB0aGV5XG5cdCAgICAvLyBnZXQgZml4ZWQgaW5kZXBlbmRlbnRseSBhbmQgcmVsZWFzZWQgaW4gZGlmZmVyZW50IHZlcnNpb25zIG9mIENocm9tZSxcblx0ICAgIC8vIHRoZW4gdGhlIGJ1ZyBjb3VsZCBjb21lIGJhY2suIFNvIGl0J3Mgd29ydGh3aGlsZSB0byB3YXRjaCB0aGVzZSBpc3N1ZXM6XG5cdCAgICAvLyA0MDQgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3OTE2XG5cdCAgICAvLyBGaWxlUmVhZGVyIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzgzNlxuXHQgICAgLy9cblx0ICAgIGZ1bmN0aW9uIF9jaGVja0Jsb2JTdXBwb3J0V2l0aG91dENhY2hpbmcoaWRiKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgdmFyIGJsb2IgPSBfY3JlYXRlQmxvYihbJyddLCB7IHR5cGU6ICdpbWFnZS9wbmcnIH0pO1xuXHQgICAgICAgICAgICB2YXIgdHhuID0gaWRiLnRyYW5zYWN0aW9uKFtERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuXHQgICAgICAgICAgICB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IsICdrZXknKTtcblx0ICAgICAgICAgICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBoYXZlIHRvIGRvIGl0IGluIGEgc2VwYXJhdGUgdHJhbnNhY3Rpb24sIGVsc2UgdGhlIGNvcnJlY3Rcblx0ICAgICAgICAgICAgICAgIC8vIGNvbnRlbnQgdHlwZSBpcyBhbHdheXMgcmV0dXJuZWRcblx0ICAgICAgICAgICAgICAgIHZhciBibG9iVHhuID0gaWRiLnRyYW5zYWN0aW9uKFtERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGdldEJsb2JSZXEgPSBibG9iVHhuLm9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpLmdldCgna2V5Jyk7XG5cdCAgICAgICAgICAgICAgICBnZXRCbG9iUmVxLm9uZXJyb3IgPSByZWplY3Q7XG5cdCAgICAgICAgICAgICAgICBnZXRCbG9iUmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG5cblx0ICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVkQmxvYiA9IGUudGFyZ2V0LnJlc3VsdDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChzdG9yZWRCbG9iKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIF9ibG9iQWpheCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCEhKHJlcyAmJiByZXMudHlwZSA9PT0gJ2ltYWdlL3BuZycpKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciwgc28gYXNzdW1lIHVuc3VwcG9ydGVkXG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIF9jaGVja0Jsb2JTdXBwb3J0KGlkYikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc3VwcG9ydHNCbG9icyA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3VwcG9ydHNCbG9icyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydFdpdGhvdXRDYWNoaW5nKGlkYikudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgc3VwcG9ydHNCbG9icyA9IHZhbHVlO1xuXHQgICAgICAgICAgICByZXR1cm4gc3VwcG9ydHNCbG9icztcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgLy8gZW5jb2RlIGEgYmxvYiBmb3IgaW5kZXhlZGRiIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0IGJsb2JzXG5cdCAgICBmdW5jdGlvbiBfZW5jb2RlQmxvYihibG9iKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdCAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuXHQgICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBiYXNlNjQgPSBidG9hKGUudGFyZ2V0LnJlc3VsdCB8fCAnJyk7XG5cdCAgICAgICAgICAgICAgICByZXNvbHZlKHtcblx0ICAgICAgICAgICAgICAgICAgICBfX2xvY2FsX2ZvcmFnZV9lbmNvZGVkX2Jsb2I6IHRydWUsXG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogYmFzZTY0LFxuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6IGJsb2IudHlwZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIC8vIGRlY29kZSBhbiBlbmNvZGVkIGJsb2Jcblx0ICAgIGZ1bmN0aW9uIF9kZWNvZGVCbG9iKGVuY29kZWRCbG9iKSB7XG5cdCAgICAgICAgdmFyIGFycmF5QnVmZiA9IF9iaW5TdHJpbmdUb0FycmF5QnVmZmVyKGF0b2IoZW5jb2RlZEJsb2IuZGF0YSkpO1xuXHQgICAgICAgIHJldHVybiBfY3JlYXRlQmxvYihbYXJyYXlCdWZmXSwgeyB0eXBlOiBlbmNvZGVkQmxvYi50eXBlIH0pO1xuXHQgICAgfVxuXG5cdCAgICAvLyBpcyB0aGlzIG9uZSBvZiBvdXIgZmFuY3kgZW5jb2RlZCBibG9icz9cblx0ICAgIGZ1bmN0aW9uIF9pc0VuY29kZWRCbG9iKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLl9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYjtcblx0ICAgIH1cblxuXHQgICAgLy8gT3BlbiB0aGUgSW5kZXhlZERCIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcblx0ICAgIC8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cblx0ICAgIGZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBkYkluZm8gPSB7XG5cdCAgICAgICAgICAgIGRiOiBudWxsXG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIGlmIChvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIEluaXRpYWxpemUgYSBzaW5nbGV0b24gY29udGFpbmVyIGZvciBhbGwgcnVubmluZyBsb2NhbEZvcmFnZXMuXG5cdCAgICAgICAgaWYgKCFkYkNvbnRleHRzKSB7XG5cdCAgICAgICAgICAgIGRiQ29udGV4dHMgPSB7fTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29udGV4dCBvZiB0aGUgZGF0YWJhc2U7XG5cdCAgICAgICAgdmFyIGRiQ29udGV4dCA9IGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdO1xuXG5cdCAgICAgICAgLy8gLi4ub3IgY3JlYXRlIGEgbmV3IGNvbnRleHQuXG5cdCAgICAgICAgaWYgKCFkYkNvbnRleHQpIHtcblx0ICAgICAgICAgICAgZGJDb250ZXh0ID0ge1xuXHQgICAgICAgICAgICAgICAgLy8gUnVubmluZyBsb2NhbEZvcmFnZXMgc2hhcmluZyBhIGRhdGFiYXNlLlxuXHQgICAgICAgICAgICAgICAgZm9yYWdlczogW10sXG5cdCAgICAgICAgICAgICAgICAvLyBTaGFyZWQgZGF0YWJhc2UuXG5cdCAgICAgICAgICAgICAgICBkYjogbnVsbFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGNvbnRleHQgaW4gdGhlIGdsb2JhbCBjb250YWluZXIuXG5cdCAgICAgICAgICAgIGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdID0gZGJDb250ZXh0O1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFJlZ2lzdGVyIGl0c2VsZiBhcyBhIHJ1bm5pbmcgbG9jYWxGb3JhZ2UgaW4gdGhlIGN1cnJlbnQgY29udGV4dC5cblx0ICAgICAgICBkYkNvbnRleHQuZm9yYWdlcy5wdXNoKHRoaXMpO1xuXG5cdCAgICAgICAgLy8gQ3JlYXRlIGFuIGFycmF5IG9mIHJlYWRpbmVzcyBvZiB0aGUgcmVsYXRlZCBsb2NhbEZvcmFnZXMuXG5cdCAgICAgICAgdmFyIHJlYWR5UHJvbWlzZXMgPSBbXTtcblxuXHQgICAgICAgIGZ1bmN0aW9uIGlnbm9yZUVycm9ycygpIHtcblx0ICAgICAgICAgICAgLy8gRG9uJ3QgaGFuZGxlIGVycm9ycyBoZXJlLFxuXHQgICAgICAgICAgICAvLyBqdXN0IG1ha2VzIHN1cmUgcmVsYXRlZCBsb2NhbEZvcmFnZXMgYXJlbid0IHBlbmRpbmcuXG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRiQ29udGV4dC5mb3JhZ2VzLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgIHZhciBmb3JhZ2UgPSBkYkNvbnRleHQuZm9yYWdlc1tqXTtcblx0ICAgICAgICAgICAgaWYgKGZvcmFnZSAhPT0gdGhpcykge1xuXHQgICAgICAgICAgICAgICAgLy8gRG9uJ3Qgd2FpdCBmb3IgaXRzZWxmLi4uXG5cdCAgICAgICAgICAgICAgICByZWFkeVByb21pc2VzLnB1c2goZm9yYWdlLnJlYWR5KClbJ2NhdGNoJ10oaWdub3JlRXJyb3JzKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBUYWtlIGEgc25hcHNob3Qgb2YgdGhlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuXHQgICAgICAgIHZhciBmb3JhZ2VzID0gZGJDb250ZXh0LmZvcmFnZXMuc2xpY2UoMCk7XG5cblx0ICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjb25uZWN0aW9uIHByb2Nlc3Mgb25seSB3aGVuXG5cdCAgICAgICAgLy8gYWxsIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcyBhcmVuJ3QgcGVuZGluZy5cblx0ICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVhZHlQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5kYiA9IGRiQ29udGV4dC5kYjtcblx0ICAgICAgICAgICAgLy8gR2V0IHRoZSBjb25uZWN0aW9uIG9yIG9wZW4gYSBuZXcgb25lIHdpdGhvdXQgdXBncmFkZS5cblx0ICAgICAgICAgICAgcmV0dXJuIF9nZXRPcmlnaW5hbENvbm5lY3Rpb24oZGJJbmZvKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuXHQgICAgICAgICAgICBkYkluZm8uZGIgPSBkYjtcblx0ICAgICAgICAgICAgaWYgKF9pc1VwZ3JhZGVOZWVkZWQoZGJJbmZvLCBzZWxmLl9kZWZhdWx0Q29uZmlnLnZlcnNpb24pKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBSZW9wZW4gdGhlIGRhdGFiYXNlIGZvciB1cGdyYWRpbmcuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBkYjtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuXHQgICAgICAgICAgICBkYkluZm8uZGIgPSBkYkNvbnRleHQuZGIgPSBkYjtcblx0ICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gZGJJbmZvO1xuXHQgICAgICAgICAgICAvLyBTaGFyZSB0aGUgZmluYWwgY29ubmVjdGlvbiBhbW9uZ3N0IHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuXHQgICAgICAgICAgICBmb3IgKHZhciBrIGluIGZvcmFnZXMpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBmb3JhZ2UgPSBmb3JhZ2VzW2tdO1xuXHQgICAgICAgICAgICAgICAgaWYgKGZvcmFnZSAhPT0gc2VsZikge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNlbGYgaXMgYWxyZWFkeSB1cC10by1kYXRlLlxuXHQgICAgICAgICAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLmRiID0gZGJJbmZvLmRiO1xuXHQgICAgICAgICAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLnZlcnNpb24gPSBkYkluZm8udmVyc2lvbjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKGRiSW5mbykge1xuXHQgICAgICAgIHJldHVybiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIGZhbHNlKTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pIHtcblx0ICAgICAgICByZXR1cm4gX2dldENvbm5lY3Rpb24oZGJJbmZvLCB0cnVlKTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gX2dldENvbm5lY3Rpb24oZGJJbmZvLCB1cGdyYWRlTmVlZGVkKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgaWYgKGRiSW5mby5kYikge1xuXHQgICAgICAgICAgICAgICAgaWYgKHVwZ3JhZGVOZWVkZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkYkluZm8uZGIuY2xvc2UoKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZGJJbmZvLmRiKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBkYkFyZ3MgPSBbZGJJbmZvLm5hbWVdO1xuXG5cdCAgICAgICAgICAgIGlmICh1cGdyYWRlTmVlZGVkKSB7XG5cdCAgICAgICAgICAgICAgICBkYkFyZ3MucHVzaChkYkluZm8udmVyc2lvbik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgb3BlbnJlcSA9IGluZGV4ZWREQi5vcGVuLmFwcGx5KGluZGV4ZWREQiwgZGJBcmdzKTtcblxuXHQgICAgICAgICAgICBpZiAodXBncmFkZU5lZWRlZCkge1xuXHQgICAgICAgICAgICAgICAgb3BlbnJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBkYiA9IG9wZW5yZXEucmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5vbGRWZXJzaW9uIDw9IDEpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZGVkIHdoZW4gc3VwcG9ydCBmb3IgYmxvYiBzaGltcyB3YXMgYWRkZWRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Lm5hbWUgPT09ICdDb25zdHJhaW50RXJyb3InKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKCdUaGUgZGF0YWJhc2UgXCInICsgZGJJbmZvLm5hbWUgKyAnXCInICsgJyBoYXMgYmVlbiB1cGdyYWRlZCBmcm9tIHZlcnNpb24gJyArIGUub2xkVmVyc2lvbiArICcgdG8gdmVyc2lvbiAnICsgZS5uZXdWZXJzaW9uICsgJywgYnV0IHRoZSBzdG9yYWdlIFwiJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnXCIgYWxyZWFkeSBleGlzdHMuJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBleDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBvcGVucmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZWplY3Qob3BlbnJlcS5lcnJvcik7XG5cdCAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgb3BlbnJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXNvbHZlKG9wZW5yZXEucmVzdWx0KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gX2lzVXBncmFkZU5lZWRlZChkYkluZm8sIGRlZmF1bHRWZXJzaW9uKSB7XG5cdCAgICAgICAgaWYgKCFkYkluZm8uZGIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGlzTmV3U3RvcmUgPSAhZGJJbmZvLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoZGJJbmZvLnN0b3JlTmFtZSk7XG5cdCAgICAgICAgdmFyIGlzRG93bmdyYWRlID0gZGJJbmZvLnZlcnNpb24gPCBkYkluZm8uZGIudmVyc2lvbjtcblx0ICAgICAgICB2YXIgaXNVcGdyYWRlID0gZGJJbmZvLnZlcnNpb24gPiBkYkluZm8uZGIudmVyc2lvbjtcblxuXHQgICAgICAgIGlmIChpc0Rvd25ncmFkZSkge1xuXHQgICAgICAgICAgICAvLyBJZiB0aGUgdmVyc2lvbiBpcyBub3QgdGhlIGRlZmF1bHQgb25lXG5cdCAgICAgICAgICAgIC8vIHRoZW4gd2FybiBmb3IgaW1wb3NzaWJsZSBkb3duZ3JhZGUuXG5cdCAgICAgICAgICAgIGlmIChkYkluZm8udmVyc2lvbiAhPT0gZGVmYXVsdFZlcnNpb24pIHtcblx0ICAgICAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBcIicgKyBkYkluZm8ubmFtZSArICdcIicgKyAnIGNhblxcJ3QgYmUgZG93bmdyYWRlZCBmcm9tIHZlcnNpb24gJyArIGRiSW5mby5kYi52ZXJzaW9uICsgJyB0byB2ZXJzaW9uICcgKyBkYkluZm8udmVyc2lvbiArICcuJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gQWxpZ24gdGhlIHZlcnNpb25zIHRvIHByZXZlbnQgZXJyb3JzLlxuXHQgICAgICAgICAgICBkYkluZm8udmVyc2lvbiA9IGRiSW5mby5kYi52ZXJzaW9uO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChpc1VwZ3JhZGUgfHwgaXNOZXdTdG9yZSkge1xuXHQgICAgICAgICAgICAvLyBJZiB0aGUgc3RvcmUgaXMgbmV3IHRoZW4gaW5jcmVtZW50IHRoZSB2ZXJzaW9uIChpZiBuZWVkZWQpLlxuXHQgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhbiBcInVwZ3JhZGVuZWVkZWRcIiBldmVudCB3aGljaCBpcyByZXF1aXJlZFxuXHQgICAgICAgICAgICAvLyBmb3IgY3JlYXRpbmcgYSBzdG9yZS5cblx0ICAgICAgICAgICAgaWYgKGlzTmV3U3RvcmUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbmNWZXJzaW9uID0gZGJJbmZvLmRiLnZlcnNpb24gKyAxO1xuXHQgICAgICAgICAgICAgICAgaWYgKGluY1ZlcnNpb24gPiBkYkluZm8udmVyc2lvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIGRiSW5mby52ZXJzaW9uID0gaW5jVmVyc2lvbjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZ2V0SXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblx0ICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5nZXQoa2V5KTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByZXEucmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF9pc0VuY29kZWRCbG9iKHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9kZWNvZGVCbG9iKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBJdGVyYXRlIG92ZXIgYWxsIGl0ZW1zIHN0b3JlZCBpbiBkYXRhYmFzZS5cblx0ICAgIGZ1bmN0aW9uIGl0ZXJhdGUoaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgaXRlcmF0aW9uTnVtYmVyID0gMTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY3Vyc29yLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2lzRW5jb2RlZEJsb2IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9kZWNvZGVCbG9iKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IodmFsdWUsIGN1cnNvci5rZXksIGl0ZXJhdGlvbk51bWJlcisrKTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvclsnY29udGludWUnXSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm87XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydChkYkluZm8uZGIpO1xuXHQgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iU3VwcG9ydCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFibG9iU3VwcG9ydCAmJiB2YWx1ZSBpbnN0YW5jZW9mIEJsb2IpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2VuY29kZUJsb2IodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkd3JpdGUnKTtcblx0ICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBUaGUgcmVhc29uIHdlIGRvbid0IF9zYXZlXyBudWxsIGlzIGJlY2F1c2UgSUUgMTAgZG9lc1xuXHQgICAgICAgICAgICAgICAgLy8gbm90IHN1cHBvcnQgc2F2aW5nIHRoZSBgbnVsbGAgdHlwZSBpbiBJbmRleGVkREIuIEhvd1xuXHQgICAgICAgICAgICAgICAgLy8gaXJvbmljLCBnaXZlbiB0aGUgYnVnIGJlbG93IVxuXHQgICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTYxXG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcblx0ICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQ2FzdCB0byB1bmRlZmluZWQgc28gdGhlIHZhbHVlIHBhc3NlZCB0b1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrL3Byb21pc2UgaXMgdGhlIHNhbWUgYXMgd2hhdCBvbmUgd291bGQgZ2V0IG91dFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIG9mIGBnZXRJdGVtKClgIGxhdGVyLiBUaGlzIGxlYWRzIHRvIHNvbWUgd2VpcmRuZXNzXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gKHNldEl0ZW0oJ2ZvbycsIHVuZGVmaW5lZCkgd2lsbCByZXR1cm4gYG51bGxgKSwgYnV0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBub3QgbXkgZmF1bHQgbG9jYWxTdG9yYWdlIGlzIG91ciBiYXNlbGluZSBhbmQgdGhhdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGl0J3Mgd2VpcmQuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gV2UgdXNlIGEgR3J1bnQgdGFzayB0byBtYWtlIHRoaXMgc2FmZSBmb3IgSUUgYW5kIHNvbWVcblx0ICAgICAgICAgICAgICAgIC8vIHZlcnNpb25zIG9mIEFuZHJvaWQgKGluY2x1ZGluZyB0aG9zZSB1c2VkIGJ5IENvcmRvdmEpLlxuXHQgICAgICAgICAgICAgICAgLy8gTm9ybWFsbHkgSUUgd29uJ3QgbGlrZSBgLmRlbGV0ZSgpYCBhbmQgd2lsbCBpbnNpc3Qgb25cblx0ICAgICAgICAgICAgICAgIC8vIHVzaW5nIGBbJ2RlbGV0ZSddKClgLCBidXQgd2UgaGF2ZSBhIGJ1aWxkIHN0ZXAgdGhhdFxuXHQgICAgICAgICAgICAgICAgLy8gZml4ZXMgdGhpcyBmb3IgdXMgbm93LlxuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlWydkZWxldGUnXShrZXkpO1xuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2lsbCBiZSBhbHNvIGJlIGFib3J0ZWQgaWYgd2UndmUgZXhjZWVkZWQgb3VyIHN0b3JhZ2Vcblx0ICAgICAgICAgICAgICAgIC8vIHNwYWNlLlxuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gcmVxLmVycm9yID8gcmVxLmVycm9yIDogcmVxLnRyYW5zYWN0aW9uLmVycm9yO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuY2xlYXIoKTtcblxuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmFib3J0ID0gdHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gcmVxLmVycm9yID8gcmVxLmVycm9yIDogcmVxLnRyYW5zYWN0aW9uLmVycm9yO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGxlbmd0aChjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmNvdW50KCk7XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXEucmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGtleShuLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBpZiAobiA8IDApIHtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciBhZHZhbmNlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLm9wZW5DdXJzb3IoKTtcblx0ICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcS5yZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyB0aGVyZSB3ZXJlbid0IGVub3VnaCBrZXlzXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChuID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdGhlIGZpcnN0IGtleSwgcmV0dXJuIGl0IGlmIHRoYXQncyB3aGF0IHRoZXlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FudGVkLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGN1cnNvci5rZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWR2YW5jZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgYXNrIHRoZSBjdXJzb3IgdG8gc2tpcCBhaGVhZCBuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmRzLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmFkdmFuY2Uobik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIGdldCBoZXJlLCB3ZSd2ZSBnb3QgdGhlIG50aCBrZXkuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGN1cnNvci5rZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUub3BlbkN1cnNvcigpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoa2V5cyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goY3Vyc29yLmtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgY3Vyc29yWydjb250aW51ZSddKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICBpZiAoY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHZhciBhc3luY1N0b3JhZ2UgPSB7XG5cdCAgICAgICAgX2RyaXZlcjogJ2FzeW5jU3RvcmFnZScsXG5cdCAgICAgICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UsXG5cdCAgICAgICAgaXRlcmF0ZTogaXRlcmF0ZSxcblx0ICAgICAgICBnZXRJdGVtOiBnZXRJdGVtLFxuXHQgICAgICAgIHNldEl0ZW06IHNldEl0ZW0sXG5cdCAgICAgICAgcmVtb3ZlSXRlbTogcmVtb3ZlSXRlbSxcblx0ICAgICAgICBjbGVhcjogY2xlYXIsXG5cdCAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG5cdCAgICAgICAga2V5OiBrZXksXG5cdCAgICAgICAga2V5czoga2V5c1xuXHQgICAgfTtcblxuXHQgICAgZXhwb3J0c1snZGVmYXVsdCddID0gYXN5bmNTdG9yYWdlO1xuXHR9KS5jYWxsKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogc2VsZik7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gSWYgSW5kZXhlZERCIGlzbid0IGF2YWlsYWJsZSwgd2UnbGwgZmFsbCBiYWNrIHRvIGxvY2FsU3RvcmFnZS5cblx0Ly8gTm90ZSB0aGF0IHRoaXMgd2lsbCBoYXZlIGNvbnNpZGVyYWJsZSBwZXJmb3JtYW5jZSBhbmQgc3RvcmFnZVxuXHQvLyBzaWRlLWVmZmVjdHMgKGFsbCBkYXRhIHdpbGwgYmUgc2VyaWFsaXplZCBvbiBzYXZlIGFuZCBvbmx5IGRhdGEgdGhhdFxuXHQvLyBjYW4gYmUgY29udmVydGVkIHRvIGEgc3RyaW5nIHZpYSBgSlNPTi5zdHJpbmdpZnkoKWAgd2lsbCBiZSBzYXZlZCkuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICB2YXIgZ2xvYmFsT2JqZWN0ID0gdGhpcztcblx0ICAgIHZhciBsb2NhbFN0b3JhZ2UgPSBudWxsO1xuXG5cdCAgICAvLyBJZiB0aGUgYXBwIGlzIHJ1bm5pbmcgaW5zaWRlIGEgR29vZ2xlIENocm9tZSBwYWNrYWdlZCB3ZWJhcHAsIG9yIHNvbWVcblx0ICAgIC8vIG90aGVyIGNvbnRleHQgd2hlcmUgbG9jYWxTdG9yYWdlIGlzbid0IGF2YWlsYWJsZSwgd2UgZG9uJ3QgdXNlXG5cdCAgICAvLyBsb2NhbFN0b3JhZ2UuIFRoaXMgZmVhdHVyZSBkZXRlY3Rpb24gaXMgcHJlZmVycmVkIG92ZXIgdGhlIG9sZFxuXHQgICAgLy8gYGlmICh3aW5kb3cuY2hyb21lICYmIHdpbmRvdy5jaHJvbWUucnVudGltZSlgIGNvZGUuXG5cdCAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL2lzc3Vlcy82OFxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyBJZiBsb2NhbFN0b3JhZ2UgaXNuJ3QgYXZhaWxhYmxlLCB3ZSBnZXQgb3V0dGEgaGVyZSFcblx0ICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBpbnNpZGUgYSB0cnkgY2F0Y2hcblx0ICAgICAgICBpZiAoIXRoaXMubG9jYWxTdG9yYWdlIHx8ICEoJ3NldEl0ZW0nIGluIHRoaXMubG9jYWxTdG9yYWdlKSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIEluaXRpYWxpemUgbG9jYWxTdG9yYWdlIGFuZCBjcmVhdGUgYSB2YXJpYWJsZSB0byB1c2UgdGhyb3VnaG91dFxuXHQgICAgICAgIC8vIHRoZSBjb2RlLlxuXHQgICAgICAgIGxvY2FsU3RvcmFnZSA9IHRoaXMubG9jYWxTdG9yYWdlO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgLy8gQ29uZmlnIHRoZSBsb2NhbFN0b3JhZ2UgYmFja2VuZCwgdXNpbmcgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cblx0ICAgIGZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBkYkluZm8gPSB7fTtcblx0ICAgICAgICBpZiAob3B0aW9ucykge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgICAgIGRiSW5mb1tpXSA9IG9wdGlvbnNbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICBkYkluZm8ua2V5UHJlZml4ID0gZGJJbmZvLm5hbWUgKyAnLyc7XG5cblx0ICAgICAgICBpZiAoZGJJbmZvLnN0b3JlTmFtZSAhPT0gc2VsZi5fZGVmYXVsdENvbmZpZy5zdG9yZU5hbWUpIHtcblx0ICAgICAgICAgICAgZGJJbmZvLmtleVByZWZpeCArPSBkYkluZm8uc3RvcmVOYW1lICsgJy8nO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcblxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobGliKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyID0gbGliO1xuXHQgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIC8vIFJlbW92ZSBhbGwga2V5cyBmcm9tIHRoZSBkYXRhc3RvcmUsIGVmZmVjdGl2ZWx5IGRlc3Ryb3lpbmcgYWxsIGRhdGEgaW5cblx0ICAgIC8vIHRoZSBhcHAncyBrZXkvdmFsdWUgc3RvcmUhXG5cdCAgICBmdW5jdGlvbiBjbGVhcihjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGtleVByZWZpeCA9IHNlbGYuX2RiSW5mby5rZXlQcmVmaXg7XG5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxvY2FsU3RvcmFnZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG5cblx0ICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihrZXlQcmVmaXgpID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gUmV0cmlldmUgYW4gaXRlbSBmcm9tIHRoZSBzdG9yZS4gVW5saWtlIHRoZSBvcmlnaW5hbCBhc3luY19zdG9yYWdlXG5cdCAgICAvLyBsaWJyYXJ5IGluIEdhaWEsIHdlIGRvbid0IG1vZGlmeSByZXR1cm4gdmFsdWVzIGF0IGFsbC4gSWYgYSBrZXkncyB2YWx1ZVxuXHQgICAgLy8gaXMgYHVuZGVmaW5lZGAsIHdlIHBhc3MgdGhhdCB2YWx1ZSB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAgICBmdW5jdGlvbiBnZXRJdGVtKGtleSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZGJJbmZvLmtleVByZWZpeCArIGtleSk7XG5cblx0ICAgICAgICAgICAgLy8gSWYgYSByZXN1bHQgd2FzIGZvdW5kLCBwYXJzZSBpdCBmcm9tIHRoZSBzZXJpYWxpemVkXG5cdCAgICAgICAgICAgIC8vIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0LiBJZiByZXN1bHQgaXNuJ3QgdHJ1dGh5LCB0aGUga2V5XG5cdCAgICAgICAgICAgIC8vIGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHQgdG8gdGhlXG5cdCAgICAgICAgICAgIC8vIGNhbGxiYWNrLlxuXHQgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIC8vIEl0ZXJhdGUgb3ZlciBhbGwgaXRlbXMgaW4gdGhlIHN0b3JlLlxuXHQgICAgZnVuY3Rpb24gaXRlcmF0ZShpdGVyYXRvciwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgdmFyIGtleVByZWZpeCA9IGRiSW5mby5rZXlQcmVmaXg7XG5cdCAgICAgICAgICAgIHZhciBrZXlQcmVmaXhMZW5ndGggPSBrZXlQcmVmaXgubGVuZ3RoO1xuXHQgICAgICAgICAgICB2YXIgbGVuZ3RoID0gbG9jYWxTdG9yYWdlLmxlbmd0aDtcblxuXHQgICAgICAgICAgICAvLyBXZSB1c2UgYSBkZWRpY2F0ZWQgaXRlcmF0b3IgaW5zdGVhZCBvZiB0aGUgYGlgIHZhcmlhYmxlIGJlbG93XG5cdCAgICAgICAgICAgIC8vIHNvIG90aGVyIGtleXMgd2UgZmV0Y2ggaW4gbG9jYWxTdG9yYWdlIGFyZW4ndCBjb3VudGVkIGluXG5cdCAgICAgICAgICAgIC8vIHRoZSBgaXRlcmF0aW9uTnVtYmVyYCBhcmd1bWVudCBwYXNzZWQgdG8gdGhlIGBpdGVyYXRlKClgXG5cdCAgICAgICAgICAgIC8vIGNhbGxiYWNrLlxuXHQgICAgICAgICAgICAvL1xuXHQgICAgICAgICAgICAvLyBTZWU6IGdpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9wdWxsLzQzNSNkaXNjdXNzaW9uX3IzODA2MTUzMFxuXHQgICAgICAgICAgICB2YXIgaXRlcmF0aW9uTnVtYmVyID0gMTtcblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcblx0ICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihrZXlQcmVmaXgpICE9PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBJZiBhIHJlc3VsdCB3YXMgZm91bmQsIHBhcnNlIGl0IGZyb20gdGhlIHNlcmlhbGl6ZWRcblx0ICAgICAgICAgICAgICAgIC8vIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0LiBJZiByZXN1bHQgaXNuJ3QgdHJ1dGh5LCB0aGVcblx0ICAgICAgICAgICAgICAgIC8vIGtleSBpcyBsaWtlbHkgdW5kZWZpbmVkIGFuZCB3ZSdsbCBwYXNzIGl0IHN0cmFpZ2h0XG5cdCAgICAgICAgICAgICAgICAvLyB0byB0aGUgaXRlcmF0b3IuXG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRiSW5mby5zZXJpYWxpemVyLmRlc2VyaWFsaXplKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdmFsdWUgPSBpdGVyYXRvcih2YWx1ZSwga2V5LnN1YnN0cmluZyhrZXlQcmVmaXhMZW5ndGgpLCBpdGVyYXRpb25OdW1iZXIrKyk7XG5cblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBTYW1lIGFzIGxvY2FsU3RvcmFnZSdzIGtleSgpIG1ldGhvZCwgZXhjZXB0IHRha2VzIGEgY2FsbGJhY2suXG5cdCAgICBmdW5jdGlvbiBrZXkobiwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQ7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSBsb2NhbFN0b3JhZ2Uua2V5KG4pO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcHJlZml4IGZyb20gdGhlIGtleSwgaWYgYSBrZXkgaXMgZm91bmQuXG5cdCAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGtleXMoY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuXHQgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2Uua2V5KGkpLmluZGV4T2YoZGJJbmZvLmtleVByZWZpeCkgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2gobG9jYWxTdG9yYWdlLmtleShpKS5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBrZXlzO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gU3VwcGx5IHRoZSBudW1iZXIgb2Yga2V5cyBpbiB0aGUgZGF0YXN0b3JlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICAgIGZ1bmN0aW9uIGxlbmd0aChjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYua2V5cygpLnRoZW4oZnVuY3Rpb24gKGtleXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGtleXMubGVuZ3RoO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgc3RvcmUsIG5pY2UgYW5kIHNpbXBsZS5cblx0ICAgIGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5LCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGRiSW5mby5rZXlQcmVmaXggKyBrZXkpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gU2V0IGEga2V5J3MgdmFsdWUgYW5kIHJ1biBhbiBvcHRpb25hbCBjYWxsYmFjayBvbmNlIHRoZSB2YWx1ZSBpcyBzZXQuXG5cdCAgICAvLyBVbmxpa2UgR2FpYSdzIGltcGxlbWVudGF0aW9uLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSB2YWx1ZSxcblx0ICAgIC8vIGluIGNhc2UgeW91IHdhbnQgdG8gb3BlcmF0ZSBvbiB0aGF0IHZhbHVlIG9ubHkgYWZ0ZXIgeW91J3JlIHN1cmUgaXRcblx0ICAgIC8vIHNhdmVkLCBvciBzb21ldGhpbmcgbGlrZSB0aGF0LlxuXHQgICAgZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIENvbnZlcnQgdW5kZWZpbmVkIHZhbHVlcyB0byBudWxsLlxuXHQgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9wdWxsLzQyXG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBTYXZlIHRoZSBvcmlnaW5hbCB2YWx1ZSB0byBwYXNzIHRvIHRoZSBjYWxsYmFjay5cblx0ICAgICAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkYkluZm8ua2V5UHJlZml4ICsga2V5LCB2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9yaWdpbmFsVmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2UgY2FwYWNpdHkgZXhjZWVkZWQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYSBzcGVjaWZpYyBlcnJvci9ldmVudC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8IGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIGlmIChjYWxsYmFjaykge1xuXHQgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgdmFyIGxvY2FsU3RvcmFnZVdyYXBwZXIgPSB7XG5cdCAgICAgICAgX2RyaXZlcjogJ2xvY2FsU3RvcmFnZVdyYXBwZXInLFxuXHQgICAgICAgIF9pbml0U3RvcmFnZTogX2luaXRTdG9yYWdlLFxuXHQgICAgICAgIC8vIERlZmF1bHQgQVBJLCBmcm9tIEdhaWEvbG9jYWxTdG9yYWdlLlxuXHQgICAgICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG5cdCAgICAgICAgZ2V0SXRlbTogZ2V0SXRlbSxcblx0ICAgICAgICBzZXRJdGVtOiBzZXRJdGVtLFxuXHQgICAgICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0sXG5cdCAgICAgICAgY2xlYXI6IGNsZWFyLFxuXHQgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuXHQgICAgICAgIGtleToga2V5LFxuXHQgICAgICAgIGtleXM6IGtleXNcblx0ICAgIH07XG5cblx0ICAgIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGxvY2FsU3RvcmFnZVdyYXBwZXI7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgICd1c2Ugc3RyaWN0JztcblxuXHQgICAgLy8gU2FkbHksIHRoZSBiZXN0IHdheSB0byBzYXZlIGJpbmFyeSBkYXRhIGluIFdlYlNRTC9sb2NhbFN0b3JhZ2UgaXMgc2VyaWFsaXppbmdcblx0ICAgIC8vIGl0IHRvIEJhc2U2NCwgc28gdGhpcyBpcyBob3cgd2Ugc3RvcmUgaXQgdG8gcHJldmVudCB2ZXJ5IHN0cmFuZ2UgZXJyb3JzIHdpdGggbGVzc1xuXHQgICAgLy8gdmVyYm9zZSB3YXlzIG9mIGJpbmFyeSA8LT4gc3RyaW5nIGRhdGEgc3RvcmFnZS5cblx0ICAgIHZhciBCQVNFX0NIQVJTID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG5cdCAgICB2YXIgQkxPQl9UWVBFX1BSRUZJWCA9ICd+fmxvY2FsX2ZvcmFnZV90eXBlfic7XG5cdCAgICB2YXIgQkxPQl9UWVBFX1BSRUZJWF9SRUdFWCA9IC9efn5sb2NhbF9mb3JhZ2VfdHlwZX4oW15+XSspfi87XG5cblx0ICAgIHZhciBTRVJJQUxJWkVEX01BUktFUiA9ICdfX2xmc2NfXzonO1xuXHQgICAgdmFyIFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCA9IFNFUklBTElaRURfTUFSS0VSLmxlbmd0aDtcblxuXHQgICAgLy8gT01HIHRoZSBzZXJpYWxpemF0aW9ucyFcblx0ICAgIHZhciBUWVBFX0FSUkFZQlVGRkVSID0gJ2FyYmYnO1xuXHQgICAgdmFyIFRZUEVfQkxPQiA9ICdibG9iJztcblx0ICAgIHZhciBUWVBFX0lOVDhBUlJBWSA9ICdzaTA4Jztcblx0ICAgIHZhciBUWVBFX1VJTlQ4QVJSQVkgPSAndWkwOCc7XG5cdCAgICB2YXIgVFlQRV9VSU5UOENMQU1QRURBUlJBWSA9ICd1aWM4Jztcblx0ICAgIHZhciBUWVBFX0lOVDE2QVJSQVkgPSAnc2kxNic7XG5cdCAgICB2YXIgVFlQRV9JTlQzMkFSUkFZID0gJ3NpMzInO1xuXHQgICAgdmFyIFRZUEVfVUlOVDE2QVJSQVkgPSAndXIxNic7XG5cdCAgICB2YXIgVFlQRV9VSU5UMzJBUlJBWSA9ICd1aTMyJztcblx0ICAgIHZhciBUWVBFX0ZMT0FUMzJBUlJBWSA9ICdmbDMyJztcblx0ICAgIHZhciBUWVBFX0ZMT0FUNjRBUlJBWSA9ICdmbDY0Jztcblx0ICAgIHZhciBUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCA9IFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCArIFRZUEVfQVJSQVlCVUZGRVIubGVuZ3RoO1xuXG5cdCAgICAvLyBHZXQgb3V0IG9mIG91ciBoYWJpdCBvZiB1c2luZyBgd2luZG93YCBpbmxpbmUsIGF0IGxlYXN0LlxuXHQgICAgdmFyIGdsb2JhbE9iamVjdCA9IHRoaXM7XG5cblx0ICAgIC8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuXHQgICAgLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3Rvci4gKGkuZS5cblx0ICAgIC8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgYXQgbGVhc3QpLlxuXHQgICAgZnVuY3Rpb24gX2NyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcblx0ICAgICAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuXHQgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcblx0ICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgaWYgKGVyci5uYW1lICE9PSAnVHlwZUVycm9yJykge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdmFyIEJsb2JCdWlsZGVyID0gZ2xvYmFsT2JqZWN0LkJsb2JCdWlsZGVyIHx8IGdsb2JhbE9iamVjdC5NU0Jsb2JCdWlsZGVyIHx8IGdsb2JhbE9iamVjdC5Nb3pCbG9iQnVpbGRlciB8fCBnbG9iYWxPYmplY3QuV2ViS2l0QmxvYkJ1aWxkZXI7XG5cblx0ICAgICAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgICAgICAgICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gU2VyaWFsaXplIGEgdmFsdWUsIGFmdGVyd2FyZHMgZXhlY3V0aW5nIGEgY2FsbGJhY2sgKHdoaWNoIHVzdWFsbHlcblx0ICAgIC8vIGluc3RydWN0cyB0aGUgYHNldEl0ZW0oKWAgY2FsbGJhY2svcHJvbWlzZSB0byBiZSBleGVjdXRlZCkuIFRoaXMgaXMgaG93XG5cdCAgICAvLyB3ZSBzdG9yZSBiaW5hcnkgZGF0YSB3aXRoIGxvY2FsU3RvcmFnZS5cblx0ICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWx1ZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgdmFsdWVTdHJpbmcgPSAnJztcblx0ICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgdmFsdWVTdHJpbmcgPSB2YWx1ZS50b1N0cmluZygpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIENhbm5vdCB1c2UgYHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJgIG9yIHN1Y2ggaGVyZSwgYXMgdGhlc2Vcblx0ICAgICAgICAvLyBjaGVja3MgZmFpbCB3aGVuIHJ1bm5pbmcgdGhlIHRlc3RzIHVzaW5nIGNhc3Blci5qcy4uLlxuXHQgICAgICAgIC8vXG5cdCAgICAgICAgLy8gVE9ETzogU2VlIHdoeSB0aG9zZSB0ZXN0cyBmYWlsIGFuZCB1c2UgYSBiZXR0ZXIgc29sdXRpb24uXG5cdCAgICAgICAgaWYgKHZhbHVlICYmICh2YWx1ZS50b1N0cmluZygpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nIHx8IHZhbHVlLmJ1ZmZlciAmJiB2YWx1ZS5idWZmZXIudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykpIHtcblx0ICAgICAgICAgICAgLy8gQ29udmVydCBiaW5hcnkgYXJyYXlzIHRvIGEgc3RyaW5nIGFuZCBwcmVmaXggdGhlIHN0cmluZyB3aXRoXG5cdCAgICAgICAgICAgIC8vIGEgc3BlY2lhbCBtYXJrZXIuXG5cdCAgICAgICAgICAgIHZhciBidWZmZXI7XG5cdCAgICAgICAgICAgIHZhciBtYXJrZXIgPSBTRVJJQUxJWkVEX01BUktFUjtcblxuXHQgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuXHQgICAgICAgICAgICAgICAgYnVmZmVyID0gdmFsdWU7XG5cdCAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9BUlJBWUJVRkZFUjtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHZhbHVlLmJ1ZmZlcjtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBJbnQ4QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0lOVDhBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IFVpbnQ4QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQ4QVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDhDTEFNUEVEQVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBJbnQxNkFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9JTlQxNkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgVWludDE2QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQxNkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgSW50MzJBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfSU5UMzJBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IFVpbnQzMkFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UMzJBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfRkxPQVQzMkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9GTE9BVDY0QVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCB0eXBlIGZvciBCaW5hcnlBcnJheScpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGNhbGxiYWNrKG1hcmtlciArIGJ1ZmZlclRvU3RyaW5nKGJ1ZmZlcikpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEJsb2JdJykge1xuXHQgICAgICAgICAgICAvLyBDb252ZXIgdGhlIGJsb2IgdG8gYSBiaW5hcnlBcnJheSBhbmQgdGhlbiB0byBhIHN0cmluZy5cblx0ICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG5cdCAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgcHJlZml4IGZvciB0aGUgYmxvYiB0eXBlLlxuXHQgICAgICAgICAgICAgICAgdmFyIHN0ciA9IEJMT0JfVFlQRV9QUkVGSVggKyB2YWx1ZS50eXBlICsgJ34nICsgYnVmZmVyVG9TdHJpbmcodGhpcy5yZXN1bHQpO1xuXG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhTRVJJQUxJWkVEX01BUktFUiArIFRZUEVfQkxPQiArIHN0cik7XG5cdCAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih2YWx1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBjb252ZXJ0IHZhbHVlIGludG8gYSBKU09OIHN0cmluZzogXCIsIHZhbHVlKTtcblxuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIERlc2VyaWFsaXplIGRhdGEgd2UndmUgaW5zZXJ0ZWQgaW50byBhIHZhbHVlIGNvbHVtbi9maWVsZC4gV2UgcGxhY2Vcblx0ICAgIC8vIHNwZWNpYWwgbWFya2VycyBpbnRvIG91ciBzdHJpbmdzIHRvIG1hcmsgdGhlbSBhcyBlbmNvZGVkOyB0aGlzIGlzbid0XG5cdCAgICAvLyBhcyBuaWNlIGFzIGEgbWV0YSBmaWVsZCwgYnV0IGl0J3MgdGhlIG9ubHkgc2FuZSB0aGluZyB3ZSBjYW4gZG8gd2hpbHN0XG5cdCAgICAvLyBrZWVwaW5nIGxvY2FsU3RvcmFnZSBzdXBwb3J0IGludGFjdC5cblx0ICAgIC8vXG5cdCAgICAvLyBPZnRlbnRpbWVzIHRoaXMgd2lsbCBqdXN0IGRlc2VyaWFsaXplIEpTT04gY29udGVudCwgYnV0IGlmIHdlIGhhdmUgYVxuXHQgICAgLy8gc3BlY2lhbCBtYXJrZXIgKFNFUklBTElaRURfTUFSS0VSLCBkZWZpbmVkIGFib3ZlKSwgd2Ugd2lsbCBleHRyYWN0XG5cdCAgICAvLyBzb21lIGtpbmQgb2YgYXJyYXlidWZmZXIvYmluYXJ5IGRhdGEvdHlwZWQgYXJyYXkgb3V0IG9mIHRoZSBzdHJpbmcuXG5cdCAgICBmdW5jdGlvbiBkZXNlcmlhbGl6ZSh2YWx1ZSkge1xuXHQgICAgICAgIC8vIElmIHdlIGhhdmVuJ3QgbWFya2VkIHRoaXMgc3RyaW5nIGFzIGJlaW5nIHNwZWNpYWxseSBzZXJpYWxpemVkIChpLmUuXG5cdCAgICAgICAgLy8gc29tZXRoaW5nIG90aGVyIHRoYW4gc2VyaWFsaXplZCBKU09OKSwgd2UgY2FuIGp1c3QgcmV0dXJuIGl0IGFuZCBiZVxuXHQgICAgICAgIC8vIGRvbmUgd2l0aCBpdC5cblx0ICAgICAgICBpZiAodmFsdWUuc3Vic3RyaW5nKDAsIFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCkgIT09IFNFUklBTElaRURfTUFSS0VSKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgZGVhbHMgd2l0aCBkZXNlcmlhbGl6aW5nIHNvbWUga2luZCBvZiBCbG9iIG9yXG5cdCAgICAgICAgLy8gVHlwZWRBcnJheS4gRmlyc3Qgd2Ugc2VwYXJhdGUgb3V0IHRoZSB0eXBlIG9mIGRhdGEgd2UncmUgZGVhbGluZ1xuXHQgICAgICAgIC8vIHdpdGggZnJvbSB0aGUgZGF0YSBpdHNlbGYuXG5cdCAgICAgICAgdmFyIHNlcmlhbGl6ZWRTdHJpbmcgPSB2YWx1ZS5zdWJzdHJpbmcoVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgpO1xuXHQgICAgICAgIHZhciB0eXBlID0gdmFsdWUuc3Vic3RyaW5nKFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCwgVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgpO1xuXG5cdCAgICAgICAgdmFyIGJsb2JUeXBlO1xuXHQgICAgICAgIC8vIEJhY2t3YXJkcy1jb21wYXRpYmxlIGJsb2IgdHlwZSBzZXJpYWxpemF0aW9uIHN0cmF0ZWd5LlxuXHQgICAgICAgIC8vIERCcyBjcmVhdGVkIHdpdGggb2xkZXIgdmVyc2lvbnMgb2YgbG9jYWxGb3JhZ2Ugd2lsbCBzaW1wbHkgbm90IGhhdmUgdGhlIGJsb2IgdHlwZS5cblx0ICAgICAgICBpZiAodHlwZSA9PT0gVFlQRV9CTE9CICYmIEJMT0JfVFlQRV9QUkVGSVhfUkVHRVgudGVzdChzZXJpYWxpemVkU3RyaW5nKSkge1xuXHQgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IHNlcmlhbGl6ZWRTdHJpbmcubWF0Y2goQkxPQl9UWVBFX1BSRUZJWF9SRUdFWCk7XG5cdCAgICAgICAgICAgIGJsb2JUeXBlID0gbWF0Y2hlclsxXTtcblx0ICAgICAgICAgICAgc2VyaWFsaXplZFN0cmluZyA9IHNlcmlhbGl6ZWRTdHJpbmcuc3Vic3RyaW5nKG1hdGNoZXJbMF0ubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGJ1ZmZlciA9IHN0cmluZ1RvQnVmZmVyKHNlcmlhbGl6ZWRTdHJpbmcpO1xuXG5cdCAgICAgICAgLy8gUmV0dXJuIHRoZSByaWdodCB0eXBlIGJhc2VkIG9uIHRoZSBjb2RlL3R5cGUgc2V0IGR1cmluZ1xuXHQgICAgICAgIC8vIHNlcmlhbGl6YXRpb24uXG5cdCAgICAgICAgc3dpdGNoICh0eXBlKSB7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9BUlJBWUJVRkZFUjpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXI7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9CTE9COlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVCbG9iKFtidWZmZXJdLCB7IHR5cGU6IGJsb2JUeXBlIH0pO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfSU5UOEFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQ4QXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX1VJTlQ4QVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OENsYW1wZWRBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfSU5UMTZBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50MTZBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfVUlOVDE2QVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9JTlQzMkFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9VSU5UMzJBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX0ZMT0FUMzJBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9GTE9BVDY0QVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0NjRBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtvd24gdHlwZTogJyArIHR5cGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc3RyaW5nVG9CdWZmZXIoc2VyaWFsaXplZFN0cmluZykge1xuXHQgICAgICAgIC8vIEZpbGwgdGhlIHN0cmluZyBpbnRvIGEgQXJyYXlCdWZmZXIuXG5cdCAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IHNlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoICogMC43NTtcblx0ICAgICAgICB2YXIgbGVuID0gc2VyaWFsaXplZFN0cmluZy5sZW5ndGg7XG5cdCAgICAgICAgdmFyIGk7XG5cdCAgICAgICAgdmFyIHAgPSAwO1xuXHQgICAgICAgIHZhciBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcblxuXHQgICAgICAgIGlmIChzZXJpYWxpemVkU3RyaW5nW3NlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoIC0gMV0gPT09ICc9Jykge1xuXHQgICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcblx0ICAgICAgICAgICAgaWYgKHNlcmlhbGl6ZWRTdHJpbmdbc2VyaWFsaXplZFN0cmluZy5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKTtcblx0ICAgICAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuXG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG5cdCAgICAgICAgICAgIGVuY29kZWQxID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaV0pO1xuXHQgICAgICAgICAgICBlbmNvZGVkMiA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2kgKyAxXSk7XG5cdCAgICAgICAgICAgIGVuY29kZWQzID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaSArIDJdKTtcblx0ICAgICAgICAgICAgZW5jb2RlZDQgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpICsgM10pO1xuXG5cdCAgICAgICAgICAgIC8qanNsaW50IGJpdHdpc2U6IHRydWUgKi9cblx0ICAgICAgICAgICAgYnl0ZXNbcCsrXSA9IGVuY29kZWQxIDw8IDIgfCBlbmNvZGVkMiA+PiA0O1xuXHQgICAgICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQyICYgMTUpIDw8IDQgfCBlbmNvZGVkMyA+PiAyO1xuXHQgICAgICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQzICYgMykgPDwgNiB8IGVuY29kZWQ0ICYgNjM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBidWZmZXI7XG5cdCAgICB9XG5cblx0ICAgIC8vIENvbnZlcnRzIGEgYnVmZmVyIHRvIGEgc3RyaW5nIHRvIHN0b3JlLCBzZXJpYWxpemVkLCBpbiB0aGUgYmFja2VuZFxuXHQgICAgLy8gc3RvcmFnZSBsaWJyYXJ5LlxuXHQgICAgZnVuY3Rpb24gYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSB7XG5cdCAgICAgICAgLy8gYmFzZTY0LWFycmF5YnVmZmVyXG5cdCAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICB2YXIgYmFzZTY0U3RyaW5nID0gJyc7XG5cdCAgICAgICAgdmFyIGk7XG5cblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDMpIHtcblx0ICAgICAgICAgICAgLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuXHQgICAgICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpXSA+PiAyXTtcblx0ICAgICAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2ldICYgMykgPDwgNCB8IGJ5dGVzW2kgKyAxXSA+PiA0XTtcblx0ICAgICAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyIHwgYnl0ZXNbaSArIDJdID4+IDZdO1xuXHQgICAgICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpICsgMl0gJiA2M107XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCAlIDMgPT09IDIpIHtcblx0ICAgICAgICAgICAgYmFzZTY0U3RyaW5nID0gYmFzZTY0U3RyaW5nLnN1YnN0cmluZygwLCBiYXNlNjRTdHJpbmcubGVuZ3RoIC0gMSkgKyAnPSc7XG5cdCAgICAgICAgfSBlbHNlIGlmIChieXRlcy5sZW5ndGggJSAzID09PSAxKSB7XG5cdCAgICAgICAgICAgIGJhc2U2NFN0cmluZyA9IGJhc2U2NFN0cmluZy5zdWJzdHJpbmcoMCwgYmFzZTY0U3RyaW5nLmxlbmd0aCAtIDIpICsgJz09Jztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gYmFzZTY0U3RyaW5nO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbG9jYWxmb3JhZ2VTZXJpYWxpemVyID0ge1xuXHQgICAgICAgIHNlcmlhbGl6ZTogc2VyaWFsaXplLFxuXHQgICAgICAgIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcblx0ICAgICAgICBzdHJpbmdUb0J1ZmZlcjogc3RyaW5nVG9CdWZmZXIsXG5cdCAgICAgICAgYnVmZmVyVG9TdHJpbmc6IGJ1ZmZlclRvU3RyaW5nXG5cdCAgICB9O1xuXG5cdCAgICBleHBvcnRzWydkZWZhdWx0J10gPSBsb2NhbGZvcmFnZVNlcmlhbGl6ZXI7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxuXHQgKiBJbmNsdWRlcyBjb2RlIGZyb206XG5cdCAqXG5cdCAqIGJhc2U2NC1hcnJheWJ1ZmZlclxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvYmFzZTY0LWFycmF5YnVmZmVyXG5cdCAqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMiBOaWtsYXMgdm9uIEhlcnR6ZW5cblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIHZhciBnbG9iYWxPYmplY3QgPSB0aGlzO1xuXHQgICAgdmFyIG9wZW5EYXRhYmFzZSA9IHRoaXMub3BlbkRhdGFiYXNlO1xuXG5cdCAgICAvLyBJZiBXZWJTUUwgbWV0aG9kcyBhcmVuJ3QgYXZhaWxhYmxlLCB3ZSBjYW4gc3RvcCBub3cuXG5cdCAgICBpZiAoIW9wZW5EYXRhYmFzZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgLy8gT3BlbiB0aGUgV2ViU1FMIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcblx0ICAgIC8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cblx0ICAgIGZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBkYkluZm8gPSB7XG5cdCAgICAgICAgICAgIGRiOiBudWxsXG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIGlmIChvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvW2ldID0gdHlwZW9mIG9wdGlvbnNbaV0gIT09ICdzdHJpbmcnID8gb3B0aW9uc1tpXS50b1N0cmluZygpIDogb3B0aW9uc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBkYkluZm9Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAvLyBPcGVuIHRoZSBkYXRhYmFzZTsgdGhlIG9wZW5EYXRhYmFzZSBBUEkgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdCAgICAgICAgICAgIC8vIGNyZWF0ZSBpdCBmb3IgdXMgaWYgaXQgZG9lc24ndCBleGlzdC5cblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYiA9IG9wZW5EYXRhYmFzZShkYkluZm8ubmFtZSwgU3RyaW5nKGRiSW5mby52ZXJzaW9uKSwgZGJJbmZvLmRlc2NyaXB0aW9uLCBkYkluZm8uc2l6ZSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnNldERyaXZlcihzZWxmLkxPQ0FMU1RPUkFHRSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2luaXRTdG9yYWdlKG9wdGlvbnMpO1xuXHQgICAgICAgICAgICAgICAgfSkudGhlbihyZXNvbHZlKVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gQ3JlYXRlIG91ciBrZXkvdmFsdWUgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdC5cblx0ICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyAoaWQgSU5URUdFUiBQUklNQVJZIEtFWSwga2V5IHVuaXF1ZSwgdmFsdWUpJywgW10sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBkYkluZm87XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobGliKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyID0gbGliO1xuXHQgICAgICAgICAgICByZXR1cm4gZGJJbmZvUHJvbWlzZTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZ2V0SXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUICogRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUga2V5ID0gPyBMSU1JVCAxJywgW2tleV0sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXN1bHRzLnJvd3MubGVuZ3RoID8gcmVzdWx0cy5yb3dzLml0ZW0oMCkudmFsdWUgOiBudWxsO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIHNlcmlhbGl6ZWQgY29udGVudCB3ZSBuZWVkIHRvXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVucGFjay5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBpdGVyYXRlKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXG5cdCAgICAgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCAqIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93cyA9IHJlc3VsdHMucm93cztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHJvd3MubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gcm93cy5pdGVtKGkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZW0udmFsdWU7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIHNlcmlhbGl6ZWQgY29udGVudFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byB1bnBhY2suXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IocmVzdWx0LCBpdGVtLmtleSwgaSArIDEpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2b2lkKDApIHByZXZlbnRzIHByb2JsZW1zIHdpdGggcmVkZWZpbml0aW9uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBgdW5kZWZpbmVkYC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHZvaWQgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBUaGUgbG9jYWxTdG9yYWdlIEFQSSBkb2Vzbid0IHJldHVybiB1bmRlZmluZWQgdmFsdWVzIGluIGFuXG5cdCAgICAgICAgICAgICAgICAvLyBcImV4cGVjdGVkXCIgd2F5LCBzbyB1bmRlZmluZWQgaXMgYWx3YXlzIGNhc3QgdG8gbnVsbCBpbiBhbGxcblx0ICAgICAgICAgICAgICAgIC8vIGRyaXZlcnMuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvcHVsbC80MlxuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIG9yaWdpbmFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrLlxuXHQgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdJTlNFUlQgT1IgUkVQTEFDRSBJTlRPICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyAoa2V5LCB2YWx1ZSkgVkFMVUVTICg/LCA/KScsIFtrZXksIHZhbHVlXSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3JpZ2luYWxWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzcWxFcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHRyYW5zYWN0aW9uIGZhaWxlZDsgY2hlY2tcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIHNlZSBpZiBpdCdzIGEgcXVvdGEgZXJyb3IuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsRXJyb3IuY29kZSA9PT0gc3FsRXJyb3IuUVVPVEFfRVJSKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgcmVqZWN0IHRoZSBjYWxsYmFjayBvdXRyaWdodCBmb3Igbm93LCBidXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHdvcnRoIHRyeWluZyB0byByZS1ydW4gdGhlIHRyYW5zYWN0aW9uLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV2ZW4gaWYgdGhlIHVzZXIgYWNjZXB0cyB0aGUgcHJvbXB0IHRvIHVzZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1vcmUgc3RvcmFnZSBvbiBTYWZhcmksIHRoaXMgZXJyb3Igd2lsbFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlIGNhbGxlZC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRyeSB0byByZS1ydW4gdGhlIHRyYW5zYWN0aW9uLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChzcWxFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGtleSA9ID8nLCBba2V5XSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gRGVsZXRlcyBldmVyeSBpdGVtIGluIHRoZSB0YWJsZS5cblx0ICAgIC8vIFRPRE86IEZpbmQgb3V0IGlmIHRoaXMgcmVzZXRzIHRoZSBBVVRPX0lOQ1JFTUVOVCBudW1iZXIuXG5cdCAgICBmdW5jdGlvbiBjbGVhcihjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBEb2VzIGEgc2ltcGxlIGBDT1VOVChrZXkpYCB0byBnZXQgdGhlIG51bWJlciBvZiBpdGVtcyBzdG9yZWQgaW5cblx0ICAgIC8vIGxvY2FsRm9yYWdlLlxuXHQgICAgZnVuY3Rpb24gbGVuZ3RoKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBBaGhoLCBTUUwgbWFrZXMgdGhpcyBvbmUgc29vb29vbyBlYXN5LlxuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUIENPVU5UKGtleSkgYXMgYyBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5pdGVtKDApLmM7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIC8vIFJldHVybiB0aGUga2V5IGxvY2F0ZWQgYXQga2V5IGluZGV4IFg7IGVzc2VudGlhbGx5IGdldHMgdGhlIGtleSBmcm9tIGFcblx0ICAgIC8vIGBXSEVSRSBpZCA9ID9gLiBUaGlzIGlzIHRoZSBtb3N0IGVmZmljaWVudCB3YXkgSSBjYW4gdGhpbmsgdG8gaW1wbGVtZW50XG5cdCAgICAvLyB0aGlzIHJhcmVseS11c2VkIChpbiBteSBleHBlcmllbmNlKSBwYXJ0IG9mIHRoZSBBUEksIGJ1dCBpdCBjYW4gc2VlbVxuXHQgICAgLy8gaW5jb25zaXN0ZW50LCBiZWNhdXNlIHdlIGRvIGBJTlNFUlQgT1IgUkVQTEFDRSBJTlRPYCBvbiBgc2V0SXRlbSgpYCwgc29cblx0ICAgIC8vIHRoZSBJRCBvZiBlYWNoIGtleSB3aWxsIGNoYW5nZSBldmVyeSB0aW1lIGl0J3MgdXBkYXRlZC4gUGVyaGFwcyBhIHN0b3JlZFxuXHQgICAgLy8gcHJvY2VkdXJlIGZvciB0aGUgYHNldEl0ZW0oKWAgU1FMIHdvdWxkIHNvbHZlIHRoaXMgcHJvYmxlbT9cblx0ICAgIC8vIFRPRE86IERvbid0IGNoYW5nZSBJRCBvbiBgc2V0SXRlbSgpYC5cblx0ICAgIGZ1bmN0aW9uIGtleShuLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1Qga2V5IEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGlkID0gPyBMSU1JVCAxJywgW24gKyAxXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5sZW5ndGggPyByZXN1bHRzLnJvd3MuaXRlbSgwKS5rZXkgOiBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGtleXMoY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUIGtleSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMucm93cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKHJlc3VsdHMucm93cy5pdGVtKGkpLmtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGtleXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIGlmIChjYWxsYmFjaykge1xuXHQgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgdmFyIHdlYlNRTFN0b3JhZ2UgPSB7XG5cdCAgICAgICAgX2RyaXZlcjogJ3dlYlNRTFN0b3JhZ2UnLFxuXHQgICAgICAgIF9pbml0U3RvcmFnZTogX2luaXRTdG9yYWdlLFxuXHQgICAgICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG5cdCAgICAgICAgZ2V0SXRlbTogZ2V0SXRlbSxcblx0ICAgICAgICBzZXRJdGVtOiBzZXRJdGVtLFxuXHQgICAgICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0sXG5cdCAgICAgICAgY2xlYXI6IGNsZWFyLFxuXHQgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuXHQgICAgICAgIGtleToga2V5LFxuXHQgICAgICAgIGtleXM6IGtleXNcblx0ICAgIH07XG5cblx0ICAgIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHdlYlNRTFN0b3JhZ2U7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHtcIl9wcm9jZXNzXCI6MjB9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogU3BlY2lmaWMgY3VzdG9tVXRpbHMgZm9yIHRoZSBicm93c2VyLCB3aGVyZSB3ZSBkb24ndCBoYXZlIGFjY2VzcyB0byB0aGUgQ3J5cHRvIGFuZCBCdWZmZXIgbW9kdWxlc1xuICovXG5cbi8qKlxuICogVGFrZW4gZnJvbSB0aGUgY3J5cHRvLWJyb3dzZXJpZnkgbW9kdWxlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZG9taW5pY3RhcnIvY3J5cHRvLWJyb3dzZXJpZnlcbiAqIE5PVEU6IE1hdGgucmFuZG9tKCkgZG9lcyBub3QgZ3VhcmFudGVlIFwiY3J5cHRvZ3JhcGhpYyBxdWFsaXR5XCIgYnV0IHdlIGFjdHVhbGx5IGRvbid0IG5lZWQgaXRcbiAqL1xuZnVuY3Rpb24gcmFuZG9tQnl0ZXMgKHNpemUpIHtcbiAgdmFyIGJ5dGVzID0gbmV3IEFycmF5KHNpemUpO1xuICB2YXIgcjtcblxuICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IHNpemU7IGkrKykge1xuICAgIGlmICgoaSAmIDB4MDMpID09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgYnl0ZXNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gIH1cblxuICByZXR1cm4gYnl0ZXM7XG59XG5cblxuLyoqXG4gKiBUYWtlbiBmcm9tIHRoZSBiYXNlNjQtanMgbW9kdWxlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvXG4gKi9cbmZ1bmN0aW9uIGJ5dGVBcnJheVRvQmFzZTY0ICh1aW50OCkge1xuICB2YXIgbG9va3VwID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG4gICAgLCBleHRyYUJ5dGVzID0gdWludDgubGVuZ3RoICUgMyAgIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gICAgLCBvdXRwdXQgPSBcIlwiXG4gICAgLCB0ZW1wLCBsZW5ndGgsIGk7XG5cbiAgZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl07XG4gIH07XG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKGkgPSAwLCBsZW5ndGggPSB1aW50OC5sZW5ndGggLSBleHRyYUJ5dGVzOyBpIDwgbGVuZ3RoOyBpICs9IDMpIHtcbiAgICB0ZW1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKTtcbiAgICBvdXRwdXQgKz0gdHJpcGxldFRvQmFzZTY0KHRlbXApO1xuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBzd2l0Y2ggKGV4dHJhQnl0ZXMpIHtcbiAgICBjYXNlIDE6XG4gICAgICB0ZW1wID0gdWludDhbdWludDgubGVuZ3RoIC0gMV07XG4gICAgICBvdXRwdXQgKz0gbG9va3VwW3RlbXAgPj4gMl07XG4gICAgICBvdXRwdXQgKz0gbG9va3VwWyh0ZW1wIDw8IDQpICYgMHgzRl07XG4gICAgICBvdXRwdXQgKz0gJz09JztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIHRlbXAgPSAodWludDhbdWludDgubGVuZ3RoIC0gMl0gPDwgOCkgKyAodWludDhbdWludDgubGVuZ3RoIC0gMV0pO1xuICAgICAgb3V0cHV0ICs9IGxvb2t1cFt0ZW1wID4+IDEwXTtcbiAgICAgIG91dHB1dCArPSBsb29rdXBbKHRlbXAgPj4gNCkgJiAweDNGXTtcbiAgICAgIG91dHB1dCArPSBsb29rdXBbKHRlbXAgPDwgMikgJiAweDNGXTtcbiAgICAgIG91dHB1dCArPSAnPSc7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gYWxwaGFudW1lcmljYWwgc3RyaW5nIG9mIGxlbmd0aCBsZW5cbiAqIFRoZXJlIGlzIGEgdmVyeSBzbWFsbCBwcm9iYWJpbGl0eSAobGVzcyB0aGFuIDEvMSwwMDAsMDAwKSBmb3IgdGhlIGxlbmd0aCB0byBiZSBsZXNzIHRoYW4gbGVuXG4gKiAoaWwgdGhlIGJhc2U2NCBjb252ZXJzaW9uIHlpZWxkcyB0b28gbWFueSBwbHVzZXMgYW5kIHNsYXNoZXMpIGJ1dFxuICogdGhhdCdzIG5vdCBhbiBpc3N1ZSBoZXJlXG4gKiBUaGUgcHJvYmFiaWxpdHkgb2YgYSBjb2xsaXNpb24gaXMgZXh0cmVtZWx5IHNtYWxsIChuZWVkIDMqMTBeMTIgZG9jdW1lbnRzIHRvIGhhdmUgb25lIGNoYW5jZSBpbiBhIG1pbGxpb24gb2YgYSBjb2xsaXNpb24pXG4gKiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CaXJ0aGRheV9wcm9ibGVtXG4gKi9cbmZ1bmN0aW9uIHVpZCAobGVuKSB7XG4gIHJldHVybiBieXRlQXJyYXlUb0Jhc2U2NChyYW5kb21CeXRlcyhNYXRoLmNlaWwoTWF0aC5tYXgoOCwgbGVuICogMikpKSkucmVwbGFjZSgvWytcXC9dL2csICcnKS5zbGljZSgwLCBsZW4pO1xufVxuXG5cblxubW9kdWxlLmV4cG9ydHMudWlkID0gdWlkO1xuXG59LHt9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogV2F5IGRhdGEgaXMgc3RvcmVkIGZvciB0aGlzIGRhdGFiYXNlXG4gKiBGb3IgYSBOb2RlLmpzL05vZGUgV2Via2l0IGRhdGFiYXNlIGl0J3MgdGhlIGZpbGUgc3lzdGVtXG4gKiBGb3IgYSBicm93c2VyLXNpZGUgZGF0YWJhc2UgaXQncyBsb2NhbGZvcmFnZSwgd2hpY2ggdXNlcyB0aGUgYmVzdCBiYWNrZW5kIGF2YWlsYWJsZSAoSW5kZXhlZERCIHRoZW4gV2ViU1FMIHRoZW4gbG9jYWxTdG9yYWdlKVxuICpcbiAqIFRoaXMgdmVyc2lvbiBpcyB0aGUgYnJvd3NlciB2ZXJzaW9uXG4gKi9cblxudmFyIGxvY2FsZm9yYWdlID0gcmVxdWlyZSgnbG9jYWxmb3JhZ2UnKVxuXG4vLyBDb25maWd1cmUgbG9jYWxmb3JhZ2UgdG8gZGlzcGxheSBOZURCIG5hbWUgZm9yIG5vdy4gV291bGQgYmUgYSBnb29kIGlkZWEgdG8gbGV0IHVzZXIgdXNlIGhpcyBvd24gYXBwIG5hbWVcbmxvY2FsZm9yYWdlLmNvbmZpZyh7XG4gIG5hbWU6ICdOZURCJ1xuLCBzdG9yZU5hbWU6ICduZWRiZGF0YSdcbn0pO1xuXG5cbmZ1bmN0aW9uIGV4aXN0cyAoZmlsZW5hbWUsIGNhbGxiYWNrKSB7XG4gIGxvY2FsZm9yYWdlLmdldEl0ZW0oZmlsZW5hbWUsIGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSBudWxsKSB7ICAgLy8gRXZlbiBpZiB2YWx1ZSBpcyB1bmRlZmluZWQsIGxvY2FsZm9yYWdlIHJldHVybnMgbnVsbFxuICAgICAgcmV0dXJuIGNhbGxiYWNrKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZmFsc2UpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gcmVuYW1lIChmaWxlbmFtZSwgbmV3RmlsZW5hbWUsIGNhbGxiYWNrKSB7XG4gIGxvY2FsZm9yYWdlLmdldEl0ZW0oZmlsZW5hbWUsIGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICBsb2NhbGZvcmFnZS5yZW1vdmVJdGVtKG5ld0ZpbGVuYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxmb3JhZ2Uuc2V0SXRlbShuZXdGaWxlbmFtZSwgdmFsdWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2soKTsgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIHdyaXRlRmlsZSAoZmlsZW5hbWUsIGNvbnRlbnRzLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAvLyBPcHRpb25zIGRvIG5vdCBtYXR0ZXIgaW4gYnJvd3NlciBzZXR1cFxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHsgY2FsbGJhY2sgPSBvcHRpb25zOyB9XG4gIGxvY2FsZm9yYWdlLnNldEl0ZW0oZmlsZW5hbWUsIGNvbnRlbnRzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbn1cblxuXG5mdW5jdGlvbiBhcHBlbmRGaWxlIChmaWxlbmFtZSwgdG9BcHBlbmQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8vIE9wdGlvbnMgZG8gbm90IG1hdHRlciBpbiBicm93c2VyIHNldHVwXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYWxsYmFjayA9IG9wdGlvbnM7IH1cblxuICBsb2NhbGZvcmFnZS5nZXRJdGVtKGZpbGVuYW1lLCBmdW5jdGlvbiAoZXJyLCBjb250ZW50cykge1xuICAgIGNvbnRlbnRzID0gY29udGVudHMgfHwgJyc7XG4gICAgY29udGVudHMgKz0gdG9BcHBlbmQ7XG4gICAgbG9jYWxmb3JhZ2Uuc2V0SXRlbShmaWxlbmFtZSwgY29udGVudHMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrKCk7IH0pO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiByZWFkRmlsZSAoZmlsZW5hbWUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8vIE9wdGlvbnMgZG8gbm90IG1hdHRlciBpbiBicm93c2VyIHNldHVwXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYWxsYmFjayA9IG9wdGlvbnM7IH1cbiAgbG9jYWxmb3JhZ2UuZ2V0SXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKGVyciwgY29udGVudHMpIHsgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRlbnRzIHx8ICcnKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gdW5saW5rIChmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2soKTsgfSk7XG59XG5cblxuLy8gTm90aGluZyB0byBkbywgbm8gZGlyZWN0b3JpZXMgd2lsbCBiZSB1c2VkIG9uIHRoZSBicm93c2VyXG5mdW5jdGlvbiBta2RpcnAgKGRpciwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNhbGxiYWNrKCk7XG59XG5cblxuLy8gTm90aGluZyB0byBkbywgbm8gZGF0YSBjb3JydXB0aW9uIHBvc3NpYmxlIGluIHRoZSBicm93ZXJcbmZ1bmN0aW9uIGVuc3VyZURhdGFmaWxlSW50ZWdyaXR5IChmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xufVxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMuZXhpc3RzID0gZXhpc3RzO1xubW9kdWxlLmV4cG9ydHMucmVuYW1lID0gcmVuYW1lO1xubW9kdWxlLmV4cG9ydHMud3JpdGVGaWxlID0gd3JpdGVGaWxlO1xubW9kdWxlLmV4cG9ydHMuY3Jhc2hTYWZlV3JpdGVGaWxlID0gd3JpdGVGaWxlOyAgIC8vIE5vIG5lZWQgZm9yIGEgY3Jhc2ggc2FmZSBmdW5jdGlvbiBpbiB0aGUgYnJvd3NlclxubW9kdWxlLmV4cG9ydHMuYXBwZW5kRmlsZSA9IGFwcGVuZEZpbGU7XG5tb2R1bGUuZXhwb3J0cy5yZWFkRmlsZSA9IHJlYWRGaWxlO1xubW9kdWxlLmV4cG9ydHMudW5saW5rID0gdW5saW5rO1xubW9kdWxlLmV4cG9ydHMubWtkaXJwID0gbWtkaXJwO1xubW9kdWxlLmV4cG9ydHMuZW5zdXJlRGF0YWZpbGVJbnRlZ3JpdHkgPSBlbnN1cmVEYXRhZmlsZUludGVncml0eTtcblxuXG59LHtcImxvY2FsZm9yYWdlXCI6N31dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBEYXRhc3RvcmUgPSByZXF1aXJlKCcuL2xpYi9kYXRhc3RvcmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRhc3RvcmU7XG5cbn0se1wiLi9saWIvZGF0YXN0b3JlXCI6MTJ9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIE1hbmFnZSBhY2Nlc3MgdG8gZGF0YSwgYmUgaXQgdG8gZmluZCwgdXBkYXRlIG9yIHJlbW92ZSBpdFxuICovXG52YXIgbW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJylcbiAgLCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpXG4gIDtcblxuXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGN1cnNvciBmb3IgdGhpcyBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0RhdGFzdG9yZX0gZGIgLSBUaGUgZGF0YXN0b3JlIHRoaXMgY3Vyc29yIGlzIGJvdW5kIHRvXG4gKiBAcGFyYW0ge1F1ZXJ5fSBxdWVyeSAtIFRoZSBxdWVyeSB0aGlzIGN1cnNvciB3aWxsIG9wZXJhdGUgb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWNEbiAtIEhhbmRsZXIgdG8gYmUgZXhlY3V0ZWQgYWZ0ZXIgY3Vyc29yIGhhcyBmb3VuZCB0aGUgcmVzdWx0cyBhbmQgYmVmb3JlIHRoZSBjYWxsYmFjayBwYXNzZWQgdG8gZmluZC9maW5kT25lL3VwZGF0ZS9yZW1vdmVcbiAqL1xuZnVuY3Rpb24gQ3Vyc29yIChkYiwgcXVlcnksIGV4ZWNGbikge1xuICB0aGlzLmRiID0gZGI7XG4gIHRoaXMucXVlcnkgPSBxdWVyeSB8fCB7fTtcbiAgaWYgKGV4ZWNGbikgeyB0aGlzLmV4ZWNGbiA9IGV4ZWNGbjsgfVxufVxuXG5cbi8qKlxuICogU2V0IGEgbGltaXQgdG8gdGhlIG51bWJlciBvZiByZXN1bHRzXG4gKi9cbkN1cnNvci5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbihsaW1pdCkge1xuICB0aGlzLl9saW1pdCA9IGxpbWl0O1xuICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBTa2lwIGEgdGhlIG51bWJlciBvZiByZXN1bHRzXG4gKi9cbkN1cnNvci5wcm90b3R5cGUuc2tpcCA9IGZ1bmN0aW9uKHNraXApIHtcbiAgdGhpcy5fc2tpcCA9IHNraXA7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqIFNvcnQgcmVzdWx0cyBvZiB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7U29ydFF1ZXJ5fSBzb3J0UXVlcnkgLSBTb3J0UXVlcnkgaXMgeyBmaWVsZDogb3JkZXIgfSwgZmllbGQgY2FuIHVzZSB0aGUgZG90LW5vdGF0aW9uLCBvcmRlciBpcyAxIGZvciBhc2NlbmRpbmcgYW5kIC0xIGZvciBkZXNjZW5kaW5nXG4gKi9cbkN1cnNvci5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKHNvcnRRdWVyeSkge1xuICB0aGlzLl9zb3J0ID0gc29ydFF1ZXJ5O1xuICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBBZGQgdGhlIHVzZSBvZiBhIHByb2plY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9qZWN0aW9uIC0gTW9uZ29EQi1zdHlsZSBwcm9qZWN0aW9uLiB7fSBtZWFucyB0YWtlIGFsbCBmaWVsZHMuIFRoZW4gaXQncyB7IGtleTE6IDEsIGtleTI6IDEgfSB0byB0YWtlIG9ubHkga2V5MSBhbmQga2V5MlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTE6IDAsIGtleTI6IDAgfSB0byBvbWl0IG9ubHkga2V5MSBhbmQga2V5Mi4gRXhjZXB0IF9pZCwgeW91IGNhbid0IG1peCB0YWtlcyBhbmQgb21pdHNcbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5wcm9qZWN0aW9uID0gZnVuY3Rpb24ocHJvamVjdGlvbikge1xuICB0aGlzLl9wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogQXBwbHkgdGhlIHByb2plY3Rpb25cbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5wcm9qZWN0ID0gZnVuY3Rpb24gKGNhbmRpZGF0ZXMpIHtcbiAgdmFyIHJlcyA9IFtdLCBzZWxmID0gdGhpc1xuICAgICwga2VlcElkLCBhY3Rpb24sIGtleXNcbiAgICA7XG5cbiAgaWYgKHRoaXMuX3Byb2plY3Rpb24gPT09IHVuZGVmaW5lZCB8fCBPYmplY3Qua2V5cyh0aGlzLl9wcm9qZWN0aW9uKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfVxuXG4gIGtlZXBJZCA9IHRoaXMuX3Byb2plY3Rpb24uX2lkID09PSAwID8gZmFsc2UgOiB0cnVlO1xuICB0aGlzLl9wcm9qZWN0aW9uID0gXy5vbWl0KHRoaXMuX3Byb2plY3Rpb24sICdfaWQnKTtcblxuICAvLyBDaGVjayBmb3IgY29uc2lzdGVuY3lcbiAga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3Byb2plY3Rpb24pO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAoYWN0aW9uICE9PSB1bmRlZmluZWQgJiYgc2VsZi5fcHJvamVjdGlvbltrXSAhPT0gYWN0aW9uKSB7IHRocm93IFwiQ2FuJ3QgYm90aCBrZWVwIGFuZCBvbWl0IGZpZWxkcyBleGNlcHQgZm9yIF9pZFwiOyB9XG4gICAgYWN0aW9uID0gc2VsZi5fcHJvamVjdGlvbltrXTtcbiAgfSk7XG5cbiAgLy8gRG8gdGhlIGFjdHVhbCBwcm9qZWN0aW9uXG4gIGNhbmRpZGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgdmFyIHRvUHVzaCA9IGFjdGlvbiA9PT0gMSA/IF8ucGljayhjYW5kaWRhdGUsIGtleXMpIDogXy5vbWl0KGNhbmRpZGF0ZSwga2V5cyk7XG4gICAgaWYgKGtlZXBJZCkge1xuICAgICAgdG9QdXNoLl9pZCA9IGNhbmRpZGF0ZS5faWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB0b1B1c2guX2lkO1xuICAgIH1cbiAgICByZXMucHVzaCh0b1B1c2gpO1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufTtcblxuXG4vKipcbiAqIEdldCBhbGwgbWF0Y2hpbmcgZWxlbWVudHNcbiAqIFdpbGwgcmV0dXJuIHBvaW50ZXJzIHRvIG1hdGNoZWQgZWxlbWVudHMgKHNoYWxsb3cgY29waWVzKSwgcmV0dXJuaW5nIGZ1bGwgY29waWVzIGlzIHRoZSByb2xlIG9mIGZpbmQgb3IgZmluZE9uZVxuICogVGhpcyBpcyBhbiBpbnRlcm5hbCBmdW5jdGlvbiwgdXNlIGV4ZWMgd2hpY2ggdXNlcyB0aGUgZXhlY3V0b3JcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFNpZ25hdHVyZTogZXJyLCByZXN1bHRzXG4gKi9cbkN1cnNvci5wcm90b3R5cGUuX2V4ZWMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICB2YXIgY2FuZGlkYXRlcyA9IHRoaXMuZGIuZ2V0Q2FuZGlkYXRlcyh0aGlzLnF1ZXJ5KVxuICAgICwgcmVzID0gW10sIGFkZGVkID0gMCwgc2tpcHBlZCA9IDAsIHNlbGYgPSB0aGlzXG4gICAgLCBlcnJvciA9IG51bGxcbiAgICAsIGksIGtleXMsIGtleVxuICAgIDtcblxuICB0cnkge1xuICAgIGZvciAoaSA9IDA7IGkgPCBjYW5kaWRhdGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAobW9kZWwubWF0Y2goY2FuZGlkYXRlc1tpXSwgdGhpcy5xdWVyeSkpIHtcbiAgICAgICAgLy8gSWYgYSBzb3J0IGlzIGRlZmluZWQsIHdhaXQgZm9yIHRoZSByZXN1bHRzIHRvIGJlIHNvcnRlZCBiZWZvcmUgYXBwbHlpbmcgbGltaXQgYW5kIHNraXBcbiAgICAgICAgaWYgKCF0aGlzLl9zb3J0KSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3NraXAgJiYgdGhpcy5fc2tpcCA+IHNraXBwZWQpIHtcbiAgICAgICAgICAgIHNraXBwZWQgKz0gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnB1c2goY2FuZGlkYXRlc1tpXSk7XG4gICAgICAgICAgICBhZGRlZCArPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbWl0ICYmIHRoaXMuX2xpbWl0IDw9IGFkZGVkKSB7IGJyZWFrOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5wdXNoKGNhbmRpZGF0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgfVxuXG4gIC8vIEFwcGx5IGFsbCBzb3J0c1xuICBpZiAodGhpcy5fc29ydCkge1xuICAgIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9zb3J0KTtcblxuICAgIC8vIFNvcnRpbmdcbiAgICB2YXIgY3JpdGVyaWEgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGNyaXRlcmlhLnB1c2goeyBrZXk6IGtleSwgZGlyZWN0aW9uOiBzZWxmLl9zb3J0W2tleV0gfSk7XG4gICAgfVxuICAgIHJlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHZhciBjcml0ZXJpb24sIGNvbXBhcmUsIGk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY3JpdGVyaWEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3JpdGVyaW9uID0gY3JpdGVyaWFbaV07XG4gICAgICAgIGNvbXBhcmUgPSBjcml0ZXJpb24uZGlyZWN0aW9uICogbW9kZWwuY29tcGFyZVRoaW5ncyhtb2RlbC5nZXREb3RWYWx1ZShhLCBjcml0ZXJpb24ua2V5KSwgbW9kZWwuZ2V0RG90VmFsdWUoYiwgY3JpdGVyaW9uLmtleSkpO1xuICAgICAgICBpZiAoY29tcGFyZSAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiBjb21wYXJlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICAgIC8vIEFwcGx5aW5nIGxpbWl0IGFuZCBza2lwXG4gICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQgfHwgcmVzLmxlbmd0aFxuICAgICAgLCBza2lwID0gdGhpcy5fc2tpcCB8fCAwO1xuXG4gICAgcmVzID0gcmVzLnNsaWNlKHNraXAsIHNraXAgKyBsaW1pdCk7XG4gIH1cblxuICAvLyBBcHBseSBwcm9qZWN0aW9uXG4gIHRyeSB7XG4gICAgcmVzID0gdGhpcy5wcm9qZWN0KHJlcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvciA9IGU7XG4gICAgcmVzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHRoaXMuZXhlY0ZuKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY0ZuKGVycm9yLCByZXMsIGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZXJyb3IsIHJlcyk7XG4gIH1cbn07XG5cbkN1cnNvci5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5kYi5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcywgZm46IHRoaXMuX2V4ZWMsIGFyZ3VtZW50czogYXJndW1lbnRzIH0pO1xufTtcblxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMgPSBDdXJzb3I7XG5cbn0se1wiLi9tb2RlbFwiOjE1LFwidW5kZXJzY29yZVwiOjE4fV0sMTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGN1c3RvbVV0aWxzID0gcmVxdWlyZSgnLi9jdXN0b21VdGlscycpXG4gICwgbW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJylcbiAgLCBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJylcbiAgLCBFeGVjdXRvciA9IHJlcXVpcmUoJy4vZXhlY3V0b3InKVxuICAsIEluZGV4ID0gcmVxdWlyZSgnLi9pbmRleGVzJylcbiAgLCB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG4gICwgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKVxuICAsIFBlcnNpc3RlbmNlID0gcmVxdWlyZSgnLi9wZXJzaXN0ZW5jZScpXG4gICwgQ3Vyc29yID0gcmVxdWlyZSgnLi9jdXJzb3InKVxuICA7XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29sbGVjdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZmlsZW5hbWUgT3B0aW9uYWwsIGRhdGFzdG9yZSB3aWxsIGJlIGluLW1lbW9yeSBvbmx5IGlmIG5vdCBwcm92aWRlZFxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnRpbWVzdGFtcERhdGEgT3B0aW9uYWwsIGRlZmF1bHRzIHRvIGZhbHNlLiBJZiBzZXQgdG8gdHJ1ZSwgY3JlYXRlZEF0IGFuZCB1cGRhdGVkQXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBwb3B1bGF0ZWQgYXV0b21hdGljYWxseSAoaWYgbm90IHNwZWNpZmllZCBieSB1c2VyKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmluTWVtb3J5T25seSBPcHRpb25hbCwgZGVmYXVsdHMgdG8gZmFsc2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLm5vZGVXZWJraXRBcHBOYW1lIE9wdGlvbmFsLCBzcGVjaWZ5IHRoZSBuYW1lIG9mIHlvdXIgTlcgYXBwIGlmIHlvdSB3YW50IG9wdGlvbnMuZmlsZW5hbWUgdG8gYmUgcmVsYXRpdmUgdG8gdGhlIGRpcmVjdG9yeSB3aGVyZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgV2Via2l0IHN0b3JlcyBhcHBsaWNhdGlvbiBkYXRhIHN1Y2ggYXMgY29va2llcyBhbmQgbG9jYWwgc3RvcmFnZSAodGhlIGJlc3QgcGxhY2UgdG8gc3RvcmUgZGF0YSBpbiBteSBvcGluaW9uKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmF1dG9sb2FkIE9wdGlvbmFsLCBkZWZhdWx0cyB0byBmYWxzZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbmxvYWQgT3B0aW9uYWwsIGlmIGF1dG9sb2FkIGlzIHVzZWQgdGhpcyB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgbG9hZCBkYXRhYmFzZSB3aXRoIHRoZSBlcnJvciBvYmplY3QgYXMgcGFyYW1ldGVyLiBJZiB5b3UgZG9uJ3QgcGFzcyBpdCB0aGUgZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuYWZ0ZXJTZXJpYWxpemF0aW9uIGFuZCBvcHRpb25zLmJlZm9yZURlc2VyaWFsaXphdGlvbiBPcHRpb25hbCwgc2VyaWFsaXphdGlvbiBob29rc1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuY29ycnVwdEFsZXJ0VGhyZXNob2xkIE9wdGlvbmFsLCB0aHJlc2hvbGQgYWZ0ZXIgd2hpY2ggYW4gYWxlcnQgaXMgdGhyb3duIGlmIHRvbyBtdWNoIGRhdGEgaXMgY29ycnVwdFxuICovXG5mdW5jdGlvbiBEYXRhc3RvcmUgKG9wdGlvbnMpIHtcbiAgdmFyIGZpbGVuYW1lO1xuXG4gIC8vIFJldHJvY29tcGF0aWJpbGl0eSB3aXRoIHYwLjYgYW5kIGJlZm9yZVxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgZmlsZW5hbWUgPSBvcHRpb25zO1xuICAgIHRoaXMuaW5NZW1vcnlPbmx5ID0gZmFsc2U7ICAgLy8gRGVmYXVsdFxuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZTtcbiAgICB0aGlzLmluTWVtb3J5T25seSA9IG9wdGlvbnMuaW5NZW1vcnlPbmx5IHx8IGZhbHNlO1xuICAgIHRoaXMuYXV0b2xvYWQgPSBvcHRpb25zLmF1dG9sb2FkIHx8IGZhbHNlO1xuICAgIHRoaXMudGltZXN0YW1wRGF0YSA9IG9wdGlvbnMudGltZXN0YW1wRGF0YSB8fCBmYWxzZTtcbiAgfVxuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGluIG1lbW9yeSBvciBwZXJzaXN0ZW50XG4gIGlmICghZmlsZW5hbWUgfHwgdHlwZW9mIGZpbGVuYW1lICE9PSAnc3RyaW5nJyB8fCBmaWxlbmFtZS5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICB0aGlzLmluTWVtb3J5T25seSA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICB9XG5cbiAgLy8gUGVyc2lzdGVuY2UgaGFuZGxpbmdcbiAgdGhpcy5wZXJzaXN0ZW5jZSA9IG5ldyBQZXJzaXN0ZW5jZSh7IGRiOiB0aGlzLCBub2RlV2Via2l0QXBwTmFtZTogb3B0aW9ucy5ub2RlV2Via2l0QXBwTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGFmdGVyU2VyaWFsaXphdGlvbjogb3B0aW9ucy5hZnRlclNlcmlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBiZWZvcmVEZXNlcmlhbGl6YXRpb246IG9wdGlvbnMuYmVmb3JlRGVzZXJpYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY29ycnVwdEFsZXJ0VGhyZXNob2xkOiBvcHRpb25zLmNvcnJ1cHRBbGVydFRocmVzaG9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAvLyBUaGlzIG5ldyBleGVjdXRvciBpcyByZWFkeSBpZiB3ZSBkb24ndCB1c2UgcGVyc2lzdGVuY2VcbiAgLy8gSWYgd2UgZG8sIGl0IHdpbGwgb25seSBiZSByZWFkeSBvbmNlIGxvYWREYXRhYmFzZSBpcyBjYWxsZWRcbiAgdGhpcy5leGVjdXRvciA9IG5ldyBFeGVjdXRvcigpO1xuICBpZiAodGhpcy5pbk1lbW9yeU9ubHkpIHsgdGhpcy5leGVjdXRvci5yZWFkeSA9IHRydWU7IH1cblxuICAvLyBJbmRleGVkIGJ5IGZpZWxkIG5hbWUsIGRvdCBub3RhdGlvbiBjYW4gYmUgdXNlZFxuICAvLyBfaWQgaXMgYWx3YXlzIGluZGV4ZWQgYW5kIHNpbmNlIF9pZHMgYXJlIGdlbmVyYXRlZCByYW5kb21seSB0aGUgdW5kZXJseWluZ1xuICAvLyBiaW5hcnkgaXMgYWx3YXlzIHdlbGwtYmFsYW5jZWRcbiAgdGhpcy5pbmRleGVzID0ge307XG4gIHRoaXMuaW5kZXhlcy5faWQgPSBuZXcgSW5kZXgoeyBmaWVsZE5hbWU6ICdfaWQnLCB1bmlxdWU6IHRydWUgfSk7XG5cbiAgLy8gUXVldWUgYSBsb2FkIG9mIHRoZSBkYXRhYmFzZSByaWdodCBhd2F5IGFuZCBjYWxsIHRoZSBvbmxvYWQgaGFuZGxlclxuICAvLyBCeSBkZWZhdWx0IChubyBvbmxvYWQgaGFuZGxlciksIGlmIHRoZXJlIGlzIGFuIGVycm9yIHRoZXJlLCBubyBvcGVyYXRpb24gd2lsbCBiZSBwb3NzaWJsZSBzbyB3YXJuIHRoZSB1c2VyIGJ5IHRocm93aW5nIGFuIGV4Y2VwdGlvblxuICBpZiAodGhpcy5hdXRvbG9hZCkgeyB0aGlzLmxvYWREYXRhYmFzZShvcHRpb25zLm9ubG9hZCB8fCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgeyB0aHJvdyBlcnI7IH1cbiAgfSk7IH1cbn1cblxuXG4vKipcbiAqIExvYWQgdGhlIGRhdGFiYXNlIGZyb20gdGhlIGRhdGFmaWxlLCBhbmQgdHJpZ2dlciB0aGUgZXhlY3V0aW9uIG9mIGJ1ZmZlcmVkIGNvbW1hbmRzIGlmIGFueVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmxvYWREYXRhYmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcy5wZXJzaXN0ZW5jZSwgZm46IHRoaXMucGVyc2lzdGVuY2UubG9hZERhdGFiYXNlLCBhcmd1bWVudHM6IGFyZ3VtZW50cyB9LCB0cnVlKTtcbn07XG5cblxuLyoqXG4gKiBHZXQgYW4gYXJyYXkgb2YgYWxsIHRoZSBkYXRhIGluIHRoZSBkYXRhYmFzZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmdldEFsbERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmluZGV4ZXMuX2lkLmdldEFsbCgpO1xufTtcblxuXG4vKipcbiAqIFJlc2V0IGFsbCBjdXJyZW50bHkgZGVmaW5lZCBpbmRleGVzXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUucmVzZXRJbmRleGVzID0gZnVuY3Rpb24gKG5ld0RhdGEpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIE9iamVjdC5rZXlzKHRoaXMuaW5kZXhlcykuZm9yRWFjaChmdW5jdGlvbiAoaSkge1xuICAgIHNlbGYuaW5kZXhlc1tpXS5yZXNldChuZXdEYXRhKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogRW5zdXJlIGFuIGluZGV4IGlzIGtlcHQgZm9yIHRoaXMgZmllbGQuIFNhbWUgcGFyYW1ldGVycyBhcyBsaWIvaW5kZXhlc1xuICogRm9yIG5vdyB0aGlzIGZ1bmN0aW9uIGlzIHN5bmNocm9ub3VzLCB3ZSBuZWVkIHRvIHRlc3QgaG93IG11Y2ggdGltZSBpdCB0YWtlc1xuICogV2UgdXNlIGFuIGFzeW5jIEFQSSBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgcmVzdCBvZiB0aGUgY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZmllbGROYW1lXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMudW5pcXVlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuc3BhcnNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnJcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5lbnN1cmVJbmRleCA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAoIW9wdGlvbnMuZmllbGROYW1lKSB7IHJldHVybiBjYWxsYmFjayh7IG1pc3NpbmdGaWVsZE5hbWU6IHRydWUgfSk7IH1cbiAgaWYgKHRoaXMuaW5kZXhlc1tvcHRpb25zLmZpZWxkTmFtZV0pIHsgcmV0dXJuIGNhbGxiYWNrKG51bGwpOyB9XG5cbiAgdGhpcy5pbmRleGVzW29wdGlvbnMuZmllbGROYW1lXSA9IG5ldyBJbmRleChvcHRpb25zKTtcblxuICB0cnkge1xuICAgIHRoaXMuaW5kZXhlc1tvcHRpb25zLmZpZWxkTmFtZV0uaW5zZXJ0KHRoaXMuZ2V0QWxsRGF0YSgpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGRlbGV0ZSB0aGlzLmluZGV4ZXNbb3B0aW9ucy5maWVsZE5hbWVdO1xuICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgfVxuXG4gIC8vIFdlIG1heSB3YW50IHRvIGZvcmNlIGFsbCBvcHRpb25zIHRvIGJlIHBlcnNpc3RlZCBpbmNsdWRpbmcgZGVmYXVsdHMsIG5vdCBqdXN0IHRoZSBvbmVzIHBhc3NlZCB0aGUgaW5kZXggY3JlYXRpb24gZnVuY3Rpb25cbiAgdGhpcy5wZXJzaXN0ZW5jZS5wZXJzaXN0TmV3U3RhdGUoW3sgJCRpbmRleENyZWF0ZWQ6IG9wdGlvbnMgfV0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYW4gaW5kZXhcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZE5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrLCBzaWduYXR1cmU6IGVyclxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLnJlbW92ZUluZGV4ID0gZnVuY3Rpb24gKGZpZWxkTmFtZSwgY2IpIHtcbiAgdmFyIGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24gKCkge307XG5cbiAgZGVsZXRlIHRoaXMuaW5kZXhlc1tmaWVsZE5hbWVdO1xuXG4gIHRoaXMucGVyc2lzdGVuY2UucGVyc2lzdE5ld1N0YXRlKFt7ICQkaW5kZXhSZW1vdmVkOiBmaWVsZE5hbWUgfV0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBBZGQgb25lIG9yIHNldmVyYWwgZG9jdW1lbnQocykgdG8gYWxsIGluZGV4ZXNcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5hZGRUb0luZGV4ZXMgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHZhciBpLCBmYWlsaW5nSW5kZXgsIGVycm9yXG4gICAgLCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5pbmRleGVzKVxuICAgIDtcblxuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmluZGV4ZXNba2V5c1tpXV0uaW5zZXJ0KGRvYyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZmFpbGluZ0luZGV4ID0gaTtcbiAgICAgIGVycm9yID0gZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIGFuIGVycm9yIGhhcHBlbmVkLCB3ZSBuZWVkIHRvIHJvbGxiYWNrIHRoZSBpbnNlcnQgb24gYWxsIG90aGVyIGluZGV4ZXNcbiAgaWYgKGVycm9yKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGZhaWxpbmdJbmRleDsgaSArPSAxKSB7XG4gICAgICB0aGlzLmluZGV4ZXNba2V5c1tpXV0ucmVtb3ZlKGRvYyk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgb25lIG9yIHNldmVyYWwgZG9jdW1lbnQocykgZnJvbSBhbGwgaW5kZXhlc1xuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLnJlbW92ZUZyb21JbmRleGVzID0gZnVuY3Rpb24gKGRvYykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgT2JqZWN0LmtleXModGhpcy5pbmRleGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgc2VsZi5pbmRleGVzW2ldLnJlbW92ZShkb2MpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBVcGRhdGUgb25lIG9yIHNldmVyYWwgZG9jdW1lbnRzIGluIGFsbCBpbmRleGVzXG4gKiBUbyB1cGRhdGUgbXVsdGlwbGUgZG9jdW1lbnRzLCBvbGREb2MgbXVzdCBiZSBhbiBhcnJheSBvZiB7IG9sZERvYywgbmV3RG9jIH0gcGFpcnNcbiAqIElmIG9uZSB1cGRhdGUgdmlvbGF0ZXMgYSBjb25zdHJhaW50LCBhbGwgY2hhbmdlcyBhcmUgcm9sbGVkIGJhY2tcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS51cGRhdGVJbmRleGVzID0gZnVuY3Rpb24gKG9sZERvYywgbmV3RG9jKSB7XG4gIHZhciBpLCBmYWlsaW5nSW5kZXgsIGVycm9yXG4gICAgLCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5pbmRleGVzKVxuICAgIDtcblxuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmluZGV4ZXNba2V5c1tpXV0udXBkYXRlKG9sZERvYywgbmV3RG9jKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBmYWlsaW5nSW5kZXggPSBpO1xuICAgICAgZXJyb3IgPSBlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYW4gZXJyb3IgaGFwcGVuZWQsIHdlIG5lZWQgdG8gcm9sbGJhY2sgdGhlIHVwZGF0ZSBvbiBhbGwgb3RoZXIgaW5kZXhlc1xuICBpZiAoZXJyb3IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmFpbGluZ0luZGV4OyBpICs9IDEpIHtcbiAgICAgIHRoaXMuaW5kZXhlc1trZXlzW2ldXS5yZXZlcnRVcGRhdGUob2xkRG9jLCBuZXdEb2MpO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0IG9mIGNhbmRpZGF0ZXMgZm9yIGEgZ2l2ZW4gcXVlcnlcbiAqIENydWRlIGltcGxlbWVudGF0aW9uIGZvciBub3csIHdlIHJldHVybiB0aGUgY2FuZGlkYXRlcyBnaXZlbiBieSB0aGUgZmlyc3QgdXNhYmxlIGluZGV4IGlmIGFueVxuICogV2UgdHJ5IHRoZSBmb2xsb3dpbmcgcXVlcnkgdHlwZXMsIGluIHRoaXMgb3JkZXI6IGJhc2ljIG1hdGNoLCAkaW4gbWF0Y2gsIGNvbXBhcmlzb24gbWF0Y2hcbiAqIE9uZSB3YXkgdG8gbWFrZSBpdCBiZXR0ZXIgd291bGQgYmUgdG8gZW5hYmxlIHRoZSB1c2Ugb2YgbXVsdGlwbGUgaW5kZXhlcyBpZiB0aGUgZmlyc3QgdXNhYmxlIGluZGV4XG4gKiByZXR1cm5zIHRvbyBtdWNoIGRhdGEuIEkgbWF5IGRvIGl0IGluIHRoZSBmdXR1cmUuXG4gKlxuICogVE9ETzogbmVlZHMgdG8gYmUgbW92ZWQgdG8gdGhlIEN1cnNvciBtb2R1bGVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5nZXRDYW5kaWRhdGVzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIHZhciBpbmRleE5hbWVzID0gT2JqZWN0LmtleXModGhpcy5pbmRleGVzKVxuICAgICwgdXNhYmxlUXVlcnlLZXlzO1xuXG4gIC8vIEZvciBhIGJhc2ljIG1hdGNoXG4gIHVzYWJsZVF1ZXJ5S2V5cyA9IFtdO1xuICBPYmplY3Qua2V5cyhxdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGlmICh0eXBlb2YgcXVlcnlba10gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBxdWVyeVtrXSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHF1ZXJ5W2tdID09PSAnYm9vbGVhbicgfHwgdXRpbC5pc0RhdGUocXVlcnlba10pIHx8IHF1ZXJ5W2tdID09PSBudWxsKSB7XG4gICAgICB1c2FibGVRdWVyeUtleXMucHVzaChrKTtcbiAgICB9XG4gIH0pO1xuICB1c2FibGVRdWVyeUtleXMgPSBfLmludGVyc2VjdGlvbih1c2FibGVRdWVyeUtleXMsIGluZGV4TmFtZXMpO1xuICBpZiAodXNhYmxlUXVlcnlLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleGVzW3VzYWJsZVF1ZXJ5S2V5c1swXV0uZ2V0TWF0Y2hpbmcocXVlcnlbdXNhYmxlUXVlcnlLZXlzWzBdXSk7XG4gIH1cblxuICAvLyBGb3IgYSAkaW4gbWF0Y2hcbiAgdXNhYmxlUXVlcnlLZXlzID0gW107XG4gIE9iamVjdC5rZXlzKHF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgaWYgKHF1ZXJ5W2tdICYmIHF1ZXJ5W2tdLmhhc093blByb3BlcnR5KCckaW4nKSkge1xuICAgICAgdXNhYmxlUXVlcnlLZXlzLnB1c2goayk7XG4gICAgfVxuICB9KTtcbiAgdXNhYmxlUXVlcnlLZXlzID0gXy5pbnRlcnNlY3Rpb24odXNhYmxlUXVlcnlLZXlzLCBpbmRleE5hbWVzKTtcbiAgaWYgKHVzYWJsZVF1ZXJ5S2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhlc1t1c2FibGVRdWVyeUtleXNbMF1dLmdldE1hdGNoaW5nKHF1ZXJ5W3VzYWJsZVF1ZXJ5S2V5c1swXV0uJGluKTtcbiAgfVxuXG4gIC8vIEZvciBhIGNvbXBhcmlzb24gbWF0Y2hcbiAgdXNhYmxlUXVlcnlLZXlzID0gW107XG4gIE9iamVjdC5rZXlzKHF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgaWYgKHF1ZXJ5W2tdICYmIChxdWVyeVtrXS5oYXNPd25Qcm9wZXJ0eSgnJGx0JykgfHwgcXVlcnlba10uaGFzT3duUHJvcGVydHkoJyRsdGUnKSB8fCBxdWVyeVtrXS5oYXNPd25Qcm9wZXJ0eSgnJGd0JykgfHwgcXVlcnlba10uaGFzT3duUHJvcGVydHkoJyRndGUnKSkpIHtcbiAgICAgIHVzYWJsZVF1ZXJ5S2V5cy5wdXNoKGspO1xuICAgIH1cbiAgfSk7XG4gIHVzYWJsZVF1ZXJ5S2V5cyA9IF8uaW50ZXJzZWN0aW9uKHVzYWJsZVF1ZXJ5S2V5cywgaW5kZXhOYW1lcyk7XG4gIGlmICh1c2FibGVRdWVyeUtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4ZXNbdXNhYmxlUXVlcnlLZXlzWzBdXS5nZXRCZXR3ZWVuQm91bmRzKHF1ZXJ5W3VzYWJsZVF1ZXJ5S2V5c1swXV0pO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCwgcmV0dXJuIGFsbCB0aGUgREIgZGF0YVxuICByZXR1cm4gdGhpcy5nZXRBbGxEYXRhKCk7XG59O1xuXG5cbi8qKlxuICogSW5zZXJ0IGEgbmV3IGRvY3VtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnIsIGluc2VydGVkRG9jXG4gKlxuICogQGFwaSBwcml2YXRlIFVzZSBEYXRhc3RvcmUuaW5zZXJ0IHdoaWNoIGhhcyB0aGUgc2FtZSBzaWduYXR1cmVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5faW5zZXJ0ID0gZnVuY3Rpb24gKG5ld0RvYywgY2IpIHtcbiAgdmFyIGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24gKCkge31cbiAgICAsIHByZXBhcmVkRG9jXG4gICAgO1xuXG4gIHRyeSB7XG4gICAgcHJlcGFyZWREb2MgPSB0aGlzLnByZXBhcmVEb2N1bWVudEZvckluc2VydGlvbihuZXdEb2MpXG4gICAgdGhpcy5faW5zZXJ0SW5DYWNoZShwcmVwYXJlZERvYyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gIH1cblxuICB0aGlzLnBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZSh1dGlsLmlzQXJyYXkocHJlcGFyZWREb2MpID8gcHJlcGFyZWREb2MgOiBbcHJlcGFyZWREb2NdLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBtb2RlbC5kZWVwQ29weShwcmVwYXJlZERvYykpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IF9pZCB0aGF0J3Mgbm90IGFscmVhZHkgaW4gdXNlXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuY3JlYXRlTmV3SWQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW50YXRpdmVJZCA9IGN1c3RvbVV0aWxzLnVpZCgxNik7XG4gIC8vIFRyeSBhcyBtYW55IHRpbWVzIGFzIG5lZWRlZCB0byBnZXQgYW4gdW51c2VkIF9pZC4gQXMgZXhwbGFpbmVkIGluIGN1c3RvbVV0aWxzLCB0aGUgcHJvYmFiaWxpdHkgb2YgdGhpcyBldmVyIGhhcHBlbmluZyBpcyBleHRyZW1lbHkgc21hbGwsIHNvIHRoaXMgaXMgTygxKVxuICBpZiAodGhpcy5pbmRleGVzLl9pZC5nZXRNYXRjaGluZyh0ZW50YXRpdmVJZCkubGVuZ3RoID4gMCkge1xuICAgIHRlbnRhdGl2ZUlkID0gdGhpcy5jcmVhdGVOZXdJZCgpO1xuICB9XG4gIHJldHVybiB0ZW50YXRpdmVJZDtcbn07XG5cbi8qKlxuICogUHJlcGFyZSBhIGRvY3VtZW50IChvciBhcnJheSBvZiBkb2N1bWVudHMpIHRvIGJlIGluc2VydGVkIGluIGEgZGF0YWJhc2VcbiAqIE1lYW5pbmcgYWRkcyBfaWQgYW5kIHRpbWVzdGFtcHMgaWYgbmVjZXNzYXJ5IG9uIGEgY29weSBvZiBuZXdEb2MgdG8gYXZvaWQgYW55IHNpZGUgZWZmZWN0IG9uIHVzZXIgaW5wdXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLnByZXBhcmVEb2N1bWVudEZvckluc2VydGlvbiA9IGZ1bmN0aW9uIChuZXdEb2MpIHtcbiAgdmFyIHByZXBhcmVkRG9jLCBzZWxmID0gdGhpcztcblxuICBpZiAodXRpbC5pc0FycmF5KG5ld0RvYykpIHtcbiAgICBwcmVwYXJlZERvYyA9IFtdO1xuICAgIG5ld0RvYy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsgcHJlcGFyZWREb2MucHVzaChzZWxmLnByZXBhcmVEb2N1bWVudEZvckluc2VydGlvbihkb2MpKTsgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHJlcGFyZWREb2MgPSBtb2RlbC5kZWVwQ29weShuZXdEb2MpO1xuICAgIGlmIChwcmVwYXJlZERvYy5faWQgPT09IHVuZGVmaW5lZCkgeyBwcmVwYXJlZERvYy5faWQgPSB0aGlzLmNyZWF0ZU5ld0lkKCk7IH1cbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICBpZiAodGhpcy50aW1lc3RhbXBEYXRhICYmIHByZXBhcmVkRG9jLmNyZWF0ZWRBdCA9PT0gdW5kZWZpbmVkKSB7IHByZXBhcmVkRG9jLmNyZWF0ZWRBdCA9IG5vdzsgfVxuICAgIGlmICh0aGlzLnRpbWVzdGFtcERhdGEgJiYgcHJlcGFyZWREb2MudXBkYXRlZEF0ID09PSB1bmRlZmluZWQpIHsgcHJlcGFyZWREb2MudXBkYXRlZEF0ID0gbm93OyB9XG4gICAgbW9kZWwuY2hlY2tPYmplY3QocHJlcGFyZWREb2MpO1xuICB9XG5cbiAgcmV0dXJuIHByZXBhcmVkRG9jO1xufTtcblxuLyoqXG4gKiBJZiBuZXdEb2MgaXMgYW4gYXJyYXkgb2YgZG9jdW1lbnRzLCB0aGlzIHdpbGwgaW5zZXJ0IGFsbCBkb2N1bWVudHMgaW4gdGhlIGNhY2hlXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5faW5zZXJ0SW5DYWNoZSA9IGZ1bmN0aW9uIChwcmVwYXJlZERvYykge1xuICBpZiAodXRpbC5pc0FycmF5KHByZXBhcmVkRG9jKSkge1xuICAgIHRoaXMuX2luc2VydE11bHRpcGxlRG9jc0luQ2FjaGUocHJlcGFyZWREb2MpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWRkVG9JbmRleGVzKHByZXBhcmVkRG9jKTtcbiAgfVxufTtcblxuLyoqXG4gKiBJZiBvbmUgaW5zZXJ0aW9uIGZhaWxzIChlLmcuIGJlY2F1c2Ugb2YgYSB1bmlxdWUgY29uc3RyYWludCksIHJvbGwgYmFjayBhbGwgcHJldmlvdXNcbiAqIGluc2VydHMgYW5kIHRocm93cyB0aGUgZXJyb3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLl9pbnNlcnRNdWx0aXBsZURvY3NJbkNhY2hlID0gZnVuY3Rpb24gKHByZXBhcmVkRG9jcykge1xuICB2YXIgaSwgZmFpbGluZ0ksIGVycm9yO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBwcmVwYXJlZERvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5hZGRUb0luZGV4ZXMocHJlcGFyZWREb2NzW2ldKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvciA9IGU7XG4gICAgICBmYWlsaW5nSSA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmFpbGluZ0k7IGkgKz0gMSkge1xuICAgICAgdGhpcy5yZW1vdmVGcm9tSW5kZXhlcyhwcmVwYXJlZERvY3NbaV0pO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5EYXRhc3RvcmUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcywgZm46IHRoaXMuX2luc2VydCwgYXJndW1lbnRzOiBhcmd1bWVudHMgfSk7XG59O1xuXG5cbi8qKlxuICogQ291bnQgYWxsIGRvY3VtZW50cyBtYXRjaGluZyB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBNb25nb0RCLXN0eWxlIHF1ZXJ5XG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbihxdWVyeSwgY2FsbGJhY2spIHtcbiAgdmFyIGN1cnNvciA9IG5ldyBDdXJzb3IodGhpcywgcXVlcnksIGZ1bmN0aW9uKGVyciwgZG9jcywgY2FsbGJhY2spIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGRvY3MubGVuZ3RoKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGN1cnNvci5leGVjKGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3Vyc29yO1xuICB9XG59O1xuXG5cbi8qKlxuICogRmluZCBhbGwgZG9jdW1lbnRzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICogSWYgbm8gY2FsbGJhY2sgaXMgcGFzc2VkLCB3ZSByZXR1cm4gdGhlIGN1cnNvciBzbyB0aGF0IHVzZXIgY2FuIGxpbWl0LCBza2lwIGFuZCBmaW5hbGx5IGV4ZWNcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBNb25nb0RCLXN0eWxlIHF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvamVjdGlvbiBNb25nb0RCLXN0eWxlIHByb2plY3Rpb25cbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHF1ZXJ5LCBwcm9qZWN0aW9uLCBjYWxsYmFjaykge1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6XG4gICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICAvLyBjYWxsYmFjayBpcyB1bmRlZmluZWQsIHdpbGwgcmV0dXJuIGEgY3Vyc29yXG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBpZiAodHlwZW9mIHByb2plY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBwcm9qZWN0aW9uO1xuICAgICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICB9ICAgLy8gSWYgbm90IGFzc3VtZSBwcm9qZWN0aW9uIGlzIGFuIG9iamVjdCBhbmQgY2FsbGJhY2sgdW5kZWZpbmVkXG4gICAgICBicmVhaztcbiAgfVxuXG4gIHZhciBjdXJzb3IgPSBuZXcgQ3Vyc29yKHRoaXMsIHF1ZXJ5LCBmdW5jdGlvbihlcnIsIGRvY3MsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlcyA9IFtdLCBpO1xuXG4gICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHJlcy5wdXNoKG1vZGVsLmRlZXBDb3B5KGRvY3NbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gIH0pO1xuXG4gIGN1cnNvci5wcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY3Vyc29yLmV4ZWMoY2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjdXJzb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBGaW5kIG9uZSBkb2N1bWVudCBtYXRjaGluZyB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBNb25nb0RCLXN0eWxlIHF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvamVjdGlvbiBNb25nb0RCLXN0eWxlIHByb2plY3Rpb25cbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5maW5kT25lID0gZnVuY3Rpb24gKHF1ZXJ5LCBwcm9qZWN0aW9uLCBjYWxsYmFjaykge1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6XG4gICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICAvLyBjYWxsYmFjayBpcyB1bmRlZmluZWQsIHdpbGwgcmV0dXJuIGEgY3Vyc29yXG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBpZiAodHlwZW9mIHByb2plY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBwcm9qZWN0aW9uO1xuICAgICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICB9ICAgLy8gSWYgbm90IGFzc3VtZSBwcm9qZWN0aW9uIGlzIGFuIG9iamVjdCBhbmQgY2FsbGJhY2sgdW5kZWZpbmVkXG4gICAgICBicmVhaztcbiAgfVxuXG4gIHZhciBjdXJzb3IgPSBuZXcgQ3Vyc29yKHRoaXMsIHF1ZXJ5LCBmdW5jdGlvbihlcnIsIGRvY3MsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuICAgIGlmIChkb2NzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG1vZGVsLmRlZXBDb3B5KGRvY3NbMF0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG51bGwpO1xuICAgIH1cbiAgfSk7XG5cbiAgY3Vyc29yLnByb2plY3Rpb24ocHJvamVjdGlvbikubGltaXQoMSk7XG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjdXJzb3IuZXhlYyhjYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGN1cnNvcjtcbiAgfVxufTtcblxuXG4vKipcbiAqIFVwZGF0ZSBhbGwgZG9jcyBtYXRjaGluZyBxdWVyeVxuICogRm9yIG5vdywgdmVyeSBuYWl2ZSBpbXBsZW1lbnRhdGlvbiAocmVjYWxjdWxhdGluZyB0aGUgd2hvbGUgZGF0YWJhc2UpXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSB1cGRhdGVRdWVyeVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgb3B0aW9uc1xuICogICAgICAgICAgICAgICAgIG9wdGlvbnMubXVsdGkgSWYgdHJ1ZSwgY2FuIHVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgKGRlZmF1bHRzIHRvIGZhbHNlKVxuICogICAgICAgICAgICAgICAgIG9wdGlvbnMudXBzZXJ0IElmIHRydWUsIGRvY3VtZW50IGlzIGluc2VydGVkIGlmIHRoZSBxdWVyeSBkb2Vzbid0IG1hdGNoIGFueXRoaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnIsIG51bVJlcGxhY2VkLCB1cHNlcnQgKHNldCB0byB0cnVlIGlmIHRoZSB1cGRhdGUgd2FzIGluIGZhY3QgYW4gdXBzZXJ0KVxuICpcbiAqIEBhcGkgcHJpdmF0ZSBVc2UgRGF0YXN0b3JlLnVwZGF0ZSB3aGljaCBoYXMgdGhlIHNhbWUgc2lnbmF0dXJlXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChxdWVyeSwgdXBkYXRlUXVlcnksIG9wdGlvbnMsIGNiKSB7XG4gIHZhciBjYWxsYmFja1xuICAgICwgc2VsZiA9IHRoaXNcbiAgICAsIG51bVJlcGxhY2VkID0gMFxuICAgICwgbXVsdGksIHVwc2VydFxuICAgICwgaVxuICAgIDtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHsgY2IgPSBvcHRpb25zOyBvcHRpb25zID0ge307IH1cbiAgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgbXVsdGkgPSBvcHRpb25zLm11bHRpICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm11bHRpIDogZmFsc2U7XG4gIHVwc2VydCA9IG9wdGlvbnMudXBzZXJ0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVwc2VydCA6IGZhbHNlO1xuXG4gIGFzeW5jLndhdGVyZmFsbChbXG4gIGZ1bmN0aW9uIChjYikgeyAgIC8vIElmIHVwc2VydCBvcHRpb24gaXMgc2V0LCBjaGVjayB3aGV0aGVyIHdlIG5lZWQgdG8gaW5zZXJ0IHRoZSBkb2NcbiAgICBpZiAoIXVwc2VydCkgeyByZXR1cm4gY2IoKTsgfVxuXG4gICAgLy8gTmVlZCB0byB1c2UgYW4gaW50ZXJuYWwgZnVuY3Rpb24gbm90IHRpZWQgdG8gdGhlIGV4ZWN1dG9yIHRvIGF2b2lkIGRlYWRsb2NrXG4gICAgdmFyIGN1cnNvciA9IG5ldyBDdXJzb3Ioc2VsZiwgcXVlcnkpO1xuICAgIGN1cnNvci5saW1pdCgxKS5fZXhlYyhmdW5jdGlvbiAoZXJyLCBkb2NzKSB7XG4gICAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgICBpZiAoZG9jcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGNiKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG9CZUluc2VydGVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbW9kZWwuY2hlY2tPYmplY3QodXBkYXRlUXVlcnkpO1xuICAgICAgICAgIC8vIHVwZGF0ZVF1ZXJ5IGlzIGEgc2ltcGxlIG9iamVjdCB3aXRoIG5vIG1vZGlmaWVyLCB1c2UgaXQgYXMgdGhlIGRvY3VtZW50IHRvIGluc2VydFxuICAgICAgICAgIHRvQmVJbnNlcnRlZCA9IHVwZGF0ZVF1ZXJ5O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gdXBkYXRlUXVlcnkgY29udGFpbnMgbW9kaWZpZXJzLCB1c2UgdGhlIGZpbmQgcXVlcnkgYXMgdGhlIGJhc2UsXG4gICAgICAgICAgLy8gc3RyaXAgaXQgZnJvbSBhbGwgb3BlcmF0b3JzIGFuZCB1cGRhdGUgaXQgYWNjb3JkaW5nIHRvIHVwZGF0ZVF1ZXJ5XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRvQmVJbnNlcnRlZCA9IG1vZGVsLm1vZGlmeShtb2RlbC5kZWVwQ29weShxdWVyeSwgdHJ1ZSksIHVwZGF0ZVF1ZXJ5KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmLl9pbnNlcnQodG9CZUluc2VydGVkLCBmdW5jdGlvbiAoZXJyLCBuZXdEb2MpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIDEsIG5ld0RvYyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gICwgZnVuY3Rpb24gKCkgeyAgIC8vIFBlcmZvcm0gdGhlIHVwZGF0ZVxuICAgIHZhciBtb2RpZmllZERvY1xuXHQgICwgY2FuZGlkYXRlcyA9IHNlbGYuZ2V0Q2FuZGlkYXRlcyhxdWVyeSlcblx0ICAsIG1vZGlmaWNhdGlvbnMgPSBbXVxuXHQgIDtcblxuICAgIC8vIFByZXBhcmluZyB1cGRhdGUgKGlmIGFuIGVycm9yIGlzIHRocm93biBoZXJlIG5laXRoZXIgdGhlIGRhdGFmaWxlIG5vclxuICAgIC8vIHRoZSBpbi1tZW1vcnkgaW5kZXhlcyBhcmUgYWZmZWN0ZWQpXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYW5kaWRhdGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChtb2RlbC5tYXRjaChjYW5kaWRhdGVzW2ldLCBxdWVyeSkgJiYgKG11bHRpIHx8IG51bVJlcGxhY2VkID09PSAwKSkge1xuICAgICAgICAgIG51bVJlcGxhY2VkICs9IDE7XG4gICAgICAgICAgbW9kaWZpZWREb2MgPSBtb2RlbC5tb2RpZnkoY2FuZGlkYXRlc1tpXSwgdXBkYXRlUXVlcnkpO1xuICAgICAgICAgIGlmIChzZWxmLnRpbWVzdGFtcERhdGEpIHsgbW9kaWZpZWREb2MudXBkYXRlZEF0ID0gbmV3IERhdGUoKTsgfVxuICAgICAgICAgIG1vZGlmaWNhdGlvbnMucHVzaCh7IG9sZERvYzogY2FuZGlkYXRlc1tpXSwgbmV3RG9jOiBtb2RpZmllZERvYyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBkb2NzIGluIG1lbW9yeVxuICAgIHRyeSB7XG4gICAgICAgIHNlbGYudXBkYXRlSW5kZXhlcyhtb2RpZmljYXRpb25zKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZGF0YWZpbGVcbiAgICBzZWxmLnBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZShfLnBsdWNrKG1vZGlmaWNhdGlvbnMsICduZXdEb2MnKSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG51bVJlcGxhY2VkKTtcbiAgICB9KTtcbiAgfVxuICBdKTtcbn07XG5EYXRhc3RvcmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcywgZm46IHRoaXMuX3VwZGF0ZSwgYXJndW1lbnRzOiBhcmd1bWVudHMgfSk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGFsbCBkb2NzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICogRm9yIG5vdyB2ZXJ5IG5haXZlIGltcGxlbWVudGF0aW9uIChzaW1pbGFyIHRvIHVwZGF0ZSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgb3B0aW9uc1xuICogICAgICAgICAgICAgICAgIG9wdGlvbnMubXVsdGkgSWYgdHJ1ZSwgY2FuIHVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgKGRlZmF1bHRzIHRvIGZhbHNlKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgT3B0aW9uYWwgY2FsbGJhY2ssIHNpZ25hdHVyZTogZXJyLCBudW1SZW1vdmVkXG4gKlxuICogQGFwaSBwcml2YXRlIFVzZSBEYXRhc3RvcmUucmVtb3ZlIHdoaWNoIGhhcyB0aGUgc2FtZSBzaWduYXR1cmVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24gKHF1ZXJ5LCBvcHRpb25zLCBjYikge1xuICB2YXIgY2FsbGJhY2tcbiAgICAsIHNlbGYgPSB0aGlzXG4gICAgLCBudW1SZW1vdmVkID0gMFxuICAgICwgbXVsdGlcbiAgICAsIHJlbW92ZWREb2NzID0gW11cbiAgICAsIGNhbmRpZGF0ZXMgPSB0aGlzLmdldENhbmRpZGF0ZXMocXVlcnkpXG4gICAgO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYiA9IG9wdGlvbnM7IG9wdGlvbnMgPSB7fTsgfVxuICBjYWxsYmFjayA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9O1xuICBtdWx0aSA9IG9wdGlvbnMubXVsdGkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXVsdGkgOiBmYWxzZTtcblxuICB0cnkge1xuICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKG1vZGVsLm1hdGNoKGQsIHF1ZXJ5KSAmJiAobXVsdGkgfHwgbnVtUmVtb3ZlZCA9PT0gMCkpIHtcbiAgICAgICAgbnVtUmVtb3ZlZCArPSAxO1xuICAgICAgICByZW1vdmVkRG9jcy5wdXNoKHsgJCRkZWxldGVkOiB0cnVlLCBfaWQ6IGQuX2lkIH0pO1xuICAgICAgICBzZWxmLnJlbW92ZUZyb21JbmRleGVzKGQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cblxuICBzZWxmLnBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZShyZW1vdmVkRG9jcywgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVtUmVtb3ZlZCk7XG4gIH0pO1xufTtcbkRhdGFzdG9yZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLCBmbjogdGhpcy5fcmVtb3ZlLCBhcmd1bWVudHM6IGFyZ3VtZW50cyB9KTtcbn07XG5cblxuXG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFzdG9yZTtcblxufSx7XCIuL2N1cnNvclwiOjExLFwiLi9jdXN0b21VdGlsc1wiOjgsXCIuL2V4ZWN1dG9yXCI6MTMsXCIuL2luZGV4ZXNcIjoxNCxcIi4vbW9kZWxcIjoxNSxcIi4vcGVyc2lzdGVuY2VcIjoxNixcImFzeW5jXCI6MTcsXCJ1bmRlcnNjb3JlXCI6MTgsXCJ1dGlsXCI6MjJ9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLyoqXG4gKiBSZXNwb25zaWJsZSBmb3Igc2VxdWVudGlhbGx5IGV4ZWN1dGluZyBhY3Rpb25zIG9uIHRoZSBkYXRhYmFzZVxuICovXG5cbnZhciBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJylcbiAgO1xuXG5mdW5jdGlvbiBFeGVjdXRvciAoKSB7XG4gIHRoaXMuYnVmZmVyID0gW107XG4gIHRoaXMucmVhZHkgPSBmYWxzZTtcblxuICAvLyBUaGlzIHF1ZXVlIHdpbGwgZXhlY3V0ZSBhbGwgY29tbWFuZHMsIG9uZS1ieS1vbmUgaW4gb3JkZXJcbiAgdGhpcy5xdWV1ZSA9IGFzeW5jLnF1ZXVlKGZ1bmN0aW9uICh0YXNrLCBjYikge1xuICAgIHZhciBjYWxsYmFja1xuICAgICAgLCBsYXN0QXJnID0gdGFzay5hcmd1bWVudHNbdGFzay5hcmd1bWVudHMubGVuZ3RoIC0gMV1cbiAgICAgICwgaSwgbmV3QXJndW1lbnRzID0gW11cbiAgICAgIDtcblxuICAgIC8vIHRhc2suYXJndW1lbnRzIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IG9uIHdoaWNoIGFkZGluZyBhIG5ldyBmaWVsZCBkb2Vzbid0IHdvcmssIHNvIHdlIHRyYW5zZm9ybSBpdCBpbnRvIGEgcmVhbCBhcnJheVxuICAgIGZvciAoaSA9IDA7IGkgPCB0YXNrLmFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkgeyBuZXdBcmd1bWVudHMucHVzaCh0YXNrLmFyZ3VtZW50c1tpXSk7IH1cblxuICAgIC8vIEFsd2F5cyB0ZWxsIHRoZSBxdWV1ZSB0YXNrIGlzIGNvbXBsZXRlLiBFeGVjdXRlIGNhbGxiYWNrIGlmIGFueSB3YXMgZ2l2ZW4uXG4gICAgaWYgKHR5cGVvZiBsYXN0QXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgc2V0SW1tZWRpYXRlKGNiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGNiKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJnLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBuZXdBcmd1bWVudHNbbmV3QXJndW1lbnRzLmxlbmd0aCAtIDFdID0gY2FsbGJhY2s7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBjYigpOyB9O1xuICAgICAgbmV3QXJndW1lbnRzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cblxuXG4gICAgdGFzay5mbi5hcHBseSh0YXNrLnRoaXMsIG5ld0FyZ3VtZW50cyk7XG4gIH0sIDEpO1xufVxuXG5cbi8qKlxuICogSWYgZXhlY3V0b3IgaXMgcmVhZHksIHF1ZXVlIHRhc2sgKGFuZCBwcm9jZXNzIGl0IGltbWVkaWF0ZWx5IGlmIGV4ZWN1dG9yIHdhcyBpZGxlKVxuICogSWYgbm90LCBidWZmZXIgdGFzayBmb3IgbGF0ZXIgcHJvY2Vzc2luZ1xuICogQHBhcmFtIHtPYmplY3R9IHRhc2tcbiAqICAgICAgICAgICAgICAgICB0YXNrLnRoaXMgLSBPYmplY3QgdG8gdXNlIGFzIHRoaXNcbiAqICAgICAgICAgICAgICAgICB0YXNrLmZuIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZVxuICogICAgICAgICAgICAgICAgIHRhc2suYXJndW1lbnRzIC0gQXJyYXkgb2YgYXJndW1lbnRzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlUXVldWluZyBPcHRpb25hbCAoZGVmYXVsdHMgdG8gZmFsc2UpIGZvcmNlIGV4ZWN1dG9yIHRvIHF1ZXVlIHRhc2sgZXZlbiBpZiBpdCBpcyBub3QgcmVhZHlcbiAqL1xuRXhlY3V0b3IucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodGFzaywgZm9yY2VRdWV1aW5nKSB7XG4gIGlmICh0aGlzLnJlYWR5IHx8IGZvcmNlUXVldWluZykge1xuICAgIHRoaXMucXVldWUucHVzaCh0YXNrKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmJ1ZmZlci5wdXNoKHRhc2spO1xuICB9XG59O1xuXG5cbi8qKlxuICogUXVldWUgYWxsIHRhc2tzIGluIGJ1ZmZlciAoaW4gdGhlIHNhbWUgb3JkZXIgdGhleSBjYW1lIGluKVxuICogQXV0b21hdGljYWxseSBzZXRzIGV4ZWN1dG9yIGFzIHJlYWR5XG4gKi9cbkV4ZWN1dG9yLnByb3RvdHlwZS5wcm9jZXNzQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaTtcbiAgdGhpcy5yZWFkeSA9IHRydWU7XG4gIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlci5sZW5ndGg7IGkgKz0gMSkgeyB0aGlzLnF1ZXVlLnB1c2godGhpcy5idWZmZXJbaV0pOyB9XG4gIHRoaXMuYnVmZmVyID0gW107XG59O1xuXG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dG9yO1xuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSlcbn0se1wiX3Byb2Nlc3NcIjoyMCxcImFzeW5jXCI6MTd9XSwxNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgQmluYXJ5U2VhcmNoVHJlZSA9IHJlcXVpcmUoJ2JpbmFyeS1zZWFyY2gtdHJlZScpLkFWTFRyZWVcbiAgLCBtb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWwnKVxuICAsIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJylcbiAgLCB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG4gIDtcblxuLyoqXG4gKiBUd28gaW5kZXhlZCBwb2ludGVycyBhcmUgZXF1YWwgaWlmIHRoZXkgcG9pbnQgdG8gdGhlIHNhbWUgcGxhY2VcbiAqL1xuZnVuY3Rpb24gY2hlY2tWYWx1ZUVxdWFsaXR5IChhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufVxuXG4vKipcbiAqIFR5cGUtYXdhcmUgcHJvamVjdGlvblxuICovXG5mdW5jdGlvbiBwcm9qZWN0Rm9yVW5pcXVlIChlbHQpIHtcbiAgaWYgKGVsdCA9PT0gbnVsbCkgeyByZXR1cm4gJyRudWxsJzsgfVxuICBpZiAodHlwZW9mIGVsdCA9PT0gJ3N0cmluZycpIHsgcmV0dXJuICckc3RyaW5nJyArIGVsdDsgfVxuICBpZiAodHlwZW9mIGVsdCA9PT0gJ2Jvb2xlYW4nKSB7IHJldHVybiAnJGJvb2xlYW4nICsgZWx0OyB9XG4gIGlmICh0eXBlb2YgZWx0ID09PSAnbnVtYmVyJykgeyByZXR1cm4gJyRudW1iZXInICsgZWx0OyB9XG4gIGlmICh1dGlsLmlzQXJyYXkoZWx0KSkgeyByZXR1cm4gJyRkYXRlJyArIGVsdC5nZXRUaW1lKCk7IH1cbiAgXG4gIHJldHVybiBlbHQ7ICAgLy8gQXJyYXlzIGFuZCBvYmplY3RzLCB3aWxsIGNoZWNrIGZvciBwb2ludGVyIGVxdWFsaXR5XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5kZXhcbiAqIEFsbCBtZXRob2RzIG9uIGFuIGluZGV4IGd1YXJhbnRlZSB0aGF0IGVpdGhlciB0aGUgd2hvbGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsIGFuZCB0aGUgaW5kZXggY2hhbmdlZFxuICogb3IgdGhlIG9wZXJhdGlvbiB3YXMgdW5zdWNjZXNzZnVsIGFuZCBhbiBlcnJvciBpcyB0aHJvd24gd2hpbGUgdGhlIGluZGV4IGlzIHVuY2hhbmdlZFxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZmllbGROYW1lIE9uIHdoaWNoIGZpZWxkIHNob3VsZCB0aGUgaW5kZXggYXBwbHkgKGNhbiB1c2UgZG90IG5vdGF0aW9uIHRvIGluZGV4IG9uIHN1YiBmaWVsZHMpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMudW5pcXVlIE9wdGlvbmFsLCBlbmZvcmNlIGEgdW5pcXVlIGNvbnN0cmFpbnQgKGRlZmF1bHQ6IGZhbHNlKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnNwYXJzZSBPcHRpb25hbCwgYWxsb3cgYSBzcGFyc2UgaW5kZXggKHdlIGNhbiBoYXZlIGRvY3VtZW50cyBmb3Igd2hpY2ggZmllbGROYW1lIGlzIHVuZGVmaW5lZCkgKGRlZmF1bHQ6IGZhbHNlKVxuICovXG5mdW5jdGlvbiBJbmRleCAob3B0aW9ucykge1xuICB0aGlzLmZpZWxkTmFtZSA9IG9wdGlvbnMuZmllbGROYW1lO1xuICB0aGlzLnVuaXF1ZSA9IG9wdGlvbnMudW5pcXVlIHx8IGZhbHNlO1xuICB0aGlzLnNwYXJzZSA9IG9wdGlvbnMuc3BhcnNlIHx8IGZhbHNlO1xuXG4gIHRoaXMudHJlZU9wdGlvbnMgPSB7IHVuaXF1ZTogdGhpcy51bmlxdWUsIGNvbXBhcmVLZXlzOiBtb2RlbC5jb21wYXJlVGhpbmdzLCBjaGVja1ZhbHVlRXF1YWxpdHk6IGNoZWNrVmFsdWVFcXVhbGl0eSB9O1xuXG4gIHRoaXMucmVzZXQoKTsgICAvLyBObyBkYXRhIGluIHRoZSBiZWdpbm5pbmdcbn1cblxuXG4vKipcbiAqIFJlc2V0IGFuIGluZGV4XG4gKiBAcGFyYW0ge0RvY3VtZW50IG9yIEFycmF5IG9mIGRvY3VtZW50c30gbmV3RGF0YSBPcHRpb25hbCwgZGF0YSB0byBpbml0aWFsaXplIHRoZSBpbmRleCB3aXRoXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBhbiBlcnJvciBpcyB0aHJvd24gZHVyaW5nIGluc2VydGlvbiwgdGhlIGluZGV4IGlzIG5vdCBtb2RpZmllZFxuICovXG5JbmRleC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAobmV3RGF0YSkge1xuICB0aGlzLnRyZWUgPSBuZXcgQmluYXJ5U2VhcmNoVHJlZSh0aGlzLnRyZWVPcHRpb25zKTtcblxuICBpZiAobmV3RGF0YSkgeyB0aGlzLmluc2VydChuZXdEYXRhKTsgfVxufTtcblxuXG4vKipcbiAqIEluc2VydCBhIG5ldyBkb2N1bWVudCBpbiB0aGUgaW5kZXhcbiAqIElmIGFuIGFycmF5IGlzIHBhc3NlZCwgd2UgaW5zZXJ0IGFsbCBpdHMgZWxlbWVudHMgKGlmIG9uZSBpbnNlcnRpb24gZmFpbHMgdGhlIGluZGV4IGlzIG5vdCBtb2RpZmllZClcbiAqIE8obG9nKG4pKVxuICovXG5JbmRleC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGRvYykge1xuICB2YXIga2V5LCBzZWxmID0gdGhpc1xuICAgICwga2V5cywgaSwgZmFpbGluZ0ksIGVycm9yXG4gICAgO1xuXG4gIGlmICh1dGlsLmlzQXJyYXkoZG9jKSkgeyB0aGlzLmluc2VydE11bHRpcGxlRG9jcyhkb2MpOyByZXR1cm47IH1cblxuICBrZXkgPSBtb2RlbC5nZXREb3RWYWx1ZShkb2MsIHRoaXMuZmllbGROYW1lKTtcblxuICAvLyBXZSBkb24ndCBpbmRleCBkb2N1bWVudHMgdGhhdCBkb24ndCBjb250YWluIHRoZSBmaWVsZCBpZiB0aGUgaW5kZXggaXMgc3BhcnNlXG4gIGlmIChrZXkgPT09IHVuZGVmaW5lZCAmJiB0aGlzLnNwYXJzZSkgeyByZXR1cm47IH1cblxuICBpZiAoIXV0aWwuaXNBcnJheShrZXkpKSB7XG4gICAgdGhpcy50cmVlLmluc2VydChrZXksIGRvYyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgYW4gaW5zZXJ0IGZhaWxzIGR1ZSB0byBhIHVuaXF1ZSBjb25zdHJhaW50LCByb2xsIGJhY2sgYWxsIGluc2VydHMgYmVmb3JlIGl0XG4gICAga2V5cyA9IF8udW5pcShrZXksIHByb2plY3RGb3JVbmlxdWUpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMudHJlZS5pbnNlcnQoa2V5c1tpXSwgZG9jKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICBmYWlsaW5nSSA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmYWlsaW5nSTsgaSArPSAxKSB7XG4gICAgICAgIHRoaXMudHJlZS5kZWxldGUoa2V5c1tpXSwgZG9jKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogSW5zZXJ0IGFuIGFycmF5IG9mIGRvY3VtZW50cyBpbiB0aGUgaW5kZXhcbiAqIElmIGEgY29uc3RyYWludCBpcyB2aW9sYXRlZCwgdGhlIGNoYW5nZXMgc2hvdWxkIGJlIHJvbGxlZCBiYWNrIGFuZCBhbiBlcnJvciB0aHJvd25cbiAqXG4gKiBAQVBJIHByaXZhdGVcbiAqL1xuSW5kZXgucHJvdG90eXBlLmluc2VydE11bHRpcGxlRG9jcyA9IGZ1bmN0aW9uIChkb2NzKSB7XG4gIHZhciBpLCBlcnJvciwgZmFpbGluZ0k7XG5cbiAgZm9yIChpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5pbnNlcnQoZG9jc1tpXSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3IgPSBlO1xuICAgICAgZmFpbGluZ0kgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGZhaWxpbmdJOyBpICs9IDEpIHtcbiAgICAgIHRoaXMucmVtb3ZlKGRvY3NbaV0pO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGEgZG9jdW1lbnQgZnJvbSB0aGUgaW5kZXhcbiAqIElmIGFuIGFycmF5IGlzIHBhc3NlZCwgd2UgcmVtb3ZlIGFsbCBpdHMgZWxlbWVudHNcbiAqIFRoZSByZW1vdmUgb3BlcmF0aW9uIGlzIHNhZmUgd2l0aCByZWdhcmRzIHRvIHRoZSAndW5pcXVlJyBjb25zdHJhaW50XG4gKiBPKGxvZyhuKSlcbiAqL1xuSW5kZXgucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgdmFyIGtleSwgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHV0aWwuaXNBcnJheShkb2MpKSB7IGRvYy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7IHNlbGYucmVtb3ZlKGQpOyB9KTsgcmV0dXJuOyB9XG5cbiAga2V5ID0gbW9kZWwuZ2V0RG90VmFsdWUoZG9jLCB0aGlzLmZpZWxkTmFtZSk7XG5cbiAgaWYgKGtleSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuc3BhcnNlKSB7IHJldHVybjsgfVxuXG4gIGlmICghdXRpbC5pc0FycmF5KGtleSkpIHtcbiAgICB0aGlzLnRyZWUuZGVsZXRlKGtleSwgZG9jKTtcbiAgfSBlbHNlIHtcbiAgICBfLnVuaXEoa2V5LCBwcm9qZWN0Rm9yVW5pcXVlKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG4gICAgICBzZWxmLnRyZWUuZGVsZXRlKF9rZXksIGRvYyk7XG4gICAgfSk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBVcGRhdGUgYSBkb2N1bWVudCBpbiB0aGUgaW5kZXhcbiAqIElmIGEgY29uc3RyYWludCBpcyB2aW9sYXRlZCwgY2hhbmdlcyBhcmUgcm9sbGVkIGJhY2sgYW5kIGFuIGVycm9yIHRocm93blxuICogTmFpdmUgaW1wbGVtZW50YXRpb24sIHN0aWxsIGluIE8obG9nKG4pKVxuICovXG5JbmRleC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKG9sZERvYywgbmV3RG9jKSB7XG4gIGlmICh1dGlsLmlzQXJyYXkob2xkRG9jKSkgeyB0aGlzLnVwZGF0ZU11bHRpcGxlRG9jcyhvbGREb2MpOyByZXR1cm47IH1cblxuICB0aGlzLnJlbW92ZShvbGREb2MpO1xuXG4gIHRyeSB7XG4gICAgdGhpcy5pbnNlcnQobmV3RG9jKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRoaXMuaW5zZXJ0KG9sZERvYyk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgaW4gdGhlIGluZGV4XG4gKiBJZiBhIGNvbnN0cmFpbnQgaXMgdmlvbGF0ZWQsIHRoZSBjaGFuZ2VzIG5lZWQgdG8gYmUgcm9sbGVkIGJhY2tcbiAqIGFuZCBhbiBlcnJvciB0aHJvd25cbiAqIEBwYXJhbSB7QXJyYXkgb2Ygb2xkRG9jLCBuZXdEb2MgcGFpcnN9IHBhaXJzXG4gKlxuICogQEFQSSBwcml2YXRlXG4gKi9cbkluZGV4LnByb3RvdHlwZS51cGRhdGVNdWx0aXBsZURvY3MgPSBmdW5jdGlvbiAocGFpcnMpIHtcbiAgdmFyIGksIGZhaWxpbmdJLCBlcnJvcjtcblxuICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzLnJlbW92ZShwYWlyc1tpXS5vbGREb2MpO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaW5zZXJ0KHBhaXJzW2ldLm5ld0RvYyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3IgPSBlO1xuICAgICAgZmFpbGluZ0kgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYW4gZXJyb3Igd2FzIHJhaXNlZCwgcm9sbCBiYWNrIGNoYW5nZXMgaW4gdGhlIGludmVyc2Ugb3JkZXJcbiAgaWYgKGVycm9yKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGZhaWxpbmdJOyBpICs9IDEpIHtcbiAgICAgIHRoaXMucmVtb3ZlKHBhaXJzW2ldLm5ld0RvYyk7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzLmluc2VydChwYWlyc1tpXS5vbGREb2MpO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV2ZXJ0IGFuIHVwZGF0ZVxuICovXG5JbmRleC5wcm90b3R5cGUucmV2ZXJ0VXBkYXRlID0gZnVuY3Rpb24gKG9sZERvYywgbmV3RG9jKSB7XG4gIHZhciByZXZlcnQgPSBbXTtcblxuICBpZiAoIXV0aWwuaXNBcnJheShvbGREb2MpKSB7XG4gICAgdGhpcy51cGRhdGUobmV3RG9jLCBvbGREb2MpO1xuICB9IGVsc2Uge1xuICAgIG9sZERvYy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICByZXZlcnQucHVzaCh7IG9sZERvYzogcGFpci5uZXdEb2MsIG5ld0RvYzogcGFpci5vbGREb2MgfSk7XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGUocmV2ZXJ0KTtcbiAgfVxufTtcblxuXG4vLyBBcHBlbmQgYWxsIGVsZW1lbnRzIGluIHRvQXBwZW5kIHRvIGFycmF5XG5mdW5jdGlvbiBhcHBlbmQgKGFycmF5LCB0b0FwcGVuZCkge1xuICB2YXIgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgdG9BcHBlbmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBhcnJheS5wdXNoKHRvQXBwZW5kW2ldKTtcbiAgfVxufVxuXG5cbi8qKlxuICogR2V0IGFsbCBkb2N1bWVudHMgaW4gaW5kZXggd2hvc2Uga2V5IG1hdGNoIHZhbHVlIChpZiBpdCBpcyBhIFRoaW5nKSBvciBvbmUgb2YgdGhlIGVsZW1lbnRzIG9mIHZhbHVlIChpZiBpdCBpcyBhbiBhcnJheSBvZiBUaGluZ3MpXG4gKiBAcGFyYW0ge1RoaW5nfSB2YWx1ZSBWYWx1ZSB0byBtYXRjaCB0aGUga2V5IGFnYWluc3RcbiAqIEByZXR1cm4ge0FycmF5IG9mIGRvY3VtZW50c31cbiAqL1xuSW5kZXgucHJvdG90eXBlLmdldE1hdGNoaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoIXV0aWwuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdGhpcy50cmVlLnNlYXJjaCh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9yZXMgPSB7fSwgcmVzID0gW107XG5cbiAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICBzZWxmLmdldE1hdGNoaW5nKHYpLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBfcmVzW2RvYy5faWRdID0gZG9jO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBPYmplY3Qua2V5cyhfcmVzKS5mb3JFYWNoKGZ1bmN0aW9uIChfaWQpIHtcbiAgICAgIHJlcy5wdXNoKF9yZXNbX2lkXSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuXG5cbi8qKlxuICogR2V0IGFsbCBkb2N1bWVudHMgaW4gaW5kZXggd2hvc2Uga2V5IGlzIGJldHdlZW4gYm91bmRzIGFyZSB0aGV5IGFyZSBkZWZpbmVkIGJ5IHF1ZXJ5XG4gKiBEb2N1bWVudHMgYXJlIHNvcnRlZCBieSBrZXlcbiAqIEBwYXJhbSB7UXVlcnl9IHF1ZXJ5XG4gKiBAcmV0dXJuIHtBcnJheSBvZiBkb2N1bWVudHN9XG4gKi9cbkluZGV4LnByb3RvdHlwZS5nZXRCZXR3ZWVuQm91bmRzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIHJldHVybiB0aGlzLnRyZWUuYmV0d2VlbkJvdW5kcyhxdWVyeSk7XG59O1xuXG5cbi8qKlxuICogR2V0IGFsbCBlbGVtZW50cyBpbiB0aGUgaW5kZXhcbiAqIEByZXR1cm4ge0FycmF5IG9mIGRvY3VtZW50c31cbiAqL1xuSW5kZXgucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlcyA9IFtdO1xuXG4gIHRoaXMudHJlZS5leGVjdXRlT25FdmVyeU5vZGUoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLmRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHJlcy5wdXNoKG5vZGUuZGF0YVtpXSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzO1xufTtcblxuXG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cyA9IEluZGV4O1xuXG59LHtcIi4vbW9kZWxcIjoxNSxcImJpbmFyeS1zZWFyY2gtdHJlZVwiOjEsXCJ1bmRlcnNjb3JlXCI6MTgsXCJ1dGlsXCI6MjJ9XSwxNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIEhhbmRsZSBtb2RlbHMgKGkuZS4gZG9jcylcbiAqIFNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uXG4gKiBDb3B5aW5nXG4gKiBRdWVyeWluZywgdXBkYXRlXG4gKi9cblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpXG4gICwgbW9kaWZpZXJGdW5jdGlvbnMgPSB7fVxuICAsIGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMgPSB7fVxuICAsIGNvbXBhcmlzb25GdW5jdGlvbnMgPSB7fVxuICAsIGxvZ2ljYWxPcGVyYXRvcnMgPSB7fVxuICAsIGFycmF5Q29tcGFyaXNvbkZ1bmN0aW9ucyA9IHt9XG4gIDtcblxuXG4vKipcbiAqIENoZWNrIGEga2V5LCB0aHJvdyBhbiBlcnJvciBpZiB0aGUga2V5IGlzIG5vbiB2YWxpZFxuICogQHBhcmFtIHtTdHJpbmd9IGsga2V5XG4gKiBAcGFyYW0ge01vZGVsfSB2IHZhbHVlLCBuZWVkZWQgdG8gdHJlYXQgdGhlIERhdGUgZWRnZSBjYXNlXG4gKiBOb24tdHJlYXRhYmxlIGVkZ2UgY2FzZXMgaGVyZTogaWYgcGFydCBvZiB0aGUgb2JqZWN0IGlmIG9mIHRoZSBmb3JtIHsgJCRkYXRlOiBudW1iZXIgfSBvciB7ICQkZGVsZXRlZDogdHJ1ZSB9XG4gKiBJdHMgc2VyaWFsaXplZC10aGVuLWRlc2VyaWFsaXplZCB2ZXJzaW9uIGl0IHdpbGwgdHJhbnNmb3JtZWQgaW50byBhIERhdGUgb2JqZWN0XG4gKiBCdXQgeW91IHJlYWxseSBuZWVkIHRvIHdhbnQgaXQgdG8gdHJpZ2dlciBzdWNoIGJlaGF2aW91ciwgZXZlbiB3aGVuIHdhcm5lZCBub3QgdG8gdXNlICckJyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBmaWVsZCBuYW1lcy4uLlxuICovXG5mdW5jdGlvbiBjaGVja0tleSAoaywgdikge1xuICBpZiAodHlwZW9mIGsgPT09ICdudW1iZXInKSB7XG4gICAgayA9IGsudG9TdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChrWzBdID09PSAnJCcgJiYgIShrID09PSAnJCRkYXRlJyAmJiB0eXBlb2YgdiA9PT0gJ251bWJlcicpICYmICEoayA9PT0gJyQkZGVsZXRlZCcgJiYgdiA9PT0gdHJ1ZSkgJiYgIShrID09PSAnJCRpbmRleENyZWF0ZWQnKSAmJiAhKGsgPT09ICckJGluZGV4UmVtb3ZlZCcpKSB7XG4gICAgdGhyb3cgJ0ZpZWxkIG5hbWVzIGNhbm5vdCBiZWdpbiB3aXRoIHRoZSAkIGNoYXJhY3Rlcic7XG4gIH1cblxuICBpZiAoay5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgdGhyb3cgJ0ZpZWxkIG5hbWVzIGNhbm5vdCBjb250YWluIGEgLic7XG4gIH1cbn1cblxuXG4vKipcbiAqIENoZWNrIGEgREIgb2JqZWN0IGFuZCB0aHJvdyBhbiBlcnJvciBpZiBpdCdzIG5vdCB2YWxpZFxuICogV29ya3MgYnkgYXBwbHlpbmcgdGhlIGFib3ZlIGNoZWNrS2V5IGZ1bmN0aW9uIHRvIGFsbCBmaWVsZHMgcmVjdXJzaXZlbHlcbiAqL1xuZnVuY3Rpb24gY2hlY2tPYmplY3QgKG9iaikge1xuICBpZiAodXRpbC5pc0FycmF5KG9iaikpIHtcbiAgICBvYmouZm9yRWFjaChmdW5jdGlvbiAobykge1xuICAgICAgY2hlY2tPYmplY3Qobyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBjaGVja0tleShrLCBvYmpba10pO1xuICAgICAgY2hlY2tPYmplY3Qob2JqW2tdKTtcbiAgICB9KTtcbiAgfVxufVxuXG5cbi8qKlxuICogU2VyaWFsaXplIGFuIG9iamVjdCB0byBiZSBwZXJzaXN0ZWQgdG8gYSBvbmUtbGluZSBzdHJpbmdcbiAqIEZvciBzZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbiwgd2UgdXNlIHRoZSBuYXRpdmUgSlNPTiBwYXJzZXIgYW5kIG5vdCBldmFsIG9yIEZ1bmN0aW9uXG4gKiBUaGF0IGdpdmVzIHVzIGxlc3MgZnJlZWRvbSBidXQgZGF0YSBlbnRlcmVkIGluIHRoZSBkYXRhYmFzZSBtYXkgY29tZSBmcm9tIHVzZXJzXG4gKiBzbyBldmFsIGFuZCB0aGUgbGlrZSBhcmUgbm90IHNhZmVcbiAqIEFjY2VwdGVkIHByaW1pdGl2ZSB0eXBlczogTnVtYmVyLCBTdHJpbmcsIEJvb2xlYW4sIERhdGUsIG51bGxcbiAqIEFjY2VwdGVkIHNlY29uZGFyeSB0eXBlczogT2JqZWN0cywgQXJyYXlzXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZSAob2JqKSB7XG4gIHZhciByZXM7XG5cbiAgcmVzID0gSlNPTi5zdHJpbmdpZnkob2JqLCBmdW5jdGlvbiAoaywgdikge1xuICAgIGNoZWNrS2V5KGssIHYpO1xuXG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG4gICAgaWYgKHYgPT09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIC8vIEhhY2tpc2ggd2F5IG9mIGNoZWNraW5nIGlmIG9iamVjdCBpcyBEYXRlICh0aGlzIHdheSBpdCB3b3JrcyBiZXR3ZWVuIGV4ZWN1dGlvbiBjb250ZXh0cyBpbiBub2RlLXdlYmtpdCkuXG4gICAgLy8gV2UgY2FuJ3QgdXNlIHZhbHVlIGRpcmVjdGx5IGJlY2F1c2UgZm9yIGRhdGVzIGl0IGlzIGFscmVhZHkgc3RyaW5nIGluIHRoaXMgZnVuY3Rpb24gKGRhdGUudG9KU09OIHdhcyBhbHJlYWR5IGNhbGxlZCksIHNvIHdlIHVzZSB0aGlzXG4gICAgaWYgKHR5cGVvZiB0aGlzW2tdLmdldFRpbWUgPT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIHsgJCRkYXRlOiB0aGlzW2tdLmdldFRpbWUoKSB9OyB9XG5cbiAgICByZXR1cm4gdjtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG4vKipcbiAqIEZyb20gYSBvbmUtbGluZSByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QgZ2VuZXJhdGUgYnkgdGhlIHNlcmlhbGl6ZSBmdW5jdGlvblxuICogUmV0dXJuIHRoZSBvYmplY3QgaXRzZWxmXG4gKi9cbmZ1bmN0aW9uIGRlc2VyaWFsaXplIChyYXdEYXRhKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKHJhd0RhdGEsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgaWYgKGsgPT09ICckJGRhdGUnKSB7IHJldHVybiBuZXcgRGF0ZSh2KTsgfVxuICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHYgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHwgdiA9PT0gbnVsbCkgeyByZXR1cm4gdjsgfVxuICAgIGlmICh2ICYmIHYuJCRkYXRlKSB7IHJldHVybiB2LiQkZGF0ZTsgfVxuXG4gICAgcmV0dXJuIHY7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogRGVlcCBjb3B5IGEgREIgb2JqZWN0XG4gKiBUaGUgb3B0aW9uYWwgc3RyaWN0S2V5cyBmbGFnIChkZWZhdWx0aW5nIHRvIGZhbHNlKSBpbmRpY2F0ZXMgd2hldGhlciB0byBjb3B5IGV2ZXJ5dGhpbmcgb3Igb25seSBmaWVsZHNcbiAqIHdoZXJlIHRoZSBrZXlzIGFyZSB2YWxpZCwgaS5lLiBkb24ndCBiZWdpbiB3aXRoICQgYW5kIGRvbid0IGNvbnRhaW4gYSAuXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5IChvYmosIHN0cmljdEtleXMpIHtcbiAgdmFyIHJlcztcblxuICBpZiAoIHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fFxuICAgICAgIHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8XG4gICAgICAgdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICBvYmogPT09IG51bGwgfHxcbiAgICAgICAodXRpbC5pc0RhdGUob2JqKSkgKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmICh1dGlsLmlzQXJyYXkob2JqKSkge1xuICAgIHJlcyA9IFtdO1xuICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7IHJlcy5wdXNoKGRlZXBDb3B5KG8sIHN0cmljdEtleXMpKTsgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJlcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKCFzdHJpY3RLZXlzIHx8IChrWzBdICE9PSAnJCcgJiYgay5pbmRleE9mKCcuJykgPT09IC0xKSkge1xuICAgICAgICByZXNba10gPSBkZWVwQ29weShvYmpba10sIHN0cmljdEtleXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkOyAgIC8vIEZvciBub3cgZXZlcnl0aGluZyBlbHNlIGlzIHVuZGVmaW5lZC4gV2Ugc2hvdWxkIHByb2JhYmx5IHRocm93IGFuIGVycm9yIGluc3RlYWRcbn1cblxuXG4vKipcbiAqIFRlbGxzIGlmIGFuIG9iamVjdCBpcyBhIHByaW1pdGl2ZSB0eXBlIG9yIGEgXCJyZWFsXCIgb2JqZWN0XG4gKiBBcnJheXMgYXJlIGNvbnNpZGVyZWQgcHJpbWl0aXZlXG4gKi9cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlVHlwZSAob2JqKSB7XG4gIHJldHVybiAoIHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fFxuICAgICAgIHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8XG4gICAgICAgdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICBvYmogPT09IG51bGwgfHxcbiAgICAgICB1dGlsLmlzRGF0ZShvYmopIHx8XG4gICAgICAgdXRpbC5pc0FycmF5KG9iaikpO1xufVxuXG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNvbXBhcmluZyB0aGluZ3NcbiAqIEFzc3VtZXMgdHlwZSBjaGVja2luZyB3YXMgYWxyZWFkeSBkb25lIChhIGFuZCBiIGFscmVhZHkgaGF2ZSB0aGUgc2FtZSB0eXBlKVxuICogY29tcGFyZU5TQiB3b3JrcyBmb3IgbnVtYmVycywgc3RyaW5ncyBhbmQgYm9vbGVhbnNcbiAqL1xuZnVuY3Rpb24gY29tcGFyZU5TQiAoYSwgYikge1xuICBpZiAoYSA8IGIpIHsgcmV0dXJuIC0xOyB9XG4gIGlmIChhID4gYikgeyByZXR1cm4gMTsgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUFycmF5cyAoYSwgYikge1xuICB2YXIgaSwgY29tcDtcblxuICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTsgaSArPSAxKSB7XG4gICAgY29tcCA9IGNvbXBhcmVUaGluZ3MoYVtpXSwgYltpXSk7XG5cbiAgICBpZiAoY29tcCAhPT0gMCkgeyByZXR1cm4gY29tcDsgfVxuICB9XG5cbiAgLy8gQ29tbW9uIHNlY3Rpb24gd2FzIGlkZW50aWNhbCwgbG9uZ2VzdCBvbmUgd2luc1xuICByZXR1cm4gY29tcGFyZU5TQihhLmxlbmd0aCwgYi5sZW5ndGgpO1xufVxuXG5cbi8qKlxuICogQ29tcGFyZSB7IHRoaW5ncyBVIHVuZGVmaW5lZCB9XG4gKiBUaGluZ3MgYXJlIGRlZmluZWQgYXMgYW55IG5hdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG51bGwsIGRhdGUpIGFuZCBvYmplY3RzXG4gKiBXZSBuZWVkIHRvIGNvbXBhcmUgd2l0aCB1bmRlZmluZWQgYXMgaXQgd2lsbCBiZSB1c2VkIGluIGluZGV4ZXNcbiAqIEluIHRoZSBjYXNlIG9mIG9iamVjdHMgYW5kIGFycmF5cywgd2UgZGVlcC1jb21wYXJlXG4gKiBJZiB0d28gb2JqZWN0cyBkb250IGhhdmUgdGhlIHNhbWUgdHlwZSwgdGhlIChhcmJpdHJhcnkpIHR5cGUgaGllcmFyY2h5IGlzOiB1bmRlZmluZWQsIG51bGwsIG51bWJlciwgc3RyaW5ncywgYm9vbGVhbiwgZGF0ZXMsIGFycmF5cywgb2JqZWN0c1xuICogUmV0dXJuIC0xIGlmIGEgPCBiLCAxIGlmIGEgPiBiIGFuZCAwIGlmIGEgPSBiIChub3RlIHRoYXQgZXF1YWxpdHkgaGVyZSBpcyBOT1QgdGhlIHNhbWUgYXMgZGVmaW5lZCBpbiBhcmVUaGluZ3NFcXVhbCEpXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVUaGluZ3MgKGEsIGIpIHtcbiAgdmFyIGFLZXlzLCBiS2V5cywgY29tcCwgaTtcblxuICAvLyB1bmRlZmluZWRcbiAgaWYgKGEgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gYiA9PT0gdW5kZWZpbmVkID8gMCA6IC0xOyB9XG4gIGlmIChiID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIGEgPT09IHVuZGVmaW5lZCA/IDAgOiAxOyB9XG5cbiAgLy8gbnVsbFxuICBpZiAoYSA9PT0gbnVsbCkgeyByZXR1cm4gYiA9PT0gbnVsbCA/IDAgOiAtMTsgfVxuICBpZiAoYiA9PT0gbnVsbCkgeyByZXR1cm4gYSA9PT0gbnVsbCA/IDAgOiAxOyB9XG5cbiAgLy8gTnVtYmVyc1xuICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInKSB7IHJldHVybiB0eXBlb2YgYiA9PT0gJ251bWJlcicgPyBjb21wYXJlTlNCKGEsIGIpIDogLTE7IH1cbiAgaWYgKHR5cGVvZiBiID09PSAnbnVtYmVyJykgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdudW1iZXInID8gY29tcGFyZU5TQihhLCBiKSA6IDE7IH1cblxuICAvLyBTdHJpbmdzXG4gIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHsgcmV0dXJuIHR5cGVvZiBiID09PSAnc3RyaW5nJyA/IGNvbXBhcmVOU0IoYSwgYikgOiAtMTsgfVxuICBpZiAodHlwZW9mIGIgPT09ICdzdHJpbmcnKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZycgPyBjb21wYXJlTlNCKGEsIGIpIDogMTsgfVxuXG4gIC8vIEJvb2xlYW5zXG4gIGlmICh0eXBlb2YgYSA9PT0gJ2Jvb2xlYW4nKSB7IHJldHVybiB0eXBlb2YgYiA9PT0gJ2Jvb2xlYW4nID8gY29tcGFyZU5TQihhLCBiKSA6IC0xOyB9XG4gIGlmICh0eXBlb2YgYiA9PT0gJ2Jvb2xlYW4nKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Jvb2xlYW4nID8gY29tcGFyZU5TQihhLCBiKSA6IDE7IH1cblxuICAvLyBEYXRlc1xuICBpZiAodXRpbC5pc0RhdGUoYSkpIHsgcmV0dXJuIHV0aWwuaXNEYXRlKGIpID8gY29tcGFyZU5TQihhLmdldFRpbWUoKSwgYi5nZXRUaW1lKCkpIDogLTE7IH1cbiAgaWYgKHV0aWwuaXNEYXRlKGIpKSB7IHJldHVybiB1dGlsLmlzRGF0ZShhKSA/IGNvbXBhcmVOU0IoYS5nZXRUaW1lKCksIGIuZ2V0VGltZSgpKSA6IDE7IH1cblxuICAvLyBBcnJheXMgKGZpcnN0IGVsZW1lbnQgaXMgbW9zdCBzaWduaWZpY2FudCBhbmQgc28gb24pXG4gIGlmICh1dGlsLmlzQXJyYXkoYSkpIHsgcmV0dXJuIHV0aWwuaXNBcnJheShiKSA/IGNvbXBhcmVBcnJheXMoYSwgYikgOiAtMTsgfVxuICBpZiAodXRpbC5pc0FycmF5KGIpKSB7IHJldHVybiB1dGlsLmlzQXJyYXkoYSkgPyBjb21wYXJlQXJyYXlzKGEsIGIpIDogMTsgfVxuXG4gIC8vIE9iamVjdHNcbiAgYUtleXMgPSBPYmplY3Qua2V5cyhhKS5zb3J0KCk7XG4gIGJLZXlzID0gT2JqZWN0LmtleXMoYikuc29ydCgpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBNYXRoLm1pbihhS2V5cy5sZW5ndGgsIGJLZXlzLmxlbmd0aCk7IGkgKz0gMSkge1xuICAgIGNvbXAgPSBjb21wYXJlVGhpbmdzKGFbYUtleXNbaV1dLCBiW2JLZXlzW2ldXSk7XG5cbiAgICBpZiAoY29tcCAhPT0gMCkgeyByZXR1cm4gY29tcDsgfVxuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVOU0IoYUtleXMubGVuZ3RoLCBiS2V5cy5sZW5ndGgpO1xufVxuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFVwZGF0aW5nIGRvY3VtZW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBUaGUgc2lnbmF0dXJlIG9mIG1vZGlmaWVyIGZ1bmN0aW9ucyBpcyBhcyBmb2xsb3dzXG4gKiBUaGVpciBzdHJ1Y3R1cmUgaXMgYWx3YXlzIHRoZSBzYW1lOiByZWN1cnNpdmVseSBmb2xsb3cgdGhlIGRvdCBub3RhdGlvbiB3aGlsZSBjcmVhdGluZ1xuICogdGhlIG5lc3RlZCBkb2N1bWVudHMgaWYgbmVlZGVkLCB0aGVuIGFwcGx5IHRoZSBcImxhc3Qgc3RlcCBtb2RpZmllclwiXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBtb2RlbCB0byBtb2RpZnlcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZCBDYW4gY29udGFpbiBkb3RzLCBpbiB0aGF0IGNhc2UgdGhhdCBtZWFucyB3ZSB3aWxsIHNldCBhIHN1YmZpZWxkIHJlY3Vyc2l2ZWx5XG4gKiBAcGFyYW0ge01vZGVsfSB2YWx1ZVxuICovXG5cbi8qKlxuICogU2V0IGEgZmllbGQgdG8gYSBuZXcgdmFsdWVcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kc2V0ID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIG9ialtmaWVsZF0gPSB2YWx1ZTtcbn07XG5cblxuLyoqXG4gKiBVbnNldCBhIGZpZWxkXG4gKi9cbmxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMuJHVuc2V0ID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIGRlbGV0ZSBvYmpbZmllbGRdO1xufTtcblxuXG4vKipcbiAqIFB1c2ggYW4gZWxlbWVudCB0byB0aGUgZW5kIG9mIGFuIGFycmF5IGZpZWxkXG4gKi9cbmxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMuJHB1c2ggPSBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgLy8gQ3JlYXRlIHRoZSBhcnJheSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gIGlmICghb2JqLmhhc093blByb3BlcnR5KGZpZWxkKSkgeyBvYmpbZmllbGRdID0gW107IH1cblxuICBpZiAoIXV0aWwuaXNBcnJheShvYmpbZmllbGRdKSkgeyB0aHJvdyBcIkNhbid0ICRwdXNoIGFuIGVsZW1lbnQgb24gbm9uLWFycmF5IHZhbHVlc1wiOyB9XG5cbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuJGVhY2gpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDEpIHsgdGhyb3cgXCJDYW4ndCB1c2UgYW5vdGhlciBmaWVsZCBpbiBjb25qdW5jdGlvbiB3aXRoICRlYWNoXCI7IH1cbiAgICBpZiAoIXV0aWwuaXNBcnJheSh2YWx1ZS4kZWFjaCkpIHsgdGhyb3cgXCIkZWFjaCByZXF1aXJlcyBhbiBhcnJheSB2YWx1ZVwiOyB9XG5cbiAgICB2YWx1ZS4kZWFjaC5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICBvYmpbZmllbGRdLnB1c2godik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2ZpZWxkXS5wdXNoKHZhbHVlKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEFkZCBhbiBlbGVtZW50IHRvIGFuIGFycmF5IGZpZWxkIG9ubHkgaWYgaXQgaXMgbm90IGFscmVhZHkgaW4gaXRcbiAqIE5vIG1vZGlmaWNhdGlvbiBpZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IGluIHRoZSBhcnJheVxuICogTm90ZSB0aGF0IGl0IGRvZXNuJ3QgY2hlY2sgd2hldGhlciB0aGUgb3JpZ2luYWwgYXJyYXkgY29udGFpbnMgZHVwbGljYXRlc1xuICovXG5sYXN0U3RlcE1vZGlmaWVyRnVuY3Rpb25zLiRhZGRUb1NldCA9IGZ1bmN0aW9uIChvYmosIGZpZWxkLCB2YWx1ZSkge1xuICB2YXIgYWRkVG9TZXQgPSB0cnVlO1xuXG4gIC8vIENyZWF0ZSB0aGUgYXJyYXkgaWYgaXQgZG9lc24ndCBleGlzdFxuICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHsgb2JqW2ZpZWxkXSA9IFtdOyB9XG5cbiAgaWYgKCF1dGlsLmlzQXJyYXkob2JqW2ZpZWxkXSkpIHsgdGhyb3cgXCJDYW4ndCAkYWRkVG9TZXQgYW4gZWxlbWVudCBvbiBub24tYXJyYXkgdmFsdWVzXCI7IH1cblxuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS4kZWFjaCkge1xuICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMSkgeyB0aHJvdyBcIkNhbid0IHVzZSBhbm90aGVyIGZpZWxkIGluIGNvbmp1bmN0aW9uIHdpdGggJGVhY2hcIjsgfVxuICAgIGlmICghdXRpbC5pc0FycmF5KHZhbHVlLiRlYWNoKSkgeyB0aHJvdyBcIiRlYWNoIHJlcXVpcmVzIGFuIGFycmF5IHZhbHVlXCI7IH1cblxuICAgIHZhbHVlLiRlYWNoLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMuJGFkZFRvU2V0KG9iaiwgZmllbGQsIHYpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtmaWVsZF0uZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgaWYgKGNvbXBhcmVUaGluZ3ModiwgdmFsdWUpID09PSAwKSB7IGFkZFRvU2V0ID0gZmFsc2U7IH1cbiAgICB9KTtcbiAgICBpZiAoYWRkVG9TZXQpIHsgb2JqW2ZpZWxkXS5wdXNoKHZhbHVlKTsgfVxuICB9XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXlcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kcG9wID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIGlmICghdXRpbC5pc0FycmF5KG9ialtmaWVsZF0pKSB7IHRocm93IFwiQ2FuJ3QgJHBvcCBhbiBlbGVtZW50IGZyb20gbm9uLWFycmF5IHZhbHVlc1wiOyB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7IHRocm93IHZhbHVlICsgXCIgaXNuJ3QgYW4gaW50ZWdlciwgY2FuJ3QgdXNlIGl0IHdpdGggJHBvcFwiOyB9XG4gIGlmICh2YWx1ZSA9PT0gMCkgeyByZXR1cm47IH1cblxuICBpZiAodmFsdWUgPiAwKSB7XG4gICAgb2JqW2ZpZWxkXSA9IG9ialtmaWVsZF0uc2xpY2UoMCwgb2JqW2ZpZWxkXS5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIHtcbiAgICBvYmpbZmllbGRdID0gb2JqW2ZpZWxkXS5zbGljZSgxKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGluc3RhbmNlcyBvZiBhIHZhbHVlIGZyb20gYW4gZXhpc3RpbmcgYXJyYXlcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kcHVsbCA9IGZ1bmN0aW9uIChvYmosIGZpZWxkLCB2YWx1ZSkge1xuICB2YXIgYXJyLCBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KG9ialtmaWVsZF0pKSB7IHRocm93IFwiQ2FuJ3QgJHB1bGwgYW4gZWxlbWVudCBmcm9tIG5vbi1hcnJheSB2YWx1ZXNcIjsgfVxuXG4gIGFyciA9IG9ialtmaWVsZF07XG4gIGZvciAoaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgIGlmIChtYXRjaChhcnJbaV0sIHZhbHVlKSkge1xuICAgICAgYXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBJbmNyZW1lbnQgYSBudW1lcmljIGZpZWxkJ3MgdmFsdWVcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kaW5jID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7IHRocm93IHZhbHVlICsgXCIgbXVzdCBiZSBhIG51bWJlclwiOyB9XG5cbiAgaWYgKHR5cGVvZiBvYmpbZmllbGRdICE9PSAnbnVtYmVyJykge1xuICAgIGlmICghXy5oYXMob2JqLCBmaWVsZCkpIHtcbiAgICAgIG9ialtmaWVsZF0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJEb24ndCB1c2UgdGhlICRpbmMgbW9kaWZpZXIgb24gbm9uLW51bWJlciBmaWVsZHNcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb2JqW2ZpZWxkXSArPSB2YWx1ZTtcbiAgfVxufTtcblxuLy8gR2l2ZW4gaXRzIG5hbWUsIGNyZWF0ZSB0aGUgY29tcGxldGUgbW9kaWZpZXIgZnVuY3Rpb25cbmZ1bmN0aW9uIGNyZWF0ZU1vZGlmaWVyRnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgICB2YXIgZmllbGRQYXJ0cyA9IHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycgPyBmaWVsZC5zcGxpdCgnLicpIDogZmllbGQ7XG5cbiAgICBpZiAoZmllbGRQYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnNbbW9kaWZpZXJdKG9iaiwgZmllbGQsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2ZpZWxkUGFydHNbMF1dID0gb2JqW2ZpZWxkUGFydHNbMF1dIHx8IHt9O1xuICAgICAgbW9kaWZpZXJGdW5jdGlvbnNbbW9kaWZpZXJdKG9ialtmaWVsZFBhcnRzWzBdXSwgZmllbGRQYXJ0cy5zbGljZSgxKSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gQWN0dWFsbHkgY3JlYXRlIGFsbCBtb2RpZmllciBmdW5jdGlvbnNcbk9iamVjdC5rZXlzKGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gIG1vZGlmaWVyRnVuY3Rpb25zW21vZGlmaWVyXSA9IGNyZWF0ZU1vZGlmaWVyRnVuY3Rpb24obW9kaWZpZXIpO1xufSk7XG5cblxuLyoqXG4gKiBNb2RpZnkgYSBEQiBvYmplY3QgYWNjb3JkaW5nIHRvIGFuIHVwZGF0ZSBxdWVyeVxuICovXG5mdW5jdGlvbiBtb2RpZnkgKG9iaiwgdXBkYXRlUXVlcnkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVRdWVyeSlcbiAgICAsIGZpcnN0Q2hhcnMgPSBfLm1hcChrZXlzLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbVswXTsgfSlcbiAgICAsIGRvbGxhckZpcnN0Q2hhcnMgPSBfLmZpbHRlcihmaXJzdENoYXJzLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYyA9PT0gJyQnOyB9KVxuICAgICwgbmV3RG9jLCBtb2RpZmllcnNcbiAgICA7XG5cbiAgaWYgKGtleXMuaW5kZXhPZignX2lkJykgIT09IC0xICYmIHVwZGF0ZVF1ZXJ5Ll9pZCAhPT0gb2JqLl9pZCkgeyB0aHJvdyBcIllvdSBjYW5ub3QgY2hhbmdlIGEgZG9jdW1lbnQncyBfaWRcIjsgfVxuXG4gIGlmIChkb2xsYXJGaXJzdENoYXJzLmxlbmd0aCAhPT0gMCAmJiBkb2xsYXJGaXJzdENoYXJzLmxlbmd0aCAhPT0gZmlyc3RDaGFycy5sZW5ndGgpIHtcbiAgICB0aHJvdyBcIllvdSBjYW5ub3QgbWl4IG1vZGlmaWVycyBhbmQgbm9ybWFsIGZpZWxkc1wiO1xuICB9XG5cbiAgaWYgKGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gU2ltcGx5IHJlcGxhY2UgdGhlIG9iamVjdCB3aXRoIHRoZSB1cGRhdGUgcXVlcnkgY29udGVudHNcbiAgICBuZXdEb2MgPSBkZWVwQ29weSh1cGRhdGVRdWVyeSk7XG4gICAgbmV3RG9jLl9pZCA9IG9iai5faWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gQXBwbHkgbW9kaWZpZXJzXG4gICAgbW9kaWZpZXJzID0gXy51bmlxKGtleXMpO1xuICAgIG5ld0RvYyA9IGRlZXBDb3B5KG9iaik7XG4gICAgbW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgIHZhciBrZXlzO1xuXG4gICAgICBpZiAoIW1vZGlmaWVyRnVuY3Rpb25zW21dKSB7IHRocm93IFwiVW5rbm93biBtb2RpZmllciBcIiArIG07IH1cblxuICAgICAgLy8gQ2FuJ3QgcmVseSBvbiBPYmplY3Qua2V5cyB0aHJvd2luZyBvbiBub24gb2JqZWN0cyBzaW5jZSBFUzZ7XG4gICAgICAvLyBOb3QgMTAwJSBzYXRpc2Z5aW5nIGFzIG5vbiBvYmplY3RzIGNhbiBiZSBpbnRlcnByZXRlZCBhcyBvYmplY3RzIGJ1dCBubyBmYWxzZSBuZWdhdGl2ZXMgc28gd2UgY2FuIGxpdmUgd2l0aCBpdFxuICAgICAgaWYgKHR5cGVvZiB1cGRhdGVRdWVyeVttXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgXCJNb2RpZmllciBcIiArIG0gKyBcIidzIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0XCI7XG4gICAgICB9XG5cbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVRdWVyeVttXSk7XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgbW9kaWZpZXJGdW5jdGlvbnNbbV0obmV3RG9jLCBrLCB1cGRhdGVRdWVyeVttXVtrXSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENoZWNrIHJlc3VsdCBpcyB2YWxpZCBhbmQgcmV0dXJuIGl0XG4gIGNoZWNrT2JqZWN0KG5ld0RvYyk7XG5cbiAgaWYgKG9iai5faWQgIT09IG5ld0RvYy5faWQpIHsgdGhyb3cgXCJZb3UgY2FuJ3QgY2hhbmdlIGEgZG9jdW1lbnQncyBfaWRcIjsgfVxuICByZXR1cm4gbmV3RG9jO1xufTtcblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRmluZGluZyBkb2N1bWVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IGEgdmFsdWUgZnJvbSBvYmplY3Qgd2l0aCBkb3Qgbm90YXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICovXG5mdW5jdGlvbiBnZXREb3RWYWx1ZSAob2JqLCBmaWVsZCkge1xuICB2YXIgZmllbGRQYXJ0cyA9IHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycgPyBmaWVsZC5zcGxpdCgnLicpIDogZmllbGRcbiAgICAsIGksIG9ianM7XG5cbiAgaWYgKCFvYmopIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSAgIC8vIGZpZWxkIGNhbm5vdCBiZSBlbXB0eSBzbyB0aGF0IG1lYW5zIHdlIHNob3VsZCByZXR1cm4gdW5kZWZpbmVkIHNvIHRoYXQgbm90aGluZyBjYW4gbWF0Y2hcblxuICBpZiAoZmllbGRQYXJ0cy5sZW5ndGggPT09IDApIHsgcmV0dXJuIG9iajsgfVxuXG4gIGlmIChmaWVsZFBhcnRzLmxlbmd0aCA9PT0gMSkgeyByZXR1cm4gb2JqW2ZpZWxkUGFydHNbMF1dOyB9XG5cbiAgaWYgKHV0aWwuaXNBcnJheShvYmpbZmllbGRQYXJ0c1swXV0pKSB7XG4gICAgLy8gSWYgdGhlIG5leHQgZmllbGQgaXMgYW4gaW50ZWdlciwgcmV0dXJuIG9ubHkgdGhpcyBpdGVtIG9mIHRoZSBhcnJheVxuICAgIGkgPSBwYXJzZUludChmaWVsZFBhcnRzWzFdLCAxMCk7XG4gICAgaWYgKHR5cGVvZiBpID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oaSkpIHtcbiAgICAgIHJldHVybiBnZXREb3RWYWx1ZShvYmpbZmllbGRQYXJ0c1swXV1baV0sIGZpZWxkUGFydHMuc2xpY2UoMikpXG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSBhcnJheSBvZiB2YWx1ZXNcbiAgICBvYmpzID0gbmV3IEFycmF5KCk7XG4gICAgZm9yIChpID0gMDsgaSA8IG9ialtmaWVsZFBhcnRzWzBdXS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgIG9ianMucHVzaChnZXREb3RWYWx1ZShvYmpbZmllbGRQYXJ0c1swXV1baV0sIGZpZWxkUGFydHMuc2xpY2UoMSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9ianM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldERvdFZhbHVlKG9ialtmaWVsZFBhcnRzWzBdXSwgZmllbGRQYXJ0cy5zbGljZSgxKSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgJ3RoaW5ncycgYXJlIGVxdWFsXG4gKiBUaGluZ3MgYXJlIGRlZmluZWQgYXMgYW55IG5hdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG51bGwsIGRhdGUpIGFuZCBvYmplY3RzXG4gKiBJbiB0aGUgY2FzZSBvZiBvYmplY3QsIHdlIGNoZWNrIGRlZXAgZXF1YWxpdHlcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGV5IGFyZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIGFyZVRoaW5nc0VxdWFsIChhLCBiKSB7XG4gIHZhciBhS2V5cyAsIGJLZXlzICwgaTtcblxuICAvLyBTdHJpbmdzLCBib29sZWFucywgbnVtYmVycywgbnVsbFxuICBpZiAoYSA9PT0gbnVsbCB8fCB0eXBlb2YgYSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGEgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgYSA9PT0gJ251bWJlcicgfHxcbiAgICAgIGIgPT09IG51bGwgfHwgdHlwZW9mIGIgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBiID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGIgPT09ICdudW1iZXInKSB7IHJldHVybiBhID09PSBiOyB9XG5cbiAgLy8gRGF0ZXNcbiAgaWYgKHV0aWwuaXNEYXRlKGEpIHx8IHV0aWwuaXNEYXRlKGIpKSB7IHJldHVybiB1dGlsLmlzRGF0ZShhKSAmJiB1dGlsLmlzRGF0ZShiKSAmJiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCk7IH1cblxuICAvLyBBcnJheXMgKG5vIG1hdGNoIHNpbmNlIGFycmF5cyBhcmUgdXNlZCBhcyBhICRpbilcbiAgLy8gdW5kZWZpbmVkIChubyBtYXRjaCBzaW5jZSB0aGV5IG1lYW4gZmllbGQgZG9lc24ndCBleGlzdCBhbmQgY2FuJ3QgYmUgc2VyaWFsaXplZClcbiAgaWYgKHV0aWwuaXNBcnJheShhKSB8fCB1dGlsLmlzQXJyYXkoYikgfHwgYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAvLyBHZW5lcmFsIG9iamVjdHMgKGNoZWNrIGZvciBkZWVwIGVxdWFsaXR5KVxuICAvLyBhIGFuZCBiIHNob3VsZCBiZSBvYmplY3RzIGF0IHRoaXMgcG9pbnRcbiAgdHJ5IHtcbiAgICBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGZvciAoaSA9IDA7IGkgPCBhS2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChiS2V5cy5pbmRleE9mKGFLZXlzW2ldKSA9PT0gLTEpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKCFhcmVUaGluZ3NFcXVhbChhW2FLZXlzW2ldXSwgYlthS2V5c1tpXV0pKSB7IHJldHVybiBmYWxzZTsgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogQ2hlY2sgdGhhdCB0d28gdmFsdWVzIGFyZSBjb21wYXJhYmxlXG4gKi9cbmZ1bmN0aW9uIGFyZUNvbXBhcmFibGUgKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgYSAhPT0gJ251bWJlcicgJiYgIXV0aWwuaXNEYXRlKGEpICYmXG4gICAgICB0eXBlb2YgYiAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIGIgIT09ICdudW1iZXInICYmICF1dGlsLmlzRGF0ZShiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBBcml0aG1ldGljIGFuZCBjb21wYXJpc29uIG9wZXJhdG9yc1xuICogQHBhcmFtIHtOYXRpdmUgdmFsdWV9IGEgVmFsdWUgaW4gdGhlIG9iamVjdFxuICogQHBhcmFtIHtOYXRpdmUgdmFsdWV9IGIgVmFsdWUgaW4gdGhlIHF1ZXJ5XG4gKi9cbmNvbXBhcmlzb25GdW5jdGlvbnMuJGx0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGFyZUNvbXBhcmFibGUoYSwgYikgJiYgYSA8IGI7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRsdGUgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYXJlQ29tcGFyYWJsZShhLCBiKSAmJiBhIDw9IGI7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRndCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhcmVDb21wYXJhYmxlKGEsIGIpICYmIGEgPiBiO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kZ3RlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGFyZUNvbXBhcmFibGUoYSwgYikgJiYgYSA+PSBiO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kbmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB0cnVlOyB9XG4gIHJldHVybiAhYXJlVGhpbmdzRXF1YWwoYSwgYik7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRpbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHZhciBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KGIpKSB7IHRocm93IFwiJGluIG9wZXJhdG9yIGNhbGxlZCB3aXRoIGEgbm9uLWFycmF5XCI7IH1cblxuICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChhcmVUaGluZ3NFcXVhbChhLCBiW2ldKSkgeyByZXR1cm4gdHJ1ZTsgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kbmluID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgaWYgKCF1dGlsLmlzQXJyYXkoYikpIHsgdGhyb3cgXCIkbmluIG9wZXJhdG9yIGNhbGxlZCB3aXRoIGEgbm9uLWFycmF5XCI7IH1cblxuICByZXR1cm4gIWNvbXBhcmlzb25GdW5jdGlvbnMuJGluKGEsIGIpO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kcmVnZXggPSBmdW5jdGlvbiAoYSwgYikge1xuICBpZiAoIXV0aWwuaXNSZWdFeHAoYikpIHsgdGhyb3cgXCIkcmVnZXggb3BlcmF0b3IgY2FsbGVkIHdpdGggbm9uIHJlZ3VsYXIgZXhwcmVzc2lvblwiOyB9XG5cbiAgaWYgKHR5cGVvZiBhICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiLnRlc3QoYSk7XG4gIH1cbn07XG5cbmNvbXBhcmlzb25GdW5jdGlvbnMuJGV4aXN0cyA9IGZ1bmN0aW9uICh2YWx1ZSwgZXhpc3RzKSB7XG4gIGlmIChleGlzdHMgfHwgZXhpc3RzID09PSAnJykgeyAgIC8vIFRoaXMgd2lsbCBiZSB0cnVlIGZvciBhbGwgdmFsdWVzIG9mIGV4aXN0cyBleGNlcHQgZmFsc2UsIG51bGwsIHVuZGVmaW5lZCBhbmQgMFxuICAgIGV4aXN0cyA9IHRydWU7ICAgICAgICAgICAgICAgICAvLyBUaGF0J3Mgc3RyYW5nZSBiZWhhdmlvdXIgKHdlIHNob3VsZCBvbmx5IHVzZSB0cnVlL2ZhbHNlKSBidXQgdGhhdCdzIHRoZSB3YXkgTW9uZ28gZG9lcyBpdC4uLlxuICB9IGVsc2Uge1xuICAgIGV4aXN0cyA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gIWV4aXN0c1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBleGlzdHM7XG4gIH1cbn07XG5cbi8vIFNwZWNpZmljIHRvIGFycmF5c1xuY29tcGFyaXNvbkZ1bmN0aW9ucy4kc2l6ZSA9IGZ1bmN0aW9uIChvYmosIHZhbHVlKSB7XG4gICAgaWYgKCF1dGlsLmlzQXJyYXkob2JqKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAodmFsdWUgJSAxICE9PSAwKSB7IHRocm93IFwiJHNpemUgb3BlcmF0b3IgY2FsbGVkIHdpdGhvdXQgYW4gaW50ZWdlclwiOyB9XG5cbiAgICByZXR1cm4gKG9iai5sZW5ndGggPT0gdmFsdWUpO1xufTtcbmFycmF5Q29tcGFyaXNvbkZ1bmN0aW9ucy4kc2l6ZSA9IHRydWU7XG5cblxuLyoqXG4gKiBNYXRjaCBhbnkgb2YgdGhlIHN1YnF1ZXJpZXNcbiAqIEBwYXJhbSB7TW9kZWx9IG9ialxuICogQHBhcmFtIHtBcnJheSBvZiBRdWVyaWVzfSBxdWVyeVxuICovXG5sb2dpY2FsT3BlcmF0b3JzLiRvciA9IGZ1bmN0aW9uIChvYmosIHF1ZXJ5KSB7XG4gIHZhciBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KHF1ZXJ5KSkgeyB0aHJvdyBcIiRvciBvcGVyYXRvciB1c2VkIHdpdGhvdXQgYW4gYXJyYXlcIjsgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBxdWVyeS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChtYXRjaChvYmosIHF1ZXJ5W2ldKSkgeyByZXR1cm4gdHJ1ZTsgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuXG4vKipcbiAqIE1hdGNoIGFsbCBvZiB0aGUgc3VicXVlcmllc1xuICogQHBhcmFtIHtNb2RlbH0gb2JqXG4gKiBAcGFyYW0ge0FycmF5IG9mIFF1ZXJpZXN9IHF1ZXJ5XG4gKi9cbmxvZ2ljYWxPcGVyYXRvcnMuJGFuZCA9IGZ1bmN0aW9uIChvYmosIHF1ZXJ5KSB7XG4gIHZhciBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KHF1ZXJ5KSkgeyB0aHJvdyBcIiRhbmQgb3BlcmF0b3IgdXNlZCB3aXRob3V0IGFuIGFycmF5XCI7IH1cblxuICBmb3IgKGkgPSAwOyBpIDwgcXVlcnkubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoIW1hdGNoKG9iaiwgcXVlcnlbaV0pKSB7IHJldHVybiBmYWxzZTsgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogSW52ZXJ0ZWQgbWF0Y2ggb2YgdGhlIHF1ZXJ5XG4gKiBAcGFyYW0ge01vZGVsfSBvYmpcbiAqIEBwYXJhbSB7UXVlcnl9IHF1ZXJ5XG4gKi9cbmxvZ2ljYWxPcGVyYXRvcnMuJG5vdCA9IGZ1bmN0aW9uIChvYmosIHF1ZXJ5KSB7XG4gIHJldHVybiAhbWF0Y2gob2JqLCBxdWVyeSk7XG59O1xuXG5cbi8qKlxuICogVXNlIGEgZnVuY3Rpb24gdG8gbWF0Y2hcbiAqIEBwYXJhbSB7TW9kZWx9IG9ialxuICogQHBhcmFtIHtRdWVyeX0gcXVlcnlcbiAqL1xubG9naWNhbE9wZXJhdG9ycy4kd2hlcmUgPSBmdW5jdGlvbiAob2JqLCBmbikge1xuICB2YXIgcmVzdWx0O1xuXG4gIGlmICghXy5pc0Z1bmN0aW9uKGZuKSkgeyB0aHJvdyBcIiR3aGVyZSBvcGVyYXRvciB1c2VkIHdpdGhvdXQgYSBmdW5jdGlvblwiOyB9XG5cbiAgcmVzdWx0ID0gZm4uY2FsbChvYmopO1xuICBpZiAoIV8uaXNCb29sZWFuKHJlc3VsdCkpIHsgdGhyb3cgXCIkd2hlcmUgZnVuY3Rpb24gbXVzdCByZXR1cm4gYm9vbGVhblwiOyB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqXG4gKiBUZWxsIGlmIGEgZ2l2ZW4gZG9jdW1lbnQgbWF0Y2hlcyBhIHF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIERvY3VtZW50IHRvIGNoZWNrXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnlcbiAqL1xuZnVuY3Rpb24gbWF0Y2ggKG9iaiwgcXVlcnkpIHtcbiAgdmFyIHF1ZXJ5S2V5cywgcXVlcnlLZXksIHF1ZXJ5VmFsdWUsIGk7XG5cbiAgLy8gUHJpbWl0aXZlIHF1ZXJ5IGFnYWluc3QgYSBwcmltaXRpdmUgdHlwZVxuICAvLyBUaGlzIGlzIGEgYml0IG9mIGEgaGFjayBzaW5jZSB3ZSBjb25zdHJ1Y3QgYW4gb2JqZWN0IHdpdGggYW4gYXJiaXRyYXJ5IGtleSBvbmx5IHRvIGRlcmVmZXJlbmNlIGl0IGxhdGVyXG4gIC8vIEJ1dCBJIGRvbid0IGhhdmUgdGltZSBmb3IgYSBjbGVhbmVyIGltcGxlbWVudGF0aW9uIG5vd1xuICBpZiAoaXNQcmltaXRpdmVUeXBlKG9iaikgfHwgaXNQcmltaXRpdmVUeXBlKHF1ZXJ5KSkge1xuICAgIHJldHVybiBtYXRjaFF1ZXJ5UGFydCh7IG5lZWRBS2V5OiBvYmogfSwgJ25lZWRBS2V5JywgcXVlcnkpO1xuICB9XG5cbiAgLy8gTm9ybWFsIHF1ZXJ5XG4gIHF1ZXJ5S2V5cyA9IE9iamVjdC5rZXlzKHF1ZXJ5KTtcbiAgZm9yIChpID0gMDsgaSA8IHF1ZXJ5S2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHF1ZXJ5S2V5ID0gcXVlcnlLZXlzW2ldO1xuICAgIHF1ZXJ5VmFsdWUgPSBxdWVyeVtxdWVyeUtleV07XG5cbiAgICBpZiAocXVlcnlLZXlbMF0gPT09ICckJykge1xuICAgICAgaWYgKCFsb2dpY2FsT3BlcmF0b3JzW3F1ZXJ5S2V5XSkgeyB0aHJvdyBcIlVua25vd24gbG9naWNhbCBvcGVyYXRvciBcIiArIHF1ZXJ5S2V5OyB9XG4gICAgICBpZiAoIWxvZ2ljYWxPcGVyYXRvcnNbcXVlcnlLZXldKG9iaiwgcXVlcnlWYWx1ZSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbWF0Y2hRdWVyeVBhcnQob2JqLCBxdWVyeUtleSwgcXVlcnlWYWx1ZSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogTWF0Y2ggYW4gb2JqZWN0IGFnYWluc3QgYSBzcGVjaWZpYyB7IGtleTogdmFsdWUgfSBwYXJ0IG9mIGEgcXVlcnlcbiAqIGlmIHRoZSB0cmVhdE9iakFzVmFsdWUgZmxhZyBpcyBzZXQsIGRvbid0IHRyeSB0byBtYXRjaCBldmVyeSBwYXJ0IHNlcGFyYXRlbHksIGJ1dCB0aGUgYXJyYXkgYXMgYSB3aG9sZVxuICovXG5mdW5jdGlvbiBtYXRjaFF1ZXJ5UGFydCAob2JqLCBxdWVyeUtleSwgcXVlcnlWYWx1ZSwgdHJlYXRPYmpBc1ZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IGdldERvdFZhbHVlKG9iaiwgcXVlcnlLZXkpXG4gICAgLCBpLCBrZXlzLCBmaXJzdENoYXJzLCBkb2xsYXJGaXJzdENoYXJzO1xuXG4gIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBhbiBhcnJheSBpZiB3ZSBkb24ndCBmb3JjZSBhIHRyZWF0bWVudCBhcyB2YWx1ZVxuICBpZiAodXRpbC5pc0FycmF5KG9ialZhbHVlKSAmJiAhdHJlYXRPYmpBc1ZhbHVlKSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIGFuIGFycmF5LXNwZWNpZmljIGNvbXBhcmlzb24gZnVuY3Rpb25cbiAgICBpZiAocXVlcnlWYWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgcXVlcnlWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIXV0aWwuaXNSZWdFeHAocXVlcnlWYWx1ZSkpIHtcbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhxdWVyeVZhbHVlKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChhcnJheUNvbXBhcmlzb25GdW5jdGlvbnNba2V5c1tpXV0pIHsgcmV0dXJuIG1hdGNoUXVlcnlQYXJ0KG9iaiwgcXVlcnlLZXksIHF1ZXJ5VmFsdWUsIHRydWUpOyB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm90LCB0cmVhdCBpdCBhcyBhbiBhcnJheSBvZiB7IG9iaiwgcXVlcnkgfSB3aGVyZSB0aGVyZSBuZWVkcyB0byBiZSBhdCBsZWFzdCBvbmUgbWF0Y2hcbiAgICBmb3IgKGkgPSAwOyBpIDwgb2JqVmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChtYXRjaFF1ZXJ5UGFydCh7IGs6IG9ialZhbHVlW2ldIH0sICdrJywgcXVlcnlWYWx1ZSkpIHsgcmV0dXJuIHRydWU7IH0gICAvLyBrIGhlcmUgY291bGQgYmUgYW55IHN0cmluZ1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBxdWVyeVZhbHVlIGlzIGFuIGFjdHVhbCBvYmplY3QuIERldGVybWluZSB3aGV0aGVyIGl0IGNvbnRhaW5zIGNvbXBhcmlzb24gb3BlcmF0b3JzXG4gIC8vIG9yIG9ubHkgbm9ybWFsIGZpZWxkcy4gTWl4ZWQgb2JqZWN0cyBhcmUgbm90IGFsbG93ZWRcbiAgaWYgKHF1ZXJ5VmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHF1ZXJ5VmFsdWUgPT09ICdvYmplY3QnICYmICF1dGlsLmlzUmVnRXhwKHF1ZXJ5VmFsdWUpKSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHF1ZXJ5VmFsdWUpO1xuICAgIGZpcnN0Q2hhcnMgPSBfLm1hcChrZXlzLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbVswXTsgfSk7XG4gICAgZG9sbGFyRmlyc3RDaGFycyA9IF8uZmlsdGVyKGZpcnN0Q2hhcnMsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjID09PSAnJCc7IH0pO1xuXG4gICAgaWYgKGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoICE9PSAwICYmIGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoICE9PSBmaXJzdENoYXJzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgXCJZb3UgY2Fubm90IG1peCBvcGVyYXRvcnMgYW5kIG5vcm1hbCBmaWVsZHNcIjtcbiAgICB9XG5cbiAgICAvLyBxdWVyeVZhbHVlIGlzIGFuIG9iamVjdCBvZiB0aGlzIGZvcm06IHsgJGNvbXBhcmlzb25PcGVyYXRvcjE6IHZhbHVlMSwgLi4uIH1cbiAgICBpZiAoZG9sbGFyRmlyc3RDaGFycy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoIWNvbXBhcmlzb25GdW5jdGlvbnNba2V5c1tpXV0pIHsgdGhyb3cgXCJVbmtub3duIGNvbXBhcmlzb24gZnVuY3Rpb24gXCIgKyBrZXlzW2ldOyB9XG5cbiAgICAgICAgaWYgKCFjb21wYXJpc29uRnVuY3Rpb25zW2tleXNbaV1dKG9ialZhbHVlLCBxdWVyeVZhbHVlW2tleXNbaV1dKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMgd2l0aCBiYXNpYyBxdWVyeWluZ1xuICBpZiAodXRpbC5pc1JlZ0V4cChxdWVyeVZhbHVlKSkgeyByZXR1cm4gY29tcGFyaXNvbkZ1bmN0aW9ucy4kcmVnZXgob2JqVmFsdWUsIHF1ZXJ5VmFsdWUpOyB9XG5cbiAgLy8gcXVlcnlWYWx1ZSBpcyBlaXRoZXIgYSBuYXRpdmUgdmFsdWUgb3IgYSBub3JtYWwgb2JqZWN0XG4gIC8vIEJhc2ljIG1hdGNoaW5nIGlzIHBvc3NpYmxlXG4gIGlmICghYXJlVGhpbmdzRXF1YWwob2JqVmFsdWUsIHF1ZXJ5VmFsdWUpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xubW9kdWxlLmV4cG9ydHMuZGVzZXJpYWxpemUgPSBkZXNlcmlhbGl6ZTtcbm1vZHVsZS5leHBvcnRzLmRlZXBDb3B5ID0gZGVlcENvcHk7XG5tb2R1bGUuZXhwb3J0cy5jaGVja09iamVjdCA9IGNoZWNrT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMuaXNQcmltaXRpdmVUeXBlID0gaXNQcmltaXRpdmVUeXBlO1xubW9kdWxlLmV4cG9ydHMubW9kaWZ5ID0gbW9kaWZ5O1xubW9kdWxlLmV4cG9ydHMuZ2V0RG90VmFsdWUgPSBnZXREb3RWYWx1ZTtcbm1vZHVsZS5leHBvcnRzLm1hdGNoID0gbWF0Y2g7XG5tb2R1bGUuZXhwb3J0cy5hcmVUaGluZ3NFcXVhbCA9IGFyZVRoaW5nc0VxdWFsO1xubW9kdWxlLmV4cG9ydHMuY29tcGFyZVRoaW5ncyA9IGNvbXBhcmVUaGluZ3M7XG5cbn0se1widW5kZXJzY29yZVwiOjE4LFwidXRpbFwiOjIyfV0sMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbi8qKlxuICogSGFuZGxlIGV2ZXJ5IHBlcnNpc3RlbmNlLXJlbGF0ZWQgdGFza1xuICogVGhlIGludGVyZmFjZSBEYXRhc3RvcmUgZXhwZWN0cyB0byBiZSBpbXBsZW1lbnRlZCBpc1xuICogKiBQZXJzaXN0ZW5jZS5sb2FkRGF0YWJhc2UoY2FsbGJhY2spIGFuZCBjYWxsYmFjayBoYXMgc2lnbmF0dXJlIGVyclxuICogKiBQZXJzaXN0ZW5jZS5wZXJzaXN0TmV3U3RhdGUobmV3RG9jcywgY2FsbGJhY2spIHdoZXJlIG5ld0RvY3MgaXMgYW4gYXJyYXkgb2YgZG9jdW1lbnRzIGFuZCBjYWxsYmFjayBoYXMgc2lnbmF0dXJlIGVyclxuICovXG5cbnZhciBzdG9yYWdlID0gcmVxdWlyZSgnLi9zdG9yYWdlJylcbiAgLCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgbW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJylcbiAgLCBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJylcbiAgLCBjdXN0b21VdGlscyA9IHJlcXVpcmUoJy4vY3VzdG9tVXRpbHMnKVxuICAsIEluZGV4ID0gcmVxdWlyZSgnLi9pbmRleGVzJylcbiAgO1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IFBlcnNpc3RlbmNlIG9iamVjdCBmb3IgZGF0YWJhc2Ugb3B0aW9ucy5kYlxuICogQHBhcmFtIHtEYXRhc3RvcmV9IG9wdGlvbnMuZGJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5ub2RlV2Via2l0QXBwTmFtZSBPcHRpb25hbCwgc3BlY2lmeSB0aGUgbmFtZSBvZiB5b3VyIE5XIGFwcCBpZiB5b3Ugd2FudCBvcHRpb25zLmZpbGVuYW1lIHRvIGJlIHJlbGF0aXZlIHRvIHRoZSBkaXJlY3Rvcnkgd2hlcmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIFdlYmtpdCBzdG9yZXMgYXBwbGljYXRpb24gZGF0YSBzdWNoIGFzIGNvb2tpZXMgYW5kIGxvY2FsIHN0b3JhZ2UgKHRoZSBiZXN0IHBsYWNlIHRvIHN0b3JlIGRhdGEgaW4gbXkgb3BpbmlvbilcbiAqL1xuZnVuY3Rpb24gUGVyc2lzdGVuY2UgKG9wdGlvbnMpIHtcbiAgdmFyIGksIGosIHJhbmRvbVN0cmluZztcblxuICB0aGlzLmRiID0gb3B0aW9ucy5kYjtcbiAgdGhpcy5pbk1lbW9yeU9ubHkgPSB0aGlzLmRiLmluTWVtb3J5T25seTtcbiAgdGhpcy5maWxlbmFtZSA9IHRoaXMuZGIuZmlsZW5hbWU7XG4gIHRoaXMuY29ycnVwdEFsZXJ0VGhyZXNob2xkID0gb3B0aW9ucy5jb3JydXB0QWxlcnRUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29ycnVwdEFsZXJ0VGhyZXNob2xkIDogMC4xO1xuXG4gIGlmICghdGhpcy5pbk1lbW9yeU9ubHkgJiYgdGhpcy5maWxlbmFtZSAmJiB0aGlzLmZpbGVuYW1lLmNoYXJBdCh0aGlzLmZpbGVuYW1lLmxlbmd0aCAtIDEpID09PSAnficpIHtcbiAgICB0aHJvdyBcIlRoZSBkYXRhZmlsZSBuYW1lIGNhbid0IGVuZCB3aXRoIGEgfiwgd2hpY2ggaXMgcmVzZXJ2ZWQgZm9yIGNyYXNoIHNhZmUgYmFja3VwIGZpbGVzXCI7XG4gIH1cblxuICAvLyBBZnRlciBzZXJpYWxpemF0aW9uIGFuZCBiZWZvcmUgZGVzZXJpYWxpemF0aW9uIGhvb2tzIHdpdGggc29tZSBiYXNpYyBzYW5pdHkgY2hlY2tzXG4gIGlmIChvcHRpb25zLmFmdGVyU2VyaWFsaXphdGlvbiAmJiAhb3B0aW9ucy5iZWZvcmVEZXNlcmlhbGl6YXRpb24pIHtcbiAgICB0aHJvdyBcIlNlcmlhbGl6YXRpb24gaG9vayBkZWZpbmVkIGJ1dCBkZXNlcmlhbGl6YXRpb24gaG9vayB1bmRlZmluZWQsIGNhdXRpb3VzbHkgcmVmdXNpbmcgdG8gc3RhcnQgTmVEQiB0byBwcmV2ZW50IGRhdGFsb3NzXCI7XG4gIH1cbiAgaWYgKCFvcHRpb25zLmFmdGVyU2VyaWFsaXphdGlvbiAmJiBvcHRpb25zLmJlZm9yZURlc2VyaWFsaXphdGlvbikge1xuICAgIHRocm93IFwiU2VyaWFsaXphdGlvbiBob29rIHVuZGVmaW5lZCBidXQgZGVzZXJpYWxpemF0aW9uIGhvb2sgZGVmaW5lZCwgY2F1dGlvdXNseSByZWZ1c2luZyB0byBzdGFydCBOZURCIHRvIHByZXZlbnQgZGF0YWxvc3NcIjtcbiAgfVxuICB0aGlzLmFmdGVyU2VyaWFsaXphdGlvbiA9IG9wdGlvbnMuYWZ0ZXJTZXJpYWxpemF0aW9uIHx8IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzOyB9O1xuICB0aGlzLmJlZm9yZURlc2VyaWFsaXphdGlvbiA9IG9wdGlvbnMuYmVmb3JlRGVzZXJpYWxpemF0aW9uIHx8IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzOyB9O1xuICBmb3IgKGkgPSAxOyBpIDwgMzA7IGkgKz0gMSkge1xuICAgIGZvciAoaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICByYW5kb21TdHJpbmcgPSBjdXN0b21VdGlscy51aWQoaSk7XG4gICAgICBpZiAodGhpcy5iZWZvcmVEZXNlcmlhbGl6YXRpb24odGhpcy5hZnRlclNlcmlhbGl6YXRpb24ocmFuZG9tU3RyaW5nKSkgIT09IHJhbmRvbVN0cmluZykge1xuICAgICAgICB0aHJvdyBcImJlZm9yZURlc2VyaWFsaXphdGlvbiBpcyBub3QgdGhlIHJldmVyc2Ugb2YgYWZ0ZXJTZXJpYWxpemF0aW9uLCBjYXV0aW91c2x5IHJlZnVzaW5nIHRvIHN0YXJ0IE5lREIgdG8gcHJldmVudCBkYXRhbG9zc1wiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZvciBOVyBhcHBzLCBzdG9yZSBkYXRhIGluIHRoZSBzYW1lIGRpcmVjdG9yeSB3aGVyZSBOVyBzdG9yZXMgYXBwbGljYXRpb24gZGF0YVxuICBpZiAodGhpcy5maWxlbmFtZSAmJiBvcHRpb25zLm5vZGVXZWJraXRBcHBOYW1lKSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJXQVJOSU5HOiBUaGUgbm9kZVdlYmtpdEFwcE5hbWUgb3B0aW9uIGlzIGRlcHJlY2F0ZWRcIik7XG4gICAgY29uc29sZS5sb2coXCJUbyBnZXQgdGhlIHBhdGggdG8gdGhlIGRpcmVjdG9yeSB3aGVyZSBOb2RlIFdlYmtpdCBzdG9yZXMgdGhlIGRhdGFcIik7XG4gICAgY29uc29sZS5sb2coXCJmb3IgeW91ciBhcHAsIHVzZSB0aGUgaW50ZXJuYWwgbncuZ3VpIG1vZHVsZSBsaWtlIHRoaXNcIik7XG4gICAgY29uc29sZS5sb2coXCJyZXF1aXJlKCdudy5ndWknKS5BcHAuZGF0YVBhdGhcIik7XG4gICAgY29uc29sZS5sb2coXCJTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JvZ2Vyd2FuZy9ub2RlLXdlYmtpdC9pc3N1ZXMvNTAwXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XCIpO1xuICAgIHRoaXMuZmlsZW5hbWUgPSBQZXJzaXN0ZW5jZS5nZXROV0FwcEZpbGVuYW1lKG9wdGlvbnMubm9kZVdlYmtpdEFwcE5hbWUsIHRoaXMuZmlsZW5hbWUpO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgaWYgYSBkaXJlY3RvcnkgZXhpc3RzIGFuZCBjcmVhdGUgaXQgb24gdGhlIGZseSBpZiBpdCBpcyBub3QgdGhlIGNhc2VcbiAqIGNiIGlzIG9wdGlvbmFsLCBzaWduYXR1cmU6IGVyclxuICovXG5QZXJzaXN0ZW5jZS5lbnN1cmVEaXJlY3RvcnlFeGlzdHMgPSBmdW5jdGlvbiAoZGlyLCBjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgIDtcblxuICBzdG9yYWdlLm1rZGlycChkaXIsIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH0pO1xufTtcblxuXG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHBhdGggdGhlIGRhdGFmaWxlIGlmIHRoZSBnaXZlbiBmaWxlbmFtZSBpcyByZWxhdGl2ZSB0byB0aGUgZGlyZWN0b3J5IHdoZXJlIE5vZGUgV2Via2l0IHN0b3Jlc1xuICogZGF0YSBmb3IgdGhpcyBhcHBsaWNhdGlvbi4gUHJvYmFibHkgdGhlIGJlc3QgcGxhY2UgdG8gc3RvcmUgZGF0YVxuICovXG5QZXJzaXN0ZW5jZS5nZXROV0FwcEZpbGVuYW1lID0gZnVuY3Rpb24gKGFwcE5hbWUsIHJlbGF0aXZlRmlsZW5hbWUpIHtcbiAgdmFyIGhvbWU7XG5cbiAgc3dpdGNoIChwcm9jZXNzLnBsYXRmb3JtKSB7XG4gICAgY2FzZSAnd2luMzInOlxuICAgIGNhc2UgJ3dpbjY0JzpcbiAgICAgIGhvbWUgPSBwcm9jZXNzLmVudi5MT0NBTEFQUERBVEEgfHwgcHJvY2Vzcy5lbnYuQVBQREFUQTtcbiAgICAgIGlmICghaG9tZSkgeyB0aHJvdyBcIkNvdWxkbid0IGZpbmQgdGhlIGJhc2UgYXBwbGljYXRpb24gZGF0YSBmb2xkZXJcIjsgfVxuICAgICAgaG9tZSA9IHBhdGguam9pbihob21lLCBhcHBOYW1lKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Rhcndpbic6XG4gICAgICBob21lID0gcHJvY2Vzcy5lbnYuSE9NRTtcbiAgICAgIGlmICghaG9tZSkgeyB0aHJvdyBcIkNvdWxkbid0IGZpbmQgdGhlIGJhc2UgYXBwbGljYXRpb24gZGF0YSBkaXJlY3RvcnlcIjsgfVxuICAgICAgaG9tZSA9IHBhdGguam9pbihob21lLCAnTGlicmFyeScsICdBcHBsaWNhdGlvbiBTdXBwb3J0JywgYXBwTmFtZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsaW51eCc6XG4gICAgICBob21lID0gcHJvY2Vzcy5lbnYuSE9NRTtcbiAgICAgIGlmICghaG9tZSkgeyB0aHJvdyBcIkNvdWxkbid0IGZpbmQgdGhlIGJhc2UgYXBwbGljYXRpb24gZGF0YSBkaXJlY3RvcnlcIjsgfVxuICAgICAgaG9tZSA9IHBhdGguam9pbihob21lLCAnLmNvbmZpZycsIGFwcE5hbWUpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFwiQ2FuJ3QgdXNlIHRoZSBOb2RlIFdlYmtpdCByZWxhdGl2ZSBwYXRoIGZvciBwbGF0Zm9ybSBcIiArIHByb2Nlc3MucGxhdGZvcm07XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBwYXRoLmpvaW4oaG9tZSwgJ25lZGItZGF0YScsIHJlbGF0aXZlRmlsZW5hbWUpO1xufVxuXG5cbi8qKlxuICogUGVyc2lzdCBjYWNoZWQgZGF0YWJhc2VcbiAqIFRoaXMgc2VydmVzIGFzIGEgY29tcGFjdGlvbiBmdW5jdGlvbiBzaW5jZSB0aGUgY2FjaGUgYWx3YXlzIGNvbnRhaW5zIG9ubHkgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIHdoaWxlIHRoZSBkYXRhIGZpbGUgaXMgYXBwZW5kLW9ubHkgc28gaXQgbWF5IGdyb3cgbGFyZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnJcbiAqL1xuUGVyc2lzdGVuY2UucHJvdG90eXBlLnBlcnNpc3RDYWNoZWREYXRhYmFzZSA9IGZ1bmN0aW9uIChjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgICwgdG9QZXJzaXN0ID0gJydcbiAgICAsIHNlbGYgPSB0aGlzXG4gICAgO1xuXG4gIGlmICh0aGlzLmluTWVtb3J5T25seSkgeyByZXR1cm4gY2FsbGJhY2sobnVsbCk7IH1cblxuICB0aGlzLmRiLmdldEFsbERhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICB0b1BlcnNpc3QgKz0gc2VsZi5hZnRlclNlcmlhbGl6YXRpb24obW9kZWwuc2VyaWFsaXplKGRvYykpICsgJ1xcbic7XG4gIH0pO1xuICBPYmplY3Qua2V5cyh0aGlzLmRiLmluZGV4ZXMpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkTmFtZSkge1xuICAgIGlmIChmaWVsZE5hbWUgIT0gXCJfaWRcIikgeyAgIC8vIFRoZSBzcGVjaWFsIF9pZCBpbmRleCBpcyBtYW5hZ2VkIGJ5IGRhdGFzdG9yZS5qcywgdGhlIG90aGVycyBuZWVkIHRvIGJlIHBlcnNpc3RlZFxuICAgICAgdG9QZXJzaXN0ICs9IHNlbGYuYWZ0ZXJTZXJpYWxpemF0aW9uKG1vZGVsLnNlcmlhbGl6ZSh7ICQkaW5kZXhDcmVhdGVkOiB7IGZpZWxkTmFtZTogZmllbGROYW1lLCB1bmlxdWU6IHNlbGYuZGIuaW5kZXhlc1tmaWVsZE5hbWVdLnVuaXF1ZSwgc3BhcnNlOiBzZWxmLmRiLmluZGV4ZXNbZmllbGROYW1lXS5zcGFyc2UgfX0pKSArICdcXG4nO1xuICAgIH1cbiAgfSk7XG5cbiAgc3RvcmFnZS5jcmFzaFNhZmVXcml0ZUZpbGUodGhpcy5maWxlbmFtZSwgdG9QZXJzaXN0LCBjYWxsYmFjayk7XG59O1xuXG5cbi8qKlxuICogUXVldWUgYSByZXdyaXRlIG9mIHRoZSBkYXRhZmlsZVxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUuY29tcGFjdERhdGFmaWxlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmRiLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLCBmbjogdGhpcy5wZXJzaXN0Q2FjaGVkRGF0YWJhc2UsIGFyZ3VtZW50czogW10gfSk7XG59O1xuXG5cbi8qKlxuICogU2V0IGF1dG9tYXRpYyBjb21wYWN0aW9uIGV2ZXJ5IGludGVydmFsIG1zXG4gKiBAcGFyYW0ge051bWJlcn0gaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzLCB3aXRoIGFuIGVuZm9yY2VkIG1pbmltdW0gb2YgNSBzZWNvbmRzXG4gKi9cblBlcnNpc3RlbmNlLnByb3RvdHlwZS5zZXRBdXRvY29tcGFjdGlvbkludGVydmFsID0gZnVuY3Rpb24gKGludGVydmFsKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICAgICwgbWluSW50ZXJ2YWwgPSA1MDAwXG4gICAgLCByZWFsSW50ZXJ2YWwgPSBNYXRoLm1heChpbnRlcnZhbCB8fCAwLCBtaW5JbnRlcnZhbClcbiAgICA7XG5cbiAgdGhpcy5zdG9wQXV0b2NvbXBhY3Rpb24oKTtcblxuICB0aGlzLmF1dG9jb21wYWN0aW9uSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLmNvbXBhY3REYXRhZmlsZSgpO1xuICB9LCByZWFsSW50ZXJ2YWwpO1xufTtcblxuXG4vKipcbiAqIFN0b3AgYXV0b2NvbXBhY3Rpb24gKGRvIG5vdGhpbmcgaWYgYXV0b2NvbXBhY3Rpb24gd2FzIG5vdCBydW5uaW5nKVxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUuc3RvcEF1dG9jb21wYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5hdXRvY29tcGFjdGlvbkludGVydmFsSWQpIHsgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9jb21wYWN0aW9uSW50ZXJ2YWxJZCk7IH1cbn07XG5cblxuLyoqXG4gKiBQZXJzaXN0IG5ldyBzdGF0ZSBmb3IgdGhlIGdpdmVuIG5ld0RvY3MgKGNhbiBiZSBpbnNlcnRpb24sIHVwZGF0ZSBvciByZW1vdmFsKVxuICogVXNlIGFuIGFwcGVuZC1vbmx5IGZvcm1hdFxuICogQHBhcmFtIHtBcnJheX0gbmV3RG9jcyBDYW4gYmUgZW1wdHkgaWYgbm8gZG9jIHdhcyB1cGRhdGVkL3JlbW92ZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsLCBzaWduYXR1cmU6IGVyclxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUucGVyc2lzdE5ld1N0YXRlID0gZnVuY3Rpb24gKG5ld0RvY3MsIGNiKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICAgICwgdG9QZXJzaXN0ID0gJydcbiAgICAsIGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24gKCkge31cbiAgICA7XG5cbiAgLy8gSW4tbWVtb3J5IG9ubHkgZGF0YXN0b3JlXG4gIGlmIChzZWxmLmluTWVtb3J5T25seSkgeyByZXR1cm4gY2FsbGJhY2sobnVsbCk7IH1cblxuICBuZXdEb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIHRvUGVyc2lzdCArPSBzZWxmLmFmdGVyU2VyaWFsaXphdGlvbihtb2RlbC5zZXJpYWxpemUoZG9jKSkgKyAnXFxuJztcbiAgfSk7XG5cbiAgaWYgKHRvUGVyc2lzdC5sZW5ndGggPT09IDApIHsgcmV0dXJuIGNhbGxiYWNrKG51bGwpOyB9XG5cbiAgc3RvcmFnZS5hcHBlbmRGaWxlKHNlbGYuZmlsZW5hbWUsIHRvUGVyc2lzdCwgJ3V0ZjgnLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEZyb20gYSBkYXRhYmFzZSdzIHJhdyBkYXRhLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmdcbiAqIG1hY2hpbmUgdW5kZXJzdGFuZGFibGUgY29sbGVjdGlvblxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUudHJlYXRSYXdEYXRhID0gZnVuY3Rpb24gKHJhd0RhdGEpIHtcbiAgdmFyIGRhdGEgPSByYXdEYXRhLnNwbGl0KCdcXG4nKVxuICAgICwgZGF0YUJ5SWQgPSB7fVxuICAgICwgdGRhdGEgPSBbXVxuICAgICwgaVxuICAgICwgaW5kZXhlcyA9IHt9XG4gICAgLCBjb3JydXB0SXRlbXMgPSAtMSAgIC8vIExhc3QgbGluZSBvZiBldmVyeSBkYXRhIGZpbGUgaXMgdXN1YWxseSBibGFuayBzbyBub3QgcmVhbGx5IGNvcnJ1cHRcbiAgICA7XG5cbiAgZm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgZG9jO1xuXG4gICAgdHJ5IHtcbiAgICAgIGRvYyA9IG1vZGVsLmRlc2VyaWFsaXplKHRoaXMuYmVmb3JlRGVzZXJpYWxpemF0aW9uKGRhdGFbaV0pKTtcbiAgICAgIGlmIChkb2MuX2lkKSB7XG4gICAgICAgIGlmIChkb2MuJCRkZWxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgZGVsZXRlIGRhdGFCeUlkW2RvYy5faWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGFCeUlkW2RvYy5faWRdID0gZG9jO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRvYy4kJGluZGV4Q3JlYXRlZCAmJiBkb2MuJCRpbmRleENyZWF0ZWQuZmllbGROYW1lICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleGVzW2RvYy4kJGluZGV4Q3JlYXRlZC5maWVsZE5hbWVdID0gZG9jLiQkaW5kZXhDcmVhdGVkO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jLiQkaW5kZXhSZW1vdmVkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGRlbGV0ZSBpbmRleGVzW2RvYy4kJGluZGV4UmVtb3ZlZF07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29ycnVwdEl0ZW1zICs9IDE7XG4gICAgfVxuICB9XG5cbiAgLy8gQSBiaXQgbGVuaWVudCBvbiBjb3JydXB0aW9uXG4gIGlmIChkYXRhLmxlbmd0aCA+IDAgJiYgY29ycnVwdEl0ZW1zIC8gZGF0YS5sZW5ndGggPiB0aGlzLmNvcnJ1cHRBbGVydFRocmVzaG9sZCkge1xuICAgIHRocm93IFwiTW9yZSB0aGFuIDEwJSBvZiB0aGUgZGF0YSBmaWxlIGlzIGNvcnJ1cHQsIHRoZSB3cm9uZyBiZWZvcmVEZXNlcmlhbGl6YXRpb24gaG9vayBtYXkgYmUgdXNlZC4gQ2F1dGlvdXNseSByZWZ1c2luZyB0byBzdGFydCBOZURCIHRvIHByZXZlbnQgZGF0YWxvc3NcIlxuICB9XG5cbiAgT2JqZWN0LmtleXMoZGF0YUJ5SWQpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICB0ZGF0YS5wdXNoKGRhdGFCeUlkW2tdKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHsgZGF0YTogdGRhdGEsIGluZGV4ZXM6IGluZGV4ZXMgfTtcbn07XG5cblxuLyoqXG4gKiBMb2FkIHRoZSBkYXRhYmFzZVxuICogMSkgQ3JlYXRlIGFsbCBpbmRleGVzXG4gKiAyKSBJbnNlcnQgYWxsIGRhdGFcbiAqIDMpIENvbXBhY3QgdGhlIGRhdGFiYXNlXG4gKiBUaGlzIG1lYW5zIHB1bGxpbmcgZGF0YSBvdXQgb2YgdGhlIGRhdGEgZmlsZSBvciBjcmVhdGluZyBpdCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gKiBBbHNvLCBhbGwgZGF0YSBpcyBwZXJzaXN0ZWQgcmlnaHQgYXdheSwgd2hpY2ggaGFzIHRoZSBlZmZlY3Qgb2YgY29tcGFjdGluZyB0aGUgZGF0YWJhc2UgZmlsZVxuICogVGhpcyBvcGVyYXRpb24gaXMgdmVyeSBxdWljayBhdCBzdGFydHVwIGZvciBhIGJpZyBjb2xsZWN0aW9uICg2MG1zIGZvciB+MTBrIGRvY3MpXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnJcbiAqL1xuUGVyc2lzdGVuY2UucHJvdG90eXBlLmxvYWREYXRhYmFzZSA9IGZ1bmN0aW9uIChjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgICwgc2VsZiA9IHRoaXNcbiAgICA7XG5cbiAgc2VsZi5kYi5yZXNldEluZGV4ZXMoKTtcblxuICAvLyBJbi1tZW1vcnkgb25seSBkYXRhc3RvcmVcbiAgaWYgKHNlbGYuaW5NZW1vcnlPbmx5KSB7IHJldHVybiBjYWxsYmFjayhudWxsKTsgfVxuXG4gIGFzeW5jLndhdGVyZmFsbChbXG4gICAgZnVuY3Rpb24gKGNiKSB7XG4gICAgICBQZXJzaXN0ZW5jZS5lbnN1cmVEaXJlY3RvcnlFeGlzdHMocGF0aC5kaXJuYW1lKHNlbGYuZmlsZW5hbWUpLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHN0b3JhZ2UuZW5zdXJlRGF0YWZpbGVJbnRlZ3JpdHkoc2VsZi5maWxlbmFtZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIHN0b3JhZ2UucmVhZEZpbGUoc2VsZi5maWxlbmFtZSwgJ3V0ZjgnLCBmdW5jdGlvbiAoZXJyLCByYXdEYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7IHJldHVybiBjYihlcnIpOyB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciB0cmVhdGVkRGF0YSA9IHNlbGYudHJlYXRSYXdEYXRhKHJhd0RhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY2IoZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlY3JlYXRlIGFsbCBpbmRleGVzIGluIHRoZSBkYXRhZmlsZVxuICAgICAgICAgICAgT2JqZWN0LmtleXModHJlYXRlZERhdGEuaW5kZXhlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIHNlbGYuZGIuaW5kZXhlc1trZXldID0gbmV3IEluZGV4KHRyZWF0ZWREYXRhLmluZGV4ZXNba2V5XSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRmlsbCBjYWNoZWQgZGF0YWJhc2UgKGkuZS4gYWxsIGluZGV4ZXMpIHdpdGggZGF0YVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc2VsZi5kYi5yZXNldEluZGV4ZXModHJlYXRlZERhdGEuZGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHNlbGYuZGIucmVzZXRJbmRleGVzKCk7ICAgLy8gUm9sbGJhY2sgYW55IGluZGV4IHdoaWNoIGRpZG4ndCBmYWlsXG4gICAgICAgICAgICAgIHJldHVybiBjYihlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5kYi5wZXJzaXN0ZW5jZS5wZXJzaXN0Q2FjaGVkRGF0YWJhc2UoY2IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgXSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cblxuICAgICAgIHNlbGYuZGIuZXhlY3V0b3IucHJvY2Vzc0J1ZmZlcigpO1xuICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgfSk7XG59O1xuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMgPSBQZXJzaXN0ZW5jZTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG59LHtcIi4vY3VzdG9tVXRpbHNcIjo4LFwiLi9pbmRleGVzXCI6MTQsXCIuL21vZGVsXCI6MTUsXCIuL3N0b3JhZ2VcIjo5LFwiX3Byb2Nlc3NcIjoyMCxcImFzeW5jXCI6MTcsXCJwYXRoXCI6MTl9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLypnbG9iYWwgc2V0SW1tZWRpYXRlOiBmYWxzZSwgc2V0VGltZW91dDogZmFsc2UsIGNvbnNvbGU6IGZhbHNlICovXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGFzeW5jID0ge307XG5cbiAgICAvLyBnbG9iYWwgb24gdGhlIHNlcnZlciwgd2luZG93IGluIHRoZSBicm93c2VyXG4gICAgdmFyIHJvb3QsIHByZXZpb3VzX2FzeW5jO1xuXG4gICAgcm9vdCA9IHRoaXM7XG4gICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgcHJldmlvdXNfYXN5bmMgPSByb290LmFzeW5jO1xuICAgIH1cblxuICAgIGFzeW5jLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJvb3QuYXN5bmMgPSBwcmV2aW91c19hc3luYztcbiAgICAgICAgcmV0dXJuIGFzeW5jO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvbmx5X29uY2UoZm4pIHtcbiAgICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuXCIpO1xuICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGZuLmFwcGx5KHJvb3QsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy8vIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJsaXR5IGZ1bmN0aW9ucyAvLy8vXG5cbiAgICB2YXIgX2VhY2ggPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvcikge1xuICAgICAgICBpZiAoYXJyLmZvckVhY2gpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIuZm9yRWFjaChpdGVyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGFycltpXSwgaSwgYXJyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX21hcCA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yKSB7XG4gICAgICAgIGlmIChhcnIubWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyLm1hcChpdGVyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgX2VhY2goYXJyLCBmdW5jdGlvbiAoeCwgaSwgYSkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZXJhdG9yKHgsIGksIGEpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG5cbiAgICB2YXIgX3JlZHVjZSA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yLCBtZW1vKSB7XG4gICAgICAgIGlmIChhcnIucmVkdWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyLnJlZHVjZShpdGVyYXRvciwgbWVtbyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VhY2goYXJyLCBmdW5jdGlvbiAoeCwgaSwgYSkge1xuICAgICAgICAgICAgbWVtbyA9IGl0ZXJhdG9yKG1lbW8sIHgsIGksIGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcblxuICAgIHZhciBfa2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuXG4gICAgLy8vLyBleHBvcnRlZCBhc3luYyBtb2R1bGUgZnVuY3Rpb25zIC8vLy9cblxuICAgIC8vLy8gbmV4dFRpY2sgaW1wbGVtZW50YXRpb24gd2l0aCBicm93c2VyLWNvbXBhdGlibGUgZmFsbGJhY2sgLy8vL1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcgfHwgIShwcm9jZXNzLm5leHRUaWNrKSkge1xuICAgICAgICBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYXN5bmMubmV4dFRpY2sgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgYSBkaXJlY3QgYWxpYXMgZm9yIElFMTAgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gYXN5bmMubmV4dFRpY2s7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3luYy5uZXh0VGljayA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZSA9IGFzeW5jLm5leHRUaWNrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3luYy5uZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgIC8vIG5vdCBhIGRpcmVjdCBhbGlhcyBmb3IgSUUxMCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gYXN5bmMubmV4dFRpY2s7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYy5lYWNoID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IDA7XG4gICAgICAgIF9lYWNoKGFyciwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgsIG9ubHlfb25jZShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMuZm9yRWFjaCA9IGFzeW5jLmVhY2g7XG5cbiAgICBhc3luYy5lYWNoU2VyaWVzID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IDA7XG4gICAgICAgIHZhciBpdGVyYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyW2NvbXBsZXRlZF0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA+PSBhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpdGVyYXRlKCk7XG4gICAgfTtcbiAgICBhc3luYy5mb3JFYWNoU2VyaWVzID0gYXN5bmMuZWFjaFNlcmllcztcblxuICAgIGFzeW5jLmVhY2hMaW1pdCA9IGZ1bmN0aW9uIChhcnIsIGxpbWl0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZuID0gX2VhY2hMaW1pdChsaW1pdCk7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIFthcnIsIGl0ZXJhdG9yLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgYXN5bmMuZm9yRWFjaExpbWl0ID0gYXN5bmMuZWFjaExpbWl0O1xuXG4gICAgdmFyIF9lYWNoTGltaXQgPSBmdW5jdGlvbiAobGltaXQpIHtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgaWYgKCFhcnIubGVuZ3RoIHx8IGxpbWl0IDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSAwO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ZWQgPSAwO1xuICAgICAgICAgICAgdmFyIHJ1bm5pbmcgPSAwO1xuXG4gICAgICAgICAgICAoZnVuY3Rpb24gcmVwbGVuaXNoICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHJ1bm5pbmcgPCBsaW1pdCAmJiBzdGFydGVkIDwgYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydGVkICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IoYXJyW3N0YXJ0ZWQgLSAxXSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxlbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG5cbiAgICB2YXIgZG9QYXJhbGxlbCA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFthc3luYy5lYWNoXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIGRvUGFyYWxsZWxMaW1pdCA9IGZ1bmN0aW9uKGxpbWl0LCBmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFtfZWFjaExpbWl0KGxpbWl0KV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBkb1NlcmllcyA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFthc3luYy5lYWNoU2VyaWVzXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIHZhciBfYXN5bmNNYXAgPSBmdW5jdGlvbiAoZWFjaGZuLCBhcnIsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICBhcnIgPSBfbWFwKGFyciwgZnVuY3Rpb24gKHgsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiB7aW5kZXg6IGksIHZhbHVlOiB4fTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IoeC52YWx1ZSwgZnVuY3Rpb24gKGVyciwgdikge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbeC5pbmRleF0gPSB2O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBhc3luYy5tYXAgPSBkb1BhcmFsbGVsKF9hc3luY01hcCk7XG4gICAgYXN5bmMubWFwU2VyaWVzID0gZG9TZXJpZXMoX2FzeW5jTWFwKTtcbiAgICBhc3luYy5tYXBMaW1pdCA9IGZ1bmN0aW9uIChhcnIsIGxpbWl0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9tYXBMaW1pdChsaW1pdCkoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICB2YXIgX21hcExpbWl0ID0gZnVuY3Rpb24obGltaXQpIHtcbiAgICAgICAgcmV0dXJuIGRvUGFyYWxsZWxMaW1pdChsaW1pdCwgX2FzeW5jTWFwKTtcbiAgICB9O1xuXG4gICAgLy8gcmVkdWNlIG9ubHkgaGFzIGEgc2VyaWVzIHZlcnNpb24sIGFzIGRvaW5nIHJlZHVjZSBpbiBwYXJhbGxlbCB3b24ndFxuICAgIC8vIHdvcmsgaW4gbWFueSBzaXR1YXRpb25zLlxuICAgIGFzeW5jLnJlZHVjZSA9IGZ1bmN0aW9uIChhcnIsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihtZW1vLCB4LCBmdW5jdGlvbiAoZXJyLCB2KSB7XG4gICAgICAgICAgICAgICAgbWVtbyA9IHY7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIsIG1lbW8pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIGluamVjdCBhbGlhc1xuICAgIGFzeW5jLmluamVjdCA9IGFzeW5jLnJlZHVjZTtcbiAgICAvLyBmb2xkbCBhbGlhc1xuICAgIGFzeW5jLmZvbGRsID0gYXN5bmMucmVkdWNlO1xuXG4gICAgYXN5bmMucmVkdWNlUmlnaHQgPSBmdW5jdGlvbiAoYXJyLCBtZW1vLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJldmVyc2VkID0gX21hcChhcnIsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSkucmV2ZXJzZSgpO1xuICAgICAgICBhc3luYy5yZWR1Y2UocmV2ZXJzZWQsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvLyBmb2xkciBhbGlhc1xuICAgIGFzeW5jLmZvbGRyID0gYXN5bmMucmVkdWNlUmlnaHQ7XG5cbiAgICB2YXIgX2ZpbHRlciA9IGZ1bmN0aW9uIChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIGFyciA9IF9tYXAoYXJyLCBmdW5jdGlvbiAoeCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIHtpbmRleDogaSwgdmFsdWU6IHh9O1xuICAgICAgICB9KTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LnZhbHVlLCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhfbWFwKHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGFzeW5jLmZpbHRlciA9IGRvUGFyYWxsZWwoX2ZpbHRlcik7XG4gICAgYXN5bmMuZmlsdGVyU2VyaWVzID0gZG9TZXJpZXMoX2ZpbHRlcik7XG4gICAgLy8gc2VsZWN0IGFsaWFzXG4gICAgYXN5bmMuc2VsZWN0ID0gYXN5bmMuZmlsdGVyO1xuICAgIGFzeW5jLnNlbGVjdFNlcmllcyA9IGFzeW5jLmZpbHRlclNlcmllcztcblxuICAgIHZhciBfcmVqZWN0ID0gZnVuY3Rpb24gKGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgYXJyID0gX21hcChhcnIsIGZ1bmN0aW9uICh4LCBpKSB7XG4gICAgICAgICAgICByZXR1cm4ge2luZGV4OiBpLCB2YWx1ZTogeH07XG4gICAgICAgIH0pO1xuICAgICAgICBlYWNoZm4oYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgudmFsdWUsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhfbWFwKHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGFzeW5jLnJlamVjdCA9IGRvUGFyYWxsZWwoX3JlamVjdCk7XG4gICAgYXN5bmMucmVqZWN0U2VyaWVzID0gZG9TZXJpZXMoX3JlamVjdCk7XG5cbiAgICB2YXIgX2RldGVjdCA9IGZ1bmN0aW9uIChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIG1haW5fY2FsbGJhY2spIHtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBtYWluX2NhbGxiYWNrKHgpO1xuICAgICAgICAgICAgICAgICAgICBtYWluX2NhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBtYWluX2NhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMuZGV0ZWN0ID0gZG9QYXJhbGxlbChfZGV0ZWN0KTtcbiAgICBhc3luYy5kZXRlY3RTZXJpZXMgPSBkb1NlcmllcyhfZGV0ZWN0KTtcblxuICAgIGFzeW5jLnNvbWUgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgbWFpbl9jYWxsYmFjaykge1xuICAgICAgICBhc3luYy5lYWNoKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIG1haW5fY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG1haW5fY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBtYWluX2NhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBhbnkgYWxpYXNcbiAgICBhc3luYy5hbnkgPSBhc3luYy5zb21lO1xuXG4gICAgYXN5bmMuZXZlcnkgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgbWFpbl9jYWxsYmFjaykge1xuICAgICAgICBhc3luYy5lYWNoKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGlmICghdikge1xuICAgICAgICAgICAgICAgICAgICBtYWluX2NhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbl9jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIG1haW5fY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gYWxsIGFsaWFzXG4gICAgYXN5bmMuYWxsID0gYXN5bmMuZXZlcnk7XG5cbiAgICBhc3luYy5zb3J0QnkgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgYXN5bmMubWFwKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAoZXJyLCBjcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHt2YWx1ZTogeCwgY3JpdGVyaWE6IGNyaXRlcmlhfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWEsIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgX21hcChyZXN1bHRzLnNvcnQoZm4pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhc3luYy5hdXRvID0gZnVuY3Rpb24gKHRhc2tzLCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICB2YXIga2V5cyA9IF9rZXlzKHRhc2tzKTtcbiAgICAgICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcblxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgIHZhciBhZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnVuc2hpZnQoZm4pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRhc2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF9lYWNoKGxpc3RlbmVycy5zbGljZSgwKSwgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfa2V5cyhyZXN1bHRzKS5sZW5ndGggPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2VhY2goa2V5cywgZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gKHRhc2tzW2tdIGluc3RhbmNlb2YgRnVuY3Rpb24pID8gW3Rhc2tzW2tdXTogdGFza3Nba107XG4gICAgICAgICAgICB2YXIgdGFza0NhbGxiYWNrID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2FmZVJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgX2VhY2goX2tleXMocmVzdWx0cyksIGZ1bmN0aW9uKHJrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVSZXN1bHRzW3JrZXldID0gcmVzdWx0c1tya2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVSZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBzYWZlUmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3Agc3Vic2VxdWVudCBlcnJvcnMgaGl0dGluZyBjYWxsYmFjayBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1trXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZSh0YXNrQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgcmVxdWlyZXMgPSB0YXNrLnNsaWNlKDAsIE1hdGguYWJzKHRhc2subGVuZ3RoIC0gMSkpIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVkdWNlKHJlcXVpcmVzLCBmdW5jdGlvbiAoYSwgeCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGEgJiYgcmVzdWx0cy5oYXNPd25Qcm9wZXJ0eSh4KSk7XG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSkgJiYgIXJlc3VsdHMuaGFzT3duUHJvcGVydHkoayk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICB0YXNrW3Rhc2subGVuZ3RoIC0gMV0odGFza0NhbGxiYWNrLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tbdGFzay5sZW5ndGggLSAxXSh0YXNrQ2FsbGJhY2ssIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhc3luYy53YXRlcmZhbGwgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICh0YXNrcy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcbiAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCB0byB3YXRlcmZhbGwgbXVzdCBiZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMnKTtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBJdGVyYXRvciA9IGZ1bmN0aW9uIChpdGVyYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHdyYXBJdGVyYXRvcihuZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgd3JhcEl0ZXJhdG9yKGFzeW5jLml0ZXJhdG9yKHRhc2tzKSkoKTtcbiAgICB9O1xuXG4gICAgdmFyIF9wYXJhbGxlbCA9IGZ1bmN0aW9uKGVhY2hmbiwgdGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICh0YXNrcy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgICAgIGVhY2hmbi5tYXAodGFza3MsIGZ1bmN0aW9uIChmbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwgZXJyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgIGVhY2hmbi5lYWNoKF9rZXlzKHRhc2tzKSwgZnVuY3Rpb24gKGssIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGFza3Nba10oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMucGFyYWxsZWwgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbCh7IG1hcDogYXN5bmMubWFwLCBlYWNoOiBhc3luYy5lYWNoIH0sIHRhc2tzLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLnBhcmFsbGVsTGltaXQgPSBmdW5jdGlvbih0YXNrcywgbGltaXQsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbCh7IG1hcDogX21hcExpbWl0KGxpbWl0KSwgZWFjaDogX2VhY2hMaW1pdChsaW1pdCkgfSwgdGFza3MsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuc2VyaWVzID0gZnVuY3Rpb24gKHRhc2tzLCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICBpZiAodGFza3MuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgICAgICBhc3luYy5tYXBTZXJpZXModGFza3MsIGZ1bmN0aW9uIChmbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwgZXJyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgIGFzeW5jLmVhY2hTZXJpZXMoX2tleXModGFza3MpLCBmdW5jdGlvbiAoaywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0YXNrc1trXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNba10gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhc3luYy5pdGVyYXRvciA9IGZ1bmN0aW9uICh0YXNrcykge1xuICAgICAgICB2YXIgbWFrZUNhbGxiYWNrID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1tpbmRleF0uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLm5leHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmbi5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoaW5kZXggPCB0YXNrcy5sZW5ndGggLSAxKSA/IG1ha2VDYWxsYmFjayhpbmRleCArIDEpOiBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1ha2VDYWxsYmFjaygwKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuYXBwbHkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KFxuICAgICAgICAgICAgICAgIG51bGwsIGFyZ3MuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgX2NvbmNhdCA9IGZ1bmN0aW9uIChlYWNoZm4sIGFyciwgZm4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByID0gW107XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh4LCBjYikge1xuICAgICAgICAgICAgZm4oeCwgZnVuY3Rpb24gKGVyciwgeSkge1xuICAgICAgICAgICAgICAgIHIgPSByLmNvbmNhdCh5IHx8IFtdKTtcbiAgICAgICAgICAgICAgICBjYihlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMuY29uY2F0ID0gZG9QYXJhbGxlbChfY29uY2F0KTtcbiAgICBhc3luYy5jb25jYXRTZXJpZXMgPSBkb1NlcmllcyhfY29uY2F0KTtcblxuICAgIGFzeW5jLndoaWxzdCA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRlc3QoKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzeW5jLndoaWxzdCh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFzeW5jLmRvV2hpbHN0ID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCB0ZXN0LCBjYWxsYmFjaykge1xuICAgICAgICBpdGVyYXRvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGVzdCgpKSB7XG4gICAgICAgICAgICAgICAgYXN5bmMuZG9XaGlsc3QoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhc3luYy51bnRpbCA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0ZXN0KCkpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3luYy51bnRpbCh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFzeW5jLmRvVW50aWwgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIGl0ZXJhdG9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGVzdCgpKSB7XG4gICAgICAgICAgICAgICAgYXN5bmMuZG9VbnRpbChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLnF1ZXVlID0gZnVuY3Rpb24gKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbmN5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBfaW5zZXJ0KHEsIGRhdGEsIHBvcywgY2FsbGJhY2spIHtcbiAgICAgICAgICBpZihkYXRhLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xuICAgICAgICAgICAgICBkYXRhID0gW2RhdGFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfZWFjaChkYXRhLCBmdW5jdGlvbih0YXNrKSB7XG4gICAgICAgICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgZGF0YTogdGFzayxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IG51bGxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgcS50YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHEudGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChxLnNhdHVyYXRlZCAmJiBxLnRhc2tzLmxlbmd0aCA9PT0gY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKHEucHJvY2Vzcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd29ya2VycyA9IDA7XG4gICAgICAgIHZhciBxID0ge1xuICAgICAgICAgICAgdGFza3M6IFtdLFxuICAgICAgICAgICAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICAgICAgICAgICAgc2F0dXJhdGVkOiBudWxsLFxuICAgICAgICAgICAgZW1wdHk6IG51bGwsXG4gICAgICAgICAgICBkcmFpbjogbnVsbCxcbiAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICBfaW5zZXJ0KHEsIGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5zaGlmdDogZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIF9pbnNlcnQocSwgZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAod29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS50YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBxLnRhc2tzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChxLmVtcHR5ICYmIHEudGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlcnMgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5jYWxsYmFjay5hcHBseSh0YXNrLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEuZHJhaW4gJiYgcS50YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5kcmFpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYiA9IG9ubHlfb25jZShuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyKHRhc2suZGF0YSwgY2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcS50YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVubmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcTtcbiAgICB9O1xuXG4gICAgYXN5bmMuY2FyZ28gPSBmdW5jdGlvbiAod29ya2VyLCBwYXlsb2FkKSB7XG4gICAgICAgIHZhciB3b3JraW5nICAgICA9IGZhbHNlLFxuICAgICAgICAgICAgdGFza3MgICAgICAgPSBbXTtcblxuICAgICAgICB2YXIgY2FyZ28gPSB7XG4gICAgICAgICAgICB0YXNrczogdGFza3MsXG4gICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgICAgICAgc2F0dXJhdGVkOiBudWxsLFxuICAgICAgICAgICAgZW1wdHk6IG51bGwsXG4gICAgICAgICAgICBkcmFpbjogbnVsbCxcbiAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBbZGF0YV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9lYWNoKGRhdGEsIGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YXNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmdvLnNhdHVyYXRlZCAmJiB0YXNrcy5sZW5ndGggPT09IHBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmdvLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKGNhcmdvLnByb2Nlc3MpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdvcmtpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNhcmdvLmRyYWluKSBjYXJnby5kcmFpbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRzID0gdHlwZW9mIHBheWxvYWQgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0YXNrcy5zcGxpY2UoMCwgcGF5bG9hZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRhc2tzLnNwbGljZSgwKTtcblxuICAgICAgICAgICAgICAgIHZhciBkcyA9IF9tYXAodHMsIGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXNrLmRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZihjYXJnby5lbXB0eSkgY2FyZ28uZW1wdHkoKTtcbiAgICAgICAgICAgICAgICB3b3JraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3b3JrZXIoZHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICBfZWFjaCh0cywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYWxsYmFjay5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvY2VzcygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVubmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3b3JraW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2FyZ287XG4gICAgfTtcblxuICAgIHZhciBfY29uc29sZV9mbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MuY29uY2F0KFtmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uc29sZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2VhY2goYXJncywgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlW25hbWVdKHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSkpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYXN5bmMubG9nID0gX2NvbnNvbGVfZm4oJ2xvZycpO1xuICAgIGFzeW5jLmRpciA9IF9jb25zb2xlX2ZuKCdkaXInKTtcbiAgICAvKmFzeW5jLmluZm8gPSBfY29uc29sZV9mbignaW5mbycpO1xuICAgIGFzeW5jLndhcm4gPSBfY29uc29sZV9mbignd2FybicpO1xuICAgIGFzeW5jLmVycm9yID0gX2NvbnNvbGVfZm4oJ2Vycm9yJyk7Ki9cblxuICAgIGFzeW5jLm1lbW9pemUgPSBmdW5jdGlvbiAoZm4sIGhhc2hlcikge1xuICAgICAgICB2YXIgbWVtbyA9IHt9O1xuICAgICAgICB2YXIgcXVldWVzID0ge307XG4gICAgICAgIGhhc2hlciA9IGhhc2hlciB8fCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICB2YXIga2V5ID0gaGFzaGVyLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGtleSBpbiBtZW1vKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgbWVtb1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSBpbiBxdWV1ZXMpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZXNba2V5XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXVlc1trZXldID0gW2NhbGxiYWNrXTtcbiAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtZW1vW2tleV0gPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxID0gcXVldWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBxdWV1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBxLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHFbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1lbW9pemVkLm1lbW8gPSBtZW1vO1xuICAgICAgICBtZW1vaXplZC51bm1lbW9pemVkID0gZm47XG4gICAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9O1xuXG4gICAgYXN5bmMudW5tZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKGZuLnVubWVtb2l6ZWQgfHwgZm4pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBhc3luYy50aW1lcyA9IGZ1bmN0aW9uIChjb3VudCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjb3VudGVyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY291bnRlci5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3luYy5tYXAoY291bnRlciwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMudGltZXNTZXJpZXMgPSBmdW5jdGlvbiAoY291bnQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgY291bnRlciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvdW50ZXIucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXN5bmMubWFwU2VyaWVzKGNvdW50ZXIsIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLmNvbXBvc2UgPSBmdW5jdGlvbiAoLyogZnVuY3Rpb25zLi4uICovKSB7XG4gICAgICAgIHZhciBmbnMgPSBBcnJheS5wcm90b3R5cGUucmV2ZXJzZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgYXN5bmMucmVkdWNlKGZucywgYXJncywgZnVuY3Rpb24gKG5ld2FyZ3MsIGZuLCBjYikge1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIG5ld2FyZ3MuY29uY2F0KFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0YXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgIGNiKGVyciwgbmV4dGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1dKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhhdCwgW2Vycl0uY29uY2F0KHJlc3VsdHMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgX2FwcGx5RWFjaCA9IGZ1bmN0aW9uIChlYWNoZm4sIGZucyAvKmFyZ3MuLi4qLykge1xuICAgICAgICB2YXIgZ28gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGVhY2hmbihmbnMsIGZ1bmN0aW9uIChmbiwgY2IpIHtcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzLmNvbmNhdChbY2JdKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgICAgIHJldHVybiBnby5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnbztcbiAgICAgICAgfVxuICAgIH07XG4gICAgYXN5bmMuYXBwbHlFYWNoID0gZG9QYXJhbGxlbChfYXBwbHlFYWNoKTtcbiAgICBhc3luYy5hcHBseUVhY2hTZXJpZXMgPSBkb1NlcmllcyhfYXBwbHlFYWNoKTtcblxuICAgIGFzeW5jLmZvcmV2ZXIgPSBmdW5jdGlvbiAoZm4sIGNhbGxiYWNrKSB7XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbihuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcblxuICAgIC8vIEFNRCAvIFJlcXVpcmVKU1xuICAgIGlmICh0eXBlb2YgZGVmaW5lICE9PSAndW5kZWZpbmVkJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gTm9kZS5qc1xuICAgIGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gYXN5bmM7XG4gICAgfVxuICAgIC8vIGluY2x1ZGVkIGRpcmVjdGx5IHZpYSA8c2NyaXB0PiB0YWdcbiAgICBlbHNlIHtcbiAgICAgICAgcm9vdC5hc3luYyA9IGFzeW5jO1xuICAgIH1cblxufSgpKTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG59LHtcIl9wcm9jZXNzXCI6MjB9XSwxODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5hcmd1bWVudHNbNF1bNV1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpXG59LHtcImR1cFwiOjV9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKVxufSx7XCJfcHJvY2Vzc1wiOjIwfV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cbn0se31dLDIxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cbn0se31dLDIyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7XCIuL3N1cHBvcnQvaXNCdWZmZXJcIjoyMSxcIl9wcm9jZXNzXCI6MjAsXCJpbmhlcml0c1wiOjZ9XSwyMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuLi8uLi9ub2RlX21vZHVsZXMvbmVkYi9pbmRleC5qcycpO1xuXG52YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRiID0ge307XG5kYi5zb25ncyA9IG5ldyBfaW5kZXgyLmRlZmF1bHQoeyBmaWxlbmFtZTogJ2RhdGFiYXNlL2Nhcm9zX3NvbmdzLmRiJyB9KTtcbmRiLmFydGlzdHMgPSBuZXcgX2luZGV4Mi5kZWZhdWx0KHsgZmlsZW5hbWU6ICdkYXRhYmFzZS9jYXJvc19hcnRpc3RzLmRiJyB9KTtcbmRiLmFsYnVtcyA9IG5ldyBfaW5kZXgyLmRlZmF1bHQoeyBmaWxlbmFtZTogJ2RhdGFiYXNlL2Nhcm9zX2FsYnVtcy5kYicgfSk7XG5cbmRiLnNvbmdzLmxvYWREYXRhYmFzZSgpO1xuZGIuYXJ0aXN0cy5sb2FkRGF0YWJhc2UoKTtcbmRiLmFsYnVtcy5sb2FkRGF0YWJhc2UoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgYWRkX211c2ljOiBmdW5jdGlvbiBhZGRfbXVzaWMoZGF0YSwgY2FsbGJhY2spIHtcbiAgICBjb25zb2xlLmxvZygnQWRkaW5nOiAnICsgZGF0YS5wYXRoKTtcbiAgICBpZiAoZGF0YS5hcnRpc3QpIHtcbiAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb25nID0geyB0aXRsZTogZGF0YS50aXRsZSwgcGF0aDogZGF0YS5wYXRoLCBudW1iZXI6IGRhdGEudHJhY2tudW0sIGR1cmF0aW9uOiBkYXRhLmR1cmF0aW9uIH07XG4gICAgICAgIHZhciBhcnRpc3QgPSB7IG5hbWU6IGRhdGEuYXJ0aXN0IH07XG4gICAgICAgIHZhciBhbGJ1bSA9IHsgdGl0bGU6IGRhdGEuYWxidW0sIGltYWdlOiBkYXRhLmltYWdlIH07XG5cbiAgICAgICAgZGIuc29uZ3MudXBkYXRlKHsgdGl0bGU6IHNvbmcudGl0bGUgfSwgeyB0aXRsZTogc29uZy50aXRsZSwgcGF0aDogc29uZy5wYXRoLCBudW1iZXI6IGRhdGEudHJhY2tudW0sIGR1cmF0aW9uOiBzb25nLmR1cmF0aW9uIH0sIHsgdXBzZXJ0OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIG51bSwgc29uZ0RvYykge1xuICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgICAgIHNvbmcuX2lkID0gc29uZ0RvYy5faWQ7XG4gICAgICAgICAgZGIuYXJ0aXN0cy51cGRhdGUoeyBuYW1lOiBhcnRpc3QubmFtZSB9LCB7IG5hbWU6IGFydGlzdC5uYW1lIH0sIHsgdXBzZXJ0OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIG51bSwgYXJ0aXN0RG9jKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICAgICAgICAgIGFydGlzdC5faWQgPSBhcnRpc3REb2MuX2lkO1xuICAgICAgICAgICAgZGIuYWxidW1zLnVwZGF0ZSh7IHRpdGxlOiBhbGJ1bS50aXRsZSB9LCB7IHRpdGxlOiBhbGJ1bS50aXRsZSwgYXJ0aXN0OiBhcnRpc3QuX2lkLCBpbWFnZTogYWxidW0uaW1hZ2UgfSwgeyB1cHNlcnQ6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgbnVtLCBhbGJ1bURvYykge1xuICAgICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICAgICAgICAgICAgYWxidW0uX2lkID0gYWxidW1Eb2MuX2lkO1xuXG4gICAgICAgICAgICAgIGRiLnNvbmdzLnVwZGF0ZSh7IF9pZDogc29uZy5faWQgfSwgeyB0aXRsZTogc29uZy50aXRsZSwgYXJ0aXN0OiBhcnRpc3QuX2lkLCBhbGJ1bTogYWxidW0uX2lkLCBwYXRoOiBzb25nLnBhdGgsIG51bWJlcjogZGF0YS50cmFja251bSwgZHVyYXRpb246IHNvbmcuZHVyYXRpb24gfSk7XG4gICAgICAgICAgICAgIGRiLmFydGlzdHMudXBkYXRlKHsgX2lkOiBhcnRpc3QuX2lkIH0sIHsgJGFkZFRvU2V0OiB7IHNvbmdzOiBzb25nLl9pZCwgYWxidW1zOiBhbGJ1bS5faWQgfSB9KTtcbiAgICAgICAgICAgICAgZGIuYWxidW1zLnVwZGF0ZSh7IF9pZDogYWxidW0uX2lkIH0sIHsgJGFkZFRvU2V0OiB7IHNvbmdzOiBzb25nLl9pZCB9IH0pO1xuXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSBpZiAoZGF0YS50aXRsZSAmJiAhZGF0YS5hcnRpc3QpIHtcbiAgICAgIGRiLnNvbmdzLnVwZGF0ZSh7IHRpdGxlOiBkYXRhLnRpdGxlIH0sIHsgdGl0bGU6IGRhdGEudGl0bGUsIHBhdGg6IGRhdGEucGF0aCB9LCB7IHVwc2VydDogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBudW0sIGRvYykge1xuICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0X3NvbmdzOiBmdW5jdGlvbiBnZXRfc29uZ3MoY2FsbGJhY2spIHtcbiAgICB2YXIgc29uZ3MgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGFydGlzdHMgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGFsYnVtcyA9IHVuZGVmaW5lZDtcblxuICAgIGRiLnNvbmdzLmZpbmQoe30pLnNvcnQoeyB0aXRsZTogMSB9KS5leGVjKGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgdmFyIHNvbmdzID0gZG9jcy5zb3J0KCk7XG5cbiAgICAgIGRiLmFydGlzdHMuZmluZCh7fSkuc29ydCh7IG5hbWU6IDEgfSkuZXhlYyhmdW5jdGlvbiAoZXJyLCBkb2NzKSB7XG4gICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgICB2YXIgYXJ0aXN0cyA9IGRvY3Muc29ydCgpO1xuXG4gICAgICAgIGRiLmFsYnVtcy5maW5kKHt9KS5zb3J0KHsgdGl0bGU6IDEgfSkuZXhlYyhmdW5jdGlvbiAoZXJyLCBkb2NzKSB7XG4gICAgICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICAgICAgdmFyIGFsYnVtcyA9IGRvY3Muc29ydCgpO1xuXG4gICAgICAgICAgY2FsbGJhY2soeyBhcnRpc3RzOiBhcnRpc3RzLCBhbGJ1bXM6IGFsYnVtcywgc29uZ3M6IHNvbmdzIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHByaW50X3NvbmdzOiBmdW5jdGlvbiBwcmludF9zb25ncygpIHtcbiAgICBkYi5hcnRpc3RzLmZpbmQoe30sIGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgY29uc29sZS5sb2coZG9jcyk7XG4gICAgfSk7XG5cbiAgICBkYi5hbGJ1bXMuZmluZCh7fSwgZnVuY3Rpb24gKGVyciwgZG9jcykge1xuICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICBjb25zb2xlLmxvZyhkb2NzKTtcbiAgICB9KTtcblxuICAgIGRiLnNvbmdzLmZpbmQoe30sIGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgY29uc29sZS5sb2coZG9jcyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcHJpbnRfb25lX3Nvbmc6IGZ1bmN0aW9uIHByaW50X29uZV9zb25nKHRpdGxlKSB7XG4gICAgZGIuc29uZ3MuZmluZE9uZSh7IHRpdGxlOiB0aXRsZSB9LCBmdW5jdGlvbiAoZXJyLCBkb2MpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRvYyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgZHJvcF9kYnM6IGZ1bmN0aW9uIGRyb3BfZGJzKCkge1xuICAgIGRiLmFydGlzdHMucmVtb3ZlKHt9LCB7IG11bHRpOiB0cnVlIH0pO1xuICAgIGRiLmFsYnVtcy5yZW1vdmUoe30sIHsgbXVsdGk6IHRydWUgfSk7XG4gICAgZGIuc29uZ3MucmVtb3ZlKHt9LCB7IG11bHRpOiB0cnVlIH0pO1xuICB9XG5cbn07XG5cbn0se1wiLi4vLi4vbm9kZV9tb2R1bGVzL25lZGIvaW5kZXguanNcIjoxMH1dLDI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9kYXRhYmFzZSA9IHJlcXVpcmUoJy4vZGF0YWJhc2UuanMnKTtcblxudmFyIG11c2ljU2Nyb2xsZXI7XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnQ2FyT1MnLCBbXSk7XG5cbmFwcC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRpbnRlcnZhbCcsIGZ1bmN0aW9uICgkc2NvcGUsICRpbnRlcnZhbCkge1xuICAkc2NvcGUubWFpbndpbmRvdyA9ICdtYWluLW1lbnUnO1xuICAkc2NvcGUud2luZG93U3RhY2sgPSBbJ21haW4tbWVudSddO1xuICAkc2NvcGUudGltZSA9IG1vbWVudCgpLmZvcm1hdCgnaDptbSBhJyk7XG4gICRzY29wZS5kYXRlID0gbW9tZW50KCkuZm9ybWF0KCdkZGQgLSBNTU0gRG8nKTtcbiAgJHNjb3BlLnlvc2Nyb2xsID0gZmFsc2U7XG5cbiAgJHNjb3BlLmdvQmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAkc2NvcGUud2luZG93U3RhY2sucG9wKCk7XG4gICAgJHNjb3BlLm1haW53aW5kb3cgPSAkc2NvcGUud2luZG93U3RhY2tbJHNjb3BlLndpbmRvd1N0YWNrLmxlbmd0aCAtIDFdO1xuICB9O1xuXG4gICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgJHNjb3BlLnRpbWUgPSBtb21lbnQoKS5mb3JtYXQoJ2g6bW0gYScpO1xuICB9LCAxMDAwKTtcblxuICAkaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICRzY29wZS5kYXRlID0gbW9tZW50KCkuZm9ybWF0KCdNTS9kZCcpO1xuICB9LCA0LjMyZSs3KTtcblxuICAkc2NvcGUubmF2aWdhdGUgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICRzY29wZS5tYWlud2luZG93ID0gY29udGV4dDtcbiAgfTtcbn1dKTtcblxuYXBwLmNvbnRyb2xsZXIoJ01haW5NZW51JywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7fV0pO1xuXG4vKioqKioqKioqKioqKioqXG4gIE11c2ljIENvbnRyb2xsZXJcbioqKioqKioqKioqKioqKi9cblxuYXBwLmNvbnRyb2xsZXIoJ011c2ljJywgWyckc2NvcGUnLCAnJGZpbHRlcicsICckdGltZW91dCcsICckaHR0cCcsICdNdXNpY1NlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkZmlsdGVyLCAkdGltZW91dCwgJGh0dHAsIE11c2ljU2VydmljZSkge1xuICAkc2NvcGUuc29uZ3MgPSBbXTtcbiAgJHNjb3BlLmFydGlzdHMgPSBbXTtcbiAgJHNjb3BlLmFsYnVtcyA9IFtdO1xuICAkc2NvcGUucGxheWluZyA9IGZhbHNlO1xuICAkc2NvcGUuYWN0aXZlID0ge1xuICAgIHNpZGVCYXI6ICcnLFxuICAgIGxpc3RWaWV3OiAnJyxcbiAgICBzb25nOiAnJ1xuICB9O1xuXG4gICRzY29wZS5jdXJyZW50QXJ0aXN0ID0geyBhcnRpc3Q6IG51bGwsIHNvbmdzOiBbXSB9O1xuXG4gICRodHRwKHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJy9kZW1vL2dldF9zb25ncydcbiAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgJHNjb3BlLmFydGlzdHMgPSByZXMuZGF0YS5hcnRpc3RzO1xuICAgICRzY29wZS5hbGJ1bXMgPSByZXMuZGF0YS5hbGJ1bXM7XG4gICAgJHNjb3BlLnNvbmdzID0gcmVzLmRhdGEuc29uZ3M7XG4gIH0pO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2UuY3VycmVudFNvbmc7XG4gIH0sIGZ1bmN0aW9uIChzb25nKSB7XG4gICAgJHNjb3BlLmN1cnJlbnRTb25nID0gc29uZztcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5jdXJyZW50QWxidW07XG4gIH0sIGZ1bmN0aW9uIChhbGJ1bSkge1xuICAgICRzY29wZS5jdXJyZW50QWxidW0gPSBhbGJ1bTtcbiAgfSk7XG5cbiAgJHNjb3BlLmNvbnRleHQgPSAnJztcbiAgJHNjb3BlLmNoYW5nZUNvbnRleHQgPSBmdW5jdGlvbiAoY3R4dCwgaW5kZXgpIHtcbiAgICAkc2NvcGUuY29udGV4dCA9IGN0eHQ7XG4gICAgJHNjb3BlLmN1cnJlbnRBcnRpc3QgPSB7IGFydGlzdDogbnVsbCwgYWxidW1zOiBbXSwgc29uZ3M6IFtdIH07XG4gICAgJHNjb3BlLmN1cnJlbnRBbGJ1bSA9IHt9O1xuXG4gICAgJHNjb3BlLnVwZGF0ZVNjcm9sbGVyKGluZGV4KTtcbiAgfTtcblxuICAkc2NvcGUudXBkYXRlU2Nyb2xsZXIgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgbGlzdCA9ICQoJy5saXN0LXZpZXcnKVtpbmRleF07XG5cbiAgICBtdXNpY1Njcm9sbGVyLnNjcm9sbFRvKDAsIDAsIDApO1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG11c2ljU2Nyb2xsZXIudXBkYXRlRGltZW5zaW9ucygkKGxpc3QpLm91dGVyV2lkdGgoKSwgJChsaXN0KS5vdXRlckhlaWdodCgpICsgMjUpO1xuICAgIH0sIDEwMCk7XG4gIH07XG5cbiAgLy8gZ2V0X3NvbmdzKGZ1bmN0aW9uIChmaWxlcykge1xuICAvLyAgICRzY29wZS5zb25ncyA9IGFuZ3VsYXIuY29weShmaWxlcy5zb25ncyk7XG4gIC8vICAgJHNjb3BlLmFydGlzdHMgPSBhbmd1bGFyLmNvcHkoZmlsZXMuYXJ0aXN0cyk7XG4gIC8vICAgJHNjb3BlLmFsYnVtcyA9IGFuZ3VsYXIuY29weShmaWxlcy5hbGJ1bXMpO1xuICAvLyB9KTtcblxuICAvLyBhcnRpc3Qgdmlld3NcbiAgJHNjb3BlLnNob3dBbGJ1bXMgPSBmdW5jdGlvbiAoYXJ0aXN0LCBpbmRleCkge1xuICAgICRzY29wZS5jdXJyZW50QXJ0aXN0ID0geyBhcnRpc3Q6IGFydGlzdCwgc29uZ3M6IFtdLCBhbGJ1bXM6IFtdIH07XG5cbiAgICAkc2NvcGUuYWxidW1zLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgIGFydGlzdC5hbGJ1bXMuZm9yRWFjaChmdW5jdGlvbiAoYWwpIHtcbiAgICAgICAgaWYgKGEuX2lkID09PSBhbCkge1xuICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3QWxidW0gPSB7IHRpdGxlOiBhLnRpdGxlLCBpbWFnZTogYS5pbWFnZSwgc29uZ3M6IFtdIH07XG5cbiAgICAgICAgICAgIGEuc29uZ3MuZm9yRWFjaChmdW5jdGlvbiAoc28pIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnNvbmdzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc28gPT09IHMuX2lkKSB7XG4gICAgICAgICAgICAgICAgICBuZXdBbGJ1bS5zb25ncy5wdXNoKHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRBcnRpc3QuYWxidW1zLnB1c2gobmV3QWxidW0pO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLnVwZGF0ZVNjcm9sbGVyKGluZGV4KTtcbiAgfTtcblxuICAkc2NvcGUuc2hvd1NvbmdzID0gZnVuY3Rpb24gKGFsYnVtLCBpbmRleCkge1xuICAgICRzY29wZS5jdXJyZW50QWxidW0gPSB7IHRpdGxlOiBhbGJ1bS50aXRsZSwgYXJ0aXN0OiBudWxsLCBpbWFnZTogYWxidW0uaW1hZ2UsIHNvbmdzOiBbXSB9O1xuXG4gICAgJHNjb3BlLmFydGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgaWYgKGEuX2lkID09PSBhbGJ1bS5hcnRpc3QpIHtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRBbGJ1bS5hcnRpc3QgPSBhO1xuICAgICAgICAkc2NvcGUuY3VycmVudEFydGlzdC5hcnRpc3QgPSBhO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLnNvbmdzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgIGFsYnVtLnNvbmdzLmZvckVhY2goZnVuY3Rpb24gKHNvKSB7XG4gICAgICAgIGlmIChzLl9pZCA9PT0gc28pIHtcbiAgICAgICAgICAkc2NvcGUuY3VycmVudEFsYnVtLnNvbmdzLnB1c2gocyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLnVwZGF0ZVNjcm9sbGVyKGluZGV4KTtcbiAgfTtcblxuICAkc2NvcGUuZ2V0QXJ0aXN0ID0gZnVuY3Rpb24gKGFydGlzdCkge1xuICAgIHZhciBuYW1lID0gJyc7XG4gICAgJHNjb3BlLmFydGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgaWYgKGEuX2lkID09PSBhcnRpc3QpIHtcbiAgICAgICAgbmFtZSA9IGEubmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBuYW1lO1xuICB9O1xuXG4gIC8vIGhhbmRsZSBzb25nIGNsaWNrXG4gICRzY29wZS5wbGF5U29uZyA9IGZ1bmN0aW9uIChzb25nLCBhbGJ1bSkge1xuICAgIHZhciBzb25nbGlzdCA9ICRzY29wZS5zb25ncztcblxuICAgIGlmIChhbGJ1bSkge1xuICAgICAgTXVzaWNTZXJ2aWNlLnBsYXlTb25nKHNvbmcsIGFsYnVtLCAkc2NvcGUuY3VycmVudEFydGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE11c2ljU2VydmljZS5wbGF5U29uZyhzb25nLCBzb25nbGlzdCwgJHNjb3BlLmN1cnJlbnRBcnRpc3QpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUucXVldWVTb25nID0gZnVuY3Rpb24gKHNvbmcpIHtcbiAgICBNdXNpY1NlcnZpY2UucXVldWVTb25nKHNvbmcpO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2Uuc29uZ2xpc3Q7XG4gIH0sIGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgaWYgKGxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgJHNjb3BlLnBsYXlpbmcgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUucGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAkc2NvcGUuc29uZ2xpc3QgPSBhbmd1bGFyLmNvcHkobGlzdCk7XG4gIH0sIHRydWUpO1xufV0pO1xuXG4vKioqKioqKioqKioqKioqXG4gIFNldHRpbmdzIEN0cmxcbioqKioqKioqKioqKioqKi9cblxuYXBwLmNvbnRyb2xsZXIoJ1NldHRpbmdzJywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICRzY29wZS5zZXR0aW5ncyA9IHt9O1xuXG4gICRzY29wZS5yZWZyZXNoTXVzaWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gZmFrZSByZWZyZXNoXG4gIH07XG59XSk7XG5cbi8qKioqKioqKioqKioqKipcbiAgUGxheWVyIEN0cmxcbioqKioqKioqKioqKioqKi9cblxuYXBwLmNvbnRyb2xsZXIoJ1BsYXllcicsIFsnJHNjb3BlJywgJyRpbnRlcnZhbCcsICdNdXNpY1NlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaW50ZXJ2YWwsIE11c2ljU2VydmljZSkge1xuICB2YXIgc29uZ2xpc3QgPSBNdXNpY1NlcnZpY2Uuc29uZ2xpc3Q7XG4gIHZhciBwbGF5ZXIgPSB1bmRlZmluZWQsXG4gICAgICB0aW1lciA9IHVuZGVmaW5lZDtcblxuICAkc2NvcGUuZHVyYXRpb24gPSAwO1xuICAkc2NvcGUucGxheWxpc3QgPSBbXTtcblxuICAkc2NvcGUuc2NydWJiZXIgPSB7fTtcbiAgJHNjb3BlLnNjcnViYmVyLnZhbHVlID0gJzAnO1xuXG4gICRzY29wZS5wbGF5aW5nID0gZmFsc2U7XG4gICRzY29wZS5zb25nbGlzdCA9IFtdO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2UuZHVyYXRpb247XG4gIH0sIGZ1bmN0aW9uIChkdXIpIHtcbiAgICAkc2NvcGUuZHVyYXRpb24gPSBNYXRoLnJvdW5kKGR1cik7XG4gICAgaWYgKGR1ciA+IDEpIHtcbiAgICAgIHRpbWVyID0gJGludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLnNjcnViYmVyLnZhbHVlID0gTWF0aC5mbG9vcihNdXNpY1NlcnZpY2UucGxheWVyLmN1cnJlbnRUaW1lKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5wYXVzZWQ7XG4gIH0sIGZ1bmN0aW9uIChwYXVzZWQpIHtcbiAgICAkc2NvcGUucGF1c2VkID0gcGF1c2VkO1xuICB9KTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLnNvbmdsaXN0O1xuICB9LCBmdW5jdGlvbiAobGlzdCkge1xuICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICRzY29wZS5wbGF5aW5nID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgJHNjb3BlLnNvbmdsaXN0ID0gYW5ndWxhci5jb3B5KGxpc3QpO1xuICB9LCB0cnVlKTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLmN1cnJlbnRTb25nO1xuICB9LCBmdW5jdGlvbiAoc29uZykge1xuICAgICRzY29wZS5jdXJyZW50U29uZyA9IHNvbmc7XG4gIH0pO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2UuY3VycmVudEFydGlzdDtcbiAgfSwgZnVuY3Rpb24gKGFydGlzdCkge1xuICAgICRzY29wZS5jdXJyZW50QXJ0aXN0ID0gYXJ0aXN0O1xuICB9KTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLmN1cnJlbnRBbGJ1bTtcbiAgfSwgZnVuY3Rpb24gKGFsYnVtKSB7XG4gICAgJHNjb3BlLmN1cnJlbnRBbGJ1bSA9IGFsYnVtO1xuICB9KTtcblxuICAvLyBub24taW50ZXJhY3RhYmxlIHNjcnViYmVyIGZvciBzbWFsbC1wbGF5ZXJcbiAgLy8gc2NydWJiZXIgd2lkdGggaXMgZHVyYXRpb24gLyBzY3J1YmJlciB2YWx1ZSBhcyBwZXJjZW50YWdlXG4gICRzY29wZS5zY3J1YmJlcldpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICgkc2NvcGUuZHVyYXRpb24gPiAxKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBcIndpZHRoXCI6ICRzY29wZS5zY3J1YmJlci52YWx1ZSAvICRzY29wZS5kdXJhdGlvbiAqIDEwMCArICclJ1xuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnNob3dGdWxsUGxheWVyID0gZnVuY3Rpb24gKCkge1xuICAgICQoJyNwbGF5ZXInKS5hbmltYXRlKHtcbiAgICAgIGJvdHRvbTogJydcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuc2VlayA9IGZ1bmN0aW9uIChzZWVrVG8pIHtcbiAgICBNdXNpY1NlcnZpY2Uuc2VlayhzZWVrVG8pO1xuICB9O1xuXG4gICRzY29wZS5wbGF5UGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCRzY29wZS5wYXVzZWQpIHtcbiAgICAgIE11c2ljU2VydmljZS5wbGF5KCk7XG4gICAgICB0aW1lciA9ICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICRzY29wZS5zY3J1YmJlci52YWx1ZSA9IE1hdGguZmxvb3IoTXVzaWNTZXJ2aWNlLnBsYXllci5jdXJyZW50VGltZSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTXVzaWNTZXJ2aWNlLnBhdXNlKCk7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRpbWVyKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmZhc3RGb3J3YXJkID0gZnVuY3Rpb24gKCkge1xuICAgIE11c2ljU2VydmljZS5mYXN0Rm9yd2FyZCgkc2NvcGUuY3VycmVudFNvbmcubnVtYmVyKTtcbiAgfTtcblxuICAkc2NvcGUucmV3aW5kID0gZnVuY3Rpb24gKCkge1xuICAgIE11c2ljU2VydmljZS5yZXdpbmQoJHNjb3BlLmN1cnJlbnRTb25nLm51bWJlcik7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZTb25nID0gZnVuY3Rpb24gKCkge1xuICAgIE11c2ljU2VydmljZS5wcmV2U29uZygkc2NvcGUuY3VycmVudFNvbmcubnVtYmVyKTtcbiAgfTtcbn1dKTtcblxuLyoqKioqKioqKioqKioqKlxuICBNdXNpYyBTZXJ2aWNlXG4qKioqKioqKioqKioqKiovXG5cbmFwcC5mYWN0b3J5KCdNdXNpY1NlcnZpY2UnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgc29uZ2xpc3Q6IFtdLFxuICAgIHBsYXllcjogbmV3IEF1ZGlvKCksXG4gICAgZHVyYXRpb246IDEsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICBwbGF5aW5nOiBmYWxzZSxcbiAgICBjdXJyZW50U29uZzoge30sXG4gICAgY3VycmVudEFydGlzdDoge30sXG4gICAgY3VycmVudEFsYnVtOiB7fSxcbiAgICBnZXREdXJhdGlvbjogZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5kdXJhdGlvbjtcbiAgICB9LFxuICAgIHBsYXlTb25nOiBmdW5jdGlvbiBwbGF5U29uZyhzb25nLCBzb25nbGlzdCwgY3VycmVudEFydGlzdCkge1xuICAgICAgaWYgKHNvbmdsaXN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHNvbmdsaXN0KTtcbiAgICAgICAgdGhpcy5zb25nbGlzdCA9IHNvbmdsaXN0LnNvbmdzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRTb25nID0gc29uZztcblxuICAgICAgaWYgKHNvbmdsaXN0ICYmIHNvbmdsaXN0LmltYWdlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudEFsYnVtID0gc29uZ2xpc3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50QXJ0aXN0KSB0aGlzLmN1cnJlbnRBcnRpc3QgPSBjdXJyZW50QXJ0aXN0O1xuXG4gICAgICB0aGlzLmFkZEV2ZW50KCk7XG4gICAgICB0aGlzLnBsYXkoc29uZy5wYXRoLnJlcGxhY2UoL1xcIy9pZywgJyUyMycpKTtcbiAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgfSxcbiAgICBnZXRDdXJyZW50VGltZTogZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuY3VycmVudFRpbWU7XG4gICAgfSxcbiAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KHBhdGgpIHtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHRoaXMucGxheWVyLnNyYyA9IHBhdGg7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheWVyLnBsYXkoKTtcbiAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG5cbiAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBVcGRhdGUgZnRzY3JvbGxlciBkaXYgdG8gbm90IGhpZGUgY29udGVudCBiZWhpbmQgbXVzaWMgcGxheWVyIGJ5IG1ha2luZyBzY3JvbGwgaGVpZ2h0ICsxMDBweFxuICAgICAgICB2YXIgc2Nyb2xsZXJIZWlnaHQgPSAkKG11c2ljU2Nyb2xsZXIuY29udGVudENvbnRhaW5lck5vZGUpLmhlaWdodCgpO1xuICAgICAgICB2YXIgc2Nyb2xsZXJXaWR0aCA9ICQobXVzaWNTY3JvbGxlci5jb250ZW50Q29udGFpbmVyTm9kZSkud2lkdGgoKTtcblxuICAgICAgICBtdXNpY1Njcm9sbGVyLnVwZGF0ZURpbWVuc2lvbnMoc2Nyb2xsZXJXaWR0aCwgc2Nyb2xsZXJIZWlnaHQgKyAxMDAsIHRydWUpO1xuICAgICAgfSwgMTAwKTtcblxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdGhpcy5wbGF5ZXIub25lbmRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoYXQuc29uZ2xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBpbmRleCA9IHRoYXQuc29uZ2xpc3QuaW5kZXhPZih0aGF0LmN1cnJlbnRTb25nKSArIDE7XG4gICAgICAgICAgdmFyIHNvbmcgPSB0aGF0LnNvbmdsaXN0W2luZGV4XTtcblxuICAgICAgICAgIHRoYXQuY3VycmVudFNvbmcgPSBzb25nO1xuICAgICAgICAgIHRoYXQucGxheWVyLnNyYyA9IHNvbmcucGF0aDtcbiAgICAgICAgICB0aGF0LnBsYXllci5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICB0aGlzLnBsYXllci5wYXVzZSgpO1xuICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgc2VlazogZnVuY3Rpb24gc2VlayhzZWVrVG8pIHtcbiAgICAgIHRoaXMucGxheWVyLmN1cnJlbnRUaW1lID0gc2Vla1RvO1xuICAgIH0sXG4gICAgZmFzdEZvcndhcmQ6IGZ1bmN0aW9uIGZhc3RGb3J3YXJkKGluZGV4KSB7XG4gICAgICB2YXIgc29uZyA9IHRoaXMuc29uZ2xpc3RbaW5kZXhdO1xuXG4gICAgICB0aGlzLnBsYXlTb25nKHNvbmcpO1xuICAgIH0sXG4gICAgcmV3aW5kOiBmdW5jdGlvbiByZXdpbmQoaW5kZXgpIHtcbiAgICAgIHZhciBzb25nID0gdGhpcy5zb25nbGlzdFtpbmRleCAtIDFdO1xuXG4gICAgICB0aGlzLnBsYXlTb25nKHNvbmcpO1xuICAgIH0sXG4gICAgcHJldlNvbmc6IGZ1bmN0aW9uIHByZXZTb25nKGluZGV4KSB7XG4gICAgICB2YXIgc29uZyA9IHRoaXMuc29uZ2xpc3RbaW5kZXggLSAyXTtcblxuICAgICAgdGhpcy5wbGF5U29uZyhzb25nKTtcbiAgICB9LFxuICAgIGFkZEV2ZW50OiBmdW5jdGlvbiBhZGRFdmVudCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5kdXJhdGlvbiA9IF90aGlzLnBsYXllci5kdXJhdGlvbjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hcHAuZmlsdGVyKCd0aW1lY29kZScsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKGlucHV0IC8gNjApIDwgMTAgPyAnMCcgKyBNYXRoLmZsb29yKGlucHV0IC8gNjApIDogTWF0aC5mbG9vcihpbnB1dCAvIDYwKTtcbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoaW5wdXQgJSA2MCkgPCAxMCA/ICcwJyArIE1hdGguZmxvb3IoaW5wdXQgJSA2MCkgOiBNYXRoLmZsb29yKGlucHV0ICUgNjApO1xuICAgIHJldHVybiBtaW4gKyAnOicgKyBzZWNvbmRzO1xuICB9O1xufSk7XG5cbi8vIGZ0c2Nyb2xsZXJcbntcbiAgdmFyIHNjcm9sbGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXVzaWMtY29udGVudCcpO1xuICBtdXNpY1Njcm9sbGVyID0gbmV3IEZUU2Nyb2xsZXIoc2Nyb2xsYWJsZSwge1xuICAgIHNjcm9sbGJhcnM6IGZhbHNlLFxuICAgIHNjcm9sbGluZ1g6IGZhbHNlXG4gIH0pO1xufVxuXG52YXIgZHJvcERhdGEgPSBmdW5jdGlvbiBkcm9wRGF0YSgpIHtcbiAgZHJvcF9kYnMoKTtcbn07XG5cbn0se1wiLi9kYXRhYmFzZS5qc1wiOjIzfV19LHt9LFsyNF0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
