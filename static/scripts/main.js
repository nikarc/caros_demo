!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports.BinarySearchTree=require("./lib/bst"),module.exports.AVLTree=require("./lib/avltree")},{"./lib/avltree":2,"./lib/bst":3}],2:[function(require,module,exports){function AVLTree(options){this.tree=new _AVLTree(options)}function _AVLTree(options){options=options||{},this.left=null,this.right=null,this.parent=void 0!==options.parent?options.parent:null,options.hasOwnProperty("key")&&(this.key=options.key),this.data=options.hasOwnProperty("value")?[options.value]:[],this.unique=options.unique||!1,this.compareKeys=options.compareKeys||customUtils.defaultCompareKeysFunction,this.checkValueEquality=options.checkValueEquality||customUtils.defaultCheckValueEquality}var BinarySearchTree=require("./bst"),customUtils=require("./customUtils"),util=require("util");require("underscore");util.inherits(_AVLTree,BinarySearchTree),AVLTree._AVLTree=_AVLTree,_AVLTree.prototype.checkHeightCorrect=function(){var leftH,rightH;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw"Undefined height for node "+this.left.key;if(this.right&&void 0===this.right.height)throw"Undefined height for node "+this.right.key;if(void 0===this.height)throw"Undefined height for node "+this.key;if(leftH=this.left?this.left.height:0,rightH=this.right?this.right.height:0,this.height!==1+Math.max(leftH,rightH))throw"Height constraint failed for node "+this.key;this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},_AVLTree.prototype.balanceFactor=function(){var leftH=this.left?this.left.height:0,rightH=this.right?this.right.height:0;return leftH-rightH},_AVLTree.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw"Tree is unbalanced at node "+this.key;this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},_AVLTree.prototype.checkIsAVLT=function(){_AVLTree.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},AVLTree.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},_AVLTree.prototype.rightRotation=function(){var b,ah,bh,ch,q=this,p=this.left;return p?(b=p.right,q.parent?(p.parent=q.parent,q.parent.left===q?q.parent.left=p:q.parent.right=p):p.parent=null,p.right=q,q.parent=p,q.left=b,b&&(b.parent=q),ah=p.left?p.left.height:0,bh=b?b.height:0,ch=q.right?q.right.height:0,q.height=Math.max(bh,ch)+1,p.height=Math.max(ah,q.height)+1,p):this},_AVLTree.prototype.leftRotation=function(){var b,ah,bh,ch,p=this,q=this.right;return q?(b=q.left,p.parent?(q.parent=p.parent,p.parent.left===p?p.parent.left=q:p.parent.right=q):q.parent=null,q.left=p,p.parent=q,p.right=b,b&&(b.parent=p),ah=p.left?p.left.height:0,bh=b?b.height:0,ch=q.right?q.right.height:0,p.height=Math.max(ah,bh)+1,q.height=Math.max(ch,p.height)+1,q):this},_AVLTree.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},_AVLTree.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},_AVLTree.prototype.rebalanceAlongPath=function(path){var rotated,i,newRoot=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(i=path.length-1;i>=0;i-=1)path[i].height=1+Math.max(path[i].left?path[i].left.height:0,path[i].right?path[i].right.height:0),path[i].balanceFactor()>1&&(rotated=path[i].rightTooSmall(),0===i&&(newRoot=rotated)),path[i].balanceFactor()<-1&&(rotated=path[i].leftTooSmall(),0===i&&(newRoot=rotated));return newRoot},_AVLTree.prototype.insert=function(key,value){var insertPath=[],currentNode=this;if(!this.hasOwnProperty("key"))return this.key=key,this.data.push(value),this.height=1,this;for(;;){if(0===currentNode.compareKeys(currentNode.key,key)){if(currentNode.unique)throw{message:"Can't insert key "+key+", it violates the unique constraint",key:key,errorType:"uniqueViolated"};return currentNode.data.push(value),this}if(insertPath.push(currentNode),currentNode.compareKeys(key,currentNode.key)<0){if(!currentNode.left){insertPath.push(currentNode.createLeftChild({key:key,value:value}));break}currentNode=currentNode.left}else{if(!currentNode.right){insertPath.push(currentNode.createRightChild({key:key,value:value}));break}currentNode=currentNode.right}}return this.rebalanceAlongPath(insertPath)},AVLTree.prototype.insert=function(key,value){var newTree=this.tree.insert(key,value);newTree&&(this.tree=newTree)},_AVLTree.prototype["delete"]=function(key,value){var replaceWith,newData=[],currentNode=this,deletePath=[];if(!this.hasOwnProperty("key"))return this;for(;;){if(0===currentNode.compareKeys(key,currentNode.key))break;if(deletePath.push(currentNode),currentNode.compareKeys(key,currentNode.key)<0){if(!currentNode.left)return this;currentNode=currentNode.left}else{if(!currentNode.right)return this;currentNode=currentNode.right}}if(currentNode.data.length>1&&value)return currentNode.data.forEach(function(d){currentNode.checkValueEquality(d,value)||newData.push(d)}),currentNode.data=newData,this;if(!currentNode.left&&!currentNode.right)return currentNode===this?(delete currentNode.key,currentNode.data=[],delete currentNode.height,this):(currentNode.parent.left===currentNode?currentNode.parent.left=null:currentNode.parent.right=null,this.rebalanceAlongPath(deletePath));if(!currentNode.left||!currentNode.right)return replaceWith=currentNode.left?currentNode.left:currentNode.right,currentNode===this?(replaceWith.parent=null,replaceWith):(currentNode.parent.left===currentNode?(currentNode.parent.left=replaceWith,replaceWith.parent=currentNode.parent):(currentNode.parent.right=replaceWith,replaceWith.parent=currentNode.parent),this.rebalanceAlongPath(deletePath));if(deletePath.push(currentNode),replaceWith=currentNode.left,!replaceWith.right)return currentNode.key=replaceWith.key,currentNode.data=replaceWith.data,currentNode.left=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=currentNode),this.rebalanceAlongPath(deletePath);for(;;){if(!replaceWith.right)break;deletePath.push(replaceWith),replaceWith=replaceWith.right}return currentNode.key=replaceWith.key,currentNode.data=replaceWith.data,replaceWith.parent.right=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent),this.rebalanceAlongPath(deletePath)},AVLTree.prototype["delete"]=function(key,value){var newTree=this.tree["delete"](key,value);newTree&&(this.tree=newTree)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(fn){AVLTree.prototype[fn]=function(){return this.tree[fn].apply(this.tree,arguments)}}),module.exports=AVLTree},{"./bst":3,"./customUtils":4,underscore:5,util:22}],3:[function(require,module,exports){function BinarySearchTree(options){options=options||{},this.left=null,this.right=null,this.parent=void 0!==options.parent?options.parent:null,options.hasOwnProperty("key")&&(this.key=options.key),this.data=options.hasOwnProperty("value")?[options.value]:[],this.unique=options.unique||!1,this.compareKeys=options.compareKeys||customUtils.defaultCompareKeysFunction,this.checkValueEquality=options.checkValueEquality||customUtils.defaultCheckValueEquality}function append(array,toAppend){var i;for(i=0;i<toAppend.length;i+=1)array.push(toAppend[i])}var customUtils=require("./customUtils");BinarySearchTree.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},BinarySearchTree.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},BinarySearchTree.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},BinarySearchTree.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},BinarySearchTree.prototype.checkAllNodesFullfillCondition=function(test){this.hasOwnProperty("key")&&(test(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(test),this.right&&this.right.checkAllNodesFullfillCondition(test))},BinarySearchTree.prototype.checkNodeOrdering=function(){var self=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(k){if(self.compareKeys(k,self.key)>=0)throw"Tree with root "+self.key+" is not a binary search tree"}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(k){if(self.compareKeys(k,self.key)<=0)throw"Tree with root "+self.key+" is not a binary search tree"}),this.right.checkNodeOrdering()))},BinarySearchTree.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw"Parent pointer broken for key "+this.key;this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw"Parent pointer broken for key "+this.key;this.right.checkInternalPointers()}},BinarySearchTree.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw"The root shouldn't have a parent"},BinarySearchTree.prototype.getNumberOfKeys=function(){var res;return this.hasOwnProperty("key")?(res=1,this.left&&(res+=this.left.getNumberOfKeys()),this.right&&(res+=this.right.getNumberOfKeys()),res):0},BinarySearchTree.prototype.createSimilar=function(options){return options=options||{},options.unique=this.unique,options.compareKeys=this.compareKeys,options.checkValueEquality=this.checkValueEquality,new this.constructor(options)},BinarySearchTree.prototype.createLeftChild=function(options){var leftChild=this.createSimilar(options);return leftChild.parent=this,this.left=leftChild,leftChild},BinarySearchTree.prototype.createRightChild=function(options){var rightChild=this.createSimilar(options);return rightChild.parent=this,this.right=rightChild,rightChild},BinarySearchTree.prototype.insert=function(key,value){if(!this.hasOwnProperty("key"))return this.key=key,void this.data.push(value);if(0===this.compareKeys(this.key,key)){if(this.unique)throw{message:"Can't insert key "+key+", it violates the unique constraint",key:key,errorType:"uniqueViolated"};return void this.data.push(value)}this.compareKeys(key,this.key)<0?this.left?this.left.insert(key,value):this.createLeftChild({key:key,value:value}):this.right?this.right.insert(key,value):this.createRightChild({key:key,value:value})},BinarySearchTree.prototype.search=function(key){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,key)?this.data:this.compareKeys(key,this.key)<0?this.left?this.left.search(key):[]:this.right?this.right.search(key):[]:[]},BinarySearchTree.prototype.getLowerBoundMatcher=function(query){var self=this;return query.hasOwnProperty("$gt")||query.hasOwnProperty("$gte")?query.hasOwnProperty("$gt")&&query.hasOwnProperty("$gte")?0===self.compareKeys(query.$gte,query.$gt)?function(key){return self.compareKeys(key,query.$gt)>0}:self.compareKeys(query.$gte,query.$gt)>0?function(key){return self.compareKeys(key,query.$gte)>=0}:function(key){return self.compareKeys(key,query.$gt)>0}:query.hasOwnProperty("$gt")?function(key){return self.compareKeys(key,query.$gt)>0}:function(key){return self.compareKeys(key,query.$gte)>=0}:function(){return!0}},BinarySearchTree.prototype.getUpperBoundMatcher=function(query){var self=this;return query.hasOwnProperty("$lt")||query.hasOwnProperty("$lte")?query.hasOwnProperty("$lt")&&query.hasOwnProperty("$lte")?0===self.compareKeys(query.$lte,query.$lt)?function(key){return self.compareKeys(key,query.$lt)<0}:self.compareKeys(query.$lte,query.$lt)<0?function(key){return self.compareKeys(key,query.$lte)<=0}:function(key){return self.compareKeys(key,query.$lt)<0}:query.hasOwnProperty("$lt")?function(key){return self.compareKeys(key,query.$lt)<0}:function(key){return self.compareKeys(key,query.$lte)<=0}:function(){return!0}},BinarySearchTree.prototype.betweenBounds=function(query,lbm,ubm){var res=[];return this.hasOwnProperty("key")?(lbm=lbm||this.getLowerBoundMatcher(query),ubm=ubm||this.getUpperBoundMatcher(query),lbm(this.key)&&this.left&&append(res,this.left.betweenBounds(query,lbm,ubm)),lbm(this.key)&&ubm(this.key)&&append(res,this.data),ubm(this.key)&&this.right&&append(res,this.right.betweenBounds(query,lbm,ubm)),res):[]},BinarySearchTree.prototype.deleteIfLeaf=function(){return this.left||this.right?!1:this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0)},BinarySearchTree.prototype.deleteIfOnlyOneChild=function(){var child;return this.left&&!this.right&&(child=this.left),!this.left&&this.right&&(child=this.right),child?this.parent?(this.parent.left===this?(this.parent.left=child,child.parent=this.parent):(this.parent.right=child,child.parent=this.parent),!0):(this.key=child.key,this.data=child.data,this.left=null,child.left&&(this.left=child.left,child.left.parent=this),this.right=null,child.right&&(this.right=child.right,child.right.parent=this),!0):!1},BinarySearchTree.prototype["delete"]=function(key,value){var replaceWith,newData=[],self=this;if(this.hasOwnProperty("key")){if(this.compareKeys(key,this.key)<0)return void(this.left&&this.left["delete"](key,value));if(this.compareKeys(key,this.key)>0)return void(this.right&&this.right["delete"](key,value));if(0!==!this.compareKeys(key,this.key))return this.data.length>1&&void 0!==value?(this.data.forEach(function(d){self.checkValueEquality(d,value)||newData.push(d)}),void(self.data=newData)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(replaceWith=this.left.getMaxKeyDescendant(),this.key=replaceWith.key,this.data=replaceWith.data,this===replaceWith.parent?(this.left=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent)):(replaceWith.parent.right=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent))):(replaceWith=this.right.getMinKeyDescendant(),this.key=replaceWith.key,this.data=replaceWith.data,this===replaceWith.parent?(this.right=replaceWith.right,replaceWith.right&&(replaceWith.right.parent=replaceWith.parent)):(replaceWith.parent.left=replaceWith.right,replaceWith.right&&(replaceWith.right.parent=replaceWith.parent)))))}},BinarySearchTree.prototype.executeOnEveryNode=function(fn){this.left&&this.left.executeOnEveryNode(fn),fn(this),this.right&&this.right.executeOnEveryNode(fn)},BinarySearchTree.prototype.prettyPrint=function(printData,spacing){spacing=spacing||"",console.log(spacing+"* "+this.key),printData&&console.log(spacing+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(printData,spacing+"  "):console.log(spacing+"  *"),this.right?this.right.prettyPrint(printData,spacing+"  "):console.log(spacing+"  *"))},module.exports=BinarySearchTree},{"./customUtils":4}],4:[function(require,module,exports){function getRandomArray(n){var res,next;return 0===n?[]:1===n?[0]:(res=getRandomArray(n-1),next=Math.floor(Math.random()*n),res.splice(next,0,n-1),res)}function defaultCompareKeysFunction(a,b){if(b>a)return-1;if(a>b)return 1;if(a===b)return 0;throw{message:"Couldn't compare elements",a:a,b:b}}function defaultCheckValueEquality(a,b){return a===b}module.exports.getRandomArray=getRandomArray,module.exports.defaultCompareKeysFunction=defaultCompareKeysFunction,module.exports.defaultCheckValueEquality=defaultCheckValueEquality},{}],5:[function(require,module,exports){(function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.4.4";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;l>i;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){return iterator.call(context,value,index,list)?(result=value,!0):void 0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&(results[results.length]=value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){return(result=result&&iterator.call(context,value,index,list))?void 0:breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){return result||(result=iterator.call(context,value,index,list))?breaker:void 0}),!!result)};_.contains=_.include=function(obj,target){return null==obj?!1:nativeIndexOf&&obj.indexOf===nativeIndexOf?-1!=obj.indexOf(target):any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?null:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-(1/0);var result={computed:-(1/0),value:-(1/0)};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index<right.index?-1:1}),"value")};var group=function(obj,value,context,behavior){var result={},iterator=lookupIterator(value||_.identity);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)})},_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){_.has(result,key)||(result[key]=0),result[key]++})},_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;high>low;){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return null!=array?null==n||guard?array[0]:slice.call(array,0,n):void 0},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){return null!=array?null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0)):void 0},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return each(input,function(value){_.isArray(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=new Array(length),i=0;length>i;i++)results[i]=_.pluck(args,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,l=list.length;l>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,l=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=0>isSorted?Math.max(0,l+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;l>i;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;for(var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(len);len>idx;)range[idx++]=start,start+=step;return range},_.bind=function(func,context){if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));var args=slice.call(arguments,2);return function(){return func.apply(context,args.concat(slice.call(arguments)))}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);return 0===funcs.length&&(funcs=_.functions(obj)),each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,result,previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return 0>=times?func():function(){return--times<1?func.apply(this,arguments):void 0}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&(keys[keys.length]=key);return keys},_.values=function(obj){var values=[];for(var key in obj)_.has(obj,key)&&values.push(obj[key]);return values},_.pairs=function(obj){var pairs=[];for(var key in obj)_.has(obj,key)&&pairs.push([key,obj[key]]);return pairs},_.invert=function(obj){var result={};for(var key in obj)_.has(obj,key)&&(result[obj[key]]=key);return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)null==obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(obj){return"function"==typeof obj}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(n),i=0;n>i;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;",
"/":"&#x2F;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null==object)return null;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],6:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],7:[function(require,module,exports){(function(process,global){!function(){var define,requireModule,require,requirejs;!function(){var registry={},seen={};define=function(name,deps,callback){registry[name]={deps:deps,callback:callback}},requirejs=require=requireModule=function(name){function resolve(child){if("."!==child.charAt(0))return child;for(var parts=child.split("/"),parentBase=name.split("/").slice(0,-1),i=0,l=parts.length;l>i;i++){var part=parts[i];if(".."===part)parentBase.pop();else{if("."===part)continue;parentBase.push(part)}}return parentBase.join("/")}if(requirejs._eak_seen=registry,seen[name])return seen[name];if(seen[name]={},!registry[name])throw new Error("Could not find module "+name);for(var exports,mod=registry[name],deps=mod.deps,callback=mod.callback,reified=[],i=0,l=deps.length;l>i;i++)"exports"===deps[i]?reified.push(exports={}):reified.push(requireModule(resolve(deps[i])));var value=callback.apply(this,reified);return seen[name]=exports||value}}(),define("promise/all",["./utils","exports"],function(__dependency1__,__exports__){"use strict";function all(promises){var Promise=this;if(!isArray(promises))throw new TypeError("You must pass an array to all.");return new Promise(function(resolve,reject){function resolver(index){return function(value){resolveAll(index,value)}}function resolveAll(index,value){results[index]=value,0===--remaining&&resolve(results)}var promise,results=[],remaining=promises.length;0===remaining&&resolve([]);for(var i=0;i<promises.length;i++)promise=promises[i],promise&&isFunction(promise.then)?promise.then(resolver(i),reject):resolveAll(i,promise)})}var isArray=__dependency1__.isArray,isFunction=__dependency1__.isFunction;__exports__.all=all}),define("promise/asap",["exports"],function(__exports__){"use strict";function useNextTick(){return function(){process.nextTick(flush)}}function useMutationObserver(){var iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function useSetTimeout(){return function(){local.setTimeout(flush,1)}}function flush(){for(var i=0;i<queue.length;i++){var tuple=queue[i],callback=tuple[0],arg=tuple[1];callback(arg)}queue=[]}function asap(callback,arg){var length=queue.push([callback,arg]);1===length&&scheduleFlush()}var scheduleFlush,browserGlobal="undefined"!=typeof window?window:{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,local="undefined"!=typeof global?global:void 0===this?window:this,queue=[];scheduleFlush="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?useNextTick():BrowserMutationObserver?useMutationObserver():useSetTimeout(),__exports__.asap=asap}),define("promise/config",["exports"],function(__exports__){"use strict";function configure(name,value){return 2!==arguments.length?config[name]:void(config[name]=value)}var config={instrument:!1};__exports__.config=config,__exports__.configure=configure}),define("promise/polyfill",["./promise","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";function polyfill(){var local;local="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var es6PromiseSupport="Promise"in local&&"resolve"in local.Promise&&"reject"in local.Promise&&"all"in local.Promise&&"race"in local.Promise&&function(){var resolve;return new local.Promise(function(r){resolve=r}),isFunction(resolve)}();es6PromiseSupport||(local.Promise=RSVPPromise)}var RSVPPromise=__dependency1__.Promise,isFunction=__dependency2__.isFunction;__exports__.polyfill=polyfill}),define("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";function Promise(resolver){if(!isFunction(resolver))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Promise))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],invokeResolver(resolver,this)}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=isFunction(callback);if(hasCallback)try{value=callback(detail),succeeded=!0}catch(e){failed=!0,error=e}else value=detail,succeeded=!0;handleThenable(promise,value)||(hasCallback&&succeeded?resolve(promise,value):failed?reject(promise,error):settled===FULFILLED?resolve(promise,value):settled===REJECTED&&reject(promise,value))}function subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;subscribers[length]=child,subscribers[length+FULFILLED]=onFulfillment,subscribers[length+REJECTED]=onRejection}function publish(promise,settled){for(var child,callback,subscribers=promise._subscribers,detail=promise._detail,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],invokeCallback(settled,child,callback,detail);promise._subscribers=null}function handleThenable(promise,value){var resolved,then=null;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(objectOrFunction(value)&&(then=value.then,isFunction(then)))return then.call(value,function(val){return resolved?!0:(resolved=!0,void(value!==val?resolve(promise,val):fulfill(promise,val)))},function(val){return resolved?!0:(resolved=!0,void reject(promise,val))}),!0}catch(error){return resolved?!0:(reject(promise,error),!0)}return!1}function resolve(promise,value){promise===value?fulfill(promise,value):handleThenable(promise,value)||fulfill(promise,value)}function fulfill(promise,value){promise._state===PENDING&&(promise._state=SEALED,promise._detail=value,config.async(publishFulfillment,promise))}function reject(promise,reason){promise._state===PENDING&&(promise._state=SEALED,promise._detail=reason,config.async(publishRejection,promise))}function publishFulfillment(promise){publish(promise,promise._state=FULFILLED)}function publishRejection(promise){publish(promise,promise._state=REJECTED)}var config=__dependency1__.config,objectOrFunction=(__dependency1__.configure,__dependency2__.objectOrFunction),isFunction=__dependency2__.isFunction,all=(__dependency2__.now,__dependency3__.all),race=__dependency4__.race,staticResolve=__dependency5__.resolve,staticReject=__dependency6__.reject,asap=__dependency7__.asap;config.async=asap;var PENDING=void 0,SEALED=0,FULFILLED=1,REJECTED=2;Promise.prototype={constructor:Promise,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(onFulfillment,onRejection){var promise=this,thenPromise=new this.constructor(function(){});if(this._state){var callbacks=arguments;config.async(function(){invokeCallback(promise._state,thenPromise,callbacks[promise._state-1],promise._detail)})}else subscribe(this,thenPromise,onFulfillment,onRejection);return thenPromise},"catch":function(onRejection){return this.then(null,onRejection)}},Promise.all=all,Promise.race=race,Promise.resolve=staticResolve,Promise.reject=staticReject,__exports__.Promise=Promise}),define("promise/race",["./utils","exports"],function(__dependency1__,__exports__){"use strict";function race(promises){var Promise=this;if(!isArray(promises))throw new TypeError("You must pass an array to race.");return new Promise(function(resolve,reject){for(var promise,i=0;i<promises.length;i++)promise=promises[i],promise&&"function"==typeof promise.then?promise.then(resolve,reject):resolve(promise)})}var isArray=__dependency1__.isArray;__exports__.race=race}),define("promise/reject",["exports"],function(__exports__){"use strict";function reject(reason){var Promise=this;return new Promise(function(resolve,reject){reject(reason)})}__exports__.reject=reject}),define("promise/resolve",["exports"],function(__exports__){"use strict";function resolve(value){if(value&&"object"==typeof value&&value.constructor===this)return value;var Promise=this;return new Promise(function(resolve){resolve(value)})}__exports__.resolve=resolve}),define("promise/utils",["exports"],function(__exports__){"use strict";function objectOrFunction(x){return isFunction(x)||"object"==typeof x&&null!==x}function isFunction(x){return"function"==typeof x}function isArray(x){return"[object Array]"===Object.prototype.toString.call(x)}var now=Date.now||function(){return(new Date).getTime()};__exports__.objectOrFunction=objectOrFunction,__exports__.isFunction=isFunction,__exports__.isArray=isArray,__exports__.now=now}),requireModule("promise/polyfill").polyfill()}(),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.localforage=factory():root.localforage=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0,function(){function callWhenReady(localForageInstance,libraryMethod){localForageInstance[libraryMethod]=function(){var _args=arguments;return localForageInstance.ready().then(function(){return localForageInstance[libraryMethod].apply(localForageInstance,_args)})}}function extend(){for(var i=1;i<arguments.length;i++){var arg=arguments[i];if(arg)for(var key in arg)arg.hasOwnProperty(key)&&(isArray(arg[key])?arguments[0][key]=arg[key].slice():arguments[0][key]=arg[key])}return arguments[0]}function isLibraryDriver(driverName){for(var driver in DriverType)if(DriverType.hasOwnProperty(driver)&&DriverType[driver]===driverName)return!0;return!1}var CustomDrivers={},DriverType={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},DefaultDriverOrder=[DriverType.INDEXEDDB,DriverType.WEBSQL,DriverType.LOCALSTORAGE],LibraryMethods=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],DefaultConfig={description:"",driver:DefaultDriverOrder.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},driverSupport=function(self){var indexedDB=indexedDB||self.indexedDB||self.webkitIndexedDB||self.mozIndexedDB||self.OIndexedDB||self.msIndexedDB,result={};return result[DriverType.WEBSQL]=!!self.openDatabase,result[DriverType.INDEXEDDB]=!!function(){if("undefined"!=typeof self.openDatabase&&self.navigator&&self.navigator.userAgent&&/Safari/.test(self.navigator.userAgent)&&!/Chrome/.test(self.navigator.userAgent))return!1;try{return indexedDB&&"function"==typeof indexedDB.open&&"undefined"!=typeof self.IDBKeyRange}catch(e){return!1}}(),result[DriverType.LOCALSTORAGE]=!!function(){try{return self.localStorage&&"setItem"in self.localStorage&&self.localStorage.setItem}catch(e){return!1}}(),result}(this),isArray=Array.isArray||function(arg){return"[object Array]"===Object.prototype.toString.call(arg)},LocalForage=function(){function LocalForage(options){_classCallCheck(this,LocalForage),this.INDEXEDDB=DriverType.INDEXEDDB,this.LOCALSTORAGE=DriverType.LOCALSTORAGE,this.WEBSQL=DriverType.WEBSQL,this._defaultConfig=extend({},DefaultConfig),this._config=extend({},this._defaultConfig,options),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return LocalForage.prototype.config=function(options){if("object"==typeof options){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in options)"storeName"===i&&(options[i]=options[i].replace(/\W/g,"_")),this._config[i]=options[i];return"driver"in options&&options.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof options?this._config[options]:this._config},LocalForage.prototype.defineDriver=function(driverObject,callback,errorCallback){var promise=new Promise(function(resolve,reject){try{var driverName=driverObject._driver,complianceError=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),namingError=new Error("Custom driver name already in use: "+driverObject._driver);if(!driverObject._driver)return void reject(complianceError);if(isLibraryDriver(driverObject._driver))return void reject(namingError);for(var customDriverMethods=LibraryMethods.concat("_initStorage"),i=0;i<customDriverMethods.length;i++){var customDriverMethod=customDriverMethods[i];if(!customDriverMethod||!driverObject[customDriverMethod]||"function"!=typeof driverObject[customDriverMethod])return void reject(complianceError)}var supportPromise=Promise.resolve(!0);"_support"in driverObject&&(supportPromise=driverObject._support&&"function"==typeof driverObject._support?driverObject._support():Promise.resolve(!!driverObject._support)),supportPromise.then(function(supportResult){driverSupport[driverName]=supportResult,CustomDrivers[driverName]=driverObject,resolve()},reject)}catch(e){reject(e)}});return promise.then(callback,errorCallback),promise},LocalForage.prototype.driver=function(){return this._driver||null},LocalForage.prototype.getDriver=function(driverName,callback,errorCallback){var self=this,getDriverPromise=function(){if(isLibraryDriver(driverName))switch(driverName){case self.INDEXEDDB:return new Promise(function(resolve,reject){resolve(__webpack_require__(1))});case self.LOCALSTORAGE:return new Promise(function(resolve,reject){resolve(__webpack_require__(2))});case self.WEBSQL:return new Promise(function(resolve,reject){resolve(__webpack_require__(4))})}else if(CustomDrivers[driverName])return Promise.resolve(CustomDrivers[driverName]);return Promise.reject(new Error("Driver not found."))}();return getDriverPromise.then(callback,errorCallback),getDriverPromise},LocalForage.prototype.getSerializer=function(callback){var serializerPromise=new Promise(function(resolve,reject){resolve(__webpack_require__(3))});return callback&&"function"==typeof callback&&serializerPromise.then(function(result){callback(result)}),serializerPromise},LocalForage.prototype.ready=function(callback){var self=this,promise=self._driverSet.then(function(){return null===self._ready&&(self._ready=self._initDriver()),self._ready});return promise.then(callback,callback),promise},LocalForage.prototype.setDriver=function(drivers,callback,errorCallback){function setDriverToConfig(){self._config.driver=self.driver()}function initDriver(supportedDrivers){return function(){function driverPromiseLoop(){for(;currentDriverIndex<supportedDrivers.length;){var driverName=supportedDrivers[currentDriverIndex];return currentDriverIndex++,self._dbInfo=null,self._ready=null,self.getDriver(driverName).then(function(driver){return self._extend(driver),setDriverToConfig(),self._ready=self._initStorage(self._config),self._ready})["catch"](driverPromiseLoop)}setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise.reject(error),self._driverSet}var currentDriverIndex=0;return driverPromiseLoop()}}var self=this;isArray(drivers)||(drivers=[drivers]);var supportedDrivers=this._getSupportedDrivers(drivers),oldDriverSetDone=null!==this._driverSet?this._driverSet["catch"](function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=oldDriverSetDone.then(function(){var driverName=supportedDrivers[0];return self._dbInfo=null,self._ready=null,self.getDriver(driverName).then(function(driver){self._driver=driver._driver,setDriverToConfig(),self._wrapLibraryMethodsWithReady(),self._initDriver=initDriver(supportedDrivers)})})["catch"](function(){setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise.reject(error),self._driverSet}),this._driverSet.then(callback,errorCallback),this._driverSet},LocalForage.prototype.supports=function(driverName){return!!driverSupport[driverName]},LocalForage.prototype._extend=function(libraryMethodsAndProperties){extend(this,libraryMethodsAndProperties)},LocalForage.prototype._getSupportedDrivers=function(drivers){for(var supportedDrivers=[],i=0,len=drivers.length;len>i;i++){var driverName=drivers[i];this.supports(driverName)&&supportedDrivers.push(driverName)}return supportedDrivers},LocalForage.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0;i<LibraryMethods.length;i++)callWhenReady(this,LibraryMethods[i])},LocalForage.prototype.createInstance=function(options){return new LocalForage(options)},LocalForage}(),localForage=new LocalForage;exports["default"]=localForage}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=!0,function(){function _createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(e){if("TypeError"!==e.name)throw e;for(var BlobBuilder=globalObject.BlobBuilder||globalObject.MSBlobBuilder||globalObject.MozBlobBuilder||globalObject.WebKitBlobBuilder,builder=new BlobBuilder,i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}function _binStringToArrayBuffer(bin){for(var length=bin.length,buf=new ArrayBuffer(length),arr=new Uint8Array(buf),i=0;length>i;i++)arr[i]=bin.charCodeAt(i);return buf}function _blobAjax(url){return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.withCredentials=!0,xhr.responseType="arraybuffer",xhr.onreadystatechange=function(){return 4===xhr.readyState?200===xhr.status?resolve({response:xhr.response,type:xhr.getResponseHeader("Content-Type")}):void reject({status:xhr.status,response:xhr.response}):void 0},xhr.send()})}function _checkBlobSupportWithoutCaching(idb){return new Promise(function(resolve,reject){var blob=_createBlob([""],{type:"image/png"}),txn=idb.transaction([DETECT_BLOB_SUPPORT_STORE],"readwrite");txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob,"key"),txn.oncomplete=function(){var blobTxn=idb.transaction([DETECT_BLOB_SUPPORT_STORE],"readwrite"),getBlobReq=blobTxn.objectStore(DETECT_BLOB_SUPPORT_STORE).get("key");getBlobReq.onerror=reject,getBlobReq.onsuccess=function(e){var storedBlob=e.target.result,url=URL.createObjectURL(storedBlob);_blobAjax(url).then(function(res){resolve(!(!res||"image/png"!==res.type))},function(){resolve(!1)}).then(function(){URL.revokeObjectURL(url)})}}})["catch"](function(){return!1})}function _checkBlobSupport(idb){return"boolean"==typeof supportsBlobs?Promise.resolve(supportsBlobs):_checkBlobSupportWithoutCaching(idb).then(function(value){return supportsBlobs=value})}function _encodeBlob(blob){return new Promise(function(resolve,reject){var reader=new FileReader;reader.onerror=reject,reader.onloadend=function(e){var base64=btoa(e.target.result||"");resolve({__local_forage_encoded_blob:!0,data:base64,type:blob.type})},reader.readAsBinaryString(blob)})}function _decodeBlob(encodedBlob){var arrayBuff=_binStringToArrayBuffer(atob(encodedBlob.data));return _createBlob([arrayBuff],{type:encodedBlob.type})}function _isEncodedBlob(value){return value&&value.__local_forage_encoded_blob}function _initStorage(options){function ignoreErrors(){return Promise.resolve()}var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]=options[i];dbContexts||(dbContexts={});var dbContext=dbContexts[dbInfo.name];dbContext||(dbContext={forages:[],db:null},dbContexts[dbInfo.name]=dbContext),dbContext.forages.push(this);for(var readyPromises=[],j=0;j<dbContext.forages.length;j++){var forage=dbContext.forages[j];forage!==this&&readyPromises.push(forage.ready()["catch"](ignoreErrors))}var forages=dbContext.forages.slice(0);return Promise.all(readyPromises).then(function(){return dbInfo.db=dbContext.db,_getOriginalConnection(dbInfo)}).then(function(db){return dbInfo.db=db,_isUpgradeNeeded(dbInfo,self._defaultConfig.version)?_getUpgradedConnection(dbInfo):db}).then(function(db){dbInfo.db=dbContext.db=db,self._dbInfo=dbInfo;for(var k in forages){var forage=forages[k];forage!==self&&(forage._dbInfo.db=dbInfo.db,forage._dbInfo.version=dbInfo.version)}})}function _getOriginalConnection(dbInfo){return _getConnection(dbInfo,!1)}function _getUpgradedConnection(dbInfo){return _getConnection(dbInfo,!0)}function _getConnection(dbInfo,upgradeNeeded){return new Promise(function(resolve,reject){if(dbInfo.db){if(!upgradeNeeded)return resolve(dbInfo.db);dbInfo.db.close()}var dbArgs=[dbInfo.name];upgradeNeeded&&dbArgs.push(dbInfo.version);var openreq=indexedDB.open.apply(indexedDB,dbArgs);upgradeNeeded&&(openreq.onupgradeneeded=function(e){var db=openreq.result;try{db.createObjectStore(dbInfo.storeName),e.oldVersion<=1&&db.createObjectStore(DETECT_BLOB_SUPPORT_STORE)}catch(ex){if("ConstraintError"!==ex.name)throw ex;globalObject.console.warn('The database "'+dbInfo.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+dbInfo.storeName+'" already exists.')}}),openreq.onerror=function(){reject(openreq.error)},openreq.onsuccess=function(){resolve(openreq.result)}})}function _isUpgradeNeeded(dbInfo,defaultVersion){if(!dbInfo.db)return!0;var isNewStore=!dbInfo.db.objectStoreNames.contains(dbInfo.storeName),isDowngrade=dbInfo.version<dbInfo.db.version,isUpgrade=dbInfo.version>dbInfo.db.version;if(isDowngrade&&(dbInfo.version!==defaultVersion&&globalObject.console.warn('The database "'+dbInfo.name+"\" can't be downgraded from version "+dbInfo.db.version+" to version "+dbInfo.version+"."),dbInfo.version=dbInfo.db.version),isUpgrade||isNewStore){if(isNewStore){var incVersion=dbInfo.db.version+1;incVersion>dbInfo.version&&(dbInfo.version=incVersion)}return!0}return!1}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.get(key);req.onsuccess=function(){var value=req.result;void 0===value&&(value=null),_isEncodedBlob(value)&&(value=_decodeBlob(value)),resolve(value)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.openCursor(),iterationNumber=1;req.onsuccess=function(){var cursor=req.result;if(cursor){var value=cursor.value;_isEncodedBlob(value)&&(value=_decodeBlob(value));var result=iterator(value,cursor.key,iterationNumber++);void 0!==result?resolve(result):cursor["continue"]()}else resolve()},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){var dbInfo;self.ready().then(function(){return dbInfo=self._dbInfo,_checkBlobSupport(dbInfo.db)}).then(function(blobSupport){return!blobSupport&&value instanceof Blob?_encodeBlob(value):value}).then(function(value){var transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName);null===value&&(value=void 0);var req=store.put(value,key);transaction.oncomplete=function(){void 0===value&&(value=null),resolve(value)},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName),req=store["delete"](key);transaction.oncomplete=function(){resolve()},transaction.onerror=function(){reject(req.error)},transaction.onabort=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function clear(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName),req=store.clear();transaction.oncomplete=function(){resolve()},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.count();req.onsuccess=function(){resolve(req.result)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=new Promise(function(resolve,reject){return 0>n?void resolve(null):void self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),advanced=!1,req=store.openCursor();req.onsuccess=function(){var cursor=req.result;return cursor?void(0===n?resolve(cursor.key):advanced?resolve(cursor.key):(advanced=!0,cursor.advance(n))):void resolve(null)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.openCursor(),keys=[];req.onsuccess=function(){var cursor=req.result;return cursor?(keys.push(cursor.key),void cursor["continue"]()):void resolve(keys)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,indexedDB=indexedDB||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(indexedDB){var supportsBlobs,dbContexts,DETECT_BLOB_SUPPORT_STORE="local-forage-detect-blob-support",asyncStorage={_driver:"asyncStorage",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=asyncStorage}}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,function(){function _initStorage(options){var self=this,dbInfo={};if(options)for(var i in options)dbInfo[i]=options[i];return dbInfo.keyPrefix=dbInfo.name+"/",dbInfo.storeName!==self._defaultConfig.storeName&&(dbInfo.keyPrefix+=dbInfo.storeName+"/"),self._dbInfo=dbInfo,new Promise(function(resolve,reject){resolve(__webpack_require__(3))}).then(function(lib){return dbInfo.serializer=lib,Promise.resolve()})}function clear(callback){var self=this,promise=self.ready().then(function(){for(var keyPrefix=self._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){
var key=localStorage.key(i);0===key.indexOf(keyPrefix)&&localStorage.removeItem(key)}});return executeCallback(promise,callback),promise}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){var dbInfo=self._dbInfo,result=localStorage.getItem(dbInfo.keyPrefix+key);return result&&(result=dbInfo.serializer.deserialize(result)),result});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=self.ready().then(function(){for(var dbInfo=self._dbInfo,keyPrefix=dbInfo.keyPrefix,keyPrefixLength=keyPrefix.length,length=localStorage.length,iterationNumber=1,i=0;length>i;i++){var key=localStorage.key(i);if(0===key.indexOf(keyPrefix)){var value=localStorage.getItem(key);if(value&&(value=dbInfo.serializer.deserialize(value)),value=iterator(value,key.substring(keyPrefixLength),iterationNumber++),void 0!==value)return value}}});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=self.ready().then(function(){var result,dbInfo=self._dbInfo;try{result=localStorage.key(n)}catch(error){result=null}return result&&(result=result.substring(dbInfo.keyPrefix.length)),result});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=self.ready().then(function(){for(var dbInfo=self._dbInfo,length=localStorage.length,keys=[],i=0;length>i;i++)0===localStorage.key(i).indexOf(dbInfo.keyPrefix)&&keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));return keys});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=self.keys().then(function(keys){return keys.length});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){var dbInfo=self._dbInfo;localStorage.removeItem(dbInfo.keyPrefix+key)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){void 0===value&&(value=null);var originalValue=value;return new Promise(function(resolve,reject){var dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){if(error)reject(error);else try{localStorage.setItem(dbInfo.keyPrefix+key,value),resolve(originalValue)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&reject(e),reject(e)}})})});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,localStorage=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;localStorage=this.localStorage}catch(e){return}var localStorageWrapper={_driver:"localStorageWrapper",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=localStorageWrapper}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=!0,function(){function _createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(err){if("TypeError"!==err.name)throw err;for(var BlobBuilder=globalObject.BlobBuilder||globalObject.MSBlobBuilder||globalObject.MozBlobBuilder||globalObject.WebKitBlobBuilder,builder=new BlobBuilder,i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}function serialize(value,callback){var valueString="";if(value&&(valueString=value.toString()),value&&("[object ArrayBuffer]"===value.toString()||value.buffer&&"[object ArrayBuffer]"===value.buffer.toString())){var buffer,marker=SERIALIZED_MARKER;value instanceof ArrayBuffer?(buffer=value,marker+=TYPE_ARRAYBUFFER):(buffer=value.buffer,"[object Int8Array]"===valueString?marker+=TYPE_INT8ARRAY:"[object Uint8Array]"===valueString?marker+=TYPE_UINT8ARRAY:"[object Uint8ClampedArray]"===valueString?marker+=TYPE_UINT8CLAMPEDARRAY:"[object Int16Array]"===valueString?marker+=TYPE_INT16ARRAY:"[object Uint16Array]"===valueString?marker+=TYPE_UINT16ARRAY:"[object Int32Array]"===valueString?marker+=TYPE_INT32ARRAY:"[object Uint32Array]"===valueString?marker+=TYPE_UINT32ARRAY:"[object Float32Array]"===valueString?marker+=TYPE_FLOAT32ARRAY:"[object Float64Array]"===valueString?marker+=TYPE_FLOAT64ARRAY:callback(new Error("Failed to get type for BinaryArray"))),callback(marker+bufferToString(buffer))}else if("[object Blob]"===valueString){var fileReader=new FileReader;fileReader.onload=function(){var str=BLOB_TYPE_PREFIX+value.type+"~"+bufferToString(this.result);callback(SERIALIZED_MARKER+TYPE_BLOB+str)},fileReader.readAsArrayBuffer(value)}else try{callback(JSON.stringify(value))}catch(e){console.error("Couldn't convert value into a JSON string: ",value),callback(null,e)}}function deserialize(value){if(value.substring(0,SERIALIZED_MARKER_LENGTH)!==SERIALIZED_MARKER)return JSON.parse(value);var blobType,serializedString=value.substring(TYPE_SERIALIZED_MARKER_LENGTH),type=value.substring(SERIALIZED_MARKER_LENGTH,TYPE_SERIALIZED_MARKER_LENGTH);if(type===TYPE_BLOB&&BLOB_TYPE_PREFIX_REGEX.test(serializedString)){var matcher=serializedString.match(BLOB_TYPE_PREFIX_REGEX);blobType=matcher[1],serializedString=serializedString.substring(matcher[0].length)}var buffer=stringToBuffer(serializedString);switch(type){case TYPE_ARRAYBUFFER:return buffer;case TYPE_BLOB:return _createBlob([buffer],{type:blobType});case TYPE_INT8ARRAY:return new Int8Array(buffer);case TYPE_UINT8ARRAY:return new Uint8Array(buffer);case TYPE_UINT8CLAMPEDARRAY:return new Uint8ClampedArray(buffer);case TYPE_INT16ARRAY:return new Int16Array(buffer);case TYPE_UINT16ARRAY:return new Uint16Array(buffer);case TYPE_INT32ARRAY:return new Int32Array(buffer);case TYPE_UINT32ARRAY:return new Uint32Array(buffer);case TYPE_FLOAT32ARRAY:return new Float32Array(buffer);case TYPE_FLOAT64ARRAY:return new Float64Array(buffer);default:throw new Error("Unkown type: "+type)}}function stringToBuffer(serializedString){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*serializedString.length,len=serializedString.length,p=0;"="===serializedString[serializedString.length-1]&&(bufferLength--,"="===serializedString[serializedString.length-2]&&bufferLength--);var buffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(buffer);for(i=0;len>i;i+=4)encoded1=BASE_CHARS.indexOf(serializedString[i]),encoded2=BASE_CHARS.indexOf(serializedString[i+1]),encoded3=BASE_CHARS.indexOf(serializedString[i+2]),encoded4=BASE_CHARS.indexOf(serializedString[i+3]),bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return buffer}function bufferToString(buffer){var i,bytes=new Uint8Array(buffer),base64String="";for(i=0;i<bytes.length;i+=3)base64String+=BASE_CHARS[bytes[i]>>2],base64String+=BASE_CHARS[(3&bytes[i])<<4|bytes[i+1]>>4],base64String+=BASE_CHARS[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64String+=BASE_CHARS[63&bytes[i+2]];return bytes.length%3===2?base64String=base64String.substring(0,base64String.length-1)+"=":bytes.length%3===1&&(base64String=base64String.substring(0,base64String.length-2)+"=="),base64String}var BASE_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BLOB_TYPE_PREFIX="~~local_forage_type~",BLOB_TYPE_PREFIX_REGEX=/^~~local_forage_type~([^~]+)~/,SERIALIZED_MARKER="__lfsc__:",SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER.length,TYPE_ARRAYBUFFER="arbf",TYPE_BLOB="blob",TYPE_INT8ARRAY="si08",TYPE_UINT8ARRAY="ui08",TYPE_UINT8CLAMPEDARRAY="uic8",TYPE_INT16ARRAY="si16",TYPE_INT32ARRAY="si32",TYPE_UINT16ARRAY="ur16",TYPE_UINT32ARRAY="ui32",TYPE_FLOAT32ARRAY="fl32",TYPE_FLOAT64ARRAY="fl64",TYPE_SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER_LENGTH+TYPE_ARRAYBUFFER.length,globalObject=this,localforageSerializer={serialize:serialize,deserialize:deserialize,stringToBuffer:stringToBuffer,bufferToString:bufferToString};exports["default"]=localforageSerializer}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,function(){function _initStorage(options){var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]="string"!=typeof options[i]?options[i].toString():options[i];var dbInfoPromise=new Promise(function(resolve,reject){try{dbInfo.db=openDatabase(dbInfo.name,String(dbInfo.version),dbInfo.description,dbInfo.size)}catch(e){return self.setDriver(self.LOCALSTORAGE).then(function(){return self._initStorage(options)}).then(resolve)["catch"](reject)}dbInfo.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+dbInfo.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){self._dbInfo=dbInfo,resolve()},function(t,error){reject(error)})})});return new Promise(function(resolve,reject){resolve(__webpack_require__(3))}).then(function(lib){return dbInfo.serializer=lib,dbInfoPromise})}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT * FROM "+dbInfo.storeName+" WHERE key = ? LIMIT 1",[key],function(t,results){var result=results.rows.length?results.rows.item(0).value:null;result&&(result=dbInfo.serializer.deserialize(result)),resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT * FROM "+dbInfo.storeName,[],function(t,results){for(var rows=results.rows,length=rows.length,i=0;length>i;i++){var item=rows.item(i),result=item.value;if(result&&(result=dbInfo.serializer.deserialize(result)),result=iterator(result,item.key,i+1),void 0!==result)return void resolve(result)}resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){void 0===value&&(value=null);var originalValue=value,dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){error?reject(error):dbInfo.db.transaction(function(t){t.executeSql("INSERT OR REPLACE INTO "+dbInfo.storeName+" (key, value) VALUES (?, ?)",[key,value],function(){resolve(originalValue)},function(t,error){reject(error)})},function(sqlError){sqlError.code===sqlError.QUOTA_ERR&&reject(sqlError)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("DELETE FROM "+dbInfo.storeName+" WHERE key = ?",[key],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function clear(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("DELETE FROM "+dbInfo.storeName,[],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+dbInfo.storeName,[],function(t,results){var result=results.rows.item(0).c;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT key FROM "+dbInfo.storeName+" WHERE id = ? LIMIT 1",[n+1],function(t,results){var result=results.rows.length?results.rows.item(0).key:null;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT key FROM "+dbInfo.storeName,[],function(t,results){for(var keys=[],i=0;i<results.rows.length;i++)keys.push(results.rows.item(i).key);resolve(keys)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,openDatabase=this.openDatabase;if(openDatabase){var webSQLStorage={_driver:"webSQLStorage",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=webSQLStorage}}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]}])})}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:20}],8:[function(require,module,exports){function randomBytes(size){for(var r,r,bytes=new Array(size),i=0;size>i;i++)0==(3&i)&&(r=4294967296*Math.random()),bytes[i]=r>>>((3&i)<<3)&255;return bytes}function byteArrayToBase64(uint8){function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}var temp,length,i,lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=lookup[temp>>2],output+=lookup[temp<<4&63],output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=lookup[temp>>10],output+=lookup[temp>>4&63],output+=lookup[temp<<2&63],output+="="}return output}function uid(len){return byteArrayToBase64(randomBytes(Math.ceil(Math.max(8,2*len)))).replace(/[+\/]/g,"").slice(0,len)}module.exports.uid=uid},{}],9:[function(require,module,exports){function exists(filename,callback){localforage.getItem(filename,function(err,value){return callback(null!==value?!0:!1)})}function rename(filename,newFilename,callback){localforage.getItem(filename,function(err,value){null===value?localforage.removeItem(newFilename,function(){return callback()}):localforage.setItem(newFilename,value,function(){localforage.removeItem(filename,function(){return callback()})})})}function writeFile(filename,contents,options,callback){"function"==typeof options&&(callback=options),localforage.setItem(filename,contents,function(){return callback()})}function appendFile(filename,toAppend,options,callback){"function"==typeof options&&(callback=options),localforage.getItem(filename,function(err,contents){contents=contents||"",contents+=toAppend,localforage.setItem(filename,contents,function(){return callback()})})}function readFile(filename,options,callback){"function"==typeof options&&(callback=options),localforage.getItem(filename,function(err,contents){return callback(null,contents||"")})}function unlink(filename,callback){localforage.removeItem(filename,function(){return callback()})}function mkdirp(dir,callback){return callback()}function ensureDatafileIntegrity(filename,callback){return callback(null)}var localforage=require("localforage");localforage.config({name:"NeDB",storeName:"nedbdata"}),module.exports.exists=exists,module.exports.rename=rename,module.exports.writeFile=writeFile,module.exports.crashSafeWriteFile=writeFile,module.exports.appendFile=appendFile,module.exports.readFile=readFile,module.exports.unlink=unlink,module.exports.mkdirp=mkdirp,module.exports.ensureDatafileIntegrity=ensureDatafileIntegrity},{localforage:7}],10:[function(require,module,exports){var Datastore=require("./lib/datastore");module.exports=Datastore},{"./lib/datastore":12}],11:[function(require,module,exports){function Cursor(db,query,execFn){this.db=db,this.query=query||{},execFn&&(this.execFn=execFn)}var model=require("./model"),_=require("underscore");Cursor.prototype.limit=function(limit){return this._limit=limit,this},Cursor.prototype.skip=function(skip){return this._skip=skip,this},Cursor.prototype.sort=function(sortQuery){return this._sort=sortQuery,this},Cursor.prototype.projection=function(projection){return this._projection=projection,this},Cursor.prototype.project=function(candidates){var keepId,action,keys,res=[],self=this;return void 0===this._projection||0===Object.keys(this._projection).length?candidates:(keepId=0===this._projection._id?!1:!0,this._projection=_.omit(this._projection,"_id"),keys=Object.keys(this._projection),keys.forEach(function(k){if(void 0!==action&&self._projection[k]!==action)throw"Can't both keep and omit fields except for _id";action=self._projection[k]}),candidates.forEach(function(candidate){var toPush=1===action?_.pick(candidate,keys):_.omit(candidate,keys);keepId?toPush._id=candidate._id:delete toPush._id,res.push(toPush)}),res)},Cursor.prototype._exec=function(callback){var i,keys,key,candidates=this.db.getCandidates(this.query),res=[],added=0,skipped=0,self=this,error=null;try{for(i=0;i<candidates.length;i+=1)if(model.match(candidates[i],this.query))if(this._sort)res.push(candidates[i]);else if(this._skip&&this._skip>skipped)skipped+=1;else if(res.push(candidates[i]),added+=1,this._limit&&this._limit<=added)break}catch(err){return callback(err)}if(this._sort){keys=Object.keys(this._sort);var criteria=[];for(i=0;i<keys.length;i++)key=keys[i],criteria.push({key:key,direction:self._sort[key]});res.sort(function(a,b){var criterion,compare,i;for(i=0;i<criteria.length;i++)if(criterion=criteria[i],compare=criterion.direction*model.compareThings(model.getDotValue(a,criterion.key),model.getDotValue(b,criterion.key)),0!==compare)return compare;return 0});var limit=this._limit||res.length,skip=this._skip||0;res=res.slice(skip,skip+limit)}try{res=this.project(res)}catch(e){error=e,res=void 0}return this.execFn?this.execFn(error,res,callback):callback(error,res)},Cursor.prototype.exec=function(){this.db.executor.push({"this":this,fn:this._exec,arguments:arguments})},module.exports=Cursor},{"./model":15,underscore:18}],12:[function(require,module,exports){function Datastore(options){var filename;"string"==typeof options?(filename=options,this.inMemoryOnly=!1):(options=options||{},filename=options.filename,this.inMemoryOnly=options.inMemoryOnly||!1,this.autoload=options.autoload||!1,this.timestampData=options.timestampData||!1),filename&&"string"==typeof filename&&0!==filename.length?this.filename=filename:(this.filename=null,this.inMemoryOnly=!0),this.persistence=new Persistence({db:this,nodeWebkitAppName:options.nodeWebkitAppName,afterSerialization:options.afterSerialization,beforeDeserialization:options.beforeDeserialization,corruptAlertThreshold:options.corruptAlertThreshold}),this.executor=new Executor,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new Index({fieldName:"_id",unique:!0}),this.autoload&&this.loadDatabase(options.onload||function(err){if(err)throw err})}var customUtils=require("./customUtils"),model=require("./model"),async=require("async"),Executor=require("./executor"),Index=require("./indexes"),util=require("util"),_=require("underscore"),Persistence=require("./persistence"),Cursor=require("./cursor");Datastore.prototype.loadDatabase=function(){this.executor.push({"this":this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},Datastore.prototype.getAllData=function(){return this.indexes._id.getAll()},Datastore.prototype.resetIndexes=function(newData){var self=this;Object.keys(this.indexes).forEach(function(i){self.indexes[i].reset(newData)})},Datastore.prototype.ensureIndex=function(options,cb){var callback=cb||function(){};if(options=options||{},!options.fieldName)return callback({missingFieldName:!0});if(this.indexes[options.fieldName])return callback(null);this.indexes[options.fieldName]=new Index(options);try{this.indexes[options.fieldName].insert(this.getAllData())}catch(e){return delete this.indexes[options.fieldName],callback(e)}this.persistence.persistNewState([{$$indexCreated:options}],function(err){return callback(err?err:null)})},Datastore.prototype.removeIndex=function(fieldName,cb){var callback=cb||function(){};delete this.indexes[fieldName],this.persistence.persistNewState([{$$indexRemoved:fieldName}],function(err){return callback(err?err:null)})},Datastore.prototype.addToIndexes=function(doc){var i,failingIndex,error,keys=Object.keys(this.indexes);for(i=0;i<keys.length;i+=1)try{this.indexes[keys[i]].insert(doc)}catch(e){failingIndex=i,error=e;break}if(error){for(i=0;failingIndex>i;i+=1)this.indexes[keys[i]].remove(doc);throw error}},Datastore.prototype.removeFromIndexes=function(doc){var self=this;Object.keys(this.indexes).forEach(function(i){self.indexes[i].remove(doc)})},Datastore.prototype.updateIndexes=function(oldDoc,newDoc){var i,failingIndex,error,keys=Object.keys(this.indexes);for(i=0;i<keys.length;i+=1)try{this.indexes[keys[i]].update(oldDoc,newDoc)}catch(e){failingIndex=i,error=e;break}if(error){for(i=0;failingIndex>i;i+=1)this.indexes[keys[i]].revertUpdate(oldDoc,newDoc);throw error}},Datastore.prototype.getCandidates=function(query){var usableQueryKeys,indexNames=Object.keys(this.indexes);return usableQueryKeys=[],Object.keys(query).forEach(function(k){("string"==typeof query[k]||"number"==typeof query[k]||"boolean"==typeof query[k]||util.isDate(query[k])||null===query[k])&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]]):(usableQueryKeys=[],Object.keys(query).forEach(function(k){query[k]&&query[k].hasOwnProperty("$in")&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]].$in):(usableQueryKeys=[],Object.keys(query).forEach(function(k){query[k]&&(query[k].hasOwnProperty("$lt")||query[k].hasOwnProperty("$lte")||query[k].hasOwnProperty("$gt")||query[k].hasOwnProperty("$gte"))&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getBetweenBounds(query[usableQueryKeys[0]]):this.getAllData()))},Datastore.prototype._insert=function(newDoc,cb){var preparedDoc,callback=cb||function(){};try{preparedDoc=this.prepareDocumentForInsertion(newDoc),this._insertInCache(preparedDoc)}catch(e){return callback(e)}this.persistence.persistNewState(util.isArray(preparedDoc)?preparedDoc:[preparedDoc],function(err){return err?callback(err):callback(null,model.deepCopy(preparedDoc))})},Datastore.prototype.createNewId=function(){var tentativeId=customUtils.uid(16);return this.indexes._id.getMatching(tentativeId).length>0&&(tentativeId=this.createNewId()),tentativeId},Datastore.prototype.prepareDocumentForInsertion=function(newDoc){var preparedDoc,self=this;if(util.isArray(newDoc))preparedDoc=[],newDoc.forEach(function(doc){preparedDoc.push(self.prepareDocumentForInsertion(doc))});else{preparedDoc=model.deepCopy(newDoc),void 0===preparedDoc._id&&(preparedDoc._id=this.createNewId());var now=new Date;this.timestampData&&void 0===preparedDoc.createdAt&&(preparedDoc.createdAt=now),this.timestampData&&void 0===preparedDoc.updatedAt&&(preparedDoc.updatedAt=now),model.checkObject(preparedDoc)}return preparedDoc},Datastore.prototype._insertInCache=function(preparedDoc){util.isArray(preparedDoc)?this._insertMultipleDocsInCache(preparedDoc):this.addToIndexes(preparedDoc)},Datastore.prototype._insertMultipleDocsInCache=function(preparedDocs){var i,failingI,error;for(i=0;i<preparedDocs.length;i+=1)try{this.addToIndexes(preparedDocs[i])}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.removeFromIndexes(preparedDocs[i]);throw error}},Datastore.prototype.insert=function(){this.executor.push({"this":this,fn:this._insert,arguments:arguments})},Datastore.prototype.count=function(query,callback){var cursor=new Cursor(this,query,function(err,docs,callback){return err?callback(err):callback(null,docs.length)});return"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype.find=function(query,projection,callback){switch(arguments.length){case 1:projection={};break;case 2:"function"==typeof projection&&(callback=projection,projection={})}var cursor=new Cursor(this,query,function(err,docs,callback){var i,res=[];if(err)return callback(err);for(i=0;i<docs.length;i+=1)res.push(model.deepCopy(docs[i]));return callback(null,res)});return cursor.projection(projection),"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype.findOne=function(query,projection,callback){switch(arguments.length){case 1:projection={};break;case 2:"function"==typeof projection&&(callback=projection,projection={})}var cursor=new Cursor(this,query,function(err,docs,callback){return err?callback(err):1===docs.length?callback(null,model.deepCopy(docs[0])):callback(null,null)});return cursor.projection(projection).limit(1),"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype._update=function(query,updateQuery,options,cb){var callback,multi,upsert,i,self=this,numReplaced=0;"function"==typeof options&&(cb=options,options={}),callback=cb||function(){},multi=void 0!==options.multi?options.multi:!1,upsert=void 0!==options.upsert?options.upsert:!1,async.waterfall([function(cb){if(!upsert)return cb();var cursor=new Cursor(self,query);cursor.limit(1)._exec(function(err,docs){if(err)return callback(err);if(1===docs.length)return cb();var toBeInserted;try{model.checkObject(updateQuery),toBeInserted=updateQuery}catch(e){try{toBeInserted=model.modify(model.deepCopy(query,!0),updateQuery)}catch(err){return callback(err)}}return self._insert(toBeInserted,function(err,newDoc){return err?callback(err):callback(null,1,newDoc)})})},function(){var modifiedDoc,candidates=self.getCandidates(query),modifications=[];try{for(i=0;i<candidates.length;i+=1)model.match(candidates[i],query)&&(multi||0===numReplaced)&&(numReplaced+=1,modifiedDoc=model.modify(candidates[i],updateQuery),self.timestampData&&(modifiedDoc.updatedAt=new Date),modifications.push({oldDoc:candidates[i],newDoc:modifiedDoc}))}catch(err){return callback(err)}try{self.updateIndexes(modifications)}catch(err){return callback(err)}self.persistence.persistNewState(_.pluck(modifications,"newDoc"),function(err){return err?callback(err):callback(null,numReplaced)})}])},Datastore.prototype.update=function(){this.executor.push({"this":this,fn:this._update,arguments:arguments})},Datastore.prototype._remove=function(query,options,cb){var callback,multi,self=this,numRemoved=0,removedDocs=[],candidates=this.getCandidates(query);"function"==typeof options&&(cb=options,options={}),callback=cb||function(){},multi=void 0!==options.multi?options.multi:!1;try{candidates.forEach(function(d){model.match(d,query)&&(multi||0===numRemoved)&&(numRemoved+=1,removedDocs.push({$$deleted:!0,_id:d._id}),self.removeFromIndexes(d))})}catch(err){return callback(err)}self.persistence.persistNewState(removedDocs,function(err){return err?callback(err):callback(null,numRemoved)})},Datastore.prototype.remove=function(){this.executor.push({"this":this,fn:this._remove,arguments:arguments})},module.exports=Datastore},{"./cursor":11,"./customUtils":8,"./executor":13,"./indexes":14,"./model":15,"./persistence":16,async:17,underscore:18,util:22}],13:[function(require,module,exports){(function(process){function Executor(){this.buffer=[],this.ready=!1,this.queue=async.queue(function(task,cb){var callback,i,lastArg=task.arguments[task.arguments.length-1],newArguments=[];for(i=0;i<task.arguments.length;i+=1)newArguments.push(task.arguments[i]);"function"==typeof lastArg?(callback=function(){"function"==typeof setImmediate?setImmediate(cb):process.nextTick(cb),lastArg.apply(null,arguments)},newArguments[newArguments.length-1]=callback):(callback=function(){cb()},newArguments.push(callback)),task.fn.apply(task["this"],newArguments)},1)}var async=require("async");Executor.prototype.push=function(task,forceQueuing){this.ready||forceQueuing?this.queue.push(task):this.buffer.push(task)},Executor.prototype.processBuffer=function(){var i;for(this.ready=!0,i=0;i<this.buffer.length;i+=1)this.queue.push(this.buffer[i]);this.buffer=[]},module.exports=Executor}).call(this,require("_process"))},{_process:20,async:17}],14:[function(require,module,exports){function checkValueEquality(a,b){return a===b}function projectForUnique(elt){return null===elt?"$null":"string"==typeof elt?"$string"+elt:"boolean"==typeof elt?"$boolean"+elt:"number"==typeof elt?"$number"+elt:util.isArray(elt)?"$date"+elt.getTime():elt}function Index(options){this.fieldName=options.fieldName,this.unique=options.unique||!1,this.sparse=options.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:model.compareThings,checkValueEquality:checkValueEquality},this.reset()}var BinarySearchTree=require("binary-search-tree").AVLTree,model=require("./model"),_=require("underscore"),util=require("util");Index.prototype.reset=function(newData){this.tree=new BinarySearchTree(this.treeOptions),newData&&this.insert(newData)},Index.prototype.insert=function(doc){var key,keys,i,failingI,error;if(util.isArray(doc))return void this.insertMultipleDocs(doc);if(key=model.getDotValue(doc,this.fieldName),void 0!==key||!this.sparse)if(util.isArray(key)){for(keys=_.uniq(key,projectForUnique),i=0;i<keys.length;i+=1)try{this.tree.insert(keys[i],doc)}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.tree["delete"](keys[i],doc);throw error}}else this.tree.insert(key,doc)},Index.prototype.insertMultipleDocs=function(docs){var i,error,failingI;for(i=0;i<docs.length;i+=1)try{this.insert(docs[i])}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.remove(docs[i]);throw error}},Index.prototype.remove=function(doc){var key,self=this;return util.isArray(doc)?void doc.forEach(function(d){self.remove(d)}):(key=model.getDotValue(doc,this.fieldName),void(void 0===key&&this.sparse||(util.isArray(key)?_.uniq(key,projectForUnique).forEach(function(_key){self.tree["delete"](_key,doc)}):this.tree["delete"](key,doc))))},Index.prototype.update=function(oldDoc,newDoc){if(util.isArray(oldDoc))return void this.updateMultipleDocs(oldDoc);this.remove(oldDoc);try{this.insert(newDoc)}catch(e){throw this.insert(oldDoc),e}},Index.prototype.updateMultipleDocs=function(pairs){var i,failingI,error;for(i=0;i<pairs.length;i+=1)this.remove(pairs[i].oldDoc);for(i=0;i<pairs.length;i+=1)try{this.insert(pairs[i].newDoc)}catch(e){error=e,failingI=i;break}if(error){
for(i=0;failingI>i;i+=1)this.remove(pairs[i].newDoc);for(i=0;i<pairs.length;i+=1)this.insert(pairs[i].oldDoc);throw error}},Index.prototype.revertUpdate=function(oldDoc,newDoc){var revert=[];util.isArray(oldDoc)?(oldDoc.forEach(function(pair){revert.push({oldDoc:pair.newDoc,newDoc:pair.oldDoc})}),this.update(revert)):this.update(newDoc,oldDoc)},Index.prototype.getMatching=function(value){var self=this;if(util.isArray(value)){var _res={},res=[];return value.forEach(function(v){self.getMatching(v).forEach(function(doc){_res[doc._id]=doc})}),Object.keys(_res).forEach(function(_id){res.push(_res[_id])}),res}return this.tree.search(value)},Index.prototype.getBetweenBounds=function(query){return this.tree.betweenBounds(query)},Index.prototype.getAll=function(){var res=[];return this.tree.executeOnEveryNode(function(node){var i;for(i=0;i<node.data.length;i+=1)res.push(node.data[i])}),res},module.exports=Index},{"./model":15,"binary-search-tree":1,underscore:18,util:22}],15:[function(require,module,exports){function checkKey(k,v){if("number"==typeof k&&(k=k.toString()),!("$"!==k[0]||"$$date"===k&&"number"==typeof v||"$$deleted"===k&&v===!0||"$$indexCreated"===k||"$$indexRemoved"===k))throw"Field names cannot begin with the $ character";if(-1!==k.indexOf("."))throw"Field names cannot contain a ."}function checkObject(obj){util.isArray(obj)&&obj.forEach(function(o){checkObject(o)}),"object"==typeof obj&&null!==obj&&Object.keys(obj).forEach(function(k){checkKey(k,obj[k]),checkObject(obj[k])})}function serialize(obj){var res;return res=JSON.stringify(obj,function(k,v){return checkKey(k,v),void 0!==v?null===v?null:"function"==typeof this[k].getTime?{$$date:this[k].getTime()}:v:void 0})}function deserialize(rawData){return JSON.parse(rawData,function(k,v){return"$$date"===k?new Date(v):"string"==typeof v||"number"==typeof v||"boolean"==typeof v||null===v?v:v&&v.$$date?v.$$date:v})}function deepCopy(obj,strictKeys){var res;return"boolean"==typeof obj||"number"==typeof obj||"string"==typeof obj||null===obj||util.isDate(obj)?obj:util.isArray(obj)?(res=[],obj.forEach(function(o){res.push(deepCopy(o,strictKeys))}),res):"object"==typeof obj?(res={},Object.keys(obj).forEach(function(k){(!strictKeys||"$"!==k[0]&&-1===k.indexOf("."))&&(res[k]=deepCopy(obj[k],strictKeys))}),res):void 0}function isPrimitiveType(obj){return"boolean"==typeof obj||"number"==typeof obj||"string"==typeof obj||null===obj||util.isDate(obj)||util.isArray(obj)}function compareNSB(a,b){return b>a?-1:a>b?1:0}function compareArrays(a,b){var i,comp;for(i=0;i<Math.min(a.length,b.length);i+=1)if(comp=compareThings(a[i],b[i]),0!==comp)return comp;return compareNSB(a.length,b.length)}function compareThings(a,b){var aKeys,bKeys,comp,i;if(void 0===a)return void 0===b?0:-1;if(void 0===b)return void 0===a?0:1;if(null===a)return null===b?0:-1;if(null===b)return null===a?0:1;if("number"==typeof a)return"number"==typeof b?compareNSB(a,b):-1;if("number"==typeof b)return"number"==typeof a?compareNSB(a,b):1;if("string"==typeof a)return"string"==typeof b?compareNSB(a,b):-1;if("string"==typeof b)return"string"==typeof a?compareNSB(a,b):1;if("boolean"==typeof a)return"boolean"==typeof b?compareNSB(a,b):-1;if("boolean"==typeof b)return"boolean"==typeof a?compareNSB(a,b):1;if(util.isDate(a))return util.isDate(b)?compareNSB(a.getTime(),b.getTime()):-1;if(util.isDate(b))return util.isDate(a)?compareNSB(a.getTime(),b.getTime()):1;if(util.isArray(a))return util.isArray(b)?compareArrays(a,b):-1;if(util.isArray(b))return util.isArray(a)?compareArrays(a,b):1;for(aKeys=Object.keys(a).sort(),bKeys=Object.keys(b).sort(),i=0;i<Math.min(aKeys.length,bKeys.length);i+=1)if(comp=compareThings(a[aKeys[i]],b[bKeys[i]]),0!==comp)return comp;return compareNSB(aKeys.length,bKeys.length)}function createModifierFunction(modifier){return function(obj,field,value){var fieldParts="string"==typeof field?field.split("."):field;1===fieldParts.length?lastStepModifierFunctions[modifier](obj,field,value):(obj[fieldParts[0]]=obj[fieldParts[0]]||{},modifierFunctions[modifier](obj[fieldParts[0]],fieldParts.slice(1),value))}}function modify(obj,updateQuery){var newDoc,modifiers,keys=Object.keys(updateQuery),firstChars=_.map(keys,function(item){return item[0]}),dollarFirstChars=_.filter(firstChars,function(c){return"$"===c});if(-1!==keys.indexOf("_id")&&updateQuery._id!==obj._id)throw"You cannot change a document's _id";if(0!==dollarFirstChars.length&&dollarFirstChars.length!==firstChars.length)throw"You cannot mix modifiers and normal fields";if(0===dollarFirstChars.length?(newDoc=deepCopy(updateQuery),newDoc._id=obj._id):(modifiers=_.uniq(keys),newDoc=deepCopy(obj),modifiers.forEach(function(m){var keys;if(!modifierFunctions[m])throw"Unknown modifier "+m;if("object"!=typeof updateQuery[m])throw"Modifier "+m+"'s argument must be an object";keys=Object.keys(updateQuery[m]),keys.forEach(function(k){modifierFunctions[m](newDoc,k,updateQuery[m][k])})})),checkObject(newDoc),obj._id!==newDoc._id)throw"You can't change a document's _id";return newDoc}function getDotValue(obj,field){var i,objs,fieldParts="string"==typeof field?field.split("."):field;if(obj){if(0===fieldParts.length)return obj;if(1===fieldParts.length)return obj[fieldParts[0]];if(util.isArray(obj[fieldParts[0]])){if(i=parseInt(fieldParts[1],10),"number"==typeof i&&!isNaN(i))return getDotValue(obj[fieldParts[0]][i],fieldParts.slice(2));for(objs=new Array,i=0;i<obj[fieldParts[0]].length;i+=1)objs.push(getDotValue(obj[fieldParts[0]][i],fieldParts.slice(1)));return objs}return getDotValue(obj[fieldParts[0]],fieldParts.slice(1))}}function areThingsEqual(a,b){var aKeys,bKeys,i;if(null===a||"string"==typeof a||"boolean"==typeof a||"number"==typeof a||null===b||"string"==typeof b||"boolean"==typeof b||"number"==typeof b)return a===b;if(util.isDate(a)||util.isDate(b))return util.isDate(a)&&util.isDate(b)&&a.getTime()===b.getTime();if(util.isArray(a)||util.isArray(b)||void 0===a||void 0===b)return!1;try{aKeys=Object.keys(a),bKeys=Object.keys(b)}catch(e){return!1}if(aKeys.length!==bKeys.length)return!1;for(i=0;i<aKeys.length;i+=1){if(-1===bKeys.indexOf(aKeys[i]))return!1;if(!areThingsEqual(a[aKeys[i]],b[aKeys[i]]))return!1}return!0}function areComparable(a,b){return"string"==typeof a||"number"==typeof a||util.isDate(a)||"string"==typeof b||"number"==typeof b||util.isDate(b)?typeof a!=typeof b?!1:!0:!1}function match(obj,query){var queryKeys,queryKey,queryValue,i;if(isPrimitiveType(obj)||isPrimitiveType(query))return matchQueryPart({needAKey:obj},"needAKey",query);for(queryKeys=Object.keys(query),i=0;i<queryKeys.length;i+=1)if(queryKey=queryKeys[i],queryValue=query[queryKey],"$"===queryKey[0]){if(!logicalOperators[queryKey])throw"Unknown logical operator "+queryKey;if(!logicalOperators[queryKey](obj,queryValue))return!1}else if(!matchQueryPart(obj,queryKey,queryValue))return!1;return!0}function matchQueryPart(obj,queryKey,queryValue,treatObjAsValue){var i,keys,firstChars,dollarFirstChars,objValue=getDotValue(obj,queryKey);if(util.isArray(objValue)&&!treatObjAsValue){if(null!==queryValue&&"object"==typeof queryValue&&!util.isRegExp(queryValue))for(keys=Object.keys(queryValue),i=0;i<keys.length;i+=1)if(arrayComparisonFunctions[keys[i]])return matchQueryPart(obj,queryKey,queryValue,!0);for(i=0;i<objValue.length;i+=1)if(matchQueryPart({k:objValue[i]},"k",queryValue))return!0;return!1}if(null!==queryValue&&"object"==typeof queryValue&&!util.isRegExp(queryValue)){if(keys=Object.keys(queryValue),firstChars=_.map(keys,function(item){return item[0]}),dollarFirstChars=_.filter(firstChars,function(c){return"$"===c}),0!==dollarFirstChars.length&&dollarFirstChars.length!==firstChars.length)throw"You cannot mix operators and normal fields";if(dollarFirstChars.length>0){for(i=0;i<keys.length;i+=1){if(!comparisonFunctions[keys[i]])throw"Unknown comparison function "+keys[i];if(!comparisonFunctions[keys[i]](objValue,queryValue[keys[i]]))return!1}return!0}}return util.isRegExp(queryValue)?comparisonFunctions.$regex(objValue,queryValue):areThingsEqual(objValue,queryValue)?!0:!1}var util=require("util"),_=require("underscore"),modifierFunctions={},lastStepModifierFunctions={},comparisonFunctions={},logicalOperators={},arrayComparisonFunctions={};lastStepModifierFunctions.$set=function(obj,field,value){obj[field]=value},lastStepModifierFunctions.$unset=function(obj,field,value){delete obj[field]},lastStepModifierFunctions.$push=function(obj,field,value){if(obj.hasOwnProperty(field)||(obj[field]=[]),!util.isArray(obj[field]))throw"Can't $push an element on non-array values";if(null!==value&&"object"==typeof value&&value.$each){if(Object.keys(value).length>1)throw"Can't use another field in conjunction with $each";if(!util.isArray(value.$each))throw"$each requires an array value";value.$each.forEach(function(v){obj[field].push(v)})}else obj[field].push(value)},lastStepModifierFunctions.$addToSet=function(obj,field,value){var addToSet=!0;if(obj.hasOwnProperty(field)||(obj[field]=[]),!util.isArray(obj[field]))throw"Can't $addToSet an element on non-array values";if(null!==value&&"object"==typeof value&&value.$each){if(Object.keys(value).length>1)throw"Can't use another field in conjunction with $each";if(!util.isArray(value.$each))throw"$each requires an array value";value.$each.forEach(function(v){lastStepModifierFunctions.$addToSet(obj,field,v)})}else obj[field].forEach(function(v){0===compareThings(v,value)&&(addToSet=!1)}),addToSet&&obj[field].push(value)},lastStepModifierFunctions.$pop=function(obj,field,value){if(!util.isArray(obj[field]))throw"Can't $pop an element from non-array values";if("number"!=typeof value)throw value+" isn't an integer, can't use it with $pop";0!==value&&(value>0?obj[field]=obj[field].slice(0,obj[field].length-1):obj[field]=obj[field].slice(1))},lastStepModifierFunctions.$pull=function(obj,field,value){var arr,i;if(!util.isArray(obj[field]))throw"Can't $pull an element from non-array values";for(arr=obj[field],i=arr.length-1;i>=0;i-=1)match(arr[i],value)&&arr.splice(i,1)},lastStepModifierFunctions.$inc=function(obj,field,value){if("number"!=typeof value)throw value+" must be a number";if("number"!=typeof obj[field]){if(_.has(obj,field))throw"Don't use the $inc modifier on non-number fields";obj[field]=value}else obj[field]+=value},Object.keys(lastStepModifierFunctions).forEach(function(modifier){modifierFunctions[modifier]=createModifierFunction(modifier)}),comparisonFunctions.$lt=function(a,b){return areComparable(a,b)&&b>a},comparisonFunctions.$lte=function(a,b){return areComparable(a,b)&&b>=a},comparisonFunctions.$gt=function(a,b){return areComparable(a,b)&&a>b},comparisonFunctions.$gte=function(a,b){return areComparable(a,b)&&a>=b},comparisonFunctions.$ne=function(a,b){return void 0===a?!0:!areThingsEqual(a,b)},comparisonFunctions.$in=function(a,b){var i;if(!util.isArray(b))throw"$in operator called with a non-array";for(i=0;i<b.length;i+=1)if(areThingsEqual(a,b[i]))return!0;return!1},comparisonFunctions.$nin=function(a,b){if(!util.isArray(b))throw"$nin operator called with a non-array";return!comparisonFunctions.$in(a,b)},comparisonFunctions.$regex=function(a,b){if(!util.isRegExp(b))throw"$regex operator called with non regular expression";return"string"!=typeof a?!1:b.test(a)},comparisonFunctions.$exists=function(value,exists){return exists=exists||""===exists?!0:!1,void 0===value?!exists:exists},comparisonFunctions.$size=function(obj,value){if(!util.isArray(obj))return!1;if(value%1!==0)throw"$size operator called without an integer";return obj.length==value},arrayComparisonFunctions.$size=!0,logicalOperators.$or=function(obj,query){var i;if(!util.isArray(query))throw"$or operator used without an array";for(i=0;i<query.length;i+=1)if(match(obj,query[i]))return!0;return!1},logicalOperators.$and=function(obj,query){var i;if(!util.isArray(query))throw"$and operator used without an array";for(i=0;i<query.length;i+=1)if(!match(obj,query[i]))return!1;return!0},logicalOperators.$not=function(obj,query){return!match(obj,query)},logicalOperators.$where=function(obj,fn){var result;if(!_.isFunction(fn))throw"$where operator used without a function";if(result=fn.call(obj),!_.isBoolean(result))throw"$where function must return boolean";return result},module.exports.serialize=serialize,module.exports.deserialize=deserialize,module.exports.deepCopy=deepCopy,module.exports.checkObject=checkObject,module.exports.isPrimitiveType=isPrimitiveType,module.exports.modify=modify,module.exports.getDotValue=getDotValue,module.exports.match=match,module.exports.areThingsEqual=areThingsEqual,module.exports.compareThings=compareThings},{underscore:18,util:22}],16:[function(require,module,exports){(function(process){function Persistence(options){var i,j,randomString;if(this.db=options.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==options.corruptAlertThreshold?options.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw"The datafile name can't end with a ~, which is reserved for crash safe backup files";if(options.afterSerialization&&!options.beforeDeserialization)throw"Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss";if(!options.afterSerialization&&options.beforeDeserialization)throw"Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss";for(this.afterSerialization=options.afterSerialization||function(s){return s},this.beforeDeserialization=options.beforeDeserialization||function(s){return s},i=1;30>i;i+=1)for(j=0;10>j;j+=1)if(randomString=customUtils.uid(i),this.beforeDeserialization(this.afterSerialization(randomString))!==randomString)throw"beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss";this.filename&&options.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=Persistence.getNWAppFilename(options.nodeWebkitAppName,this.filename))}var storage=require("./storage"),path=require("path"),model=require("./model"),async=require("async"),customUtils=require("./customUtils"),Index=require("./indexes");Persistence.ensureDirectoryExists=function(dir,cb){var callback=cb||function(){};storage.mkdirp(dir,function(err){return callback(err)})},Persistence.getNWAppFilename=function(appName,relativeFilename){var home;switch(process.platform){case"win32":case"win64":if(home=process.env.LOCALAPPDATA||process.env.APPDATA,!home)throw"Couldn't find the base application data folder";home=path.join(home,appName);break;case"darwin":if(home=process.env.HOME,!home)throw"Couldn't find the base application data directory";home=path.join(home,"Library","Application Support",appName);break;case"linux":if(home=process.env.HOME,!home)throw"Couldn't find the base application data directory";home=path.join(home,".config",appName);break;default:throw"Can't use the Node Webkit relative path for platform "+process.platform}return path.join(home,"nedb-data",relativeFilename)},Persistence.prototype.persistCachedDatabase=function(cb){var callback=cb||function(){},toPersist="",self=this;return this.inMemoryOnly?callback(null):(this.db.getAllData().forEach(function(doc){toPersist+=self.afterSerialization(model.serialize(doc))+"\n"}),Object.keys(this.db.indexes).forEach(function(fieldName){"_id"!=fieldName&&(toPersist+=self.afterSerialization(model.serialize({$$indexCreated:{fieldName:fieldName,unique:self.db.indexes[fieldName].unique,sparse:self.db.indexes[fieldName].sparse}}))+"\n")}),void storage.crashSafeWriteFile(this.filename,toPersist,callback))},Persistence.prototype.compactDatafile=function(){this.db.executor.push({"this":this,fn:this.persistCachedDatabase,arguments:[]})},Persistence.prototype.setAutocompactionInterval=function(interval){var self=this,minInterval=5e3,realInterval=Math.max(interval||0,minInterval);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval(function(){self.compactDatafile()},realInterval)},Persistence.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},Persistence.prototype.persistNewState=function(newDocs,cb){var self=this,toPersist="",callback=cb||function(){};return self.inMemoryOnly?callback(null):(newDocs.forEach(function(doc){toPersist+=self.afterSerialization(model.serialize(doc))+"\n"}),0===toPersist.length?callback(null):void storage.appendFile(self.filename,toPersist,"utf8",function(err){return callback(err)}))},Persistence.prototype.treatRawData=function(rawData){var i,data=rawData.split("\n"),dataById={},tdata=[],indexes={},corruptItems=-1;for(i=0;i<data.length;i+=1){var doc;try{doc=model.deserialize(this.beforeDeserialization(data[i])),doc._id?doc.$$deleted===!0?delete dataById[doc._id]:dataById[doc._id]=doc:doc.$$indexCreated&&void 0!=doc.$$indexCreated.fieldName?indexes[doc.$$indexCreated.fieldName]=doc.$$indexCreated:"string"==typeof doc.$$indexRemoved&&delete indexes[doc.$$indexRemoved]}catch(e){corruptItems+=1}}if(data.length>0&&corruptItems/data.length>this.corruptAlertThreshold)throw"More than 10% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss";return Object.keys(dataById).forEach(function(k){tdata.push(dataById[k])}),{data:tdata,indexes:indexes}},Persistence.prototype.loadDatabase=function(cb){var callback=cb||function(){},self=this;return self.db.resetIndexes(),self.inMemoryOnly?callback(null):void async.waterfall([function(cb){Persistence.ensureDirectoryExists(path.dirname(self.filename),function(err){storage.ensureDatafileIntegrity(self.filename,function(err){storage.readFile(self.filename,"utf8",function(err,rawData){if(err)return cb(err);try{var treatedData=self.treatRawData(rawData)}catch(e){return cb(e)}Object.keys(treatedData.indexes).forEach(function(key){self.db.indexes[key]=new Index(treatedData.indexes[key])});try{self.db.resetIndexes(treatedData.data)}catch(e){return self.db.resetIndexes(),cb(e)}self.db.persistence.persistCachedDatabase(cb)})})})}],function(err){return err?callback(err):(self.db.executor.processBuffer(),callback(null))})},module.exports=Persistence}).call(this,require("_process"))},{"./customUtils":8,"./indexes":14,"./model":15,"./storage":9,_process:20,async:17,path:19}],17:[function(require,module,exports){(function(process){!function(){function only_once(fn){var called=!1;return function(){if(called)throw new Error("Callback was already called.");called=!0,fn.apply(root,arguments)}}var root,previous_async,async={};root=this,null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _each=function(arr,iterator){if(arr.forEach)return arr.forEach(iterator);for(var i=0;i<arr.length;i+=1)iterator(arr[i],i,arr)},_map=function(arr,iterator){if(arr.map)return arr.map(iterator);var results=[];return _each(arr,function(x,i,a){results.push(iterator(x,i,a))}),results},_reduce=function(arr,iterator,memo){return arr.reduce?arr.reduce(iterator,memo):(_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo)},_keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys};"undefined"!=typeof process&&process.nextTick?(async.nextTick=process.nextTick,"undefined"!=typeof setImmediate?async.setImmediate=function(fn){setImmediate(fn)}:async.setImmediate=async.nextTick):"function"==typeof setImmediate?(async.nextTick=function(fn){setImmediate(fn)},async.setImmediate=async.nextTick):(async.nextTick=function(fn){setTimeout(fn,0)},async.setImmediate=async.nextTick),async.each=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0;_each(arr,function(x){iterator(x,only_once(function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length&&callback(null))}))})},async.forEach=async.each,async.eachSeries=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0,iterate=function(){iterator(arr[completed],function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length?callback(null):iterate())})};iterate()},async.forEachSeries=async.eachSeries,async.eachLimit=function(arr,limit,iterator,callback){var fn=_eachLimit(limit);fn.apply(null,[arr,iterator,callback])},async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){if(callback=callback||function(){},!arr.length||0>=limit)return callback();var completed=0,started=0,running=0;!function replenish(){if(completed>=arr.length)return callback();for(;limit>running&&started<arr.length;)started+=1,running+=1,iterator(arr[started-1],function(err){err?(callback(err),callback=function(){}):(completed+=1,running-=1,completed>=arr.length?callback():replenish())})}()}},doParallel=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.each].concat(args))}},doParallelLimit=function(limit,fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}},doSeries=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.eachSeries].concat(args))}},_asyncMap=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v,callback(err)})},function(err){callback(err,results)})};async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})},async.inject=async.reduce,async.foldl=async.reduce,async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse();async.reduce(reversed,memo,iterator,callback)},async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v&&results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter),async.filterSeries=doSeries(_filter),async.select=async.filter,async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v||results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject),async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){result?(main_callback(x),main_callback=function(){}):callback()})},function(err){main_callback()})};async.detect=doParallel(_detect),async.detectSeries=doSeries(_detect),async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v&&(main_callback(!0),main_callback=function(){}),callback()})},function(err){main_callback(!1)})},async.any=async.some,async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v||(main_callback(!1),main_callback=function(){}),callback()})},function(err){main_callback(!0)})},async.all=async.every,async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){if(err)return callback(err);var fn=function(left,right){var a=left.criteria,b=right.criteria;return b>a?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))})},async.auto=function(tasks,callback){callback=callback||function(){};var keys=_keys(tasks);if(!keys.length)return callback(null);var results={},listeners=[],addListener=function(fn){listeners.unshift(fn)},removeListener=function(fn){for(var i=0;i<listeners.length;i+=1)if(listeners[i]===fn)return void listeners.splice(i,1)},taskComplete=function(){_each(listeners.slice(0),function(fn){fn()})};addListener(function(){_keys(results).length===keys.length&&(callback(null,results),callback=function(){})}),_each(keys,function(k){var task=tasks[k]instanceof Function?[tasks[k]]:tasks[k],taskCallback=function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1&&(args=args[0]),err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]}),safeResults[k]=args,callback(err,safeResults),callback=function(){}}else results[k]=args,async.setImmediate(taskComplete)},requires=task.slice(0,Math.abs(task.length-1))||[],ready=function(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)};if(ready())task[task.length-1](taskCallback,results);else{var listener=function(){ready()&&(removeListener(listener),task[task.length-1](taskCallback,results))};addListener(listener)}})},async.waterfall=function(tasks,callback){if(callback=callback||function(){},tasks.constructor!==Array){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length)return callback();var wrapIterator=function(iterator){return function(err){if(err)callback.apply(null,arguments),callback=function(){};else{var args=Array.prototype.slice.call(arguments,1),next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),async.setImmediate(function(){iterator.apply(null,args)})}}};wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)eachfn.map(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each},tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)},async.series=function(tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)async.mapSeries(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}},async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()};return fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null},fn};return makeCallback(0)},async.apply=function(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(null,args.concat(Array.prototype.slice.call(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]),cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat),async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){test()?iterator(function(err){return err?callback(err):void async.whilst(test,iterator,callback)}):callback()},async.doWhilst=function(iterator,test,callback){iterator(function(err){return err?callback(err):void(test()?async.doWhilst(iterator,test,callback):callback())})},async.until=function(test,iterator,callback){test()?callback():iterator(function(err){return err?callback(err):void async.until(test,iterator,callback)})},async.doUntil=function(iterator,test,callback){iterator(function(err){return err?callback(err):void(test()?callback():async.doUntil(iterator,test,callback))})},async.queue=function(worker,concurrency){function _insert(q,data,pos,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){var item={data:task,callback:"function"==typeof callback?callback:null};pos?q.tasks.unshift(item):q.tasks.push(item),q.saturated&&q.tasks.length===concurrency&&q.saturated(),async.setImmediate(q.process)})}void 0===concurrency&&(concurrency=1);var workers=0,q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,push:function(data,callback){_insert(q,data,!1,callback)},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){if(workers<q.concurrency&&q.tasks.length){var task=q.tasks.shift();q.empty&&0===q.tasks.length&&q.empty(),workers+=1;var next=function(){workers-=1,task.callback&&task.callback.apply(task,arguments),q.drain&&q.tasks.length+workers===0&&q.drain(),q.process()},cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers}};return q},async.cargo=function(worker,payload){var working=!1,tasks=[],cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,push:function(data,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){tasks.push({data:task,callback:"function"==typeof callback?callback:null}),cargo.saturated&&tasks.length===payload&&cargo.saturated()}),async.setImmediate(cargo.process)},process:function process(){if(!working){if(0===tasks.length)return void(cargo.drain&&cargo.drain());var ts="number"==typeof payload?tasks.splice(0,payload):tasks.splice(0),ds=_map(ts,function(task){return task.data});cargo.empty&&cargo.empty(),working=!0,worker(ds,function(){working=!1;var args=arguments;_each(ts,function(data){data.callback&&data.callback.apply(null,args)}),process()})}},length:function(){return tasks.length},running:function(){return working}};return cargo};var _console_fn=function(name){return function(fn){var args=Array.prototype.slice.call(arguments,1);fn.apply(null,args.concat([function(err){var args=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(err?console.error&&console.error(err):console[name]&&_each(args,function(x){console[name](x)}))}]))}};async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=Array.prototype.slice.call(arguments),callback=args.pop(),key=hasher.apply(null,args);key in memo?callback.apply(null,memo[key]):key in queues?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([function(){memo[key]=arguments;var q=queues[key];delete queues[key];for(var i=0,l=q.length;l>i;i++)q[i].apply(null,arguments)}])))};return memoized.memo=memo,
memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.map(counter,iterator,callback)},async.timesSeries=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.mapSeries(counter,iterator,callback)},async.compose=function(){var fns=Array.prototype.reverse.call(arguments);return function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0],nextargs=Array.prototype.slice.call(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};var _applyEach=function(eachfn,fns){var go=function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return go.apply(this,args)}return go};async.applyEach=doParallel(_applyEach),async.applyEachSeries=doSeries(_applyEach),async.forever=function(fn,callback){function next(err){if(err){if(callback)return callback(err);throw err}fn(next)}next()},"undefined"!=typeof define&&define.amd?define([],function(){return async}):"undefined"!=typeof module&&module.exports?module.exports=async:root.async=async}()}).call(this,require("_process"))},{_process:20}],18:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],19:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;length>i;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return 0>start&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:20}],20:[function(require,module,exports){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],21:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],22:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":21,_process:20,inherits:6}],23:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _index=require("../../node_modules/nedb/index.js"),_index2=_interopRequireDefault(_index),db={};db.songs=new _index2["default"]({filename:"database/caros_songs.db"}),db.artists=new _index2["default"]({filename:"database/caros_artists.db"}),db.albums=new _index2["default"]({filename:"database/caros_albums.db"}),db.songs.loadDatabase(),db.artists.loadDatabase(),db.albums.loadDatabase(),module.exports={add_music:function(data,callback){console.log("Adding: "+data.path),data.artist?!function(){var song={title:data.title,path:data.path,number:data.tracknum,duration:data.duration},artist={name:data.artist},album={title:data.album,image:data.image};db.songs.update({title:song.title},{title:song.title,path:song.path,number:data.tracknum,duration:song.duration},{upsert:!0},function(err,num,songDoc){err&&console.error(err),song._id=songDoc._id,db.artists.update({name:artist.name},{name:artist.name},{upsert:!0},function(err,num,artistDoc){err&&console.error(err),artist._id=artistDoc._id,db.albums.update({title:album.title},{title:album.title,artist:artist._id,image:album.image},{upsert:!0},function(err,num,albumDoc){err&&console.error(err),album._id=albumDoc._id,db.songs.update({_id:song._id},{title:song.title,artist:artist._id,album:album._id,path:song.path,number:data.tracknum,duration:song.duration}),db.artists.update({_id:artist._id},{$addToSet:{songs:song._id,albums:album._id}}),db.albums.update({_id:album._id},{$addToSet:{songs:song._id}}),setTimeout(function(){callback()},300)})})})}():data.title&&!data.artist&&db.songs.update({title:data.title},{title:data.title,path:data.path},{upsert:!0},function(err,num,doc){err&&console.error(err)})},get_songs:function(callback){db.songs.find({}).sort({title:1}).exec(function(err,docs){err&&console.error(err);var songs=docs.sort();db.artists.find({}).sort({name:1}).exec(function(err,docs){err&&console.error(err);var artists=docs.sort();db.albums.find({}).sort({title:1}).exec(function(err,docs){err&&console.error(err);var albums=docs.sort();callback({artists:artists,albums:albums,songs:songs})})})})},print_songs:function(){db.artists.find({},function(err,docs){err&&console.error(err),console.log(docs)}),db.albums.find({},function(err,docs){err&&console.error(err),console.log(docs)}),db.songs.find({},function(err,docs){err&&console.error(err),console.log(docs)})},print_one_song:function(title){db.songs.findOne({title:title},function(err,doc){console.log(doc)})},drop_dbs:function(){db.artists.remove({},{multi:!0}),db.albums.remove({},{multi:!0}),db.songs.remove({},{multi:!0})}}},{"../../node_modules/nedb/index.js":10}],24:[function(require,module,exports){"use strict";var musicScroller,app=(require("./database.js"),angular.module("CarOS",[]));app.controller("MainController",["$scope","$interval",function($scope,$interval){$scope.mainwindow="main-menu",$scope.windowStack=["main-menu"],$scope.time=moment().format("h:mm a"),$scope.date=moment().format("ddd - MMM Do"),$scope.yoscroll=!1,$scope.goBack=function(){$scope.windowStack.pop(),$scope.mainwindow=$scope.windowStack[$scope.windowStack.length-1]},$interval(function(){$scope.time=moment().format("h:mm a")},1e3),$interval(function(){$scope.date=moment().format("MM/dd")},432e5),$scope.navigate=function(context){$scope.mainwindow=context}}]),app.controller("MainMenu",["$scope",function($scope){}]),app.controller("Music",["$scope","$filter","$timeout","$http","MusicService",function($scope,$filter,$timeout,$http,MusicService){$scope.songs=[],$scope.artists=[],$scope.albums=[],$scope.playing=!1,$scope.active={sideBar:"",listView:"",song:""},$scope.currentArtist={artist:null,songs:[]},$http({method:"GET",url:"/demo/get_songs"}).then(function(res){$scope.artists=res.data.artists,$scope.albums=res.data.albums,$scope.songs=res.data.songs}),$scope.$watch(function(){return MusicService.currentSong},function(song){$scope.currentSong=song}),$scope.$watch(function(){return MusicService.currentAlbum},function(album){$scope.currentAlbum=album}),$scope.context="",$scope.changeContext=function(ctxt,index){$scope.context=ctxt,$scope.currentArtist={artist:null,albums:[],songs:[]},$scope.currentAlbum={}},$scope.showAlbums=function(artist,index){$scope.currentArtist={artist:artist,songs:[],albums:[]},$scope.albums.forEach(function(a){artist.albums.forEach(function(al){a._id===al&&!function(){var newAlbum={title:a.title,image:a.image,songs:[]};a.songs.forEach(function(so){$scope.songs.forEach(function(s){so===s._id&&newAlbum.songs.push(s)})}),$scope.currentArtist.albums.push(newAlbum)}()})})},$scope.showSongs=function(album,index){$scope.currentAlbum={title:album.title,artist:null,image:album.image,songs:[]},$scope.artists.forEach(function(a){a._id===album.artist&&($scope.currentAlbum.artist=a,$scope.currentArtist.artist=a)}),$scope.songs.forEach(function(s){album.songs.forEach(function(so){s._id===so&&$scope.currentAlbum.songs.push(s)})})},$scope.getArtist=function(artist){var name="";return $scope.artists.forEach(function(a){a._id===artist&&(name=a.name)}),name},$scope.playSong=function(song,songlist,album){songlist||(songlist=$scope.songs),$scope.currentArtist.artist||$scope.artists.forEach(function(ar){ar._id===song.artist&&($scope.currentArtist.artist=ar)}),"number"==typeof album?$scope.albums.forEach(function(al){al._id===album&&MusicService.playSong(song,songlist,$scope.currentArtist,al)}):MusicService.playSong(song,songlist,$scope.currentArtist,album)},$scope.queueSong=function(song){MusicService.queueSong(song)},$scope.$watch(function(){return MusicService.songlist},function(list){list.length>0?$scope.playing=!0:$scope.playing=!1,$scope.songlist=angular.copy(list)},!0)}]),app.controller("Settings",["$scope",function($scope){$scope.settings={},$scope.refreshMusic=function(){}}]),app.controller("Player",["$scope","$interval","MusicService",function($scope,$interval,MusicService){var timer=(MusicService.songlist,void 0);$scope.duration=0,$scope.playlist=[],$scope.scrubber={},$scope.scrubber.value="0",$scope.playing=!1,$scope.songlist=[],$scope.$watch(function(){return MusicService.duration},function(dur){$scope.duration=Math.round(dur),dur>1&&(timer=$interval(function(){$scope.scrubber.value=Math.floor(MusicService.player.currentTime)},1e3))},!0),$scope.$watch(function(){return MusicService.paused},function(paused){$scope.paused=paused}),$scope.$watch(function(){return MusicService.songlist},function(list){list.length>0?$scope.playing=!0:$scope.playing=!1,$scope.songlist=angular.copy(list)},!0),$scope.$watch(function(){return MusicService.currentSong},function(song){$scope.currentSong=song}),$scope.$watch(function(){return MusicService.currentArtist},function(artist){$scope.currentArtist=artist}),$scope.$watch(function(){return MusicService.currentAlbum},function(album){$scope.currentAlbum=album}),$scope.scrubberWidth=function(){return $scope.duration>1?{width:$scope.scrubber.value/$scope.duration*100+"%"}:void 0},$scope.showFullPlayer=function(){$("#player").animate({bottom:""})},$scope.seek=function(seekTo){MusicService.seek(seekTo)},$scope.playPause=function(){$scope.paused?(MusicService.play(),timer=$interval(function(){$scope.scrubber.value=Math.floor(MusicService.player.currentTime)},1e3)):(MusicService.pause(),$interval.cancel(timer))},$scope.fastForward=function(){MusicService.fastForward($scope.currentSong.number)},$scope.rewind=function(){MusicService.rewind($scope.currentSong.number)},$scope.prevSong=function(){MusicService.prevSong($scope.currentSong.number)}}]),app.factory("MusicService",function(){return{songlist:[],player:new Audio,duration:1,paused:!1,playing:!1,currentSong:{},currentArtist:{},currentAlbum:{},getDuration:function(){return this.duration},playSong:function(song,songlist,currentArtist,currentAlbum){this.songlist=songlist.songs,this.currentSong=song,currentAlbum?this.currentAlbum=currentAlbum:songlist&&songlist.image&&(this.currentAlbum=songlist),currentArtist&&(this.currentArtist=currentArtist),this.addEvent(),this.play(song.path.replace(/\#/gi,"%23")),this.playing=!0},getCurrentTime:function(){return this.player.currentTime},play:function(path){path&&(this.player.src=path),this.player.play(),this.paused=!1,this.playing=!0,setTimeout(function(){var scrollerHeight=$(musicScroller.contentContainerNode).height(),scrollerWidth=$(musicScroller.contentContainerNode).width();musicScroller.updateDimensions(scrollerWidth,scrollerHeight+100,!0)},100);var that=this;this.player.onended=function(){if(that.songlist.length>0){var index=that.songlist.indexOf(that.currentSong)+1,song=that.songlist[index];that.currentSong=song,that.player.src=song.path,that.player.play()}}},pause:function(){this.player.pause(),this.paused=!0},seek:function(seekTo){this.player.currentTime=seekTo},fastForward:function(index){var song=this.songlist[index];this.playSong(song)},rewind:function(index){var song=this.songlist[index-1];this.playSong(song)},prevSong:function(index){var song=this.songlist[index-2];this.playSong(song)},addEvent:function(){var _this=this;this.player.addEventListener("loadedmetadata",function(){_this.duration=_this.player.duration})}}}),app.filter("timecode",function(){return function(input){var min=Math.floor(input/60)<10?"0"+Math.floor(input/60):Math.floor(input/60),seconds=Math.floor(input%60)<10?"0"+Math.floor(input%60):Math.floor(input%60);return min+":"+seconds}})},{"./database.js":23}]},{},[24]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLDEsIm1vZHVsZSIsIkJpbmFyeVNlYXJjaFRyZWUiLCJBVkxUcmVlIiwiLi9saWIvYXZsdHJlZSIsIi4vbGliL2JzdCIsMiwib3B0aW9ucyIsInRoaXMiLCJ0cmVlIiwiX0FWTFRyZWUiLCJsZWZ0IiwicmlnaHQiLCJwYXJlbnQiLCJ1bmRlZmluZWQiLCJoYXNPd25Qcm9wZXJ0eSIsImtleSIsImRhdGEiLCJ2YWx1ZSIsInVuaXF1ZSIsImNvbXBhcmVLZXlzIiwiY3VzdG9tVXRpbHMiLCJkZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbiIsImNoZWNrVmFsdWVFcXVhbGl0eSIsImRlZmF1bHRDaGVja1ZhbHVlRXF1YWxpdHkiLCJ1dGlsIiwiaW5oZXJpdHMiLCJwcm90b3R5cGUiLCJjaGVja0hlaWdodENvcnJlY3QiLCJsZWZ0SCIsInJpZ2h0SCIsImhlaWdodCIsIk1hdGgiLCJtYXgiLCJiYWxhbmNlRmFjdG9yIiwiY2hlY2tCYWxhbmNlRmFjdG9ycyIsImFicyIsImNoZWNrSXNBVkxUIiwic3VwZXJfIiwiY2hlY2tJc0JTVCIsInJpZ2h0Um90YXRpb24iLCJiIiwiYWgiLCJiaCIsImNoIiwicSIsInAiLCJsZWZ0Um90YXRpb24iLCJyaWdodFRvb1NtYWxsIiwibGVmdFRvb1NtYWxsIiwicmViYWxhbmNlQWxvbmdQYXRoIiwicGF0aCIsInJvdGF0ZWQiLCJuZXdSb290IiwiaW5zZXJ0IiwiaW5zZXJ0UGF0aCIsImN1cnJlbnROb2RlIiwicHVzaCIsIm1lc3NhZ2UiLCJlcnJvclR5cGUiLCJjcmVhdGVMZWZ0Q2hpbGQiLCJjcmVhdGVSaWdodENoaWxkIiwibmV3VHJlZSIsInJlcGxhY2VXaXRoIiwibmV3RGF0YSIsImRlbGV0ZVBhdGgiLCJmb3JFYWNoIiwiZCIsImZuIiwiYXBwbHkiLCJhcmd1bWVudHMiLCIuL2JzdCIsIi4vY3VzdG9tVXRpbHMiLCJ1bmRlcnNjb3JlIiwzLCJhcHBlbmQiLCJhcnJheSIsInRvQXBwZW5kIiwiZ2V0TWF4S2V5RGVzY2VuZGFudCIsImdldE1heEtleSIsImdldE1pbktleURlc2NlbmRhbnQiLCJnZXRNaW5LZXkiLCJjaGVja0FsbE5vZGVzRnVsbGZpbGxDb25kaXRpb24iLCJ0ZXN0IiwiY2hlY2tOb2RlT3JkZXJpbmciLCJzZWxmIiwiayIsImNoZWNrSW50ZXJuYWxQb2ludGVycyIsImdldE51bWJlck9mS2V5cyIsInJlcyIsImNyZWF0ZVNpbWlsYXIiLCJjb25zdHJ1Y3RvciIsImxlZnRDaGlsZCIsInJpZ2h0Q2hpbGQiLCJzZWFyY2giLCJnZXRMb3dlckJvdW5kTWF0Y2hlciIsInF1ZXJ5IiwiJGd0ZSIsIiRndCIsImdldFVwcGVyQm91bmRNYXRjaGVyIiwiJGx0ZSIsIiRsdCIsImJldHdlZW5Cb3VuZHMiLCJsYm0iLCJ1Ym0iLCJkZWxldGVJZkxlYWYiLCJkZWxldGVJZk9ubHlPbmVDaGlsZCIsImNoaWxkIiwicmFuZG9tIiwiZXhlY3V0ZU9uRXZlcnlOb2RlIiwicHJldHR5UHJpbnQiLCJwcmludERhdGEiLCJzcGFjaW5nIiwiY29uc29sZSIsImxvZyIsNCwiZ2V0UmFuZG9tQXJyYXkiLCJuZXh0IiwiZmxvb3IiLCJzcGxpY2UiLDUsInJvb3QiLCJwcmV2aW91c1VuZGVyc2NvcmUiLCJfIiwiYnJlYWtlciIsIkFycmF5UHJvdG8iLCJBcnJheSIsIk9ialByb3RvIiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJzbGljZSIsImNvbmNhdCIsInRvU3RyaW5nIiwibmF0aXZlRm9yRWFjaCIsIm5hdGl2ZU1hcCIsIm1hcCIsIm5hdGl2ZVJlZHVjZSIsInJlZHVjZSIsIm5hdGl2ZVJlZHVjZVJpZ2h0IiwicmVkdWNlUmlnaHQiLCJuYXRpdmVGaWx0ZXIiLCJmaWx0ZXIiLCJuYXRpdmVFdmVyeSIsImV2ZXJ5IiwibmF0aXZlU29tZSIsInNvbWUiLCJuYXRpdmVJbmRleE9mIiwiaW5kZXhPZiIsIm5hdGl2ZUxhc3RJbmRleE9mIiwibGFzdEluZGV4T2YiLCJuYXRpdmVJc0FycmF5IiwiaXNBcnJheSIsIm5hdGl2ZUtleXMiLCJrZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJvYmoiLCJfd3JhcHBlZCIsIlZFUlNJT04iLCJlYWNoIiwiaXRlcmF0b3IiLCJjb250ZXh0IiwiaGFzIiwiY29sbGVjdCIsInJlc3VsdHMiLCJpbmRleCIsImxpc3QiLCJyZWR1Y2VFcnJvciIsImZvbGRsIiwiaW5qZWN0IiwibWVtbyIsImluaXRpYWwiLCJUeXBlRXJyb3IiLCJmb2xkciIsImZpbmQiLCJkZXRlY3QiLCJyZXN1bHQiLCJhbnkiLCJzZWxlY3QiLCJyZWplY3QiLCJhbGwiLCJpZGVudGl0eSIsImNvbnRhaW5zIiwiaW5jbHVkZSIsInRhcmdldCIsImludm9rZSIsIm1ldGhvZCIsImFyZ3MiLCJpc0Z1bmMiLCJpc0Z1bmN0aW9uIiwicGx1Y2siLCJ3aGVyZSIsImF0dHJzIiwiZmlyc3QiLCJpc0VtcHR5IiwiZmluZFdoZXJlIiwiSW5maW5pdHkiLCJjb21wdXRlZCIsIm1pbiIsInNodWZmbGUiLCJyYW5kIiwic2h1ZmZsZWQiLCJsb29rdXBJdGVyYXRvciIsInNvcnRCeSIsImNyaXRlcmlhIiwic29ydCIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiY291bnRCeSIsInNvcnRlZEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsInRvQXJyYXkiLCJ2YWx1ZXMiLCJzaXplIiwiaGVhZCIsInRha2UiLCJndWFyZCIsImxhc3QiLCJyZXN0IiwidGFpbCIsImRyb3AiLCJjb21wYWN0IiwiZmxhdHRlbiIsImlucHV0Iiwic2hhbGxvdyIsIm91dHB1dCIsIndpdGhvdXQiLCJkaWZmZXJlbmNlIiwidW5pcSIsImlzU29ydGVkIiwic2VlbiIsInVuaW9uIiwiaW50ZXJzZWN0aW9uIiwiaXRlbSIsIm90aGVyIiwiemlwIiwib2JqZWN0IiwiZnJvbSIsImhhc0luZGV4IiwicmFuZ2UiLCJzdGFydCIsInN0b3AiLCJzdGVwIiwibGVuIiwiY2VpbCIsImlkeCIsImZ1bmMiLCJwYXJ0aWFsIiwiYmluZEFsbCIsImZ1bmNzIiwiZnVuY3Rpb25zIiwibWVtb2l6ZSIsImhhc2hlciIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwidGltZW91dCIsInByZXZpb3VzIiwibGF0ZXIiLCJEYXRlIiwibm93IiwicmVtYWluaW5nIiwiY2xlYXJUaW1lb3V0IiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJjYWxsTm93Iiwib25jZSIsInJhbiIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJwYWlycyIsImludmVydCIsIm1ldGhvZHMiLCJuYW1lcyIsImV4dGVuZCIsInNvdXJjZSIsInByb3AiLCJwaWNrIiwiY29weSIsIm9taXQiLCJkZWZhdWx0cyIsImNsb25lIiwiaXNPYmplY3QiLCJ0YXAiLCJpbnRlcmNlcHRvciIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiU3RyaW5nIiwiZ2xvYmFsIiwibXVsdGlsaW5lIiwiaWdub3JlQ2FzZSIsImFDdG9yIiwiYkN0b3IiLCJwb3AiLCJpc0VxdWFsIiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsIm5hbWUiLCJpc0FyZ3VtZW50cyIsImlzRmluaXRlIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc0Jvb2xlYW4iLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJhY2N1bSIsImVudGl0eU1hcCIsImVzY2FwZSIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsIi8iLCJ1bmVzY2FwZSIsImVudGl0eVJlZ2V4ZXMiLCJSZWdFeHAiLCJqb2luIiwic3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoIiwicHJvcGVydHkiLCJtaXhpbiIsImlkQ291bnRlciIsInVuaXF1ZUlkIiwicHJlZml4IiwiaWQiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsIm5vTWF0Y2giLCJlc2NhcGVzIiwiXFwiLCJcciIsIlxuIiwiXHQiLCLigKgiLCLigKkiLCJlc2NhcGVyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJyZW5kZXIiLCJtYXRjaGVyIiwib2Zmc2V0IiwidmFyaWFibGUiLCJjaGFpbiIsIl9jaGFpbiIsNiwiY3JlYXRlIiwiY3RvciIsInN1cGVyQ3RvciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiw3LCJwcm9jZXNzIiwiZGVmaW5lIiwicmVxdWlyZU1vZHVsZSIsInJlcXVpcmVqcyIsInJlZ2lzdHJ5IiwiZGVwcyIsImNhbGxiYWNrIiwicmVzb2x2ZSIsImNoYXJBdCIsInBhcnRzIiwic3BsaXQiLCJwYXJlbnRCYXNlIiwicGFydCIsIl9lYWtfc2VlbiIsIm1vZCIsInJlaWZpZWQiLCJfX2RlcGVuZGVuY3kxX18iLCJfX2V4cG9ydHNfXyIsInByb21pc2VzIiwiUHJvbWlzZSIsInJlc29sdmVyIiwicmVzb2x2ZUFsbCIsInByb21pc2UiLCJ0aGVuIiwidXNlTmV4dFRpY2siLCJuZXh0VGljayIsImZsdXNoIiwidXNlTXV0YXRpb25PYnNlcnZlciIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsIkJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInVzZVNldFRpbWVvdXQiLCJsb2NhbCIsInF1ZXVlIiwidHVwbGUiLCJhcmciLCJhc2FwIiwic2NoZWR1bGVGbHVzaCIsImJyb3dzZXJHbG9iYWwiLCJ3aW5kb3ciLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImNvbmZpZ3VyZSIsImNvbmZpZyIsImluc3RydW1lbnQiLCJfX2RlcGVuZGVuY3kyX18iLCJwb2x5ZmlsbCIsImVzNlByb21pc2VTdXBwb3J0IiwiUlNWUFByb21pc2UiLCJfX2RlcGVuZGVuY3kzX18iLCJfX2RlcGVuZGVuY3k0X18iLCJfX2RlcGVuZGVuY3k1X18iLCJfX2RlcGVuZGVuY3k2X18iLCJfX2RlcGVuZGVuY3k3X18iLCJfc3Vic2NyaWJlcnMiLCJpbnZva2VSZXNvbHZlciIsInJlc29sdmVQcm9taXNlIiwicmVqZWN0UHJvbWlzZSIsInJlYXNvbiIsImludm9rZUNhbGxiYWNrIiwic2V0dGxlZCIsImRldGFpbCIsImVycm9yIiwic3VjY2VlZGVkIiwiZmFpbGVkIiwiaGFzQ2FsbGJhY2siLCJoYW5kbGVUaGVuYWJsZSIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwic3Vic2NyaWJlIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwic3Vic2NyaWJlcnMiLCJwdWJsaXNoIiwiX2RldGFpbCIsInJlc29sdmVkIiwib2JqZWN0T3JGdW5jdGlvbiIsInZhbCIsImZ1bGZpbGwiLCJfc3RhdGUiLCJQRU5ESU5HIiwiU0VBTEVEIiwiYXN5bmMiLCJwdWJsaXNoRnVsZmlsbG1lbnQiLCJwdWJsaXNoUmVqZWN0aW9uIiwicmFjZSIsInN0YXRpY1Jlc29sdmUiLCJzdGF0aWNSZWplY3QiLCJ0aGVuUHJvbWlzZSIsImNhbGxiYWNrcyIsImNhdGNoIiwieCIsImdldFRpbWUiLCJmYWN0b3J5IiwiYW1kIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJsb2FkZWQiLCJtIiwiYyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfX2VzTW9kdWxlIiwiY2FsbFdoZW5SZWFkeSIsImxvY2FsRm9yYWdlSW5zdGFuY2UiLCJsaWJyYXJ5TWV0aG9kIiwiX2FyZ3MiLCJyZWFkeSIsImlzTGlicmFyeURyaXZlciIsImRyaXZlck5hbWUiLCJkcml2ZXIiLCJEcml2ZXJUeXBlIiwiQ3VzdG9tRHJpdmVycyIsIklOREVYRUREQiIsIkxPQ0FMU1RPUkFHRSIsIldFQlNRTCIsIkRlZmF1bHREcml2ZXJPcmRlciIsIkxpYnJhcnlNZXRob2RzIiwiRGVmYXVsdENvbmZpZyIsImRlc2NyaXB0aW9uIiwic3RvcmVOYW1lIiwidmVyc2lvbiIsImRyaXZlclN1cHBvcnQiLCJpbmRleGVkREIiLCJ3ZWJraXRJbmRleGVkREIiLCJtb3pJbmRleGVkREIiLCJPSW5kZXhlZERCIiwibXNJbmRleGVkREIiLCJvcGVuRGF0YWJhc2UiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJvcGVuIiwiSURCS2V5UmFuZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiTG9jYWxGb3JhZ2UiLCJfZGVmYXVsdENvbmZpZyIsIl9jb25maWciLCJfZHJpdmVyU2V0IiwiX2luaXREcml2ZXIiLCJfcmVhZHkiLCJfZGJJbmZvIiwiX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSIsInNldERyaXZlciIsImRlZmluZURyaXZlciIsImRyaXZlck9iamVjdCIsImVycm9yQ2FsbGJhY2siLCJfZHJpdmVyIiwiY29tcGxpYW5jZUVycm9yIiwibmFtaW5nRXJyb3IiLCJjdXN0b21Ecml2ZXJNZXRob2RzIiwiY3VzdG9tRHJpdmVyTWV0aG9kIiwic3VwcG9ydFByb21pc2UiLCJfc3VwcG9ydCIsInN1cHBvcnRSZXN1bHQiLCJnZXREcml2ZXIiLCJnZXREcml2ZXJQcm9taXNlIiwiZ2V0U2VyaWFsaXplciIsInNlcmlhbGl6ZXJQcm9taXNlIiwiZHJpdmVycyIsInNldERyaXZlclRvQ29uZmlnIiwiaW5pdERyaXZlciIsInN1cHBvcnRlZERyaXZlcnMiLCJkcml2ZXJQcm9taXNlTG9vcCIsImN1cnJlbnREcml2ZXJJbmRleCIsIl9leHRlbmQiLCJfaW5pdFN0b3JhZ2UiLCJfZ2V0U3VwcG9ydGVkRHJpdmVycyIsIm9sZERyaXZlclNldERvbmUiLCJzdXBwb3J0cyIsImxpYnJhcnlNZXRob2RzQW5kUHJvcGVydGllcyIsImNyZWF0ZUluc3RhbmNlIiwibG9jYWxGb3JhZ2UiLCJfY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJCbG9iIiwiQmxvYkJ1aWxkZXIiLCJnbG9iYWxPYmplY3QiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImJ1aWxkZXIiLCJnZXRCbG9iIiwidHlwZSIsIl9iaW5TdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJhcnIiLCJVaW50OEFycmF5IiwiY2hhckNvZGVBdCIsIl9ibG9iQWpheCIsInVybCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJzZW5kIiwiX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyIsImlkYiIsImJsb2IiLCJ0eG4iLCJ0cmFuc2FjdGlvbiIsIkRFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUiLCJvYmplY3RTdG9yZSIsInB1dCIsIm9uY29tcGxldGUiLCJibG9iVHhuIiwiZ2V0QmxvYlJlcSIsImdldCIsIm9uZXJyb3IiLCJvbnN1Y2Nlc3MiLCJzdG9yZWRCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiX2NoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0Jsb2JzIiwiX2VuY29kZUJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkZW5kIiwiYmFzZTY0IiwiYnRvYSIsIl9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYiIsInJlYWRBc0JpbmFyeVN0cmluZyIsIl9kZWNvZGVCbG9iIiwiZW5jb2RlZEJsb2IiLCJhcnJheUJ1ZmYiLCJhdG9iIiwiX2lzRW5jb2RlZEJsb2IiLCJpZ25vcmVFcnJvcnMiLCJkYkluZm8iLCJkYiIsImRiQ29udGV4dHMiLCJkYkNvbnRleHQiLCJmb3JhZ2VzIiwicmVhZHlQcm9taXNlcyIsImoiLCJmb3JhZ2UiLCJfZ2V0T3JpZ2luYWxDb25uZWN0aW9uIiwiX2lzVXBncmFkZU5lZWRlZCIsIl9nZXRVcGdyYWRlZENvbm5lY3Rpb24iLCJfZ2V0Q29ubmVjdGlvbiIsInVwZ3JhZGVOZWVkZWQiLCJjbG9zZSIsImRiQXJncyIsIm9wZW5yZXEiLCJvbnVwZ3JhZGVuZWVkZWQiLCJjcmVhdGVPYmplY3RTdG9yZSIsIm9sZFZlcnNpb24iLCJleCIsIndhcm4iLCJuZXdWZXJzaW9uIiwiZGVmYXVsdFZlcnNpb24iLCJpc05ld1N0b3JlIiwib2JqZWN0U3RvcmVOYW1lcyIsImlzRG93bmdyYWRlIiwiaXNVcGdyYWRlIiwiaW5jVmVyc2lvbiIsImdldEl0ZW0iLCJzdG9yZSIsInJlcSIsImV4ZWN1dGVDYWxsYmFjayIsIml0ZXJhdGUiLCJvcGVuQ3Vyc29yIiwiaXRlcmF0aW9uTnVtYmVyIiwiY3Vyc29yIiwiYmxvYlN1cHBvcnQiLCJvbmFib3J0IiwiZXJyIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiY291bnQiLCJhZHZhbmNlZCIsImFkdmFuY2UiLCJhc3luY1N0b3JhZ2UiLCJrZXlQcmVmaXgiLCJsaWIiLCJzZXJpYWxpemVyIiwiZGVzZXJpYWxpemUiLCJrZXlQcmVmaXhMZW5ndGgiLCJzdWJzdHJpbmciLCJvcmlnaW5hbFZhbHVlIiwic2VyaWFsaXplIiwibG9jYWxTdG9yYWdlV3JhcHBlciIsInZhbHVlU3RyaW5nIiwiYnVmZmVyIiwibWFya2VyIiwiU0VSSUFMSVpFRF9NQVJLRVIiLCJUWVBFX0FSUkFZQlVGRkVSIiwiVFlQRV9JTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZIiwiVFlQRV9JTlQxNkFSUkFZIiwiVFlQRV9VSU5UMTZBUlJBWSIsIlRZUEVfSU5UMzJBUlJBWSIsIlRZUEVfVUlOVDMyQVJSQVkiLCJUWVBFX0ZMT0FUMzJBUlJBWSIsIlRZUEVfRkxPQVQ2NEFSUkFZIiwiYnVmZmVyVG9TdHJpbmciLCJmaWxlUmVhZGVyIiwib25sb2FkIiwic3RyIiwiQkxPQl9UWVBFX1BSRUZJWCIsIlRZUEVfQkxPQiIsInJlYWRBc0FycmF5QnVmZmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlNFUklBTElaRURfTUFSS0VSX0xFTkdUSCIsInBhcnNlIiwiYmxvYlR5cGUiLCJzZXJpYWxpemVkU3RyaW5nIiwiVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgiLCJCTE9CX1RZUEVfUFJFRklYX1JFR0VYIiwic3RyaW5nVG9CdWZmZXIiLCJJbnQ4QXJyYXkiLCJVaW50OENsYW1wZWRBcnJheSIsIkludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsImVuY29kZWQxIiwiZW5jb2RlZDIiLCJlbmNvZGVkMyIsImVuY29kZWQ0IiwiYnVmZmVyTGVuZ3RoIiwiYnl0ZXMiLCJCQVNFX0NIQVJTIiwiYmFzZTY0U3RyaW5nIiwibG9jYWxmb3JhZ2VTZXJpYWxpemVyIiwiZGJJbmZvUHJvbWlzZSIsImV4ZWN1dGVTcWwiLCJyb3dzIiwic3FsRXJyb3IiLCJRVU9UQV9FUlIiLCJ3ZWJTUUxTdG9yYWdlIiwiX3Byb2Nlc3MiLDgsInJhbmRvbUJ5dGVzIiwiYnl0ZUFycmF5VG9CYXNlNjQiLCJ1aW50OCIsInRyaXBsZXRUb0Jhc2U2NCIsIm51bSIsImxvb2t1cCIsInRlbXAiLCJleHRyYUJ5dGVzIiwidWlkIiw5LCJleGlzdHMiLCJmaWxlbmFtZSIsImxvY2FsZm9yYWdlIiwicmVuYW1lIiwibmV3RmlsZW5hbWUiLCJ3cml0ZUZpbGUiLCJjb250ZW50cyIsImFwcGVuZEZpbGUiLCJyZWFkRmlsZSIsInVubGluayIsIm1rZGlycCIsImRpciIsImVuc3VyZURhdGFmaWxlSW50ZWdyaXR5IiwiY3Jhc2hTYWZlV3JpdGVGaWxlIiwxMCwiRGF0YXN0b3JlIiwiLi9saWIvZGF0YXN0b3JlIiwxMSwiQ3Vyc29yIiwiZXhlY0ZuIiwibW9kZWwiLCJsaW1pdCIsIl9saW1pdCIsInNraXAiLCJfc2tpcCIsInNvcnRRdWVyeSIsIl9zb3J0IiwicHJvamVjdGlvbiIsIl9wcm9qZWN0aW9uIiwicHJvamVjdCIsImNhbmRpZGF0ZXMiLCJrZWVwSWQiLCJhY3Rpb24iLCJfaWQiLCJjYW5kaWRhdGUiLCJ0b1B1c2giLCJfZXhlYyIsImdldENhbmRpZGF0ZXMiLCJhZGRlZCIsInNraXBwZWQiLCJkaXJlY3Rpb24iLCJjcml0ZXJpb24iLCJjb21wYXJlIiwiY29tcGFyZVRoaW5ncyIsImdldERvdFZhbHVlIiwiZXhlYyIsImV4ZWN1dG9yIiwiLi9tb2RlbCIsMTIsImluTWVtb3J5T25seSIsImF1dG9sb2FkIiwidGltZXN0YW1wRGF0YSIsInBlcnNpc3RlbmNlIiwiUGVyc2lzdGVuY2UiLCJub2RlV2Via2l0QXBwTmFtZSIsImFmdGVyU2VyaWFsaXphdGlvbiIsImJlZm9yZURlc2VyaWFsaXphdGlvbiIsImNvcnJ1cHRBbGVydFRocmVzaG9sZCIsIkV4ZWN1dG9yIiwiaW5kZXhlcyIsIkluZGV4IiwiZmllbGROYW1lIiwibG9hZERhdGFiYXNlIiwiZ2V0QWxsRGF0YSIsImdldEFsbCIsInJlc2V0SW5kZXhlcyIsInJlc2V0IiwiZW5zdXJlSW5kZXgiLCJjYiIsIm1pc3NpbmdGaWVsZE5hbWUiLCJwZXJzaXN0TmV3U3RhdGUiLCIkJGluZGV4Q3JlYXRlZCIsInJlbW92ZUluZGV4IiwiJCRpbmRleFJlbW92ZWQiLCJhZGRUb0luZGV4ZXMiLCJkb2MiLCJmYWlsaW5nSW5kZXgiLCJyZW1vdmUiLCJyZW1vdmVGcm9tSW5kZXhlcyIsInVwZGF0ZUluZGV4ZXMiLCJvbGREb2MiLCJuZXdEb2MiLCJ1cGRhdGUiLCJyZXZlcnRVcGRhdGUiLCJ1c2FibGVRdWVyeUtleXMiLCJpbmRleE5hbWVzIiwiaXNEYXRlIiwiZ2V0TWF0Y2hpbmciLCIkaW4iLCJnZXRCZXR3ZWVuQm91bmRzIiwiX2luc2VydCIsInByZXBhcmVkRG9jIiwicHJlcGFyZURvY3VtZW50Rm9ySW5zZXJ0aW9uIiwiX2luc2VydEluQ2FjaGUiLCJkZWVwQ29weSIsImNyZWF0ZU5ld0lkIiwidGVudGF0aXZlSWQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJjaGVja09iamVjdCIsIl9pbnNlcnRNdWx0aXBsZURvY3NJbkNhY2hlIiwicHJlcGFyZWREb2NzIiwiZmFpbGluZ0kiLCJkb2NzIiwiZmluZE9uZSIsIl91cGRhdGUiLCJ1cGRhdGVRdWVyeSIsIm11bHRpIiwidXBzZXJ0IiwibnVtUmVwbGFjZWQiLCJ3YXRlcmZhbGwiLCJ0b0JlSW5zZXJ0ZWQiLCJtb2RpZnkiLCJtb2RpZmllZERvYyIsIm1vZGlmaWNhdGlvbnMiLCJfcmVtb3ZlIiwibnVtUmVtb3ZlZCIsInJlbW92ZWREb2NzIiwiJCRkZWxldGVkIiwiLi9jdXJzb3IiLCIuL2V4ZWN1dG9yIiwiLi9pbmRleGVzIiwiLi9wZXJzaXN0ZW5jZSIsMTMsInRhc2siLCJsYXN0QXJnIiwibmV3QXJndW1lbnRzIiwic2V0SW1tZWRpYXRlIiwiZm9yY2VRdWV1aW5nIiwicHJvY2Vzc0J1ZmZlciIsMTQsInByb2plY3RGb3JVbmlxdWUiLCJlbHQiLCJzcGFyc2UiLCJ0cmVlT3B0aW9ucyIsImluc2VydE11bHRpcGxlRG9jcyIsIl9rZXkiLCJ1cGRhdGVNdWx0aXBsZURvY3MiLCJyZXZlcnQiLCJwYWlyIiwiX3JlcyIsInYiLCJiaW5hcnktc2VhcmNoLXRyZWUiLDE1LCJjaGVja0tleSIsIiQkZGF0ZSIsInJhd0RhdGEiLCJzdHJpY3RLZXlzIiwiaXNQcmltaXRpdmVUeXBlIiwiY29tcGFyZU5TQiIsImNvbXBhcmVBcnJheXMiLCJjb21wIiwiYUtleXMiLCJiS2V5cyIsImNyZWF0ZU1vZGlmaWVyRnVuY3Rpb24iLCJtb2RpZmllciIsImZpZWxkIiwiZmllbGRQYXJ0cyIsImxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMiLCJtb2RpZmllckZ1bmN0aW9ucyIsIm1vZGlmaWVycyIsImZpcnN0Q2hhcnMiLCJkb2xsYXJGaXJzdENoYXJzIiwib2JqcyIsInBhcnNlSW50IiwiYXJlVGhpbmdzRXF1YWwiLCJhcmVDb21wYXJhYmxlIiwicXVlcnlLZXlzIiwicXVlcnlLZXkiLCJxdWVyeVZhbHVlIiwibWF0Y2hRdWVyeVBhcnQiLCJuZWVkQUtleSIsImxvZ2ljYWxPcGVyYXRvcnMiLCJ0cmVhdE9iakFzVmFsdWUiLCJvYmpWYWx1ZSIsImlzUmVnRXhwIiwiYXJyYXlDb21wYXJpc29uRnVuY3Rpb25zIiwiY29tcGFyaXNvbkZ1bmN0aW9ucyIsIiRyZWdleCIsIiRzZXQiLCIkdW5zZXQiLCIkcHVzaCIsIiRlYWNoIiwiJGFkZFRvU2V0IiwiYWRkVG9TZXQiLCIkcG9wIiwiJHB1bGwiLCIkaW5jIiwiJG5lIiwiJG5pbiIsIiRleGlzdHMiLCIkc2l6ZSIsIiRvciIsIiRhbmQiLCIkbm90IiwiJHdoZXJlIiwxNiwicmFuZG9tU3RyaW5nIiwiZ2V0TldBcHBGaWxlbmFtZSIsInN0b3JhZ2UiLCJlbnN1cmVEaXJlY3RvcnlFeGlzdHMiLCJhcHBOYW1lIiwicmVsYXRpdmVGaWxlbmFtZSIsImhvbWUiLCJwbGF0Zm9ybSIsImVudiIsIkxPQ0FMQVBQREFUQSIsIkFQUERBVEEiLCJIT01FIiwicGVyc2lzdENhY2hlZERhdGFiYXNlIiwidG9QZXJzaXN0IiwiY29tcGFjdERhdGFmaWxlIiwic2V0QXV0b2NvbXBhY3Rpb25JbnRlcnZhbCIsImludGVydmFsIiwibWluSW50ZXJ2YWwiLCJyZWFsSW50ZXJ2YWwiLCJzdG9wQXV0b2NvbXBhY3Rpb24iLCJhdXRvY29tcGFjdGlvbkludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJuZXdEb2NzIiwidHJlYXRSYXdEYXRhIiwiZGF0YUJ5SWQiLCJ0ZGF0YSIsImNvcnJ1cHRJdGVtcyIsImRpcm5hbWUiLCJ0cmVhdGVkRGF0YSIsIi4vc3RvcmFnZSIsMTcsIm9ubHlfb25jZSIsImNhbGxlZCIsInByZXZpb3VzX2FzeW5jIiwiX2VhY2giLCJfbWFwIiwiX3JlZHVjZSIsIl9rZXlzIiwiY29tcGxldGVkIiwiZWFjaFNlcmllcyIsImZvckVhY2hTZXJpZXMiLCJlYWNoTGltaXQiLCJfZWFjaExpbWl0IiwiZm9yRWFjaExpbWl0Iiwic3RhcnRlZCIsInJ1bm5pbmciLCJyZXBsZW5pc2giLCJkb1BhcmFsbGVsIiwiZG9QYXJhbGxlbExpbWl0IiwiZG9TZXJpZXMiLCJfYXN5bmNNYXAiLCJlYWNoZm4iLCJtYXBTZXJpZXMiLCJtYXBMaW1pdCIsIl9tYXBMaW1pdCIsInJldmVyc2VkIiwicmV2ZXJzZSIsIl9maWx0ZXIiLCJmaWx0ZXJTZXJpZXMiLCJzZWxlY3RTZXJpZXMiLCJfcmVqZWN0IiwicmVqZWN0U2VyaWVzIiwiX2RldGVjdCIsIm1haW5fY2FsbGJhY2siLCJkZXRlY3RTZXJpZXMiLCJhdXRvIiwidGFza3MiLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInVuc2hpZnQiLCJyZW1vdmVMaXN0ZW5lciIsInRhc2tDb21wbGV0ZSIsInRhc2tDYWxsYmFjayIsInNhZmVSZXN1bHRzIiwicmtleSIsInJlcXVpcmVzIiwibGlzdGVuZXIiLCJ3cmFwSXRlcmF0b3IiLCJfcGFyYWxsZWwiLCJwYXJhbGxlbCIsInBhcmFsbGVsTGltaXQiLCJzZXJpZXMiLCJtYWtlQ2FsbGJhY2siLCJfY29uY2F0IiwieSIsImNvbmNhdFNlcmllcyIsIndoaWxzdCIsImRvV2hpbHN0IiwidW50aWwiLCJkb1VudGlsIiwid29ya2VyIiwiY29uY3VycmVuY3kiLCJwb3MiLCJzYXR1cmF0ZWQiLCJ3b3JrZXJzIiwiZW1wdHkiLCJkcmFpbiIsInNoaWZ0IiwiY2FyZ28iLCJwYXlsb2FkIiwid29ya2luZyIsInRzIiwiZHMiLCJfY29uc29sZV9mbiIsInF1ZXVlcyIsIm1lbW9pemVkIiwidW5tZW1vaXplZCIsInVubWVtb2l6ZSIsImNvdW50ZXIiLCJ0aW1lc1NlcmllcyIsImZucyIsInRoYXQiLCJuZXdhcmdzIiwibmV4dGFyZ3MiLCJfYXBwbHlFYWNoIiwiZ28iLCJhcHBseUVhY2giLCJhcHBseUVhY2hTZXJpZXMiLCJmb3JldmVyIiwxOCwiZHVwIiwxOSwibm9ybWFsaXplQXJyYXkiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwieHMiLCJzcGxpdFBhdGhSZSIsInNwbGl0UGF0aCIsInJlc29sdmVkUGF0aCIsInJlc29sdmVkQWJzb2x1dGUiLCJjd2QiLCJub3JtYWxpemUiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsInN1YnN0ciIsInBhdGhzIiwicmVsYXRpdmUiLCJ0byIsInRyaW0iLCJlbmQiLCJmcm9tUGFydHMiLCJ0b1BhcnRzIiwic2FtZVBhcnRzTGVuZ3RoIiwib3V0cHV0UGFydHMiLCJzZXAiLCJkZWxpbWl0ZXIiLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLDIwLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwicnVuIiwiSXRlbSIsImZ1biIsIm5vb3AiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbnMiLCJvbiIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY2hkaXIiLCJ1bWFzayIsMjEsImZpbGwiLCJyZWFkVUludDgiLDIyLCJpbnNwZWN0Iiwib3B0cyIsImN0eCIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwic2hvd0hpZGRlbiIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsImFycmF5VG9IYXNoIiwiaGFzaCIsInJlY3Vyc2VUaW1lcyIsInJldCIsInByaW1pdGl2ZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImlzRXJyb3IiLCJmb3JtYXRFcnJvciIsImJhc2UiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsImZvcm1hdEFycmF5IiwiZm9ybWF0UHJvcGVydHkiLCJyZWR1Y2VUb1NpbmdsZVN0cmluZyIsInNpbXBsZSIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXQiLCJsaW5lIiwibnVtTGluZXNFc3QiLCJwcmV2IiwiY3VyIiwiYXIiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwicmUiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwidGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXREYXRlIiwibW9udGhzIiwiZ2V0TW9udGgiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJvYmplY3RzIiwiTnVtYmVyIiwiZGVwcmVjYXRlIiwibXNnIiwiZGVwcmVjYXRlZCIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJ0cmFjZURlcHJlY2F0aW9uIiwidHJhY2UiLCJub0RlcHJlY2F0aW9uIiwiZGVidWdFbnZpcm9uIiwiZGVidWdzIiwiZGVidWdsb2ciLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJwaWQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaW52ZXJzZSIsIndoaXRlIiwiZ3JleSIsImJsYWNrIiwiYmx1ZSIsImN5YW4iLCJncmVlbiIsIm1hZ2VudGEiLCJyZWQiLCJ5ZWxsb3ciLCJzcGVjaWFsIiwibnVtYmVyIiwiYm9vbGVhbiIsIm51bGwiLCJkYXRlIiwicmVnZXhwIiwiaXNCdWZmZXIiLCJvcmlnaW4iLCJhZGQiLCIuL3N1cHBvcnQvaXNCdWZmZXIiLDIzLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZGVmYXVsdCIsIl9pbmRleCIsIl9pbmRleDIiLCJzb25ncyIsImFydGlzdHMiLCJhbGJ1bXMiLCJhZGRfbXVzaWMiLCJhcnRpc3QiLCJzb25nIiwidHJhY2tudW0iLCJkdXJhdGlvbiIsImFsYnVtIiwiaW1hZ2UiLCJzb25nRG9jIiwiYXJ0aXN0RG9jIiwiYWxidW1Eb2MiLCJnZXRfc29uZ3MiLCJwcmludF9zb25ncyIsInByaW50X29uZV9zb25nIiwiZHJvcF9kYnMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbmVkYi9pbmRleC5qcyIsMjQsIm11c2ljU2Nyb2xsZXIiLCJhcHAiLCJhbmd1bGFyIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRpbnRlcnZhbCIsIm1haW53aW5kb3ciLCJ3aW5kb3dTdGFjayIsIm1vbWVudCIsInlvc2Nyb2xsIiwiZ29CYWNrIiwibmF2aWdhdGUiLCIkZmlsdGVyIiwiJHRpbWVvdXQiLCIkaHR0cCIsIk11c2ljU2VydmljZSIsInBsYXlpbmciLCJhY3RpdmUiLCJzaWRlQmFyIiwibGlzdFZpZXciLCJjdXJyZW50QXJ0aXN0IiwiJHdhdGNoIiwiY3VycmVudFNvbmciLCJjdXJyZW50QWxidW0iLCJjaGFuZ2VDb250ZXh0IiwiY3R4dCIsInNob3dBbGJ1bXMiLCJhbCIsIm5ld0FsYnVtIiwic28iLCJzaG93U29uZ3MiLCJnZXRBcnRpc3QiLCJwbGF5U29uZyIsInNvbmdsaXN0IiwicXVldWVTb25nIiwicmVmcmVzaE11c2ljIiwidGltZXIiLCJwbGF5bGlzdCIsInNjcnViYmVyIiwiZHVyIiwicm91bmQiLCJwbGF5ZXIiLCJjdXJyZW50VGltZSIsInBhdXNlZCIsInNjcnViYmVyV2lkdGgiLCJ3aWR0aCIsInNob3dGdWxsUGxheWVyIiwiJCIsImFuaW1hdGUiLCJib3R0b20iLCJzZWVrIiwic2Vla1RvIiwicGxheVBhdXNlIiwicGxheSIsInBhdXNlIiwiY2FuY2VsIiwiZmFzdEZvcndhcmQiLCJyZXdpbmQiLCJwcmV2U29uZyIsIkF1ZGlvIiwiZ2V0RHVyYXRpb24iLCJhZGRFdmVudCIsImdldEN1cnJlbnRUaW1lIiwic3JjIiwic2Nyb2xsZXJIZWlnaHQiLCJjb250ZW50Q29udGFpbmVyTm9kZSIsInNjcm9sbGVyV2lkdGgiLCJ1cGRhdGVEaW1lbnNpb25zIiwib25lbmRlZCIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlY29uZHMiLCIuL2RhdGFiYXNlLmpzIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxH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LE1BQU1qRixTQUFXaUYsTUFBTTVCLE9BQU9yRCxlQU10Q2EsSUFBSTVqQyxPQUFPLFdBQVksV0FDckIsTUFBTyxVQUFVcUYsT0FDZixHQUFJNUIsS0FBTXZLLEtBQUtzRixNQUFNNkcsTUFBUSxJQUFNLEdBQUssSUFBTW5NLEtBQUtzRixNQUFNNkcsTUFBUSxJQUFNbk0sS0FBS3NGLE1BQU02RyxNQUFRLElBQ3RGNmlDLFFBQVVodkMsS0FBS3NGLE1BQU02RyxNQUFRLElBQU0sR0FBSyxJQUFNbk0sS0FBS3NGLE1BQU02RyxNQUFRLElBQU1uTSxLQUFLc0YsTUFBTTZHLE1BQVEsR0FDOUYsT0FBTzVCLEtBQU0sSUFBTXlrQyxhQWlCcEJDLGdCQUFnQixVQUFVIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cy5CaW5hcnlTZWFyY2hUcmVlID0gcmVxdWlyZSgnLi9saWIvYnN0Jyk7XG5tb2R1bGUuZXhwb3J0cy5BVkxUcmVlID0gcmVxdWlyZSgnLi9saWIvYXZsdHJlZScpO1xuXG59LHtcIi4vbGliL2F2bHRyZWVcIjoyLFwiLi9saWIvYnN0XCI6M31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBTZWxmLWJhbGFuY2luZyBiaW5hcnkgc2VhcmNoIHRyZWUgdXNpbmcgdGhlIEFWTCBpbXBsZW1lbnRhdGlvblxuICovXG52YXIgQmluYXJ5U2VhcmNoVHJlZSA9IHJlcXVpcmUoJy4vYnN0JylcbiAgLCBjdXN0b21VdGlscyA9IHJlcXVpcmUoJy4vY3VzdG9tVXRpbHMnKVxuICAsIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpXG4gIDtcblxuXG4vKipcbiAqIENvbnN0cnVjdG9yXG4gKiBXZSBjYW4ndCB1c2UgYSBkaXJlY3QgcG9pbnRlciB0byB0aGUgcm9vdCBub2RlIChhcyBpbiB0aGUgc2ltcGxlIGJpbmFyeSBzZWFyY2ggdHJlZSlcbiAqIGFzIHRoZSByb290IHdpbGwgY2hhbmdlIGR1cmluZyB0cmVlIHJvdGF0aW9uc1xuICogQHBhcmFtIHtCb29sZWFufSAgb3B0aW9ucy51bmlxdWUgV2hldGhlciB0byBlbmZvcmNlIGEgJ3VuaXF1ZScgY29uc3RyYWludCBvbiB0aGUga2V5IG9yIG5vdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5jb21wYXJlS2V5cyBJbml0aWFsaXplIHRoaXMgQlNUJ3MgY29tcGFyZUtleXNcbiAqL1xuZnVuY3Rpb24gQVZMVHJlZSAob3B0aW9ucykge1xuICB0aGlzLnRyZWUgPSBuZXcgX0FWTFRyZWUob3B0aW9ucyk7XG59XG5cblxuLyoqXG4gKiBDb25zdHJ1Y3RvciBvZiB0aGUgaW50ZXJuYWwgQVZMVHJlZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gIG9wdGlvbnMudW5pcXVlIFdoZXRoZXIgdG8gZW5mb3JjZSBhICd1bmlxdWUnIGNvbnN0cmFpbnQgb24gdGhlIGtleSBvciBub3RcbiAqIEBwYXJhbSB7S2V5fSAgICAgIG9wdGlvbnMua2V5IEluaXRpYWxpemUgdGhpcyBCU1QncyBrZXkgd2l0aCBrZXlcbiAqIEBwYXJhbSB7VmFsdWV9ICAgIG9wdGlvbnMudmFsdWUgSW5pdGlhbGl6ZSB0aGlzIEJTVCdzIGRhdGEgd2l0aCBbdmFsdWVdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmNvbXBhcmVLZXlzIEluaXRpYWxpemUgdGhpcyBCU1QncyBjb21wYXJlS2V5c1xuICovXG5mdW5jdGlvbiBfQVZMVHJlZSAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB0aGlzLmxlZnQgPSBudWxsO1xuICB0aGlzLnJpZ2h0ID0gbnVsbDtcbiAgdGhpcy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYXJlbnQgOiBudWxsO1xuICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgdGhpcy5rZXkgPSBvcHRpb25zLmtleTsgfVxuICB0aGlzLmRhdGEgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd2YWx1ZScpID8gW29wdGlvbnMudmFsdWVdIDogW107XG4gIHRoaXMudW5pcXVlID0gb3B0aW9ucy51bmlxdWUgfHwgZmFsc2U7XG5cbiAgdGhpcy5jb21wYXJlS2V5cyA9IG9wdGlvbnMuY29tcGFyZUtleXMgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENvbXBhcmVLZXlzRnVuY3Rpb247XG4gIHRoaXMuY2hlY2tWYWx1ZUVxdWFsaXR5ID0gb3B0aW9ucy5jaGVja1ZhbHVlRXF1YWxpdHkgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENoZWNrVmFsdWVFcXVhbGl0eTtcbn1cblxuXG4vKipcbiAqIEluaGVyaXQgYmFzaWMgZnVuY3Rpb25zIGZyb20gdGhlIGJhc2ljIGJpbmFyeSBzZWFyY2ggdHJlZVxuICovXG51dGlsLmluaGVyaXRzKF9BVkxUcmVlLCBCaW5hcnlTZWFyY2hUcmVlKTtcblxuLyoqXG4gKiBLZWVwIGEgcG9pbnRlciB0byB0aGUgaW50ZXJuYWwgdHJlZSBjb25zdHJ1Y3RvciBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuICovXG5BVkxUcmVlLl9BVkxUcmVlID0gX0FWTFRyZWU7XG5cblxuLyoqXG4gKiBDaGVjayB0aGUgcmVjb3JkZWQgaGVpZ2h0IGlzIGNvcnJlY3QgZm9yIGV2ZXJ5IG5vZGVcbiAqIFRocm93cyBpZiBvbmUgaGVpZ2h0IGRvZXNuJ3QgbWF0Y2hcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLmNoZWNrSGVpZ2h0Q29ycmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxlZnRILCByaWdodEg7XG5cbiAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdrZXknKSkgeyByZXR1cm47IH0gICAvLyBFbXB0eSB0cmVlXG5cbiAgaWYgKHRoaXMubGVmdCAmJiB0aGlzLmxlZnQuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHsgdGhyb3cgXCJVbmRlZmluZWQgaGVpZ2h0IGZvciBub2RlIFwiICsgdGhpcy5sZWZ0LmtleTsgfVxuICBpZiAodGhpcy5yaWdodCAmJiB0aGlzLnJpZ2h0LmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7IHRocm93IFwiVW5kZWZpbmVkIGhlaWdodCBmb3Igbm9kZSBcIiArIHRoaXMucmlnaHQua2V5OyB9XG4gIGlmICh0aGlzLmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7IHRocm93IFwiVW5kZWZpbmVkIGhlaWdodCBmb3Igbm9kZSBcIiArIHRoaXMua2V5OyB9XG5cbiAgbGVmdEggPSB0aGlzLmxlZnQgPyB0aGlzLmxlZnQuaGVpZ2h0IDogMDtcbiAgcmlnaHRIID0gdGhpcy5yaWdodCA/IHRoaXMucmlnaHQuaGVpZ2h0IDogMDtcblxuICBpZiAodGhpcy5oZWlnaHQgIT09IDEgKyBNYXRoLm1heChsZWZ0SCwgcmlnaHRIKSkgeyB0aHJvdyBcIkhlaWdodCBjb25zdHJhaW50IGZhaWxlZCBmb3Igbm9kZSBcIiArIHRoaXMua2V5OyB9XG4gIGlmICh0aGlzLmxlZnQpIHsgdGhpcy5sZWZ0LmNoZWNrSGVpZ2h0Q29ycmVjdCgpOyB9XG4gIGlmICh0aGlzLnJpZ2h0KSB7IHRoaXMucmlnaHQuY2hlY2tIZWlnaHRDb3JyZWN0KCk7IH1cbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGJhbGFuY2UgZmFjdG9yXG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5iYWxhbmNlRmFjdG9yID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGVmdEggPSB0aGlzLmxlZnQgPyB0aGlzLmxlZnQuaGVpZ2h0IDogMFxuICAgICwgcmlnaHRIID0gdGhpcy5yaWdodCA/IHRoaXMucmlnaHQuaGVpZ2h0IDogMFxuICAgIDtcbiAgcmV0dXJuIGxlZnRIIC0gcmlnaHRIO1xufTtcblxuXG4vKipcbiAqIENoZWNrIHRoYXQgdGhlIGJhbGFuY2UgZmFjdG9ycyBhcmUgYWxsIGJldHdlZW4gLTEgYW5kIDFcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLmNoZWNrQmFsYW5jZUZhY3RvcnMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChNYXRoLmFicyh0aGlzLmJhbGFuY2VGYWN0b3IoKSkgPiAxKSB7IHRocm93ICdUcmVlIGlzIHVuYmFsYW5jZWQgYXQgbm9kZSAnICsgdGhpcy5rZXk7IH1cblxuICBpZiAodGhpcy5sZWZ0KSB7IHRoaXMubGVmdC5jaGVja0JhbGFuY2VGYWN0b3JzKCk7IH1cbiAgaWYgKHRoaXMucmlnaHQpIHsgdGhpcy5yaWdodC5jaGVja0JhbGFuY2VGYWN0b3JzKCk7IH1cbn07XG5cblxuLyoqXG4gKiBXaGVuIGNoZWNraW5nIGlmIHRoZSBCU1QgY29uZGl0aW9ucyBhcmUgbWV0LCBhbHNvIGNoZWNrIHRoYXQgdGhlIGhlaWdodHMgYXJlIGNvcnJlY3RcbiAqIGFuZCB0aGUgdHJlZSBpcyBiYWxhbmNlZFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUuY2hlY2tJc0FWTFQgPSBmdW5jdGlvbiAoKSB7XG4gIF9BVkxUcmVlLnN1cGVyXy5wcm90b3R5cGUuY2hlY2tJc0JTVC5jYWxsKHRoaXMpO1xuICB0aGlzLmNoZWNrSGVpZ2h0Q29ycmVjdCgpO1xuICB0aGlzLmNoZWNrQmFsYW5jZUZhY3RvcnMoKTtcbn07XG5BVkxUcmVlLnByb3RvdHlwZS5jaGVja0lzQVZMVCA9IGZ1bmN0aW9uICgpIHsgdGhpcy50cmVlLmNoZWNrSXNBVkxUKCk7IH07XG5cblxuLyoqXG4gKiBQZXJmb3JtIGEgcmlnaHQgcm90YXRpb24gb2YgdGhlIHRyZWUgaWYgcG9zc2libGVcbiAqIGFuZCByZXR1cm4gdGhlIHJvb3Qgb2YgdGhlIHJlc3VsdGluZyB0cmVlXG4gKiBUaGUgcmVzdWx0aW5nIHRyZWUncyBub2RlcycgaGVpZ2h0cyBhcmUgYWxzbyB1cGRhdGVkXG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5yaWdodFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcSA9IHRoaXNcbiAgICAsIHAgPSB0aGlzLmxlZnRcbiAgICAsIGJcbiAgICAsIGFoLCBiaCwgY2g7XG5cbiAgaWYgKCFwKSB7IHJldHVybiB0aGlzOyB9ICAgLy8gTm8gY2hhbmdlXG5cbiAgYiA9IHAucmlnaHQ7XG5cbiAgLy8gQWx0ZXIgdHJlZSBzdHJ1Y3R1cmVcbiAgaWYgKHEucGFyZW50KSB7XG4gICAgcC5wYXJlbnQgPSBxLnBhcmVudDtcbiAgICBpZiAocS5wYXJlbnQubGVmdCA9PT0gcSkgeyBxLnBhcmVudC5sZWZ0ID0gcDsgfSBlbHNlIHsgcS5wYXJlbnQucmlnaHQgPSBwOyB9XG4gIH0gZWxzZSB7XG4gICAgcC5wYXJlbnQgPSBudWxsO1xuICB9XG4gIHAucmlnaHQgPSBxO1xuICBxLnBhcmVudCA9IHA7XG4gIHEubGVmdCA9IGI7XG4gIGlmIChiKSB7IGIucGFyZW50ID0gcTsgfVxuXG4gIC8vIFVwZGF0ZSBoZWlnaHRzXG4gIGFoID0gcC5sZWZ0ID8gcC5sZWZ0LmhlaWdodCA6IDA7XG4gIGJoID0gYiA/IGIuaGVpZ2h0IDogMDtcbiAgY2ggPSBxLnJpZ2h0ID8gcS5yaWdodC5oZWlnaHQgOiAwO1xuICBxLmhlaWdodCA9IE1hdGgubWF4KGJoLCBjaCkgKyAxO1xuICBwLmhlaWdodCA9IE1hdGgubWF4KGFoLCBxLmhlaWdodCkgKyAxO1xuXG4gIHJldHVybiBwO1xufTtcblxuXG4vKipcbiAqIFBlcmZvcm0gYSBsZWZ0IHJvdGF0aW9uIG9mIHRoZSB0cmVlIGlmIHBvc3NpYmxlXG4gKiBhbmQgcmV0dXJuIHRoZSByb290IG9mIHRoZSByZXN1bHRpbmcgdHJlZVxuICogVGhlIHJlc3VsdGluZyB0cmVlJ3Mgbm9kZXMnIGhlaWdodHMgYXJlIGFsc28gdXBkYXRlZFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUubGVmdFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcCA9IHRoaXNcbiAgICAsIHEgPSB0aGlzLnJpZ2h0XG4gICAgLCBiXG4gICAgLCBhaCwgYmgsIGNoO1xuXG4gIGlmICghcSkgeyByZXR1cm4gdGhpczsgfSAgIC8vIE5vIGNoYW5nZVxuXG4gIGIgPSBxLmxlZnQ7XG5cbiAgLy8gQWx0ZXIgdHJlZSBzdHJ1Y3R1cmVcbiAgaWYgKHAucGFyZW50KSB7XG4gICAgcS5wYXJlbnQgPSBwLnBhcmVudDtcbiAgICBpZiAocC5wYXJlbnQubGVmdCA9PT0gcCkgeyBwLnBhcmVudC5sZWZ0ID0gcTsgfSBlbHNlIHsgcC5wYXJlbnQucmlnaHQgPSBxOyB9XG4gIH0gZWxzZSB7XG4gICAgcS5wYXJlbnQgPSBudWxsO1xuICB9XG4gIHEubGVmdCA9IHA7XG4gIHAucGFyZW50ID0gcTtcbiAgcC5yaWdodCA9IGI7XG4gIGlmIChiKSB7IGIucGFyZW50ID0gcDsgfVxuXG4gIC8vIFVwZGF0ZSBoZWlnaHRzXG4gIGFoID0gcC5sZWZ0ID8gcC5sZWZ0LmhlaWdodCA6IDA7XG4gIGJoID0gYiA/IGIuaGVpZ2h0IDogMDtcbiAgY2ggPSBxLnJpZ2h0ID8gcS5yaWdodC5oZWlnaHQgOiAwO1xuICBwLmhlaWdodCA9IE1hdGgubWF4KGFoLCBiaCkgKyAxO1xuICBxLmhlaWdodCA9IE1hdGgubWF4KGNoLCBwLmhlaWdodCkgKyAxO1xuXG4gIHJldHVybiBxO1xufTtcblxuXG4vKipcbiAqIE1vZGlmeSB0aGUgdHJlZSBpZiBpdHMgcmlnaHQgc3VidHJlZSBpcyB0b28gc21hbGwgY29tcGFyZWQgdG8gdGhlIGxlZnRcbiAqIFJldHVybiB0aGUgbmV3IHJvb3QgaWYgYW55XG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5yaWdodFRvb1NtYWxsID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5iYWxhbmNlRmFjdG9yKCkgPD0gMSkgeyByZXR1cm4gdGhpczsgfSAgIC8vIFJpZ2h0IGlzIG5vdCB0b28gc21hbGwsIGRvbid0IGNoYW5nZVxuXG4gIGlmICh0aGlzLmxlZnQuYmFsYW5jZUZhY3RvcigpIDwgMCkge1xuICAgIHRoaXMubGVmdC5sZWZ0Um90YXRpb24oKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnJpZ2h0Um90YXRpb24oKTtcbn07XG5cblxuLyoqXG4gKiBNb2RpZnkgdGhlIHRyZWUgaWYgaXRzIGxlZnQgc3VidHJlZSBpcyB0b28gc21hbGwgY29tcGFyZWQgdG8gdGhlIHJpZ2h0XG4gKiBSZXR1cm4gdGhlIG5ldyByb290IGlmIGFueVxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUubGVmdFRvb1NtYWxsID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5iYWxhbmNlRmFjdG9yKCkgPj0gLTEpIHsgcmV0dXJuIHRoaXM7IH0gICAvLyBMZWZ0IGlzIG5vdCB0b28gc21hbGwsIGRvbid0IGNoYW5nZVxuXG4gIGlmICh0aGlzLnJpZ2h0LmJhbGFuY2VGYWN0b3IoKSA+IDApIHtcbiAgICB0aGlzLnJpZ2h0LnJpZ2h0Um90YXRpb24oKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmxlZnRSb3RhdGlvbigpO1xufTtcblxuXG4vKipcbiAqIFJlYmFsYW5jZSB0aGUgdHJlZSBhbG9uZyB0aGUgZ2l2ZW4gcGF0aC4gVGhlIHBhdGggaXMgZ2l2ZW4gcmV2ZXJzZWQgKGFzIGhlIHdhcyBjYWxjdWxhdGVkXG4gKiBpbiB0aGUgaW5zZXJ0IGFuZCBkZWxldGUgZnVuY3Rpb25zKS5cbiAqIFJldHVybnMgdGhlIG5ldyByb290IG9mIHRoZSB0cmVlXG4gKiBPZiBjb3Vyc2UsIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBwYXRoIG11c3QgYmUgdGhlIHJvb3Qgb2YgdGhlIHRyZWVcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLnJlYmFsYW5jZUFsb25nUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gIHZhciBuZXdSb290ID0gdGhpc1xuICAgICwgcm90YXRlZFxuICAgICwgaTtcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IGRlbGV0ZSB0aGlzLmhlaWdodDsgcmV0dXJuIHRoaXM7IH0gICAvLyBFbXB0eSB0cmVlXG5cbiAgLy8gUmViYWxhbmNlIHRoZSB0cmVlIGFuZCB1cGRhdGUgYWxsIGhlaWdodHNcbiAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgIHBhdGhbaV0uaGVpZ2h0ID0gMSArIE1hdGgubWF4KHBhdGhbaV0ubGVmdCA/IHBhdGhbaV0ubGVmdC5oZWlnaHQgOiAwLCBwYXRoW2ldLnJpZ2h0ID8gcGF0aFtpXS5yaWdodC5oZWlnaHQgOiAwKTtcblxuICAgIGlmIChwYXRoW2ldLmJhbGFuY2VGYWN0b3IoKSA+IDEpIHtcbiAgICAgIHJvdGF0ZWQgPSBwYXRoW2ldLnJpZ2h0VG9vU21hbGwoKTtcbiAgICAgIGlmIChpID09PSAwKSB7IG5ld1Jvb3QgPSByb3RhdGVkOyB9XG4gICAgfVxuXG4gICAgaWYgKHBhdGhbaV0uYmFsYW5jZUZhY3RvcigpIDwgLTEpIHtcbiAgICAgIHJvdGF0ZWQgPSBwYXRoW2ldLmxlZnRUb29TbWFsbCgpO1xuICAgICAgaWYgKGkgPT09IDApIHsgbmV3Um9vdCA9IHJvdGF0ZWQ7IH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3Um9vdDtcbn07XG5cblxuLyoqXG4gKiBJbnNlcnQgYSBrZXksIHZhbHVlIHBhaXIgaW4gdGhlIHRyZWUgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIEFWTCB0cmVlIGhlaWdodCBjb25zdHJhaW50XG4gKiBSZXR1cm4gYSBwb2ludGVyIHRvIHRoZSByb290IG5vZGUsIHdoaWNoIG1heSBoYXZlIGNoYW5nZWRcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBpbnNlcnRQYXRoID0gW11cbiAgICAsIGN1cnJlbnROb2RlID0gdGhpc1xuICAgIDtcblxuICAvLyBFbXB0eSB0cmVlLCBpbnNlcnQgYXMgcm9vdFxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIHRoaXMuaGVpZ2h0ID0gMTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEluc2VydCBuZXcgbGVhZiBhdCB0aGUgcmlnaHQgcGxhY2VcbiAgd2hpbGUgKHRydWUpIHtcbiAgICAvLyBTYW1lIGtleTogbm8gY2hhbmdlIGluIHRoZSB0cmVlIHN0cnVjdHVyZVxuICAgIGlmIChjdXJyZW50Tm9kZS5jb21wYXJlS2V5cyhjdXJyZW50Tm9kZS5rZXksIGtleSkgPT09IDApIHtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS51bmlxdWUpIHtcbiAgICAgICAgdGhyb3cgeyBtZXNzYWdlOiBcIkNhbid0IGluc2VydCBrZXkgXCIgKyBrZXkgKyBcIiwgaXQgdmlvbGF0ZXMgdGhlIHVuaXF1ZSBjb25zdHJhaW50XCJcbiAgICAgICAgICAgICAgLCBrZXk6IGtleVxuICAgICAgICAgICAgICAsIGVycm9yVHlwZTogJ3VuaXF1ZVZpb2xhdGVkJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudE5vZGUuZGF0YS5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGluc2VydFBhdGgucHVzaChjdXJyZW50Tm9kZSk7XG5cbiAgICBpZiAoY3VycmVudE5vZGUuY29tcGFyZUtleXMoa2V5LCBjdXJyZW50Tm9kZS5rZXkpIDwgMCkge1xuICAgICAgaWYgKCFjdXJyZW50Tm9kZS5sZWZ0KSB7XG4gICAgICAgIGluc2VydFBhdGgucHVzaChjdXJyZW50Tm9kZS5jcmVhdGVMZWZ0Q2hpbGQoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLmxlZnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghY3VycmVudE5vZGUucmlnaHQpIHtcbiAgICAgICAgaW5zZXJ0UGF0aC5wdXNoKGN1cnJlbnROb2RlLmNyZWF0ZVJpZ2h0Q2hpbGQoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnJpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLnJlYmFsYW5jZUFsb25nUGF0aChpbnNlcnRQYXRoKTtcbn07XG5cbi8vIEluc2VydCBpbiB0aGUgaW50ZXJuYWwgdHJlZSwgdXBkYXRlIHRoZSBwb2ludGVyIHRvIHRoZSByb290IGlmIG5lZWRlZFxuQVZMVHJlZS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG5ld1RyZWUgPSB0aGlzLnRyZWUuaW5zZXJ0KGtleSwgdmFsdWUpO1xuXG4gIC8vIElmIG5ld1RyZWUgaXMgdW5kZWZpbmVkLCB0aGF0IG1lYW5zIGl0cyBzdHJ1Y3R1cmUgd2FzIG5vdCBtb2RpZmllZFxuICBpZiAobmV3VHJlZSkgeyB0aGlzLnRyZWUgPSBuZXdUcmVlOyB9XG59O1xuXG5cbi8qKlxuICogRGVsZXRlIGEga2V5IG9yIGp1c3QgYSB2YWx1ZSBhbmQgcmV0dXJuIHRoZSBuZXcgcm9vdCBvZiB0aGUgdHJlZVxuICogQHBhcmFtIHtLZXl9IGtleVxuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWUgT3B0aW9uYWwuIElmIG5vdCBzZXQsIHRoZSB3aG9sZSBrZXkgaXMgZGVsZXRlZC4gSWYgc2V0LCBvbmx5IHRoaXMgdmFsdWUgaXMgZGVsZXRlZFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG5ld0RhdGEgPSBbXSwgcmVwbGFjZVdpdGhcbiAgICAsIHNlbGYgPSB0aGlzXG4gICAgLCBjdXJyZW50Tm9kZSA9IHRoaXNcbiAgICAsIGRlbGV0ZVBhdGggPSBbXVxuICAgIDtcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybiB0aGlzOyB9ICAgLy8gRW1wdHkgdHJlZVxuXG4gIC8vIEVpdGhlciBubyBtYXRjaCBpcyBmb3VuZCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGZyb20gd2l0aGluIHRoZSBsb29wXG4gIC8vIE9yIGEgbWF0Y2ggaXMgZm91bmQgYW5kIGRlbGV0ZVBhdGggd2lsbCBjb250YWluIHRoZSBwYXRoIGZyb20gdGhlIHJvb3QgdG8gdGhlIG5vZGUgdG8gZGVsZXRlIGFmdGVyIHRoZSBsb29wXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGN1cnJlbnROb2RlLmNvbXBhcmVLZXlzKGtleSwgY3VycmVudE5vZGUua2V5KSA9PT0gMCkgeyBicmVhazsgfVxuXG4gICAgZGVsZXRlUGF0aC5wdXNoKGN1cnJlbnROb2RlKTtcblxuICAgIGlmIChjdXJyZW50Tm9kZS5jb21wYXJlS2V5cyhrZXksIGN1cnJlbnROb2RlLmtleSkgPCAwKSB7XG4gICAgICBpZiAoY3VycmVudE5vZGUubGVmdCkge1xuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLmxlZnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpczsgICAvLyBLZXkgbm90IGZvdW5kLCBubyBtb2RpZmljYXRpb25cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY3VycmVudE5vZGUuY29tcGFyZUtleXMoa2V5LCBjdXJyZW50Tm9kZS5rZXkpIGlzID4gMFxuICAgICAgaWYgKGN1cnJlbnROb2RlLnJpZ2h0KSB7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucmlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpczsgICAvLyBLZXkgbm90IGZvdW5kLCBubyBtb2RpZmljYXRpb25cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZWxldGUgb25seSBhIHZhbHVlIChubyB0cmVlIG1vZGlmaWNhdGlvbilcbiAgaWYgKGN1cnJlbnROb2RlLmRhdGEubGVuZ3RoID4gMSAmJiB2YWx1ZSkge1xuICAgIGN1cnJlbnROb2RlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKCFjdXJyZW50Tm9kZS5jaGVja1ZhbHVlRXF1YWxpdHkoZCwgdmFsdWUpKSB7IG5ld0RhdGEucHVzaChkKTsgfVxuICAgIH0pO1xuICAgIGN1cnJlbnROb2RlLmRhdGEgPSBuZXdEYXRhO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gRGVsZXRlIGEgd2hvbGUgbm9kZVxuXG4gIC8vIExlYWZcbiAgaWYgKCFjdXJyZW50Tm9kZS5sZWZ0ICYmICFjdXJyZW50Tm9kZS5yaWdodCkge1xuICAgIGlmIChjdXJyZW50Tm9kZSA9PT0gdGhpcykgeyAgIC8vIFRoaXMgbGVhZiBpcyBhbHNvIHRoZSByb290XG4gICAgICBkZWxldGUgY3VycmVudE5vZGUua2V5O1xuICAgICAgY3VycmVudE5vZGUuZGF0YSA9IFtdO1xuICAgICAgZGVsZXRlIGN1cnJlbnROb2RlLmhlaWdodDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY3VycmVudE5vZGUucGFyZW50LmxlZnQgPT09IGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5sZWZ0ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5yaWdodCA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZWJhbGFuY2VBbG9uZ1BhdGgoZGVsZXRlUGF0aCk7XG4gICAgfVxuICB9XG5cblxuICAvLyBOb2RlIHdpdGggb25seSBvbmUgY2hpbGRcbiAgaWYgKCFjdXJyZW50Tm9kZS5sZWZ0IHx8ICFjdXJyZW50Tm9kZS5yaWdodCkge1xuICAgIHJlcGxhY2VXaXRoID0gY3VycmVudE5vZGUubGVmdCA/IGN1cnJlbnROb2RlLmxlZnQgOiBjdXJyZW50Tm9kZS5yaWdodDtcblxuICAgIGlmIChjdXJyZW50Tm9kZSA9PT0gdGhpcykgeyAgIC8vIFRoaXMgbm9kZSBpcyBhbHNvIHRoZSByb290XG4gICAgICByZXBsYWNlV2l0aC5wYXJlbnQgPSBudWxsO1xuICAgICAgcmV0dXJuIHJlcGxhY2VXaXRoOyAgIC8vIGhlaWdodCBvZiByZXBsYWNlV2l0aCBpcyBuZWNlc3NhcmlseSAxIGJlY2F1c2UgdGhlIHRyZWUgd2FzIGJhbGFuY2VkIGJlZm9yZSBkZWxldGlvblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY3VycmVudE5vZGUucGFyZW50LmxlZnQgPT09IGN1cnJlbnROb2RlKSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5sZWZ0ID0gcmVwbGFjZVdpdGg7XG4gICAgICAgIHJlcGxhY2VXaXRoLnBhcmVudCA9IGN1cnJlbnROb2RlLnBhcmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnROb2RlLnBhcmVudC5yaWdodCA9IHJlcGxhY2VXaXRoO1xuICAgICAgICByZXBsYWNlV2l0aC5wYXJlbnQgPSBjdXJyZW50Tm9kZS5wYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlYmFsYW5jZUFsb25nUGF0aChkZWxldGVQYXRoKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIE5vZGUgd2l0aCB0d28gY2hpbGRyZW5cbiAgLy8gVXNlIHRoZSBpbi1vcmRlciBwcmVkZWNlc3NvciAobm8gbmVlZCB0byByYW5kb21pemUgc2luY2Ugd2UgYWN0aXZlbHkgcmViYWxhbmNlKVxuICBkZWxldGVQYXRoLnB1c2goY3VycmVudE5vZGUpO1xuICByZXBsYWNlV2l0aCA9IGN1cnJlbnROb2RlLmxlZnQ7XG5cbiAgLy8gU3BlY2lhbCBjYXNlOiB0aGUgaW4tb3JkZXIgcHJlZGVjZXNzb3IgaXMgcmlnaHQgYmVsb3cgdGhlIG5vZGUgdG8gZGVsZXRlXG4gIGlmICghcmVwbGFjZVdpdGgucmlnaHQpIHtcbiAgICBjdXJyZW50Tm9kZS5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gICAgY3VycmVudE5vZGUuZGF0YSA9IHJlcGxhY2VXaXRoLmRhdGE7XG4gICAgY3VycmVudE5vZGUubGVmdCA9IHJlcGxhY2VXaXRoLmxlZnQ7XG4gICAgaWYgKHJlcGxhY2VXaXRoLmxlZnQpIHsgcmVwbGFjZVdpdGgubGVmdC5wYXJlbnQgPSBjdXJyZW50Tm9kZTsgfVxuICAgIHJldHVybiB0aGlzLnJlYmFsYW5jZUFsb25nUGF0aChkZWxldGVQYXRoKTtcbiAgfVxuXG4gIC8vIEFmdGVyIHRoaXMgbG9vcCwgcmVwbGFjZVdpdGggaXMgdGhlIHJpZ2h0LW1vc3QgbGVhZiBpbiB0aGUgbGVmdCBzdWJ0cmVlXG4gIC8vIGFuZCBkZWxldGVQYXRoIHRoZSBwYXRoIGZyb20gdGhlIHJvb3QgKGluY2x1c2l2ZSkgdG8gcmVwbGFjZVdpdGggKGV4Y2x1c2l2ZSlcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAocmVwbGFjZVdpdGgucmlnaHQpIHtcbiAgICAgIGRlbGV0ZVBhdGgucHVzaChyZXBsYWNlV2l0aCk7XG4gICAgICByZXBsYWNlV2l0aCA9IHJlcGxhY2VXaXRoLnJpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBjdXJyZW50Tm9kZS5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gIGN1cnJlbnROb2RlLmRhdGEgPSByZXBsYWNlV2l0aC5kYXRhO1xuXG4gIHJlcGxhY2VXaXRoLnBhcmVudC5yaWdodCA9IHJlcGxhY2VXaXRoLmxlZnQ7XG4gIGlmIChyZXBsYWNlV2l0aC5sZWZ0KSB7IHJlcGxhY2VXaXRoLmxlZnQucGFyZW50ID0gcmVwbGFjZVdpdGgucGFyZW50OyB9XG5cbiAgcmV0dXJuIHRoaXMucmViYWxhbmNlQWxvbmdQYXRoKGRlbGV0ZVBhdGgpO1xufTtcblxuLy8gRGVsZXRlIGEgdmFsdWVcbkFWTFRyZWUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBuZXdUcmVlID0gdGhpcy50cmVlLmRlbGV0ZShrZXksIHZhbHVlKTtcblxuICAvLyBJZiBuZXdUcmVlIGlzIHVuZGVmaW5lZCwgdGhhdCBtZWFucyBpdHMgc3RydWN0dXJlIHdhcyBub3QgbW9kaWZpZWRcbiAgaWYgKG5ld1RyZWUpIHsgdGhpcy50cmVlID0gbmV3VHJlZTsgfVxufTtcblxuXG4vKipcbiAqIE90aGVyIGZ1bmN0aW9ucyB3ZSB3YW50IHRvIHVzZSBvbiBhbiBBVkxUcmVlIGFzIGlmIGl0IHdlcmUgdGhlIGludGVybmFsIF9BVkxUcmVlXG4gKi9cblsnZ2V0TnVtYmVyT2ZLZXlzJywgJ3NlYXJjaCcsICdiZXR3ZWVuQm91bmRzJywgJ3ByZXR0eVByaW50JywgJ2V4ZWN1dGVPbkV2ZXJ5Tm9kZSddLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gIEFWTFRyZWUucHJvdG90eXBlW2ZuXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50cmVlW2ZuXS5hcHBseSh0aGlzLnRyZWUsIGFyZ3VtZW50cyk7XG4gIH07XG59KTtcblxuXG4vLyBJbnRlcmZhY2Vcbm1vZHVsZS5leHBvcnRzID0gQVZMVHJlZTtcblxufSx7XCIuL2JzdFwiOjMsXCIuL2N1c3RvbVV0aWxzXCI6NCxcInVuZGVyc2NvcmVcIjo1LFwidXRpbFwiOjIyfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIFNpbXBsZSBiaW5hcnkgc2VhcmNoIHRyZWVcbiAqL1xudmFyIGN1c3RvbVV0aWxzID0gcmVxdWlyZSgnLi9jdXN0b21VdGlscycpO1xuXG5cbi8qKlxuICogQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbmFsXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICBvcHRpb25zLnVuaXF1ZSBXaGV0aGVyIHRvIGVuZm9yY2UgYSAndW5pcXVlJyBjb25zdHJhaW50IG9uIHRoZSBrZXkgb3Igbm90XG4gKiBAcGFyYW0ge0tleX0gICAgICBvcHRpb25zLmtleSBJbml0aWFsaXplIHRoaXMgQlNUJ3Mga2V5IHdpdGgga2V5XG4gKiBAcGFyYW0ge1ZhbHVlfSAgICBvcHRpb25zLnZhbHVlIEluaXRpYWxpemUgdGhpcyBCU1QncyBkYXRhIHdpdGggW3ZhbHVlXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5jb21wYXJlS2V5cyBJbml0aWFsaXplIHRoaXMgQlNUJ3MgY29tcGFyZUtleXNcbiAqL1xuZnVuY3Rpb24gQmluYXJ5U2VhcmNoVHJlZSAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB0aGlzLmxlZnQgPSBudWxsO1xuICB0aGlzLnJpZ2h0ID0gbnVsbDtcbiAgdGhpcy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYXJlbnQgOiBudWxsO1xuICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgdGhpcy5rZXkgPSBvcHRpb25zLmtleTsgfVxuICB0aGlzLmRhdGEgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd2YWx1ZScpID8gW29wdGlvbnMudmFsdWVdIDogW107XG4gIHRoaXMudW5pcXVlID0gb3B0aW9ucy51bmlxdWUgfHwgZmFsc2U7XG5cbiAgdGhpcy5jb21wYXJlS2V5cyA9IG9wdGlvbnMuY29tcGFyZUtleXMgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENvbXBhcmVLZXlzRnVuY3Rpb247XG4gIHRoaXMuY2hlY2tWYWx1ZUVxdWFsaXR5ID0gb3B0aW9ucy5jaGVja1ZhbHVlRXF1YWxpdHkgfHwgY3VzdG9tVXRpbHMuZGVmYXVsdENoZWNrVmFsdWVFcXVhbGl0eTtcbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTWV0aG9kcyB1c2VkIHRvIHRlc3QgdGhlIHRyZWVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuLyoqXG4gKiBHZXQgdGhlIGRlc2NlbmRhbnQgd2l0aCBtYXgga2V5XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmdldE1heEtleURlc2NlbmRhbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgcmV0dXJuIHRoaXMucmlnaHQuZ2V0TWF4S2V5RGVzY2VuZGFudCgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5cbi8qKlxuICogR2V0IHRoZSBtYXhpbXVtIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXRNYXhLZXkgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldE1heEtleURlc2NlbmRhbnQoKS5rZXk7XG59O1xuXG5cbi8qKlxuICogR2V0IHRoZSBkZXNjZW5kYW50IHdpdGggbWluIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXRNaW5LZXlEZXNjZW5kYW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgcmV0dXJuIHRoaXMubGVmdC5nZXRNaW5LZXlEZXNjZW5kYW50KClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuXG4vKipcbiAqIEdldCB0aGUgbWluaW11bSBrZXlcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0TWluS2V5ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nZXRNaW5LZXlEZXNjZW5kYW50KCkua2V5O1xufTtcblxuXG4vKipcbiAqIENoZWNrIHRoYXQgYWxsIG5vZGVzIChpbmNsLiBsZWF2ZXMpIGZ1bGxmaWwgY29uZGl0aW9uIGdpdmVuIGJ5IGZuXG4gKiB0ZXN0IGlzIGEgZnVuY3Rpb24gcGFzc2VkIGV2ZXJ5IChrZXksIGRhdGEpIGFuZCB3aGljaCB0aHJvd3MgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNoZWNrQWxsTm9kZXNGdWxsZmlsbENvbmRpdGlvbiA9IGZ1bmN0aW9uICh0ZXN0KSB7XG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuOyB9XG5cbiAgdGVzdCh0aGlzLmtleSwgdGhpcy5kYXRhKTtcbiAgaWYgKHRoaXMubGVmdCkgeyB0aGlzLmxlZnQuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uKHRlc3QpOyB9XG4gIGlmICh0aGlzLnJpZ2h0KSB7IHRoaXMucmlnaHQuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uKHRlc3QpOyB9XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgdGhhdCB0aGUgY29yZSBCU1QgcHJvcGVydGllcyBvbiBub2RlIG9yZGVyaW5nIGFyZSB2ZXJpZmllZFxuICogVGhyb3cgaWYgdGhleSBhcmVuJ3RcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuY2hlY2tOb2RlT3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybjsgfVxuXG4gIGlmICh0aGlzLmxlZnQpIHtcbiAgICB0aGlzLmxlZnQuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoc2VsZi5jb21wYXJlS2V5cyhrLCBzZWxmLmtleSkgPj0gMCkge1xuICAgICAgICB0aHJvdyAnVHJlZSB3aXRoIHJvb3QgJyArIHNlbGYua2V5ICsgJyBpcyBub3QgYSBiaW5hcnkgc2VhcmNoIHRyZWUnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMubGVmdC5jaGVja05vZGVPcmRlcmluZygpO1xuICB9XG5cbiAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICB0aGlzLnJpZ2h0LmNoZWNrQWxsTm9kZXNGdWxsZmlsbENvbmRpdGlvbihmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKHNlbGYuY29tcGFyZUtleXMoaywgc2VsZi5rZXkpIDw9IDApIHtcbiAgICAgICAgdGhyb3cgJ1RyZWUgd2l0aCByb290ICcgKyBzZWxmLmtleSArICcgaXMgbm90IGEgYmluYXJ5IHNlYXJjaCB0cmVlJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnJpZ2h0LmNoZWNrTm9kZU9yZGVyaW5nKCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDaGVjayB0aGF0IGFsbCBwb2ludGVycyBhcmUgY29oZXJlbnQgaW4gdGhpcyB0cmVlXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNoZWNrSW50ZXJuYWxQb2ludGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMubGVmdCkge1xuICAgIGlmICh0aGlzLmxlZnQucGFyZW50ICE9PSB0aGlzKSB7IHRocm93ICdQYXJlbnQgcG9pbnRlciBicm9rZW4gZm9yIGtleSAnICsgdGhpcy5rZXk7IH1cbiAgICB0aGlzLmxlZnQuY2hlY2tJbnRlcm5hbFBvaW50ZXJzKCk7XG4gIH1cblxuICBpZiAodGhpcy5yaWdodCkge1xuICAgIGlmICh0aGlzLnJpZ2h0LnBhcmVudCAhPT0gdGhpcykgeyB0aHJvdyAnUGFyZW50IHBvaW50ZXIgYnJva2VuIGZvciBrZXkgJyArIHRoaXMua2V5OyB9XG4gICAgdGhpcy5yaWdodC5jaGVja0ludGVybmFsUG9pbnRlcnMoKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENoZWNrIHRoYXQgYSB0cmVlIGlzIGEgQlNUIGFzIGRlZmluZWQgaGVyZSAobm9kZSBvcmRlcmluZyBhbmQgcG9pbnRlciByZWZlcmVuY2VzKVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5jaGVja0lzQlNUID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNoZWNrTm9kZU9yZGVyaW5nKCk7XG4gIHRoaXMuY2hlY2tJbnRlcm5hbFBvaW50ZXJzKCk7XG4gIGlmICh0aGlzLnBhcmVudCkgeyB0aHJvdyBcIlRoZSByb290IHNob3VsZG4ndCBoYXZlIGEgcGFyZW50XCI7IH1cbn07XG5cblxuLyoqXG4gKiBHZXQgbnVtYmVyIG9mIGtleXMgaW5zZXJ0ZWRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0TnVtYmVyT2ZLZXlzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVzO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuIDA7IH1cblxuICByZXMgPSAxO1xuICBpZiAodGhpcy5sZWZ0KSB7IHJlcyArPSB0aGlzLmxlZnQuZ2V0TnVtYmVyT2ZLZXlzKCk7IH1cbiAgaWYgKHRoaXMucmlnaHQpIHsgcmVzICs9IHRoaXMucmlnaHQuZ2V0TnVtYmVyT2ZLZXlzKCk7IH1cblxuICByZXR1cm4gcmVzO1xufTtcblxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNZXRob2RzIHVzZWQgdG8gYWN0dWFsbHkgd29yayBvbiB0aGUgdHJlZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDcmVhdGUgYSBCU1Qgc2ltaWxhciAoaS5lLiBzYW1lIG9wdGlvbnMgZXhjZXB0IGZvciBrZXkgYW5kIHZhbHVlKSB0byB0aGUgY3VycmVudCBvbmVcbiAqIFVzZSB0aGUgc2FtZSBjb25zdHJ1Y3RvciAoaS5lLiBCaW5hcnlTZWFyY2hUcmVlLCBBVkxUcmVlIGV0YylcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHNlZSBjb25zdHJ1Y3RvclxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5jcmVhdGVTaW1pbGFyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMudW5pcXVlID0gdGhpcy51bmlxdWU7XG4gIG9wdGlvbnMuY29tcGFyZUtleXMgPSB0aGlzLmNvbXBhcmVLZXlzO1xuICBvcHRpb25zLmNoZWNrVmFsdWVFcXVhbGl0eSA9IHRoaXMuY2hlY2tWYWx1ZUVxdWFsaXR5O1xuXG4gIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvcHRpb25zKTtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgdGhlIGxlZnQgY2hpbGQgb2YgdGhpcyBCU1QgYW5kIHJldHVybiBpdFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5jcmVhdGVMZWZ0Q2hpbGQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgbGVmdENoaWxkID0gdGhpcy5jcmVhdGVTaW1pbGFyKG9wdGlvbnMpO1xuICBsZWZ0Q2hpbGQucGFyZW50ID0gdGhpcztcbiAgdGhpcy5sZWZ0ID0gbGVmdENoaWxkO1xuXG4gIHJldHVybiBsZWZ0Q2hpbGQ7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlIHRoZSByaWdodCBjaGlsZCBvZiB0aGlzIEJTVCBhbmQgcmV0dXJuIGl0XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNyZWF0ZVJpZ2h0Q2hpbGQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgcmlnaHRDaGlsZCA9IHRoaXMuY3JlYXRlU2ltaWxhcihvcHRpb25zKTtcbiAgcmlnaHRDaGlsZC5wYXJlbnQgPSB0aGlzO1xuICB0aGlzLnJpZ2h0ID0gcmlnaHRDaGlsZDtcblxuICByZXR1cm4gcmlnaHRDaGlsZDtcbn07XG5cblxuLyoqXG4gKiBJbnNlcnQgYSBuZXcgZWxlbWVudFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAvLyBFbXB0eSB0cmVlLCBpbnNlcnQgYXMgcm9vdFxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFNhbWUga2V5IGFzIHJvb3RcbiAgaWYgKHRoaXMuY29tcGFyZUtleXModGhpcy5rZXksIGtleSkgPT09IDApIHtcbiAgICBpZiAodGhpcy51bmlxdWUpIHtcbiAgICAgIHRocm93IHsgbWVzc2FnZTogXCJDYW4ndCBpbnNlcnQga2V5IFwiICsga2V5ICsgXCIsIGl0IHZpb2xhdGVzIHRoZSB1bmlxdWUgY29uc3RyYWludFwiXG4gICAgICAgICAgICAsIGtleToga2V5XG4gICAgICAgICAgICAsIGVycm9yVHlwZTogJ3VuaXF1ZVZpb2xhdGVkJ1xuICAgICAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5jb21wYXJlS2V5cyhrZXksIHRoaXMua2V5KSA8IDApIHtcbiAgICAvLyBJbnNlcnQgaW4gbGVmdCBzdWJ0cmVlXG4gICAgaWYgKHRoaXMubGVmdCkge1xuICAgICAgdGhpcy5sZWZ0Lmluc2VydChrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVMZWZ0Q2hpbGQoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJbnNlcnQgaW4gcmlnaHQgc3VidHJlZVxuICAgIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgICB0aGlzLnJpZ2h0Lmluc2VydChrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVSaWdodENoaWxkKHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTZWFyY2ggZm9yIGFsbCBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gYSBrZXlcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKGtleSkge1xuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybiBbXTsgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKHRoaXMua2V5LCBrZXkpID09PSAwKSB7IHJldHVybiB0aGlzLmRhdGE7IH1cblxuICBpZiAodGhpcy5jb21wYXJlS2V5cyhrZXksIHRoaXMua2V5KSA8IDApIHtcbiAgICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgICByZXR1cm4gdGhpcy5sZWZ0LnNlYXJjaChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5yaWdodC5zZWFyY2goa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgdGVsbHMgd2hldGhlciBhIGdpdmVuIGtleSBtYXRjaGVzIGEgbG93ZXIgYm91bmRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0TG93ZXJCb3VuZE1hdGNoZXIgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIE5vIGxvd2VyIGJvdW5kXG4gIGlmICghcXVlcnkuaGFzT3duUHJvcGVydHkoJyRndCcpICYmICFxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGd0ZScpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gIH1cblxuICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoJyRndCcpICYmIHF1ZXJ5Lmhhc093blByb3BlcnR5KCckZ3RlJykpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlS2V5cyhxdWVyeS4kZ3RlLCBxdWVyeS4kZ3QpID09PSAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRndCkgPiAwOyB9O1xuICAgIH1cblxuICAgIGlmIChzZWxmLmNvbXBhcmVLZXlzKHF1ZXJ5LiRndGUsIHF1ZXJ5LiRndCkgPiAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRndGUpID49IDA7IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGd0KSA+IDA7IH07XG4gICAgfVxuICB9XG5cbiAgaWYgKHF1ZXJ5Lmhhc093blByb3BlcnR5KCckZ3QnKSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGd0KSA+IDA7IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kZ3RlKSA+PSAwOyB9O1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCB0ZWxscyB3aGV0aGVyIGEgZ2l2ZW4ga2V5IG1hdGNoZXMgYW4gdXBwZXIgYm91bmRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0VXBwZXJCb3VuZE1hdGNoZXIgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIE5vIGxvd2VyIGJvdW5kXG4gIGlmICghcXVlcnkuaGFzT3duUHJvcGVydHkoJyRsdCcpICYmICFxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGx0ZScpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gIH1cblxuICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoJyRsdCcpICYmIHF1ZXJ5Lmhhc093blByb3BlcnR5KCckbHRlJykpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlS2V5cyhxdWVyeS4kbHRlLCBxdWVyeS4kbHQpID09PSAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRsdCkgPCAwOyB9O1xuICAgIH1cblxuICAgIGlmIChzZWxmLmNvbXBhcmVLZXlzKHF1ZXJ5LiRsdGUsIHF1ZXJ5LiRsdCkgPCAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRsdGUpIDw9IDA7IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGx0KSA8IDA7IH07XG4gICAgfVxuICB9XG5cbiAgaWYgKHF1ZXJ5Lmhhc093blByb3BlcnR5KCckbHQnKSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGx0KSA8IDA7IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kbHRlKSA8PSAwOyB9O1xuICB9XG59O1xuXG5cbi8vIEFwcGVuZCBhbGwgZWxlbWVudHMgaW4gdG9BcHBlbmQgdG8gYXJyYXlcbmZ1bmN0aW9uIGFwcGVuZCAoYXJyYXksIHRvQXBwZW5kKSB7XG4gIHZhciBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCB0b0FwcGVuZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGFycmF5LnB1c2godG9BcHBlbmRbaV0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBHZXQgYWxsIGRhdGEgZm9yIGEga2V5IGJldHdlZW4gYm91bmRzXG4gKiBSZXR1cm4gaXQgaW4ga2V5IG9yZGVyXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnkgTW9uZ28tc3R5bGUgcXVlcnkgd2hlcmUga2V5cyBhcmUgJGx0LCAkbHRlLCAkZ3Qgb3IgJGd0ZSAob3RoZXIga2V5cyBhcmUgbm90IGNvbnNpZGVyZWQpXG4gKiBAcGFyYW0ge0Z1bmN0aW9uc30gbGJtL3VibSBtYXRjaGluZyBmdW5jdGlvbnMgY2FsY3VsYXRlZCBhdCB0aGUgZmlyc3QgcmVjdXJzaXZlIHN0ZXBcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuYmV0d2VlbkJvdW5kcyA9IGZ1bmN0aW9uIChxdWVyeSwgbGJtLCB1Ym0pIHtcbiAgdmFyIHJlcyA9IFtdO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuIFtdOyB9ICAgLy8gRW1wdHkgdHJlZVxuXG4gIGxibSA9IGxibSB8fCB0aGlzLmdldExvd2VyQm91bmRNYXRjaGVyKHF1ZXJ5KTtcbiAgdWJtID0gdWJtIHx8IHRoaXMuZ2V0VXBwZXJCb3VuZE1hdGNoZXIocXVlcnkpO1xuXG4gIGlmIChsYm0odGhpcy5rZXkpICYmIHRoaXMubGVmdCkgeyBhcHBlbmQocmVzLCB0aGlzLmxlZnQuYmV0d2VlbkJvdW5kcyhxdWVyeSwgbGJtLCB1Ym0pKTsgfVxuICBpZiAobGJtKHRoaXMua2V5KSAmJiB1Ym0odGhpcy5rZXkpKSB7IGFwcGVuZChyZXMsIHRoaXMuZGF0YSk7IH1cbiAgaWYgKHVibSh0aGlzLmtleSkgJiYgdGhpcy5yaWdodCkgeyBhcHBlbmQocmVzLCB0aGlzLnJpZ2h0LmJldHdlZW5Cb3VuZHMocXVlcnksIGxibSwgdWJtKSk7IH1cblxuICByZXR1cm4gcmVzO1xufTtcblxuXG4vKipcbiAqIERlbGV0ZSB0aGUgY3VycmVudCBub2RlIGlmIGl0IGlzIGEgbGVhZlxuICogUmV0dXJuIHRydWUgaWYgaXQgd2FzIGRlbGV0ZWRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZGVsZXRlSWZMZWFmID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5sZWZ0IHx8IHRoaXMucmlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgLy8gVGhlIGxlYWYgaXMgaXRzZWxmIGEgcm9vdFxuICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgZGVsZXRlIHRoaXMua2V5O1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHRoaXMucGFyZW50LmxlZnQgPT09IHRoaXMpIHtcbiAgICB0aGlzLnBhcmVudC5sZWZ0ID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnBhcmVudC5yaWdodCA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBEZWxldGUgdGhlIGN1cnJlbnQgbm9kZSBpZiBpdCBoYXMgb25seSBvbmUgY2hpbGRcbiAqIFJldHVybiB0cnVlIGlmIGl0IHdhcyBkZWxldGVkXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmRlbGV0ZUlmT25seU9uZUNoaWxkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY2hpbGQ7XG5cbiAgaWYgKHRoaXMubGVmdCAmJiAhdGhpcy5yaWdodCkgeyBjaGlsZCA9IHRoaXMubGVmdDsgfVxuICBpZiAoIXRoaXMubGVmdCAmJiB0aGlzLnJpZ2h0KSB7IGNoaWxkID0gdGhpcy5yaWdodDsgfVxuICBpZiAoIWNoaWxkKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIC8vIFJvb3RcbiAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgIHRoaXMua2V5ID0gY2hpbGQua2V5O1xuICAgIHRoaXMuZGF0YSA9IGNoaWxkLmRhdGE7XG5cbiAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgIGlmIChjaGlsZC5sZWZ0KSB7XG4gICAgICB0aGlzLmxlZnQgPSBjaGlsZC5sZWZ0O1xuICAgICAgY2hpbGQubGVmdC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMucmlnaHQgPSBudWxsO1xuICAgIGlmIChjaGlsZC5yaWdodCkge1xuICAgICAgdGhpcy5yaWdodCA9IGNoaWxkLnJpZ2h0O1xuICAgICAgY2hpbGQucmlnaHQucGFyZW50ID0gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0aGlzLnBhcmVudC5sZWZ0ID09PSB0aGlzKSB7XG4gICAgdGhpcy5wYXJlbnQubGVmdCA9IGNoaWxkO1xuICAgIGNoaWxkLnBhcmVudCA9IHRoaXMucGFyZW50O1xuICB9IGVsc2Uge1xuICAgIHRoaXMucGFyZW50LnJpZ2h0ID0gY2hpbGQ7XG4gICAgY2hpbGQucGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBEZWxldGUgYSBrZXkgb3IganVzdCBhIHZhbHVlXG4gKiBAcGFyYW0ge0tleX0ga2V5XG4gKiBAcGFyYW0ge1ZhbHVlfSB2YWx1ZSBPcHRpb25hbC4gSWYgbm90IHNldCwgdGhlIHdob2xlIGtleSBpcyBkZWxldGVkLiBJZiBzZXQsIG9ubHkgdGhpcyB2YWx1ZSBpcyBkZWxldGVkXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBuZXdEYXRhID0gW10sIHJlcGxhY2VXaXRoXG4gICAgLCBzZWxmID0gdGhpc1xuICAgIDtcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybjsgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpIDwgMCkge1xuICAgIGlmICh0aGlzLmxlZnQpIHsgdGhpcy5sZWZ0LmRlbGV0ZShrZXksIHZhbHVlKTsgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpID4gMCkge1xuICAgIGlmICh0aGlzLnJpZ2h0KSB7IHRoaXMucmlnaHQuZGVsZXRlKGtleSwgdmFsdWUpOyB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpID09PSAwKSB7IHJldHVybjsgfVxuXG4gIC8vIERlbGV0ZSBvbmx5IGEgdmFsdWVcbiAgaWYgKHRoaXMuZGF0YS5sZW5ndGggPiAxICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKCFzZWxmLmNoZWNrVmFsdWVFcXVhbGl0eShkLCB2YWx1ZSkpIHsgbmV3RGF0YS5wdXNoKGQpOyB9XG4gICAgfSk7XG4gICAgc2VsZi5kYXRhID0gbmV3RGF0YTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWxldGUgdGhlIHdob2xlIG5vZGVcbiAgaWYgKHRoaXMuZGVsZXRlSWZMZWFmKCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRoaXMuZGVsZXRlSWZPbmx5T25lQ2hpbGQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFdlIGFyZSBpbiB0aGUgY2FzZSB3aGVyZSB0aGUgbm9kZSB0byBkZWxldGUgaGFzIHR3byBjaGlsZHJlblxuICBpZiAoTWF0aC5yYW5kb20oKSA+PSAwLjUpIHsgICAvLyBSYW5kb21pemUgcmVwbGFjZW1lbnQgdG8gYXZvaWQgdW5iYWxhbmNpbmcgdGhlIHRyZWUgdG9vIG11Y2hcbiAgICAvLyBVc2UgdGhlIGluLW9yZGVyIHByZWRlY2Vzc29yXG4gICAgcmVwbGFjZVdpdGggPSB0aGlzLmxlZnQuZ2V0TWF4S2V5RGVzY2VuZGFudCgpO1xuXG4gICAgdGhpcy5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gICAgdGhpcy5kYXRhID0gcmVwbGFjZVdpdGguZGF0YTtcblxuICAgIGlmICh0aGlzID09PSByZXBsYWNlV2l0aC5wYXJlbnQpIHsgICAvLyBTcGVjaWFsIGNhc2VcbiAgICAgIHRoaXMubGVmdCA9IHJlcGxhY2VXaXRoLmxlZnQ7XG4gICAgICBpZiAocmVwbGFjZVdpdGgubGVmdCkgeyByZXBsYWNlV2l0aC5sZWZ0LnBhcmVudCA9IHJlcGxhY2VXaXRoLnBhcmVudDsgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlV2l0aC5wYXJlbnQucmlnaHQgPSByZXBsYWNlV2l0aC5sZWZ0O1xuICAgICAgaWYgKHJlcGxhY2VXaXRoLmxlZnQpIHsgcmVwbGFjZVdpdGgubGVmdC5wYXJlbnQgPSByZXBsYWNlV2l0aC5wYXJlbnQ7IH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBpbi1vcmRlciBzdWNjZXNzb3JcbiAgICByZXBsYWNlV2l0aCA9IHRoaXMucmlnaHQuZ2V0TWluS2V5RGVzY2VuZGFudCgpO1xuXG4gICAgdGhpcy5rZXkgPSByZXBsYWNlV2l0aC5rZXk7XG4gICAgdGhpcy5kYXRhID0gcmVwbGFjZVdpdGguZGF0YTtcblxuICAgIGlmICh0aGlzID09PSByZXBsYWNlV2l0aC5wYXJlbnQpIHsgICAvLyBTcGVjaWFsIGNhc2VcbiAgICAgIHRoaXMucmlnaHQgPSByZXBsYWNlV2l0aC5yaWdodDtcbiAgICAgIGlmIChyZXBsYWNlV2l0aC5yaWdodCkgeyByZXBsYWNlV2l0aC5yaWdodC5wYXJlbnQgPSByZXBsYWNlV2l0aC5wYXJlbnQ7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbGFjZVdpdGgucGFyZW50LmxlZnQgPSByZXBsYWNlV2l0aC5yaWdodDtcbiAgICAgIGlmIChyZXBsYWNlV2l0aC5yaWdodCkgeyByZXBsYWNlV2l0aC5yaWdodC5wYXJlbnQgPSByZXBsYWNlV2l0aC5wYXJlbnQ7IH1cbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBFeGVjdXRlIGEgZnVuY3Rpb24gb24gZXZlcnkgbm9kZSBvZiB0aGUgdHJlZSwgaW4ga2V5IG9yZGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBTaWduYXR1cmU6IG5vZGUuIE1vc3QgdXNlZnVsIHdpbGwgcHJvYmFibHkgYmUgbm9kZS5rZXkgYW5kIG5vZGUuZGF0YVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5leGVjdXRlT25FdmVyeU5vZGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgaWYgKHRoaXMubGVmdCkgeyB0aGlzLmxlZnQuZXhlY3V0ZU9uRXZlcnlOb2RlKGZuKTsgfVxuICBmbih0aGlzKTtcbiAgaWYgKHRoaXMucmlnaHQpIHsgdGhpcy5yaWdodC5leGVjdXRlT25FdmVyeU5vZGUoZm4pOyB9XG59O1xuXG5cbi8qKlxuICogUHJldHR5IHByaW50IGEgdHJlZVxuICogQHBhcmFtIHtCb29sZWFufSBwcmludERhdGEgVG8gcHJpbnQgdGhlIG5vZGVzJyBkYXRhIGFsb25nIHdpdGggdGhlIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5wcmV0dHlQcmludCA9IGZ1bmN0aW9uIChwcmludERhdGEsIHNwYWNpbmcpIHtcbiAgc3BhY2luZyA9IHNwYWNpbmcgfHwgXCJcIjtcblxuICBjb25zb2xlLmxvZyhzcGFjaW5nICsgXCIqIFwiICsgdGhpcy5rZXkpO1xuICBpZiAocHJpbnREYXRhKSB7IGNvbnNvbGUubG9nKHNwYWNpbmcgKyBcIiogXCIgKyB0aGlzLmRhdGEpOyB9XG5cbiAgaWYgKCF0aGlzLmxlZnQgJiYgIXRoaXMucmlnaHQpIHsgcmV0dXJuOyB9XG5cbiAgaWYgKHRoaXMubGVmdCkge1xuICAgIHRoaXMubGVmdC5wcmV0dHlQcmludChwcmludERhdGEsIHNwYWNpbmcgKyBcIiAgXCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKHNwYWNpbmcgKyBcIiAgKlwiKTtcbiAgfVxuICBpZiAodGhpcy5yaWdodCkge1xuICAgIHRoaXMucmlnaHQucHJldHR5UHJpbnQocHJpbnREYXRhLCBzcGFjaW5nICsgXCIgIFwiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhzcGFjaW5nICsgXCIgICpcIik7XG4gIH1cbn07XG5cblxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMgPSBCaW5hcnlTZWFyY2hUcmVlO1xuXG59LHtcIi4vY3VzdG9tVXRpbHNcIjo0fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIFJldHVybiBhbiBhcnJheSB3aXRoIHRoZSBudW1iZXJzIGZyb20gMCB0byBuLTEsIGluIGEgcmFuZG9tIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGdldFJhbmRvbUFycmF5IChuKSB7XG4gIHZhciByZXMsIG5leHQ7XG5cbiAgaWYgKG4gPT09IDApIHsgcmV0dXJuIFtdOyB9XG4gIGlmIChuID09PSAxKSB7IHJldHVybiBbMF07IH1cblxuICByZXMgPSBnZXRSYW5kb21BcnJheShuIC0gMSk7XG4gIG5leHQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBuKTtcbiAgcmVzLnNwbGljZShuZXh0LCAwLCBuIC0gMSk7ICAgLy8gQWRkIG4tMSBhdCBhIHJhbmRvbSBwb3NpdGlvbiBpbiB0aGUgYXJyYXlcblxuICByZXR1cm4gcmVzO1xufTtcbm1vZHVsZS5leHBvcnRzLmdldFJhbmRvbUFycmF5ID0gZ2V0UmFuZG9tQXJyYXk7XG5cblxuLypcbiAqIERlZmF1bHQgY29tcGFyZUtleXMgZnVuY3Rpb24gd2lsbCB3b3JrIGZvciBudW1iZXJzLCBzdHJpbmdzIGFuZCBkYXRlc1xuICovXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbiAoYSwgYikge1xuICBpZiAoYSA8IGIpIHsgcmV0dXJuIC0xOyB9XG4gIGlmIChhID4gYikgeyByZXR1cm4gMTsgfVxuICBpZiAoYSA9PT0gYikgeyByZXR1cm4gMDsgfVxuXG4gIHRocm93IHsgbWVzc2FnZTogXCJDb3VsZG4ndCBjb21wYXJlIGVsZW1lbnRzXCIsIGE6IGEsIGI6IGIgfTtcbn1cbm1vZHVsZS5leHBvcnRzLmRlZmF1bHRDb21wYXJlS2V5c0Z1bmN0aW9uID0gZGVmYXVsdENvbXBhcmVLZXlzRnVuY3Rpb247XG5cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHR3byB2YWx1ZXMgYXJlIGVxdWFsICh1c2VkIGluIG5vbi11bmlxdWUgZGVsZXRpb24pXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRDaGVja1ZhbHVlRXF1YWxpdHkgKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0Q2hlY2tWYWx1ZUVxdWFsaXR5ID0gZGVmYXVsdENoZWNrVmFsdWVFcXVhbGl0eTtcblxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyAgICAgVW5kZXJzY29yZS5qcyAxLjQuNFxuLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAxMyBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgSW5jLlxuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbihmdW5jdGlvbigpIHtcblxuICAvLyBCYXNlbGluZSBzZXR1cFxuICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIGluIHRoZSBicm93c2VyLCBvciBgZ2xvYmFsYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHRoaXM7XG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBFc3RhYmxpc2ggdGhlIG9iamVjdCB0aGF0IGdldHMgcmV0dXJuZWQgdG8gYnJlYWsgb3V0IG9mIGEgbG9vcCBpdGVyYXRpb24uXG4gIHZhciBicmVha2VyID0ge307XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgRnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuICB2YXIgcHVzaCAgICAgICAgICAgICA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICAgIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgICAgY29uY2F0ICAgICAgICAgICA9IEFycmF5UHJvdG8uY29uY2F0LFxuICAgICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlRm9yRWFjaCAgICAgID0gQXJyYXlQcm90by5mb3JFYWNoLFxuICAgIG5hdGl2ZU1hcCAgICAgICAgICA9IEFycmF5UHJvdG8ubWFwLFxuICAgIG5hdGl2ZVJlZHVjZSAgICAgICA9IEFycmF5UHJvdG8ucmVkdWNlLFxuICAgIG5hdGl2ZVJlZHVjZVJpZ2h0ICA9IEFycmF5UHJvdG8ucmVkdWNlUmlnaHQsXG4gICAgbmF0aXZlRmlsdGVyICAgICAgID0gQXJyYXlQcm90by5maWx0ZXIsXG4gICAgbmF0aXZlRXZlcnkgICAgICAgID0gQXJyYXlQcm90by5ldmVyeSxcbiAgICBuYXRpdmVTb21lICAgICAgICAgPSBBcnJheVByb3RvLnNvbWUsXG4gICAgbmF0aXZlSW5kZXhPZiAgICAgID0gQXJyYXlQcm90by5pbmRleE9mLFxuICAgIG5hdGl2ZUxhc3RJbmRleE9mICA9IEFycmF5UHJvdG8ubGFzdEluZGV4T2YsXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZDtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZSBvbGQgYHJlcXVpcmUoKWAgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QgdmlhIGEgc3RyaW5nIGlkZW50aWZpZXIsXG4gIC8vIGZvciBDbG9zdXJlIENvbXBpbGVyIFwiYWR2YW5jZWRcIiBtb2RlLlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjQuNCc7XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyBvYmplY3RzIHdpdGggdGhlIGJ1aWx0LWluIGBmb3JFYWNoYCwgYXJyYXlzLCBhbmQgcmF3IG9iamVjdHMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBmb3JFYWNoYCBpZiBhdmFpbGFibGUuXG4gIHZhciBlYWNoID0gXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuO1xuICAgIGlmIChuYXRpdmVGb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBuYXRpdmVGb3JFYWNoKSB7XG4gICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKSA9PT0gYnJlYWtlcikgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChfLmhhcyhvYmosIGtleSkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopID09PSBicmVha2VyKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRvciB0byBlYWNoIGVsZW1lbnQuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBtYXBgIGlmIGF2YWlsYWJsZS5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHRzO1xuICAgIGlmIChuYXRpdmVNYXAgJiYgb2JqLm1hcCA9PT0gbmF0aXZlTWFwKSByZXR1cm4gb2JqLm1hcChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzLmxlbmd0aF0gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgdmFyIHJlZHVjZUVycm9yID0gJ1JlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUnO1xuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYHJlZHVjZWAgaWYgYXZhaWxhYmxlLlxuICBfLnJlZHVjZSA9IF8uZm9sZGwgPSBfLmluamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIG1lbW8sIGNvbnRleHQpIHtcbiAgICB2YXIgaW5pdGlhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICAgIGlmIChvYmogPT0gbnVsbCkgb2JqID0gW107XG4gICAgaWYgKG5hdGl2ZVJlZHVjZSAmJiBvYmoucmVkdWNlID09PSBuYXRpdmVSZWR1Y2UpIHtcbiAgICAgIGlmIChjb250ZXh0KSBpdGVyYXRvciA9IF8uYmluZChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgICByZXR1cm4gaW5pdGlhbCA/IG9iai5yZWR1Y2UoaXRlcmF0b3IsIG1lbW8pIDogb2JqLnJlZHVjZShpdGVyYXRvcik7XG4gICAgfVxuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmICghaW5pdGlhbCkge1xuICAgICAgICBtZW1vID0gdmFsdWU7XG4gICAgICAgIGluaXRpYWwgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgdmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWluaXRpYWwpIHRocm93IG5ldyBUeXBlRXJyb3IocmVkdWNlRXJyb3IpO1xuICAgIHJldHVybiBtZW1vO1xuICB9O1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgcmVkdWNlUmlnaHRgIGlmIGF2YWlsYWJsZS5cbiAgXy5yZWR1Y2VSaWdodCA9IF8uZm9sZHIgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgICBpZiAob2JqID09IG51bGwpIG9iaiA9IFtdO1xuICAgIGlmIChuYXRpdmVSZWR1Y2VSaWdodCAmJiBvYmoucmVkdWNlUmlnaHQgPT09IG5hdGl2ZVJlZHVjZVJpZ2h0KSB7XG4gICAgICBpZiAoY29udGV4dCkgaXRlcmF0b3IgPSBfLmJpbmQoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGluaXRpYWwgPyBvYmoucmVkdWNlUmlnaHQoaXRlcmF0b3IsIG1lbW8pIDogb2JqLnJlZHVjZVJpZ2h0KGl0ZXJhdG9yKTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gK2xlbmd0aCkge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIH1cbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICBpbmRleCA9IGtleXMgPyBrZXlzWy0tbGVuZ3RoXSA6IC0tbGVuZ3RoO1xuICAgICAgaWYgKCFpbml0aWFsKSB7XG4gICAgICAgIG1lbW8gPSBvYmpbaW5kZXhdO1xuICAgICAgICBpbml0aWFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG1lbW8sIG9ialtpbmRleF0sIGluZGV4LCBsaXN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWluaXRpYWwpIHRocm93IG5ldyBUeXBlRXJyb3IocmVkdWNlRXJyb3IpO1xuICAgIHJldHVybiBtZW1vO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC4gQWxpYXNlZCBhcyBgZGV0ZWN0YC5cbiAgXy5maW5kID0gXy5kZXRlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBhbnkob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGZpbHRlcmAgaWYgYXZhaWxhYmxlLlxuICAvLyBBbGlhc2VkIGFzIGBzZWxlY3RgLlxuICBfLmZpbHRlciA9IF8uc2VsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0cztcbiAgICBpZiAobmF0aXZlRmlsdGVyICYmIG9iai5maWx0ZXIgPT09IG5hdGl2ZUZpbHRlcikgcmV0dXJuIG9iai5maWx0ZXIoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHJlc3VsdHNbcmVzdWx0cy5sZW5ndGhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgZm9yIHdoaWNoIGEgdHJ1dGggdGVzdCBmYWlscy5cbiAgXy5yZWplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXR1cm4gIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICB9LCBjb250ZXh0KTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgd2hldGhlciBhbGwgb2YgdGhlIGVsZW1lbnRzIG1hdGNoIGEgdHJ1dGggdGVzdC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGV2ZXJ5YCBpZiBhdmFpbGFibGUuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRvciB8fCAoaXRlcmF0b3IgPSBfLmlkZW50aXR5KTtcbiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKG5hdGl2ZUV2ZXJ5ICYmIG9iai5ldmVyeSA9PT0gbmF0aXZlRXZlcnkpIHJldHVybiBvYmouZXZlcnkoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmICghKHJlc3VsdCA9IHJlc3VsdCAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpKSByZXR1cm4gYnJlYWtlcjtcbiAgICB9KTtcbiAgICByZXR1cm4gISFyZXN1bHQ7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgbWF0Y2hlcyBhIHRydXRoIHRlc3QuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBzb21lYCBpZiBhdmFpbGFibGUuXG4gIC8vIEFsaWFzZWQgYXMgYGFueWAuXG4gIHZhciBhbnkgPSBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRvciB8fCAoaXRlcmF0b3IgPSBfLmlkZW50aXR5KTtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0O1xuICAgIGlmIChuYXRpdmVTb21lICYmIG9iai5zb21lID09PSBuYXRpdmVTb21lKSByZXR1cm4gb2JqLnNvbWUoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChyZXN1bHQgfHwgKHJlc3VsdCA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkpIHJldHVybiBicmVha2VyO1xuICAgIH0pO1xuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgdGhlIGFycmF5IG9yIG9iamVjdCBjb250YWlucyBhIGdpdmVuIHZhbHVlICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlID0gZnVuY3Rpb24ob2JqLCB0YXJnZXQpIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBpZiAobmF0aXZlSW5kZXhPZiAmJiBvYmouaW5kZXhPZiA9PT0gbmF0aXZlSW5kZXhPZikgcmV0dXJuIG9iai5pbmRleE9mKHRhcmdldCkgIT0gLTE7XG4gICAgcmV0dXJuIGFueShvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRhcmdldDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIChpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdKS5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgbWFwYDogZmV0Y2hpbmcgYSBwcm9wZXJ0eS5cbiAgXy5wbHVjayA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gdmFsdWVba2V5XTsgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycywgZmlyc3QpIHtcbiAgICBpZiAoXy5pc0VtcHR5KGF0dHJzKSkgcmV0dXJuIGZpcnN0ID8gbnVsbCA6IFtdO1xuICAgIHJldHVybiBfW2ZpcnN0ID8gJ2ZpbmQnIDogJ2ZpbHRlciddKG9iaiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoYXR0cnNba2V5XSAhPT0gdmFsdWVba2V5XSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmluZGA6IGdldHRpbmcgdGhlIGZpcnN0IG9iamVjdFxuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmZpbmRXaGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy53aGVyZShvYmosIGF0dHJzLCB0cnVlKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCBvciAoZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIC8vIENhbid0IG9wdGltaXplIGFycmF5cyBvZiBpbnRlZ2VycyBsb25nZXIgdGhhbiA2NSw1MzUgZWxlbWVudHMuXG4gIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTgwNzk3XG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmICghaXRlcmF0b3IgJiYgXy5pc0FycmF5KG9iaikgJiYgb2JqWzBdID09PSArb2JqWzBdICYmIG9iai5sZW5ndGggPCA2NTUzNSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsIG9iaik7XG4gICAgfVxuICAgIGlmICghaXRlcmF0b3IgJiYgXy5pc0VtcHR5KG9iaikpIHJldHVybiAtSW5maW5pdHk7XG4gICAgdmFyIHJlc3VsdCA9IHtjb21wdXRlZCA6IC1JbmZpbml0eSwgdmFsdWU6IC1JbmZpbml0eX07XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgdmFyIGNvbXB1dGVkID0gaXRlcmF0b3IgPyBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkgOiB2YWx1ZTtcbiAgICAgIGNvbXB1dGVkID49IHJlc3VsdC5jb21wdXRlZCAmJiAocmVzdWx0ID0ge3ZhbHVlIDogdmFsdWUsIGNvbXB1dGVkIDogY29tcHV0ZWR9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzQXJyYXkob2JqKSAmJiBvYmpbMF0gPT09ICtvYmpbMF0gJiYgb2JqLmxlbmd0aCA8IDY1NTM1KSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgb2JqKTtcbiAgICB9XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzRW1wdHkob2JqKSkgcmV0dXJuIEluZmluaXR5O1xuICAgIHZhciByZXN1bHQgPSB7Y29tcHV0ZWQgOiBJbmZpbml0eSwgdmFsdWU6IEluZmluaXR5fTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSBpdGVyYXRvciA/IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSA6IHZhbHVlO1xuICAgICAgY29tcHV0ZWQgPCByZXN1bHQuY29tcHV0ZWQgJiYgKHJlc3VsdCA9IHt2YWx1ZSA6IHZhbHVlLCBjb21wdXRlZCA6IGNvbXB1dGVkfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgfTtcblxuICAvLyBTaHVmZmxlIGFuIGFycmF5LlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmFuZDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzaHVmZmxlZCA9IFtdO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmFuZCA9IF8ucmFuZG9tKGluZGV4KyspO1xuICAgICAgc2h1ZmZsZWRbaW5kZXggLSAxXSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgbG9va3VwIGl0ZXJhdG9ycy5cbiAgdmFyIGxvb2t1cEl0ZXJhdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogZnVuY3Rpb24ob2JqKXsgcmV0dXJuIG9ialt2YWx1ZV07IH07XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdG9yLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBsb29rdXBJdGVyYXRvcih2YWx1ZSk7XG4gICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlIDogdmFsdWUsXG4gICAgICAgIGluZGV4IDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhIDogaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggPCByaWdodC5pbmRleCA/IC0xIDogMTtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihvYmosIHZhbHVlLCBjb250ZXh0LCBiZWhhdmlvcikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIgaXRlcmF0b3IgPSBsb29rdXBJdGVyYXRvcih2YWx1ZSB8fCBfLmlkZW50aXR5KTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgICBiZWhhdmlvcihyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZnVuY3Rpb24ob2JqLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBncm91cChvYmosIHZhbHVlLCBjb250ZXh0LCBmdW5jdGlvbihyZXN1bHQsIGtleSwgdmFsdWUpIHtcbiAgICAgIChfLmhhcyhyZXN1bHQsIGtleSkgPyByZXN1bHRba2V5XSA6IChyZXN1bHRba2V5XSA9IFtdKSkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGZ1bmN0aW9uKG9iaiwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZ3JvdXAob2JqLCB2YWx1ZSwgY29udGV4dCwgZnVuY3Rpb24ocmVzdWx0LCBrZXkpIHtcbiAgICAgIGlmICghXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XSA9IDA7XG4gICAgICByZXN1bHRba2V5XSsrO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yID09IG51bGwgPyBfLmlkZW50aXR5IDogbG9va3VwSXRlcmF0b3IoaXRlcmF0b3IpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqKTtcbiAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgYXJyYXlbbWlkXSkgPCB2YWx1ZSA/IGxvdyA9IG1pZCArIDEgOiBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIFNhZmVseSBjb252ZXJ0IGFueXRoaW5nIGl0ZXJhYmxlIGludG8gYSByZWFsLCBsaXZlIGFycmF5LlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIHJldHVybiAobiAhPSBudWxsKSAmJiAhZ3VhcmQgPyBzbGljZS5jYWxsKGFycmF5LCAwLCBuKSA6IGFycmF5WzBdO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuICAvLyB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiBhbGwgdGhlIHZhbHVlcyBpblxuICAvLyB0aGUgYXJyYXksIGV4Y2x1ZGluZyB0aGUgbGFzdCBOLiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGhcbiAgLy8gYF8ubWFwYC5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIGFycmF5Lmxlbmd0aCAtICgobiA9PSBudWxsKSB8fCBndWFyZCA/IDEgOiBuKSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGxhc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKChuICE9IG51bGwpICYmICFndWFyZCkge1xuICAgICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIE1hdGgubWF4KGFycmF5Lmxlbmd0aCAtIG4sIDApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgIGFuZCBgZHJvcGAuXG4gIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuXG4gIC8vIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZSBhcnJheS4gVGhlICoqZ3VhcmQqKlxuICAvLyBjaGVjayBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAobiA9PSBudWxsKSB8fCBndWFyZCA/IDEgOiBuKTtcbiAgfTtcblxuICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBfLmlkZW50aXR5KTtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG4gIHZhciBmbGF0dGVuID0gZnVuY3Rpb24oaW5wdXQsIHNoYWxsb3csIG91dHB1dCkge1xuICAgIGVhY2goaW5wdXQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBzaGFsbG93ID8gcHVzaC5hcHBseShvdXRwdXQsIHZhbHVlKSA6IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIG91dHB1dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb21wbGV0ZWx5IGZsYXR0ZW5lZCB2ZXJzaW9uIG9mIGFuIGFycmF5LlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBbXSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIEFsaWFzZWQgYXMgYHVuaXF1ZWAuXG4gIF8udW5pcSA9IF8udW5pcXVlID0gZnVuY3Rpb24oYXJyYXksIGlzU29ydGVkLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXNTb3J0ZWQpKSB7XG4gICAgICBjb250ZXh0ID0gaXRlcmF0b3I7XG4gICAgICBpdGVyYXRvciA9IGlzU29ydGVkO1xuICAgICAgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGluaXRpYWwgPSBpdGVyYXRvciA/IF8ubWFwKGFycmF5LCBpdGVyYXRvciwgY29udGV4dCkgOiBhcnJheTtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZWFjaChpbml0aWFsLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGlmIChpc1NvcnRlZCA/ICghaW5kZXggfHwgc2VlbltzZWVuLmxlbmd0aCAtIDFdICE9PSB2YWx1ZSkgOiAhXy5jb250YWlucyhzZWVuLCB2YWx1ZSkpIHtcbiAgICAgICAgc2Vlbi5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGFycmF5W2luZGV4XSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1bmlvbjogZWFjaCBkaXN0aW5jdCBlbGVtZW50IGZyb20gYWxsIG9mXG4gIC8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLnVuaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW5pcShjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgYXJndW1lbnRzKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKF8udW5pcShhcnJheSksIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBfLmV2ZXJ5KHJlc3QsIGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBfLmluZGV4T2Yob3RoZXIsIGl0ZW0pID49IDA7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXsgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTsgfSk7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICB2YXIgbGVuZ3RoID0gXy5tYXgoXy5wbHVjayhhcmdzLCAnbGVuZ3RoJykpO1xuICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0c1tpXSA9IF8ucGx1Y2soYXJncywgXCJcIiArIGkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0cyBsaXN0cyBpbnRvIG9iamVjdHMuIFBhc3MgZWl0aGVyIGEgc2luZ2xlIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gXG4gIC8vIHBhaXJzLCBvciB0d28gcGFyYWxsZWwgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCAtLSBvbmUgb2Yga2V5cywgYW5kIG9uZSBvZlxuICAvLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gIF8ub2JqZWN0ID0gZnVuY3Rpb24obGlzdCwgdmFsdWVzKSB7XG4gICAgaWYgKGxpc3QgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldWzBdXSA9IGxpc3RbaV1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gSWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwbHkgdXMgd2l0aCBpbmRleE9mIChJJ20gbG9va2luZyBhdCB5b3UsICoqTVNJRSoqKSxcbiAgLy8gd2UgbmVlZCB0aGlzIGZ1bmN0aW9uLiBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuXG4gIC8vIGl0ZW0gaW4gYW4gYXJyYXksIG9yIC0xIGlmIHRoZSBpdGVtIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgYXJyYXkuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBpbmRleE9mYCBpZiBhdmFpbGFibGUuXG4gIC8vIElmIHRoZSBhcnJheSBpcyBsYXJnZSBhbmQgYWxyZWFkeSBpbiBzb3J0IG9yZGVyLCBwYXNzIGB0cnVlYFxuICAvLyBmb3IgKippc1NvcnRlZCoqIHRvIHVzZSBiaW5hcnkgc2VhcmNoLlxuICBfLmluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgaXRlbSwgaXNTb3J0ZWQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIC0xO1xuICAgIHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaXNTb3J0ZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgaXNTb3J0ZWQgPT0gJ251bWJlcicpIHtcbiAgICAgICAgaSA9IChpc1NvcnRlZCA8IDAgPyBNYXRoLm1heCgwLCBsICsgaXNTb3J0ZWQpIDogaXNTb3J0ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IF8uc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaV0gPT09IGl0ZW0gPyBpIDogLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYXRpdmVJbmRleE9mICYmIGFycmF5LmluZGV4T2YgPT09IG5hdGl2ZUluZGV4T2YpIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0sIGlzU29ydGVkKTtcbiAgICBmb3IgKDsgaSA8IGw7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGxhc3RJbmRleE9mYCBpZiBhdmFpbGFibGUuXG4gIF8ubGFzdEluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgaXRlbSwgZnJvbSkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gLTE7XG4gICAgdmFyIGhhc0luZGV4ID0gZnJvbSAhPSBudWxsO1xuICAgIGlmIChuYXRpdmVMYXN0SW5kZXhPZiAmJiBhcnJheS5sYXN0SW5kZXhPZiA9PT0gbmF0aXZlTGFzdEluZGV4T2YpIHtcbiAgICAgIHJldHVybiBoYXNJbmRleCA/IGFycmF5Lmxhc3RJbmRleE9mKGl0ZW0sIGZyb20pIDogYXJyYXkubGFzdEluZGV4T2YoaXRlbSk7XG4gICAgfVxuICAgIHZhciBpID0gKGhhc0luZGV4ID8gZnJvbSA6IGFycmF5Lmxlbmd0aCk7XG4gICAgd2hpbGUgKGktLSkgaWYgKGFycmF5W2ldID09PSBpdGVtKSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IGFyZ3VtZW50c1syXSB8fCAxO1xuXG4gICAgdmFyIGxlbiA9IE1hdGgubWF4KE1hdGguY2VpbCgoc3RvcCAtIHN0YXJ0KSAvIHN0ZXApLCAwKTtcbiAgICB2YXIgaWR4ID0gMDtcbiAgICB2YXIgcmFuZ2UgPSBuZXcgQXJyYXkobGVuKTtcblxuICAgIHdoaWxlKGlkeCA8IGxlbikge1xuICAgICAgcmFuZ2VbaWR4KytdID0gc3RhcnQ7XG4gICAgICBzdGFydCArPSBzdGVwO1xuICAgIH1cblxuICAgIHJldHVybiByYW5nZTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiAoYWhlbSkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmIChmdW5jLmJpbmQgPT09IG5hdGl2ZUJpbmQgJiYgbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbiAgLy8gYXJndW1lbnRzIHByZS1maWxsZWQsIHdpdGhvdXQgY2hhbmdpbmcgaXRzIGR5bmFtaWMgYHRoaXNgIGNvbnRleHQuXG4gIF8ucGFydGlhbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEJpbmQgYWxsIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdFxuICAvLyBhbGwgY2FsbGJhY2tzIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGZ1bmNzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGlmIChmdW5jcy5sZW5ndGggPT09IDApIGZ1bmNzID0gXy5mdW5jdGlvbnMob2JqKTtcbiAgICBlYWNoKGZ1bmNzLCBmdW5jdGlvbihmKSB7IG9ialtmXSA9IF8uYmluZChvYmpbZl0sIG9iaik7IH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy5cbiAgXy5tZW1vaXplID0gZnVuY3Rpb24oZnVuYywgaGFzaGVyKSB7XG4gICAgdmFyIG1lbW8gPSB7fTtcbiAgICBoYXNoZXIgfHwgKGhhc2hlciA9IF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBrZXkgPSBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBfLmhhcyhtZW1vLCBrZXkpID8gbWVtb1trZXldIDogKG1lbW9ba2V5XSA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBEZWxheXMgYSBmdW5jdGlvbiBmb3IgdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGNhbGxzXG4gIC8vIGl0IHdpdGggdGhlIGFyZ3VtZW50cyBzdXBwbGllZC5cbiAgXy5kZWxheSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpeyByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTsgfSwgd2FpdCk7XG4gIH07XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgcmV0dXJuIF8uZGVsYXkuYXBwbHkoXywgW2Z1bmMsIDFdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHRpbWVvdXQsIHJlc3VsdDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBuZXcgRGF0ZTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIGlmICghaW1tZWRpYXRlKSByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93XG4gIC8vIG9mdGVuIHlvdSBjYWxsIGl0LiBVc2VmdWwgZm9yIGxhenkgaW5pdGlhbGl6YXRpb24uXG4gIF8ub25jZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgcmFuID0gZmFsc2UsIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHJhbikgcmV0dXJuIG1lbW87XG4gICAgICByYW4gPSB0cnVlO1xuICAgICAgbWVtbyA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbZnVuY107XG4gICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gd3JhcHBlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBhIGxpc3Qgb2YgZnVuY3Rpb25zLCBlYWNoXG4gIC8vIGNvbnN1bWluZyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG4gIF8uY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmdW5jcyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGZvciAodmFyIGkgPSBmdW5jcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhcmdzID0gW2Z1bmNzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIGFmdGVyIGJlaW5nIGNhbGxlZCBOIHRpbWVzLlxuICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICBpZiAodGltZXMgPD0gMCkgcmV0dXJuIGZ1bmMoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIE9iamVjdCBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgXG4gIF8ua2V5cyA9IG5hdGl2ZUtleXMgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiAhPT0gT2JqZWN0KG9iaikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgb2JqZWN0Jyk7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBrZXlzW2tleXMubGVuZ3RoXSA9IGtleTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIHZhbHVlcy5wdXNoKG9ialtrZXldKTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHBhaXJzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkgcGFpcnMucHVzaChba2V5LCBvYmpba2V5XV0pO1xuICAgIHJldHVybiBwYWlycztcbiAgfTtcblxuICAvLyBJbnZlcnQgdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3QuIFRoZSB2YWx1ZXMgbXVzdCBiZSBzZXJpYWxpemFibGUuXG4gIF8uaW52ZXJ0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIHJlc3VsdFtvYmpba2V5XV0gPSBrZXk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0aGUgZnVuY3Rpb24gbmFtZXMgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QuXG4gIC8vIEFsaWFzZWQgYXMgYG1ldGhvZHNgXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBmdW5jdGlvbihvYmopIHtcbiAgICBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb25seSBjb250YWluaW5nIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLnBpY2sgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgY29weSA9IHt9O1xuICAgIHZhciBrZXlzID0gY29uY2F0LmFwcGx5KEFycmF5UHJvdG8sIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgZWFjaChrZXlzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChrZXkgaW4gb2JqKSBjb3B5W2tleV0gPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29weTtcbiAgfTtcblxuICAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ub21pdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgdmFyIGtleXMgPSBjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoIV8uY29udGFpbnMoa2V5cywga2V5KSkgY29weVtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgaWYgKG9ialtwcm9wXSA9PSBudWxsKSBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIChzaGFsbG93LWNsb25lZCkgZHVwbGljYXRlIG9mIGFuIG9iamVjdC5cbiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7XG4gIH07XG5cbiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuICAvLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbiAgLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG4gIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikge1xuICAgIGludGVyY2VwdG9yKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIEhhcm1vbnkgYGVnYWxgIHByb3Bvc2FsOiBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwuXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09IDEgLyBiO1xuICAgIC8vIEEgc3RyaWN0IGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5IGJlY2F1c2UgYG51bGwgPT0gdW5kZWZpbmVkYC5cbiAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGEgPT09IGI7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gYSA9PSBTdHJpbmcoYik7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLiBBbiBgZWdhbGAgY29tcGFyaXNvbiBpcyBwZXJmb3JtZWQgZm9yXG4gICAgICAgIC8vIG90aGVyIG51bWVyaWMgdmFsdWVzLlxuICAgICAgICByZXR1cm4gYSAhPSArYSA/IGIgIT0gK2IgOiAoYSA9PSAwID8gMSAvIGEgPT0gMSAvIGIgOiBhID09ICtiKTtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PSArYjtcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIHNvdXJjZSBwYXR0ZXJucyBhbmQgZmxhZ3MuXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgICByZXR1cm4gYS5zb3VyY2UgPT0gYi5zb3VyY2UgJiZcbiAgICAgICAgICAgICAgIGEuZ2xvYmFsID09IGIuZ2xvYmFsICYmXG4gICAgICAgICAgICAgICBhLm11bHRpbGluZSA9PSBiLm11bHRpbGluZSAmJlxuICAgICAgICAgICAgICAgYS5pZ25vcmVDYXNlID09IGIuaWdub3JlQ2FzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gQXNzdW1lIGVxdWFsaXR5IGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpY1xuICAgIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuICAgIHZhciBsZW5ndGggPSBhU3RhY2subGVuZ3RoO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgLy8gTGluZWFyIHNlYXJjaC4gUGVyZm9ybWFuY2UgaXMgaW52ZXJzZWx5IHByb3BvcnRpb25hbCB0byB0aGUgbnVtYmVyIG9mXG4gICAgICAvLyB1bmlxdWUgbmVzdGVkIHN0cnVjdHVyZXMuXG4gICAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09IGI7XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcbiAgICB2YXIgc2l6ZSA9IDAsIHJlc3VsdCA9IHRydWU7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGNsYXNzTmFtZSA9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICAgIHNpemUgPSBhLmxlbmd0aDtcbiAgICAgIHJlc3VsdCA9IHNpemUgPT0gYi5sZW5ndGg7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIC8vIERlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMuXG4gICAgICAgIHdoaWxlIChzaXplLS0pIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBlcShhW3NpemVdLCBiW3NpemVdLCBhU3RhY2ssIGJTdGFjaykpKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHNcbiAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiAoYUN0b3IgaW5zdGFuY2VvZiBhQ3RvcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIChiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gYSkge1xuICAgICAgICBpZiAoXy5oYXMoYSwga2V5KSkge1xuICAgICAgICAgIC8vIENvdW50IHRoZSBleHBlY3RlZCBudW1iZXIgb2YgcHJvcGVydGllcy5cbiAgICAgICAgICBzaXplKys7XG4gICAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyLlxuICAgICAgICAgIGlmICghKHJlc3VsdCA9IF8uaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGFTdGFjaywgYlN0YWNrKSkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcy5cbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgZm9yIChrZXkgaW4gYikge1xuICAgICAgICAgIGlmIChfLmhhcyhiLCBrZXkpICYmICEoc2l6ZS0tKSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gIXNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgZmlyc3Qgb2JqZWN0IGZyb20gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wb3AoKTtcbiAgICBiU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQZXJmb3JtIGEgZGVlcCBjb21wYXJpc29uIHRvIGNoZWNrIGlmIHR3byBvYmplY3RzIGFyZSBlcXVhbC5cbiAgXy5pc0VxdWFsID0gZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBlcShhLCBiLCBbXSwgW10pO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikpIHJldHVybiBvYmoubGVuZ3RoID09PSAwO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG4gIH07XG5cbiAgLy8gQWRkIHNvbWUgaXNUeXBlIG1ldGhvZHM6IGlzQXJndW1lbnRzLCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaXNOdW1iZXIsIGlzRGF0ZSwgaXNSZWdFeHAuXG4gIGVhY2goWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuICEhKG9iaiAmJiBfLmhhcyhvYmosICdjYWxsZWUnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS5cbiAgaWYgKHR5cGVvZiAoLy4vKSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbic7XG4gICAgfTtcbiAgfVxuXG4gIC8vIElzIGEgZ2l2ZW4gb2JqZWN0IGEgZmluaXRlIG51bWJlcj9cbiAgXy5pc0Zpbml0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBpc0Zpbml0ZShvYmopICYmICFpc05hTihwYXJzZUZsb2F0KG9iaikpO1xuICB9O1xuXG4gIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBgTmFOYD8gKE5hTiBpcyB0aGUgb25seSBudW1iZXIgd2hpY2ggZG9lcyBub3QgZXF1YWwgaXRzZWxmKS5cbiAgXy5pc05hTiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLmlzTnVtYmVyKG9iaikgJiYgb2JqICE9ICtvYmo7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0b3JzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUnVuIGEgZnVuY3Rpb24gKipuKiogdGltZXMuXG4gIF8udGltZXMgPSBmdW5jdGlvbihuLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciBhY2N1bSA9IEFycmF5KG4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlbnRpdHlNYXAgPSB7XG4gICAgZXNjYXBlOiB7XG4gICAgICAnJic6ICcmYW1wOycsXG4gICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICc+JzogJyZndDsnLFxuICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICBcIidcIjogJyYjeDI3OycsXG4gICAgICAnLyc6ICcmI3gyRjsnXG4gICAgfVxuICB9O1xuICBlbnRpdHlNYXAudW5lc2NhcGUgPSBfLmludmVydChlbnRpdHlNYXAuZXNjYXBlKTtcblxuICAvLyBSZWdleGVzIGNvbnRhaW5pbmcgdGhlIGtleXMgYW5kIHZhbHVlcyBsaXN0ZWQgaW1tZWRpYXRlbHkgYWJvdmUuXG4gIHZhciBlbnRpdHlSZWdleGVzID0ge1xuICAgIGVzY2FwZTogICBuZXcgUmVnRXhwKCdbJyArIF8ua2V5cyhlbnRpdHlNYXAuZXNjYXBlKS5qb2luKCcnKSArICddJywgJ2cnKSxcbiAgICB1bmVzY2FwZTogbmV3IFJlZ0V4cCgnKCcgKyBfLmtleXMoZW50aXR5TWFwLnVuZXNjYXBlKS5qb2luKCd8JykgKyAnKScsICdnJylcbiAgfTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIF8uZWFjaChbJ2VzY2FwZScsICd1bmVzY2FwZSddLCBmdW5jdGlvbihtZXRob2QpIHtcbiAgICBfW21ldGhvZF0gPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIGlmIChzdHJpbmcgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgICAgcmV0dXJuICgnJyArIHN0cmluZykucmVwbGFjZShlbnRpdHlSZWdleGVzW21ldGhvZF0sIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBlbnRpdHlNYXBbbWV0aG9kXVttYXRjaF07XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIG5hbWVkIHByb3BlcnR5IGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQ7XG4gIC8vIG90aGVyd2lzZSwgcmV0dXJuIGl0LlxuICBfLnJlc3VsdCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgcmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBlYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jYWxsKHRoaXMsIGZ1bmMuYXBwbHkoXywgYXJncykpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLlxuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlXG4gIC8vIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgIGV2YWx1YXRlICAgIDogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZSAgICAgIDogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogICAgICBcIidcIixcbiAgICAnXFxcXCc6ICAgICAnXFxcXCcsXG4gICAgJ1xccic6ICAgICAncicsXG4gICAgJ1xcbic6ICAgICAnbicsXG4gICAgJ1xcdCc6ICAgICAndCcsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIHZhciBlc2NhcGVyID0gL1xcXFx8J3xcXHJ8XFxufFxcdHxcXHUyMDI4fFxcdTIwMjkvZztcblxuICAvLyBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcsIHNpbWlsYXIgdG8gSm9obiBSZXNpZydzIGltcGxlbWVudGF0aW9uLlxuICAvLyBVbmRlcnNjb3JlIHRlbXBsYXRpbmcgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzIHdoaXRlc3BhY2UsXG4gIC8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgZGF0YSwgc2V0dGluZ3MpIHtcbiAgICB2YXIgcmVuZGVyO1xuICAgIHNldHRpbmdzID0gXy5kZWZhdWx0cyh7fSwgc2V0dGluZ3MsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG5cbiAgICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgICAgIC5yZXBsYWNlKGVzY2FwZXIsIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVybiAnXFxcXCcgKyBlc2NhcGVzW21hdGNoXTsgfSk7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH1cbiAgICAgIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGludGVycG9sYXRlICsgXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjtcbiAgICAgIH1cbiAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyBcInJldHVybiBfX3A7XFxuXCI7XG5cbiAgICB0cnkge1xuICAgICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIGlmIChkYXRhKSByZXR1cm4gcmVuZGVyKGRhdGEsIF8pO1xuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24gc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonKSArICcpe1xcbicgKyBzb3VyY2UgKyAnfSc7XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH07XG5cbiAgLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLCB3aGljaCB3aWxsIGRlbGVnYXRlIHRvIHRoZSB3cmFwcGVyLlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF8ob2JqKS5jaGFpbigpO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciByZXN1bHQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG4gIF8ubWl4aW4oXyk7XG5cbiAgLy8gQWRkIGFsbCBtdXRhdG9yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PSAnc2hpZnQnIHx8IG5hbWUgPT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgZWFjaChbJ2NvbmNhdCcsICdqb2luJywgJ3NsaWNlJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5jYWxsKHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICBfLmV4dGVuZChfLnByb3RvdHlwZSwge1xuXG4gICAgLy8gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICAgIGNoYWluOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2NoYWluID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgICB9XG5cbiAgfSk7XG5cbn0pLmNhbGwodGhpcyk7XG5cbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4vKiFcbiAgICBsb2NhbEZvcmFnZSAtLSBPZmZsaW5lIFN0b3JhZ2UsIEltcHJvdmVkXG4gICAgVmVyc2lvbiAxLjMuMFxuICAgIGh0dHBzOi8vbW96aWxsYS5naXRodWIuaW8vbG9jYWxGb3JhZ2VcbiAgICAoYykgMjAxMy0yMDE1IE1vemlsbGEsIEFwYWNoZSBMaWNlbnNlIDIuMFxuKi9cbihmdW5jdGlvbigpIHtcbnZhciBkZWZpbmUsIHJlcXVpcmVNb2R1bGUsIHJlcXVpcmUsIHJlcXVpcmVqcztcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgcmVnaXN0cnkgPSB7fSwgc2VlbiA9IHt9O1xuXG4gIGRlZmluZSA9IGZ1bmN0aW9uKG5hbWUsIGRlcHMsIGNhbGxiYWNrKSB7XG4gICAgcmVnaXN0cnlbbmFtZV0gPSB7IGRlcHM6IGRlcHMsIGNhbGxiYWNrOiBjYWxsYmFjayB9O1xuICB9O1xuXG4gIHJlcXVpcmVqcyA9IHJlcXVpcmUgPSByZXF1aXJlTW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xuICByZXF1aXJlanMuX2Vha19zZWVuID0gcmVnaXN0cnk7XG5cbiAgICBpZiAoc2VlbltuYW1lXSkgeyByZXR1cm4gc2VlbltuYW1lXTsgfVxuICAgIHNlZW5bbmFtZV0gPSB7fTtcblxuICAgIGlmICghcmVnaXN0cnlbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIG1vZHVsZSBcIiArIG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBtb2QgPSByZWdpc3RyeVtuYW1lXSxcbiAgICAgICAgZGVwcyA9IG1vZC5kZXBzLFxuICAgICAgICBjYWxsYmFjayA9IG1vZC5jYWxsYmFjayxcbiAgICAgICAgcmVpZmllZCA9IFtdLFxuICAgICAgICBleHBvcnRzO1xuXG4gICAgZm9yICh2YXIgaT0wLCBsPWRlcHMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgaWYgKGRlcHNbaV0gPT09ICdleHBvcnRzJykge1xuICAgICAgICByZWlmaWVkLnB1c2goZXhwb3J0cyA9IHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlaWZpZWQucHVzaChyZXF1aXJlTW9kdWxlKHJlc29sdmUoZGVwc1tpXSkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBjYWxsYmFjay5hcHBseSh0aGlzLCByZWlmaWVkKTtcbiAgICByZXR1cm4gc2VlbltuYW1lXSA9IGV4cG9ydHMgfHwgdmFsdWU7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQuY2hhckF0KDApICE9PSAnLicpIHsgcmV0dXJuIGNoaWxkOyB9XG4gICAgICB2YXIgcGFydHMgPSBjaGlsZC5zcGxpdChcIi9cIik7XG4gICAgICB2YXIgcGFyZW50QmFzZSA9IG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKTtcblxuICAgICAgZm9yICh2YXIgaT0wLCBsPXBhcnRzLmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICBpZiAocGFydCA9PT0gJy4uJykgeyBwYXJlbnRCYXNlLnBvcCgpOyB9XG4gICAgICAgIGVsc2UgaWYgKHBhcnQgPT09ICcuJykgeyBjb250aW51ZTsgfVxuICAgICAgICBlbHNlIHsgcGFyZW50QmFzZS5wdXNoKHBhcnQpOyB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnRCYXNlLmpvaW4oXCIvXCIpO1xuICAgIH1cbiAgfTtcbn0pKCk7XG5cbmRlZmluZShcInByb21pc2UvYWxsXCIsIFxuICBbXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2RlcGVuZGVuY3kxX18sIF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLyogZ2xvYmFsIHRvU3RyaW5nICovXG5cbiAgICB2YXIgaXNBcnJheSA9IF9fZGVwZW5kZW5jeTFfXy5pc0FycmF5O1xuICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5MV9fLmlzRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHRoZSBnaXZlbiBwcm9taXNlcyBoYXZlIGJlZW5cbiAgICAgIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLiBUaGUgcmV0dXJuIHByb21pc2VcbiAgICAgIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IHRoYXQgZ2l2ZXMgYWxsIHRoZSB2YWx1ZXMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZVxuICAgICAgcGFzc2VkIGluIHRoZSBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50LlxuXG4gICAgICBFeGFtcGxlOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gICAgICB2YXIgcHJvbWlzZTIgPSBSU1ZQLnJlc29sdmUoMik7XG4gICAgICB2YXIgcHJvbWlzZTMgPSBSU1ZQLnJlc29sdmUoMyk7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICAgICAgUlNWUC5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgICAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5hbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgICAgIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICAgICAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gICAgICBFeGFtcGxlOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gICAgICB2YXIgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgICAgIHZhciBwcm9taXNlMyA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICAgICAgdmFyIHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgICAgIFJTVlAuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAvLyBlcnJvci5tZXNzYWdlID09PSBcIjJcIlxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCBhbGxcbiAgICAgIEBmb3IgUlNWUFxuICAgICAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgICAgIEBwYXJhbSB7U3RyaW5nfSBsYWJlbFxuICAgICAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gICAgKi9cbiAgICBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIGlmICghaXNBcnJheShwcm9taXNlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBhbGwuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXSwgcmVtYWluaW5nID0gcHJvbWlzZXMubGVuZ3RoLFxuICAgICAgICBwcm9taXNlO1xuXG4gICAgICAgIGlmIChyZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVyKGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXNvbHZlQWxsKGluZGV4LCB2YWx1ZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVBbGwoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICAgIGlmIChwcm9taXNlICYmIGlzRnVuY3Rpb24ocHJvbWlzZS50aGVuKSkge1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmVyKGkpLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlQWxsKGksIHByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18uYWxsID0gYWxsO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvYXNhcFwiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgYnJvd3Nlckdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB7fTtcbiAgICB2YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIHZhciBsb2NhbCA9ICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgPyBnbG9iYWwgOiAodGhpcyA9PT0gdW5kZWZpbmVkPyB3aW5kb3c6dGhpcyk7XG5cbiAgICAvLyBub2RlXG4gICAgZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9jYWwuc2V0VGltZW91dChmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdHVwbGUgPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdHVwbGVbMF0sIGFyZyA9IHR1cGxlWzFdO1xuICAgICAgICBjYWxsYmFjayhhcmcpO1xuICAgICAgfVxuICAgICAgcXVldWUgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgc2NoZWR1bGVGbHVzaDtcblxuICAgIC8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAoQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBJZiBsZW5ndGggaXMgMSwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9fZXhwb3J0c19fLmFzYXAgPSBhc2FwO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvY29uZmlnXCIsIFxuICBbXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBpbnN0cnVtZW50OiBmYWxzZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmUobmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGNvbmZpZ1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5jb25maWcgPSBjb25maWc7XG4gICAgX19leHBvcnRzX18uY29uZmlndXJlID0gY29uZmlndXJlO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcG9seWZpbGxcIiwgXG4gIFtcIi4vcHJvbWlzZVwiLFwiLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2RlcGVuZGVuY3kyX18sIF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLypnbG9iYWwgc2VsZiovXG4gICAgdmFyIFJTVlBQcm9taXNlID0gX19kZXBlbmRlbmN5MV9fLlByb21pc2U7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBfX2RlcGVuZGVuY3kyX18uaXNGdW5jdGlvbjtcblxuICAgIGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICAgICAgdmFyIGxvY2FsO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICBsb2NhbCA9IHdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVzNlByb21pc2VTdXBwb3J0ID0gXG4gICAgICAgIFwiUHJvbWlzZVwiIGluIGxvY2FsICYmXG4gICAgICAgIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gICAgICAgIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgXCJyZXNvbHZlXCIgaW4gbG9jYWwuUHJvbWlzZSAmJlxuICAgICAgICBcInJlamVjdFwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgXCJhbGxcIiBpbiBsb2NhbC5Qcm9taXNlICYmXG4gICAgICAgIFwicmFjZVwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgLy8gT2xkZXIgdmVyc2lvbiBvZiB0aGUgc3BlYyBoYWQgYSByZXNvbHZlciBvYmplY3RcbiAgICAgICAgLy8gYXMgdGhlIGFyZyByYXRoZXIgdGhhbiBhIGZ1bmN0aW9uXG4gICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcmVzb2x2ZTtcbiAgICAgICAgICBuZXcgbG9jYWwuUHJvbWlzZShmdW5jdGlvbihyKSB7IHJlc29sdmUgPSByOyB9KTtcbiAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihyZXNvbHZlKTtcbiAgICAgICAgfSgpKTtcblxuICAgICAgaWYgKCFlczZQcm9taXNlU3VwcG9ydCkge1xuICAgICAgICBsb2NhbC5Qcm9taXNlID0gUlNWUFByb21pc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucG9seWZpbGwgPSBwb2x5ZmlsbDtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3Byb21pc2VcIiwgXG4gIFtcIi4vY29uZmlnXCIsXCIuL3V0aWxzXCIsXCIuL2FsbFwiLFwiLi9yYWNlXCIsXCIuL3Jlc29sdmVcIixcIi4vcmVqZWN0XCIsXCIuL2FzYXBcIixcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19kZXBlbmRlbmN5Ml9fLCBfX2RlcGVuZGVuY3kzX18sIF9fZGVwZW5kZW5jeTRfXywgX19kZXBlbmRlbmN5NV9fLCBfX2RlcGVuZGVuY3k2X18sIF9fZGVwZW5kZW5jeTdfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgY29uZmlnID0gX19kZXBlbmRlbmN5MV9fLmNvbmZpZztcbiAgICB2YXIgY29uZmlndXJlID0gX19kZXBlbmRlbmN5MV9fLmNvbmZpZ3VyZTtcbiAgICB2YXIgb2JqZWN0T3JGdW5jdGlvbiA9IF9fZGVwZW5kZW5jeTJfXy5vYmplY3RPckZ1bmN0aW9uO1xuICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5Ml9fLmlzRnVuY3Rpb247XG4gICAgdmFyIG5vdyA9IF9fZGVwZW5kZW5jeTJfXy5ub3c7XG4gICAgdmFyIGFsbCA9IF9fZGVwZW5kZW5jeTNfXy5hbGw7XG4gICAgdmFyIHJhY2UgPSBfX2RlcGVuZGVuY3k0X18ucmFjZTtcbiAgICB2YXIgc3RhdGljUmVzb2x2ZSA9IF9fZGVwZW5kZW5jeTVfXy5yZXNvbHZlO1xuICAgIHZhciBzdGF0aWNSZWplY3QgPSBfX2RlcGVuZGVuY3k2X18ucmVqZWN0O1xuICAgIHZhciBhc2FwID0gX19kZXBlbmRlbmN5N19fLmFzYXA7XG5cbiAgICB2YXIgY291bnRlciA9IDA7XG5cbiAgICBjb25maWcuYXN5bmMgPSBhc2FwOyAvLyBkZWZhdWx0IGFzeW5jIGlzIGFzYXA7XG5cbiAgICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICAgIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihyZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRCkge1xuICAgICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBQRU5ESU5HICAgPSB2b2lkIDA7XG4gICAgdmFyIFNFQUxFRCAgICA9IDA7XG4gICAgdmFyIEZVTEZJTExFRCA9IDE7XG4gICAgdmFyIFJFSkVDVEVEICA9IDI7XG5cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgbGVuZ3RoID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIFJFSkVDVEVEXSAgPSBvblJlamVjdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoKHByb21pc2UsIHNldHRsZWQpIHtcbiAgICAgIHZhciBjaGlsZCwgY2FsbGJhY2ssIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnMsIGRldGFpbCA9IHByb21pc2UuX2RldGFpbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgICAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgICB9XG5cbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzID0gbnVsbDtcbiAgICB9XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gICAgICBfc3RhdGU6IHVuZGVmaW5lZCxcbiAgICAgIF9kZXRhaWw6IHVuZGVmaW5lZCxcbiAgICAgIF9zdWJzY3JpYmVyczogdW5kZWZpbmVkLFxuXG4gICAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRoZW5Qcm9taXNlID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZnVuY3Rpb24oKSB7fSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IGFyZ3VtZW50cztcbiAgICAgICAgICBjb25maWcuYXN5bmMoZnVuY3Rpb24gaW52b2tlUHJvbWlzZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2socHJvbWlzZS5fc3RhdGUsIHRoZW5Qcm9taXNlLCBjYWxsYmFja3NbcHJvbWlzZS5fc3RhdGUgLSAxXSwgcHJvbWlzZS5fZGV0YWlsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWJzY3JpYmUodGhpcywgdGhlblByb21pc2UsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGVuUHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBQcm9taXNlLmFsbCA9IGFsbDtcbiAgICBQcm9taXNlLnJhY2UgPSByYWNlO1xuICAgIFByb21pc2UucmVzb2x2ZSA9IHN0YXRpY1Jlc29sdmU7XG4gICAgUHJvbWlzZS5yZWplY3QgPSBzdGF0aWNSZWplY3Q7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgdmFyIHRoZW4gPSBudWxsLFxuICAgICAgcmVzb2x2ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG5cbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc29sdmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgcHJvbWlzZS5fZGV0YWlsID0gdmFsdWU7XG5cbiAgICAgIGNvbmZpZy5hc3luYyhwdWJsaXNoRnVsZmlsbG1lbnQsIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgcHJvbWlzZS5fZGV0YWlsID0gcmVhc29uO1xuXG4gICAgICBjb25maWcuYXN5bmMocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVibGlzaEZ1bGZpbGxtZW50KHByb21pc2UpIHtcbiAgICAgIHB1Ymxpc2gocHJvbWlzZSwgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgICAgcHVibGlzaChwcm9taXNlLCBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEKTtcbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5Qcm9taXNlID0gUHJvbWlzZTtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3JhY2VcIiwgXG4gIFtcIi4vdXRpbHNcIixcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKiBnbG9iYWwgdG9TdHJpbmcgKi9cbiAgICB2YXIgaXNBcnJheSA9IF9fZGVwZW5kZW5jeTFfXy5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICBgUlNWUC5yYWNlYCBhbGxvd3MgeW91IHRvIHdhdGNoIGEgc2VyaWVzIG9mIHByb21pc2VzIGFuZCBhY3QgYXMgc29vbiBhcyB0aGVcbiAgICAgIGZpcnN0IHByb21pc2UgZ2l2ZW4gdG8gdGhlIGBwcm9taXNlc2AgYXJndW1lbnQgZnVsZmlsbHMgb3IgcmVqZWN0cy5cblxuICAgICAgRXhhbXBsZTpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVzb2x2ZShcInByb21pc2UgMVwiKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcHJvbWlzZTIgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXNvbHZlKFwicHJvbWlzZSAyXCIpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSk7XG5cbiAgICAgIFJTVlAucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAvLyByZXN1bHQgPT09IFwicHJvbWlzZSAyXCIgYmVjYXVzZSBpdCB3YXMgcmVzb2x2ZWQgYmVmb3JlIHByb21pc2UxXG4gICAgICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIGBSU1ZQLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3QgY29tcGxldGVkXG4gICAgICBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZSBgcHJvbWlzZXNgXG4gICAgICBhcnJheSBhcmd1bWVudCBhcmUgcmVzb2x2ZWQsIGJ1dCB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2UgaGFzIGJlY29tZVxuICAgICAgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWQgcHJvbWlzZVxuICAgICAgd2lsbCBiZWNvbWUgcmVqZWN0ZWQ6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlMSA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIHJlc29sdmUoXCJwcm9taXNlIDFcIik7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHByb21pc2UyID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcInByb21pc2UgMlwiKSk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgUlNWUC5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09IFwicHJvbWlzZTJcIiBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgICAgIC8vIHByb21pc2UgMSBiZWNhbWUgZnVsZmlsbGVkXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIHJhY2VcbiAgICAgIEBmb3IgUlNWUFxuICAgICAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICAgICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgZGVzY3JpYmluZyB0aGUgcHJvbWlzZSByZXR1cm5lZC5cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGJlY29tZXMgZnVsZmlsbGVkIHdpdGggdGhlIHZhbHVlIHRoZSBmaXJzdFxuICAgICAgY29tcGxldGVkIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggaWYgdGhlIGZpcnN0IGNvbXBsZXRlZCBwcm9taXNlIHdhc1xuICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gdGhhdCB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2VcbiAgICAgIHdhcyByZWplY3RlZCB3aXRoLlxuICAgICovXG4gICAgZnVuY3Rpb24gcmFjZShwcm9taXNlcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBQcm9taXNlID0gdGhpcztcblxuICAgICAgaWYgKCFpc0FycmF5KHByb21pc2VzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW10sIHByb21pc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmFjZSA9IHJhY2U7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS9yZWplY3RcIiwgXG4gIFtcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLyoqXG4gICAgICBgUlNWUC5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkXG4gICAgICBgcmVhc29uYC4gYFJTVlAucmVqZWN0YCBpcyBlc3NlbnRpYWxseSBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gICAgICB9KTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgcmVqZWN0XG4gICAgICBAZm9yIFJTVlBcbiAgICAgIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gICAgICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBpZGVudGlmeWluZyB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuXG4gICAgICBgcmVhc29uYC5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcmVzb2x2ZVwiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IHRoaXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmVzb2x2ZSA9IHJlc29sdmU7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS91dGlsc1wiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHgpIHx8ICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQXJyYXkoeCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgIH1cblxuICAgIC8vIERhdGUubm93IGlzIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlcnMgPCBJRTlcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL25vdyNDb21wYXRpYmlsaXR5XG4gICAgdmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7IH07XG5cblxuICAgIF9fZXhwb3J0c19fLm9iamVjdE9yRnVuY3Rpb24gPSBvYmplY3RPckZ1bmN0aW9uO1xuICAgIF9fZXhwb3J0c19fLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIF9fZXhwb3J0c19fLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIF9fZXhwb3J0c19fLm5vdyA9IG5vdztcbiAgfSk7XG5yZXF1aXJlTW9kdWxlKCdwcm9taXNlL3BvbHlmaWxsJykucG9seWZpbGwoKTtcbn0oKSk7KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibG9jYWxmb3JhZ2VcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibG9jYWxmb3JhZ2VcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgICd1c2Ugc3RyaWN0JztcblxuXHQgICAgLy8gQ3VzdG9tIGRyaXZlcnMgYXJlIHN0b3JlZCBoZXJlIHdoZW4gYGRlZmluZURyaXZlcigpYCBpcyBjYWxsZWQuXG5cdCAgICAvLyBUaGV5IGFyZSBzaGFyZWQgYWNyb3NzIGFsbCBpbnN0YW5jZXMgb2YgbG9jYWxGb3JhZ2UuXG5cdCAgICB2YXIgQ3VzdG9tRHJpdmVycyA9IHt9O1xuXG5cdCAgICB2YXIgRHJpdmVyVHlwZSA9IHtcblx0ICAgICAgICBJTkRFWEVEREI6ICdhc3luY1N0b3JhZ2UnLFxuXHQgICAgICAgIExPQ0FMU1RPUkFHRTogJ2xvY2FsU3RvcmFnZVdyYXBwZXInLFxuXHQgICAgICAgIFdFQlNRTDogJ3dlYlNRTFN0b3JhZ2UnXG5cdCAgICB9O1xuXG5cdCAgICB2YXIgRGVmYXVsdERyaXZlck9yZGVyID0gW0RyaXZlclR5cGUuSU5ERVhFRERCLCBEcml2ZXJUeXBlLldFQlNRTCwgRHJpdmVyVHlwZS5MT0NBTFNUT1JBR0VdO1xuXG5cdCAgICB2YXIgTGlicmFyeU1ldGhvZHMgPSBbJ2NsZWFyJywgJ2dldEl0ZW0nLCAnaXRlcmF0ZScsICdrZXknLCAna2V5cycsICdsZW5ndGgnLCAncmVtb3ZlSXRlbScsICdzZXRJdGVtJ107XG5cblx0ICAgIHZhciBEZWZhdWx0Q29uZmlnID0ge1xuXHQgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcblx0ICAgICAgICBkcml2ZXI6IERlZmF1bHREcml2ZXJPcmRlci5zbGljZSgpLFxuXHQgICAgICAgIG5hbWU6ICdsb2NhbGZvcmFnZScsXG5cdCAgICAgICAgLy8gRGVmYXVsdCBEQiBzaXplIGlzIF9KVVNUIFVOREVSXyA1TUIsIGFzIGl0J3MgdGhlIGhpZ2hlc3Qgc2l6ZVxuXHQgICAgICAgIC8vIHdlIGNhbiB1c2Ugd2l0aG91dCBhIHByb21wdC5cblx0ICAgICAgICBzaXplOiA0OTgwNzM2LFxuXHQgICAgICAgIHN0b3JlTmFtZTogJ2tleXZhbHVlcGFpcnMnLFxuXHQgICAgICAgIHZlcnNpb246IDEuMFxuXHQgICAgfTtcblxuXHQgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIEluZGV4ZWREQiBpcyBhdmFpbGFibGUgYW5kIGlmIGl0IGlzIHRoZSBsYXRlc3Rcblx0ICAgIC8vIGltcGxlbWVudGF0aW9uOyBpdCdzIG91ciBwcmVmZXJyZWQgYmFja2VuZCBsaWJyYXJ5LiBXZSB1c2UgXCJfc3BlY190ZXN0XCJcblx0ICAgIC8vIGFzIHRoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSBiZWNhdXNlIGl0J3Mgbm90IHRoZSBvbmUgd2UnbGwgb3BlcmF0ZSBvbixcblx0ICAgIC8vIGJ1dCBpdCdzIHVzZWZ1bCB0byBtYWtlIHN1cmUgaXRzIHVzaW5nIHRoZSByaWdodCBzcGVjLlxuXHQgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTI4XG5cdCAgICB2YXIgZHJpdmVyU3VwcG9ydCA9IChmdW5jdGlvbiAoc2VsZikge1xuXHQgICAgICAgIC8vIEluaXRpYWxpemUgSW5kZXhlZERCOyBmYWxsIGJhY2sgdG8gdmVuZG9yLXByZWZpeGVkIHZlcnNpb25zXG5cdCAgICAgICAgLy8gaWYgbmVlZGVkLlxuXHQgICAgICAgIHZhciBpbmRleGVkREIgPSBpbmRleGVkREIgfHwgc2VsZi5pbmRleGVkREIgfHwgc2VsZi53ZWJraXRJbmRleGVkREIgfHwgc2VsZi5tb3pJbmRleGVkREIgfHwgc2VsZi5PSW5kZXhlZERCIHx8IHNlbGYubXNJbmRleGVkREI7XG5cblx0ICAgICAgICB2YXIgcmVzdWx0ID0ge307XG5cblx0ICAgICAgICByZXN1bHRbRHJpdmVyVHlwZS5XRUJTUUxdID0gISFzZWxmLm9wZW5EYXRhYmFzZTtcblx0ICAgICAgICByZXN1bHRbRHJpdmVyVHlwZS5JTkRFWEVEREJdID0gISEoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBXZSBtaW1pYyBQb3VjaERCIGhlcmU7IGp1c3QgVUEgdGVzdCBmb3IgU2FmYXJpICh3aGljaCwgYXMgb2Zcblx0ICAgICAgICAgICAgLy8gaU9TIDgvWW9zZW1pdGUsIGRvZXNuJ3QgcHJvcGVybHkgc3VwcG9ydCBJbmRleGVkREIpLlxuXHQgICAgICAgICAgICAvLyBJbmRleGVkREIgc3VwcG9ydCBpcyBicm9rZW4gYW5kIGRpZmZlcmVudCBmcm9tIEJsaW5rJ3MuXG5cdCAgICAgICAgICAgIC8vIFRoaXMgaXMgZmFzdGVyIHRoYW4gdGhlIHRlc3QgY2FzZSAoYW5kIGl0J3Mgc3luYyksIHNvIHdlIGp1c3Rcblx0ICAgICAgICAgICAgLy8gZG8gdGhpcy4gKlNJR0gqXG5cdCAgICAgICAgICAgIC8vIGh0dHA6Ly9ibC5vY2tzLm9yZy9ub2xhbmxhd3Nvbi9yYXcvYzgzZTkwMzllZGYyMjc4MDQ3ZTkvXG5cdCAgICAgICAgICAgIC8vXG5cdCAgICAgICAgICAgIC8vIFdlIHRlc3QgZm9yIG9wZW5EYXRhYmFzZSBiZWNhdXNlIElFIE1vYmlsZSBpZGVudGlmaWVzIGl0c2VsZlxuXHQgICAgICAgICAgICAvLyBhcyBTYWZhcmkuIE9oIHRoZSBsdWx6Li4uXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5vcGVuRGF0YWJhc2UgIT09ICd1bmRlZmluZWQnICYmIHNlbGYubmF2aWdhdG9yICYmIHNlbGYubmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvU2FmYXJpLy50ZXN0KHNlbGYubmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIS9DaHJvbWUvLnRlc3Qoc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhlZERCICYmIHR5cGVvZiBpbmRleGVkREIub3BlbiA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgICAgICAgICAgICAgLy8gU29tZSBTYW1zdW5nL0hUQyBBbmRyb2lkIDQuMC00LjMgZGV2aWNlc1xuXHQgICAgICAgICAgICAgICAgLy8gaGF2ZSBvbGRlciBJbmRleGVkREIgc3BlY3M7IGlmIHRoaXMgaXNuJ3QgYXZhaWxhYmxlXG5cdCAgICAgICAgICAgICAgICAvLyB0aGVpciBJbmRleGVkREIgaXMgdG9vIG9sZCBmb3IgdXMgdG8gdXNlLlxuXHQgICAgICAgICAgICAgICAgLy8gKFJlcGxhY2VzIHRoZSBvbnVwZ3JhZGVuZWVkZWQgdGVzdC4pXG5cdCAgICAgICAgICAgICAgICB0eXBlb2Ygc2VsZi5JREJLZXlSYW5nZSAhPT0gJ3VuZGVmaW5lZCc7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pKCk7XG5cblx0ICAgICAgICByZXN1bHRbRHJpdmVyVHlwZS5MT0NBTFNUT1JBR0VdID0gISEoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYubG9jYWxTdG9yYWdlICYmICdzZXRJdGVtJyBpbiBzZWxmLmxvY2FsU3RvcmFnZSAmJiBzZWxmLmxvY2FsU3RvcmFnZS5zZXRJdGVtO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KSgpO1xuXG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0pKHRoaXMpO1xuXG5cdCAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0ICAgIH07XG5cblx0ICAgIGZ1bmN0aW9uIGNhbGxXaGVuUmVhZHkobG9jYWxGb3JhZ2VJbnN0YW5jZSwgbGlicmFyeU1ldGhvZCkge1xuXHQgICAgICAgIGxvY2FsRm9yYWdlSW5zdGFuY2VbbGlicmFyeU1ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBfYXJncyA9IGFyZ3VtZW50cztcblx0ICAgICAgICAgICAgcmV0dXJuIGxvY2FsRm9yYWdlSW5zdGFuY2UucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbEZvcmFnZUluc3RhbmNlW2xpYnJhcnlNZXRob2RdLmFwcGx5KGxvY2FsRm9yYWdlSW5zdGFuY2UsIF9hcmdzKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZXh0ZW5kKCkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cblx0ICAgICAgICAgICAgaWYgKGFyZykge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZykge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChhcmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmdba2V5XSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV0uc2xpY2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBpc0xpYnJhcnlEcml2ZXIoZHJpdmVyTmFtZSkge1xuXHQgICAgICAgIGZvciAodmFyIGRyaXZlciBpbiBEcml2ZXJUeXBlKSB7XG5cdCAgICAgICAgICAgIGlmIChEcml2ZXJUeXBlLmhhc093blByb3BlcnR5KGRyaXZlcikgJiYgRHJpdmVyVHlwZVtkcml2ZXJdID09PSBkcml2ZXJOYW1lKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgdmFyIExvY2FsRm9yYWdlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBMb2NhbEZvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2NhbEZvcmFnZSk7XG5cblx0ICAgICAgICAgICAgdGhpcy5JTkRFWEVEREIgPSBEcml2ZXJUeXBlLklOREVYRUREQjtcblx0ICAgICAgICAgICAgdGhpcy5MT0NBTFNUT1JBR0UgPSBEcml2ZXJUeXBlLkxPQ0FMU1RPUkFHRTtcblx0ICAgICAgICAgICAgdGhpcy5XRUJTUUwgPSBEcml2ZXJUeXBlLldFQlNRTDtcblxuXHQgICAgICAgICAgICB0aGlzLl9kZWZhdWx0Q29uZmlnID0gZXh0ZW5kKHt9LCBEZWZhdWx0Q29uZmlnKTtcblx0ICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gZXh0ZW5kKHt9LCB0aGlzLl9kZWZhdWx0Q29uZmlnLCBvcHRpb25zKTtcblx0ICAgICAgICAgICAgdGhpcy5fZHJpdmVyU2V0ID0gbnVsbDtcblx0ICAgICAgICAgICAgdGhpcy5faW5pdERyaXZlciA9IG51bGw7XG5cdCAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHRoaXMuX2RiSW5mbyA9IG51bGw7XG5cblx0ICAgICAgICAgICAgdGhpcy5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5KCk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0RHJpdmVyKHRoaXMuX2NvbmZpZy5kcml2ZXIpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFRoZSBhY3R1YWwgbG9jYWxGb3JhZ2Ugb2JqZWN0IHRoYXQgd2UgZXhwb3NlIGFzIGEgbW9kdWxlIG9yIHZpYSBhXG5cdCAgICAgICAgLy8gZ2xvYmFsLiBJdCdzIGV4dGVuZGVkIGJ5IHB1bGxpbmcgaW4gb25lIG9mIG91ciBvdGhlciBsaWJyYXJpZXMuXG5cblx0ICAgICAgICAvLyBTZXQgYW55IGNvbmZpZyB2YWx1ZXMgZm9yIGxvY2FsRm9yYWdlOyBjYW4gYmUgY2FsbGVkIGFueXRpbWUgYmVmb3JlXG5cdCAgICAgICAgLy8gdGhlIGZpcnN0IEFQSSBjYWxsIChlLmcuIGBnZXRJdGVtYCwgYHNldEl0ZW1gKS5cblx0ICAgICAgICAvLyBXZSBsb29wIHRocm91Z2ggb3B0aW9ucyBzbyB3ZSBkb24ndCBvdmVyd3JpdGUgZXhpc3RpbmcgY29uZmlnXG5cdCAgICAgICAgLy8gdmFsdWVzLlxuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNvbmZpZyA9IGZ1bmN0aW9uIGNvbmZpZyhvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIC8vIElmIHRoZSBvcHRpb25zIGFyZ3VtZW50IGlzIGFuIG9iamVjdCwgd2UgdXNlIGl0IHRvIHNldCB2YWx1ZXMuXG5cdCAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2UgcmV0dXJuIGVpdGhlciBhIHNwZWNpZmllZCBjb25maWcgdmFsdWUgb3IgYWxsXG5cdCAgICAgICAgICAgIC8vIGNvbmZpZyB2YWx1ZXMuXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgICAgIC8vIElmIGxvY2FsZm9yYWdlIGlzIHJlYWR5IGFuZCBmdWxseSBpbml0aWFsaXplZCwgd2UgY2FuJ3Qgc2V0XG5cdCAgICAgICAgICAgICAgICAvLyBhbnkgbmV3IGNvbmZpZ3VyYXRpb24gdmFsdWVzLiBJbnN0ZWFkLCB3ZSByZXR1cm4gYW4gZXJyb3IuXG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVhZHkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiQ2FuJ3QgY2FsbCBjb25maWcoKSBhZnRlciBsb2NhbGZvcmFnZSBcIiArICdoYXMgYmVlbiB1c2VkLicpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gJ3N0b3JlTmFtZScpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IG9wdGlvbnNbaV0ucmVwbGFjZSgvXFxXL2csICdfJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnW2ldID0gb3B0aW9uc1tpXTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgYWxsIGNvbmZpZyBvcHRpb25zIGFyZSBzZXQgYW5kXG5cdCAgICAgICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG9wdGlvbiBpcyB1c2VkLCB0cnkgc2V0dGluZyBpdFxuXHQgICAgICAgICAgICAgICAgaWYgKCdkcml2ZXInIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5kcml2ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERyaXZlcih0aGlzLl9jb25maWcuZHJpdmVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnW29wdGlvbnNdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cblx0ICAgICAgICAvLyBVc2VkIHRvIGRlZmluZSBhIGN1c3RvbSBkcml2ZXIsIHNoYXJlZCBhY3Jvc3MgYWxsIGluc3RhbmNlcyBvZlxuXHQgICAgICAgIC8vIGxvY2FsRm9yYWdlLlxuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmRlZmluZURyaXZlciA9IGZ1bmN0aW9uIGRlZmluZURyaXZlcihkcml2ZXJPYmplY3QsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlck9iamVjdC5fZHJpdmVyO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjb21wbGlhbmNlRXJyb3IgPSBuZXcgRXJyb3IoJ0N1c3RvbSBkcml2ZXIgbm90IGNvbXBsaWFudDsgc2VlICcgKyAnaHR0cHM6Ly9tb3ppbGxhLmdpdGh1Yi5pby9sb2NhbEZvcmFnZS8jZGVmaW5lZHJpdmVyJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWluZ0Vycm9yID0gbmV3IEVycm9yKCdDdXN0b20gZHJpdmVyIG5hbWUgYWxyZWFkeSBpbiB1c2U6ICcgKyBkcml2ZXJPYmplY3QuX2RyaXZlcik7XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBBIGRyaXZlciBuYW1lIHNob3VsZCBiZSBkZWZpbmVkIGFuZCBub3Qgb3ZlcmxhcCB3aXRoIHRoZVxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGxpYnJhcnktZGVmaW5lZCwgZGVmYXVsdCBkcml2ZXJzLlxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghZHJpdmVyT2JqZWN0Ll9kcml2ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGNvbXBsaWFuY2VFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGlicmFyeURyaXZlcihkcml2ZXJPYmplY3QuX2RyaXZlcikpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5hbWluZ0Vycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21Ecml2ZXJNZXRob2RzID0gTGlicmFyeU1ldGhvZHMuY29uY2F0KCdfaW5pdFN0b3JhZ2UnKTtcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1c3RvbURyaXZlck1ldGhvZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1c3RvbURyaXZlck1ldGhvZCA9IGN1c3RvbURyaXZlck1ldGhvZHNbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VzdG9tRHJpdmVyTWV0aG9kIHx8ICFkcml2ZXJPYmplY3RbY3VzdG9tRHJpdmVyTWV0aG9kXSB8fCB0eXBlb2YgZHJpdmVyT2JqZWN0W2N1c3RvbURyaXZlck1ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChjb21wbGlhbmNlRXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHN1cHBvcnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICgnX3N1cHBvcnQnIGluIGRyaXZlck9iamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJpdmVyT2JqZWN0Ll9zdXBwb3J0ICYmIHR5cGVvZiBkcml2ZXJPYmplY3QuX3N1cHBvcnQgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRQcm9taXNlID0gZHJpdmVyT2JqZWN0Ll9zdXBwb3J0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSghIWRyaXZlck9iamVjdC5fc3VwcG9ydCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICBzdXBwb3J0UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdXBwb3J0UmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRyaXZlclN1cHBvcnRbZHJpdmVyTmFtZV0gPSBzdXBwb3J0UmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21Ecml2ZXJzW2RyaXZlck5hbWVdID0gZHJpdmVyT2JqZWN0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXG5cdCAgICAgICAgICAgIHByb21pc2UudGhlbihjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuZHJpdmVyID0gZnVuY3Rpb24gZHJpdmVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJpdmVyIHx8IG51bGw7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXREcml2ZXIgPSBmdW5jdGlvbiBnZXREcml2ZXIoZHJpdmVyTmFtZSwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgICAgICB2YXIgZ2V0RHJpdmVyUHJvbWlzZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNMaWJyYXJ5RHJpdmVyKGRyaXZlck5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkcml2ZXJOYW1lKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugc2VsZi5JTkRFWEVEREI6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBzZWxmLkxPQ0FMU1RPUkFHRTpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHNlbGYuV0VCU1FMOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF9fd2VicGFja19yZXF1aXJlX18oNCkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChDdXN0b21Ecml2ZXJzW2RyaXZlck5hbWVdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShDdXN0b21Ecml2ZXJzW2RyaXZlck5hbWVdKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRHJpdmVyIG5vdCBmb3VuZC4nKSk7XG5cdCAgICAgICAgICAgIH0pKCk7XG5cblx0ICAgICAgICAgICAgZ2V0RHJpdmVyUHJvbWlzZS50aGVuKGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGdldERyaXZlclByb21pc2U7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXRTZXJpYWxpemVyID0gZnVuY3Rpb24gZ2V0U2VyaWFsaXplcihjYWxsYmFjaykge1xuXHQgICAgICAgICAgICB2YXIgc2VyaWFsaXplclByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICByZXNvbHZlKF9fd2VicGFja19yZXF1aXJlX18oMykpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgc2VyaWFsaXplclByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVyUHJvbWlzZTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gcmVhZHkoY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5fZHJpdmVyU2V0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHNlbGYuX3JlYWR5ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0RHJpdmVyKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9yZWFkeTtcblx0ICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgcHJvbWlzZS50aGVuKGNhbGxiYWNrLCBjYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuc2V0RHJpdmVyID0gZnVuY3Rpb24gc2V0RHJpdmVyKGRyaXZlcnMsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgICAgICBpZiAoIWlzQXJyYXkoZHJpdmVycykpIHtcblx0ICAgICAgICAgICAgICAgIGRyaXZlcnMgPSBbZHJpdmVyc107XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgc3VwcG9ydGVkRHJpdmVycyA9IHRoaXMuX2dldFN1cHBvcnRlZERyaXZlcnMoZHJpdmVycyk7XG5cblx0ICAgICAgICAgICAgZnVuY3Rpb24gc2V0RHJpdmVyVG9Db25maWcoKSB7XG5cdCAgICAgICAgICAgICAgICBzZWxmLl9jb25maWcuZHJpdmVyID0gc2VsZi5kcml2ZXIoKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIGluaXREcml2ZXIoc3VwcG9ydGVkRHJpdmVycykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudERyaXZlckluZGV4ID0gMDtcblxuXHQgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRyaXZlclByb21pc2VMb29wKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudERyaXZlckluZGV4IDwgc3VwcG9ydGVkRHJpdmVycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcml2ZXJOYW1lID0gc3VwcG9ydGVkRHJpdmVyc1tjdXJyZW50RHJpdmVySW5kZXhdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERyaXZlckluZGV4Kys7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RiSW5mbyA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWFkeSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldERyaXZlcihkcml2ZXJOYW1lKS50aGVuKGZ1bmN0aW9uIChkcml2ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9leHRlbmQoZHJpdmVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0U3RvcmFnZShzZWxmLl9jb25maWcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9yZWFkeTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pWydjYXRjaCddKGRyaXZlclByb21pc2VMb29wKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcignTm8gYXZhaWxhYmxlIHN0b3JhZ2UgbWV0aG9kIGZvdW5kLicpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kcml2ZXJTZXQgPSBQcm9taXNlLnJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9kcml2ZXJTZXQ7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRyaXZlclByb21pc2VMb29wKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgYSBkcml2ZXIgaW5pdGlhbGl6YXRpb24gaW4gcHJvZ3Jlc3Ncblx0ICAgICAgICAgICAgLy8gc28gd2FpdCBmb3IgaXQgdG8gZmluaXNoIGluIG9yZGVyIHRvIGF2b2lkIGEgcG9zc2libGVcblx0ICAgICAgICAgICAgLy8gcmFjZSBjb25kaXRpb24gdG8gc2V0IF9kYkluZm9cblx0ICAgICAgICAgICAgdmFyIG9sZERyaXZlclNldERvbmUgPSB0aGlzLl9kcml2ZXJTZXQgIT09IG51bGwgPyB0aGlzLl9kcml2ZXJTZXRbJ2NhdGNoJ10oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICB9KSA6IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdCAgICAgICAgICAgIHRoaXMuX2RyaXZlclNldCA9IG9sZERyaXZlclNldERvbmUudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IHN1cHBvcnRlZERyaXZlcnNbMF07XG5cdCAgICAgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBudWxsO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXREcml2ZXIoZHJpdmVyTmFtZSkudGhlbihmdW5jdGlvbiAoZHJpdmVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZi5fZHJpdmVyID0gZHJpdmVyLl9kcml2ZXI7XG5cdCAgICAgICAgICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl9pbml0RHJpdmVyID0gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdObyBhdmFpbGFibGUgc3RvcmFnZSBtZXRob2QgZm91bmQuJyk7XG5cdCAgICAgICAgICAgICAgICBzZWxmLl9kcml2ZXJTZXQgPSBQcm9taXNlLnJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZHJpdmVyU2V0O1xuXHQgICAgICAgICAgICB9KTtcblxuXHQgICAgICAgICAgICB0aGlzLl9kcml2ZXJTZXQudGhlbihjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXJTZXQ7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5zdXBwb3J0cyA9IGZ1bmN0aW9uIHN1cHBvcnRzKGRyaXZlck5hbWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICEhZHJpdmVyU3VwcG9ydFtkcml2ZXJOYW1lXTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9leHRlbmQgPSBmdW5jdGlvbiBfZXh0ZW5kKGxpYnJhcnlNZXRob2RzQW5kUHJvcGVydGllcykge1xuXHQgICAgICAgICAgICBleHRlbmQodGhpcywgbGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzKTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9nZXRTdXBwb3J0ZWREcml2ZXJzID0gZnVuY3Rpb24gX2dldFN1cHBvcnRlZERyaXZlcnMoZHJpdmVycykge1xuXHQgICAgICAgICAgICB2YXIgc3VwcG9ydGVkRHJpdmVycyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZHJpdmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBkcml2ZXJzW2ldO1xuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHMoZHJpdmVyTmFtZSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWREcml2ZXJzLnB1c2goZHJpdmVyTmFtZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnRlZERyaXZlcnM7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5ID0gZnVuY3Rpb24gX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSgpIHtcblx0ICAgICAgICAgICAgLy8gQWRkIGEgc3R1YiBmb3IgZWFjaCBkcml2ZXIgQVBJIG1ldGhvZCB0aGF0IGRlbGF5cyB0aGUgY2FsbCB0byB0aGVcblx0ICAgICAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkcml2ZXIgbWV0aG9kIHVudGlsIGxvY2FsRm9yYWdlIGlzIHJlYWR5LiBUaGVzZSBzdHVic1xuXHQgICAgICAgICAgICAvLyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBkcml2ZXIgbWV0aG9kcyBhcyBzb29uIGFzIHRoZSBkcml2ZXIgaXNcblx0ICAgICAgICAgICAgLy8gbG9hZGVkLCBzbyB0aGVyZSBpcyBubyBwZXJmb3JtYW5jZSBpbXBhY3QuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTGlicmFyeU1ldGhvZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxXaGVuUmVhZHkodGhpcywgTGlicmFyeU1ldGhvZHNbaV0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhbEZvcmFnZShvcHRpb25zKTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgcmV0dXJuIExvY2FsRm9yYWdlO1xuXHQgICAgfSkoKTtcblxuXHQgICAgdmFyIGxvY2FsRm9yYWdlID0gbmV3IExvY2FsRm9yYWdlKCk7XG5cblx0ICAgIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGxvY2FsRm9yYWdlO1xuXHR9KS5jYWxsKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogc2VsZik7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gU29tZSBjb2RlIG9yaWdpbmFsbHkgZnJvbSBhc3luY19zdG9yYWdlLmpzIGluXG5cdC8vIFtHYWlhXShodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS1iMmcvZ2FpYSkuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICB2YXIgZ2xvYmFsT2JqZWN0ID0gdGhpcztcblx0ICAgIC8vIEluaXRpYWxpemUgSW5kZXhlZERCOyBmYWxsIGJhY2sgdG8gdmVuZG9yLXByZWZpeGVkIHZlcnNpb25zIGlmIG5lZWRlZC5cblx0ICAgIHZhciBpbmRleGVkREIgPSBpbmRleGVkREIgfHwgdGhpcy5pbmRleGVkREIgfHwgdGhpcy53ZWJraXRJbmRleGVkREIgfHwgdGhpcy5tb3pJbmRleGVkREIgfHwgdGhpcy5PSW5kZXhlZERCIHx8IHRoaXMubXNJbmRleGVkREI7XG5cblx0ICAgIC8vIElmIEluZGV4ZWREQiBpc24ndCBhdmFpbGFibGUsIHdlIGdldCBvdXR0YSBoZXJlIVxuXHQgICAgaWYgKCFpbmRleGVkREIpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIHZhciBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFID0gJ2xvY2FsLWZvcmFnZS1kZXRlY3QtYmxvYi1zdXBwb3J0Jztcblx0ICAgIHZhciBzdXBwb3J0c0Jsb2JzO1xuXHQgICAgdmFyIGRiQ29udGV4dHM7XG5cblx0ICAgIC8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuXHQgICAgLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3Rvci4gKGkuZS5cblx0ICAgIC8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgYXQgbGVhc3QpLlxuXHQgICAgZnVuY3Rpb24gX2NyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcblx0ICAgICAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuXHQgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS5uYW1lICE9PSAnVHlwZUVycm9yJykge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgQmxvYkJ1aWxkZXIgPSBnbG9iYWxPYmplY3QuQmxvYkJ1aWxkZXIgfHwgZ2xvYmFsT2JqZWN0Lk1TQmxvYkJ1aWxkZXIgfHwgZ2xvYmFsT2JqZWN0Lk1vekJsb2JCdWlsZGVyIHx8IGdsb2JhbE9iamVjdC5XZWJLaXRCbG9iQnVpbGRlcjtcblx0ICAgICAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgICAgICAgICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IocHJvcGVydGllcy50eXBlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIFRyYW5zZm9ybSBhIGJpbmFyeSBzdHJpbmcgdG8gYW4gYXJyYXkgYnVmZmVyLCBiZWNhdXNlIG90aGVyd2lzZVxuXHQgICAgLy8gd2VpcmQgc3R1ZmYgaGFwcGVucyB3aGVuIHlvdSB0cnkgdG8gd29yayB3aXRoIHRoZSBiaW5hcnkgc3RyaW5nIGRpcmVjdGx5LlxuXHQgICAgLy8gSXQgaXMga25vd24uXG5cdCAgICAvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5Njc2NDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuXHQgICAgLy8gZW5jb2RlLWRlY29kZS1pbWFnZS13aXRoLWJhc2U2NC1icmVha3MtaW1hZ2UgKDIwMTMtMDQtMjEpXG5cdCAgICBmdW5jdGlvbiBfYmluU3RyaW5nVG9BcnJheUJ1ZmZlcihiaW4pIHtcblx0ICAgICAgICB2YXIgbGVuZ3RoID0gYmluLmxlbmd0aDtcblx0ICAgICAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XG5cdCAgICAgICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGJ1Zjtcblx0ICAgIH1cblxuXHQgICAgLy8gRmV0Y2ggYSBibG9iIHVzaW5nIGFqYXguIFRoaXMgcmV2ZWFscyBidWdzIGluIENocm9tZSA8IDQzLlxuXHQgICAgLy8gRm9yIGRldGFpbHMgb24gYWxsIHRoaXMganVuazpcblx0ICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2xhbmxhd3Nvbi9zdGF0ZS1vZi1iaW5hcnktZGF0YS1pbi10aGUtYnJvd3NlciNyZWFkbWVcblx0ICAgIGZ1bmN0aW9uIF9ibG9iQWpheCh1cmwpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdCAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuXHQgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblx0ICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cblx0ICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gNCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB4aHIucmVzcG9uc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJylcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJlamVjdCh7IHN0YXR1czogeGhyLnN0YXR1cywgcmVzcG9uc2U6IHhoci5yZXNwb25zZSB9KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgeGhyLnNlbmQoKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgLy9cblx0ICAgIC8vIERldGVjdCBibG9iIHN1cHBvcnQuIENocm9tZSBkaWRuJ3Qgc3VwcG9ydCBpdCB1bnRpbCB2ZXJzaW9uIDM4LlxuXHQgICAgLy8gSW4gdmVyc2lvbiAzNyB0aGV5IGhhZCBhIGJyb2tlbiB2ZXJzaW9uIHdoZXJlIFBOR3MgKGFuZCBwb3NzaWJseVxuXHQgICAgLy8gb3RoZXIgYmluYXJ5IHR5cGVzKSBhcmVuJ3Qgc3RvcmVkIGNvcnJlY3RseSwgYmVjYXVzZSB3aGVuIHlvdSBmZXRjaFxuXHQgICAgLy8gdGhlbSwgdGhlIGNvbnRlbnQgdHlwZSBpcyBhbHdheXMgbnVsbC5cblx0ICAgIC8vXG5cdCAgICAvLyBGdXJ0aGVybW9yZSwgdGhleSBoYXZlIHNvbWUgb3V0c3RhbmRpbmcgYnVncyB3aGVyZSBibG9icyBvY2Nhc2lvbmFsbHlcblx0ICAgIC8vIGFyZSByZWFkIGJ5IEZpbGVSZWFkZXIgYXMgbnVsbCwgb3IgYnkgYWpheCBhcyA0MDRzLlxuXHQgICAgLy9cblx0ICAgIC8vIFNhZGx5IHdlIHVzZSB0aGUgNDA0IGJ1ZyB0byBkZXRlY3QgdGhlIEZpbGVSZWFkZXIgYnVnLCBzbyBpZiB0aGV5XG5cdCAgICAvLyBnZXQgZml4ZWQgaW5kZXBlbmRlbnRseSBhbmQgcmVsZWFzZWQgaW4gZGlmZmVyZW50IHZlcnNpb25zIG9mIENocm9tZSxcblx0ICAgIC8vIHRoZW4gdGhlIGJ1ZyBjb3VsZCBjb21lIGJhY2suIFNvIGl0J3Mgd29ydGh3aGlsZSB0byB3YXRjaCB0aGVzZSBpc3N1ZXM6XG5cdCAgICAvLyA0MDQgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3OTE2XG5cdCAgICAvLyBGaWxlUmVhZGVyIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzgzNlxuXHQgICAgLy9cblx0ICAgIGZ1bmN0aW9uIF9jaGVja0Jsb2JTdXBwb3J0V2l0aG91dENhY2hpbmcoaWRiKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgdmFyIGJsb2IgPSBfY3JlYXRlQmxvYihbJyddLCB7IHR5cGU6ICdpbWFnZS9wbmcnIH0pO1xuXHQgICAgICAgICAgICB2YXIgdHhuID0gaWRiLnRyYW5zYWN0aW9uKFtERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuXHQgICAgICAgICAgICB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IsICdrZXknKTtcblx0ICAgICAgICAgICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBoYXZlIHRvIGRvIGl0IGluIGEgc2VwYXJhdGUgdHJhbnNhY3Rpb24sIGVsc2UgdGhlIGNvcnJlY3Rcblx0ICAgICAgICAgICAgICAgIC8vIGNvbnRlbnQgdHlwZSBpcyBhbHdheXMgcmV0dXJuZWRcblx0ICAgICAgICAgICAgICAgIHZhciBibG9iVHhuID0gaWRiLnRyYW5zYWN0aW9uKFtERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGdldEJsb2JSZXEgPSBibG9iVHhuLm9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpLmdldCgna2V5Jyk7XG5cdCAgICAgICAgICAgICAgICBnZXRCbG9iUmVxLm9uZXJyb3IgPSByZWplY3Q7XG5cdCAgICAgICAgICAgICAgICBnZXRCbG9iUmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG5cblx0ICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVkQmxvYiA9IGUudGFyZ2V0LnJlc3VsdDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChzdG9yZWRCbG9iKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIF9ibG9iQWpheCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCEhKHJlcyAmJiByZXMudHlwZSA9PT0gJ2ltYWdlL3BuZycpKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciwgc28gYXNzdW1lIHVuc3VwcG9ydGVkXG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIF9jaGVja0Jsb2JTdXBwb3J0KGlkYikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc3VwcG9ydHNCbG9icyA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3VwcG9ydHNCbG9icyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydFdpdGhvdXRDYWNoaW5nKGlkYikudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgc3VwcG9ydHNCbG9icyA9IHZhbHVlO1xuXHQgICAgICAgICAgICByZXR1cm4gc3VwcG9ydHNCbG9icztcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgLy8gZW5jb2RlIGEgYmxvYiBmb3IgaW5kZXhlZGRiIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0IGJsb2JzXG5cdCAgICBmdW5jdGlvbiBfZW5jb2RlQmxvYihibG9iKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdCAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuXHQgICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBiYXNlNjQgPSBidG9hKGUudGFyZ2V0LnJlc3VsdCB8fCAnJyk7XG5cdCAgICAgICAgICAgICAgICByZXNvbHZlKHtcblx0ICAgICAgICAgICAgICAgICAgICBfX2xvY2FsX2ZvcmFnZV9lbmNvZGVkX2Jsb2I6IHRydWUsXG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogYmFzZTY0LFxuXHQgICAgICAgICAgICAgICAgICAgIHR5cGU6IGJsb2IudHlwZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIC8vIGRlY29kZSBhbiBlbmNvZGVkIGJsb2Jcblx0ICAgIGZ1bmN0aW9uIF9kZWNvZGVCbG9iKGVuY29kZWRCbG9iKSB7XG5cdCAgICAgICAgdmFyIGFycmF5QnVmZiA9IF9iaW5TdHJpbmdUb0FycmF5QnVmZmVyKGF0b2IoZW5jb2RlZEJsb2IuZGF0YSkpO1xuXHQgICAgICAgIHJldHVybiBfY3JlYXRlQmxvYihbYXJyYXlCdWZmXSwgeyB0eXBlOiBlbmNvZGVkQmxvYi50eXBlIH0pO1xuXHQgICAgfVxuXG5cdCAgICAvLyBpcyB0aGlzIG9uZSBvZiBvdXIgZmFuY3kgZW5jb2RlZCBibG9icz9cblx0ICAgIGZ1bmN0aW9uIF9pc0VuY29kZWRCbG9iKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLl9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYjtcblx0ICAgIH1cblxuXHQgICAgLy8gT3BlbiB0aGUgSW5kZXhlZERCIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcblx0ICAgIC8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cblx0ICAgIGZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBkYkluZm8gPSB7XG5cdCAgICAgICAgICAgIGRiOiBudWxsXG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIGlmIChvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIEluaXRpYWxpemUgYSBzaW5nbGV0b24gY29udGFpbmVyIGZvciBhbGwgcnVubmluZyBsb2NhbEZvcmFnZXMuXG5cdCAgICAgICAgaWYgKCFkYkNvbnRleHRzKSB7XG5cdCAgICAgICAgICAgIGRiQ29udGV4dHMgPSB7fTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29udGV4dCBvZiB0aGUgZGF0YWJhc2U7XG5cdCAgICAgICAgdmFyIGRiQ29udGV4dCA9IGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdO1xuXG5cdCAgICAgICAgLy8gLi4ub3IgY3JlYXRlIGEgbmV3IGNvbnRleHQuXG5cdCAgICAgICAgaWYgKCFkYkNvbnRleHQpIHtcblx0ICAgICAgICAgICAgZGJDb250ZXh0ID0ge1xuXHQgICAgICAgICAgICAgICAgLy8gUnVubmluZyBsb2NhbEZvcmFnZXMgc2hhcmluZyBhIGRhdGFiYXNlLlxuXHQgICAgICAgICAgICAgICAgZm9yYWdlczogW10sXG5cdCAgICAgICAgICAgICAgICAvLyBTaGFyZWQgZGF0YWJhc2UuXG5cdCAgICAgICAgICAgICAgICBkYjogbnVsbFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGNvbnRleHQgaW4gdGhlIGdsb2JhbCBjb250YWluZXIuXG5cdCAgICAgICAgICAgIGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdID0gZGJDb250ZXh0O1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFJlZ2lzdGVyIGl0c2VsZiBhcyBhIHJ1bm5pbmcgbG9jYWxGb3JhZ2UgaW4gdGhlIGN1cnJlbnQgY29udGV4dC5cblx0ICAgICAgICBkYkNvbnRleHQuZm9yYWdlcy5wdXNoKHRoaXMpO1xuXG5cdCAgICAgICAgLy8gQ3JlYXRlIGFuIGFycmF5IG9mIHJlYWRpbmVzcyBvZiB0aGUgcmVsYXRlZCBsb2NhbEZvcmFnZXMuXG5cdCAgICAgICAgdmFyIHJlYWR5UHJvbWlzZXMgPSBbXTtcblxuXHQgICAgICAgIGZ1bmN0aW9uIGlnbm9yZUVycm9ycygpIHtcblx0ICAgICAgICAgICAgLy8gRG9uJ3QgaGFuZGxlIGVycm9ycyBoZXJlLFxuXHQgICAgICAgICAgICAvLyBqdXN0IG1ha2VzIHN1cmUgcmVsYXRlZCBsb2NhbEZvcmFnZXMgYXJlbid0IHBlbmRpbmcuXG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRiQ29udGV4dC5mb3JhZ2VzLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgIHZhciBmb3JhZ2UgPSBkYkNvbnRleHQuZm9yYWdlc1tqXTtcblx0ICAgICAgICAgICAgaWYgKGZvcmFnZSAhPT0gdGhpcykge1xuXHQgICAgICAgICAgICAgICAgLy8gRG9uJ3Qgd2FpdCBmb3IgaXRzZWxmLi4uXG5cdCAgICAgICAgICAgICAgICByZWFkeVByb21pc2VzLnB1c2goZm9yYWdlLnJlYWR5KClbJ2NhdGNoJ10oaWdub3JlRXJyb3JzKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBUYWtlIGEgc25hcHNob3Qgb2YgdGhlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuXHQgICAgICAgIHZhciBmb3JhZ2VzID0gZGJDb250ZXh0LmZvcmFnZXMuc2xpY2UoMCk7XG5cblx0ICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjb25uZWN0aW9uIHByb2Nlc3Mgb25seSB3aGVuXG5cdCAgICAgICAgLy8gYWxsIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcyBhcmVuJ3QgcGVuZGluZy5cblx0ICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVhZHlQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5kYiA9IGRiQ29udGV4dC5kYjtcblx0ICAgICAgICAgICAgLy8gR2V0IHRoZSBjb25uZWN0aW9uIG9yIG9wZW4gYSBuZXcgb25lIHdpdGhvdXQgdXBncmFkZS5cblx0ICAgICAgICAgICAgcmV0dXJuIF9nZXRPcmlnaW5hbENvbm5lY3Rpb24oZGJJbmZvKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuXHQgICAgICAgICAgICBkYkluZm8uZGIgPSBkYjtcblx0ICAgICAgICAgICAgaWYgKF9pc1VwZ3JhZGVOZWVkZWQoZGJJbmZvLCBzZWxmLl9kZWZhdWx0Q29uZmlnLnZlcnNpb24pKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBSZW9wZW4gdGhlIGRhdGFiYXNlIGZvciB1cGdyYWRpbmcuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBkYjtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuXHQgICAgICAgICAgICBkYkluZm8uZGIgPSBkYkNvbnRleHQuZGIgPSBkYjtcblx0ICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gZGJJbmZvO1xuXHQgICAgICAgICAgICAvLyBTaGFyZSB0aGUgZmluYWwgY29ubmVjdGlvbiBhbW9uZ3N0IHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuXHQgICAgICAgICAgICBmb3IgKHZhciBrIGluIGZvcmFnZXMpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBmb3JhZ2UgPSBmb3JhZ2VzW2tdO1xuXHQgICAgICAgICAgICAgICAgaWYgKGZvcmFnZSAhPT0gc2VsZikge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNlbGYgaXMgYWxyZWFkeSB1cC10by1kYXRlLlxuXHQgICAgICAgICAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLmRiID0gZGJJbmZvLmRiO1xuXHQgICAgICAgICAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLnZlcnNpb24gPSBkYkluZm8udmVyc2lvbjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKGRiSW5mbykge1xuXHQgICAgICAgIHJldHVybiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIGZhbHNlKTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pIHtcblx0ICAgICAgICByZXR1cm4gX2dldENvbm5lY3Rpb24oZGJJbmZvLCB0cnVlKTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gX2dldENvbm5lY3Rpb24oZGJJbmZvLCB1cGdyYWRlTmVlZGVkKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgaWYgKGRiSW5mby5kYikge1xuXHQgICAgICAgICAgICAgICAgaWYgKHVwZ3JhZGVOZWVkZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkYkluZm8uZGIuY2xvc2UoKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZGJJbmZvLmRiKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBkYkFyZ3MgPSBbZGJJbmZvLm5hbWVdO1xuXG5cdCAgICAgICAgICAgIGlmICh1cGdyYWRlTmVlZGVkKSB7XG5cdCAgICAgICAgICAgICAgICBkYkFyZ3MucHVzaChkYkluZm8udmVyc2lvbik7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgb3BlbnJlcSA9IGluZGV4ZWREQi5vcGVuLmFwcGx5KGluZGV4ZWREQiwgZGJBcmdzKTtcblxuXHQgICAgICAgICAgICBpZiAodXBncmFkZU5lZWRlZCkge1xuXHQgICAgICAgICAgICAgICAgb3BlbnJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBkYiA9IG9wZW5yZXEucmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5vbGRWZXJzaW9uIDw9IDEpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZGVkIHdoZW4gc3VwcG9ydCBmb3IgYmxvYiBzaGltcyB3YXMgYWRkZWRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Lm5hbWUgPT09ICdDb25zdHJhaW50RXJyb3InKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKCdUaGUgZGF0YWJhc2UgXCInICsgZGJJbmZvLm5hbWUgKyAnXCInICsgJyBoYXMgYmVlbiB1cGdyYWRlZCBmcm9tIHZlcnNpb24gJyArIGUub2xkVmVyc2lvbiArICcgdG8gdmVyc2lvbiAnICsgZS5uZXdWZXJzaW9uICsgJywgYnV0IHRoZSBzdG9yYWdlIFwiJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnXCIgYWxyZWFkeSBleGlzdHMuJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBleDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBvcGVucmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZWplY3Qob3BlbnJlcS5lcnJvcik7XG5cdCAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgb3BlbnJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXNvbHZlKG9wZW5yZXEucmVzdWx0KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gX2lzVXBncmFkZU5lZWRlZChkYkluZm8sIGRlZmF1bHRWZXJzaW9uKSB7XG5cdCAgICAgICAgaWYgKCFkYkluZm8uZGIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGlzTmV3U3RvcmUgPSAhZGJJbmZvLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoZGJJbmZvLnN0b3JlTmFtZSk7XG5cdCAgICAgICAgdmFyIGlzRG93bmdyYWRlID0gZGJJbmZvLnZlcnNpb24gPCBkYkluZm8uZGIudmVyc2lvbjtcblx0ICAgICAgICB2YXIgaXNVcGdyYWRlID0gZGJJbmZvLnZlcnNpb24gPiBkYkluZm8uZGIudmVyc2lvbjtcblxuXHQgICAgICAgIGlmIChpc0Rvd25ncmFkZSkge1xuXHQgICAgICAgICAgICAvLyBJZiB0aGUgdmVyc2lvbiBpcyBub3QgdGhlIGRlZmF1bHQgb25lXG5cdCAgICAgICAgICAgIC8vIHRoZW4gd2FybiBmb3IgaW1wb3NzaWJsZSBkb3duZ3JhZGUuXG5cdCAgICAgICAgICAgIGlmIChkYkluZm8udmVyc2lvbiAhPT0gZGVmYXVsdFZlcnNpb24pIHtcblx0ICAgICAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBcIicgKyBkYkluZm8ubmFtZSArICdcIicgKyAnIGNhblxcJ3QgYmUgZG93bmdyYWRlZCBmcm9tIHZlcnNpb24gJyArIGRiSW5mby5kYi52ZXJzaW9uICsgJyB0byB2ZXJzaW9uICcgKyBkYkluZm8udmVyc2lvbiArICcuJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gQWxpZ24gdGhlIHZlcnNpb25zIHRvIHByZXZlbnQgZXJyb3JzLlxuXHQgICAgICAgICAgICBkYkluZm8udmVyc2lvbiA9IGRiSW5mby5kYi52ZXJzaW9uO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChpc1VwZ3JhZGUgfHwgaXNOZXdTdG9yZSkge1xuXHQgICAgICAgICAgICAvLyBJZiB0aGUgc3RvcmUgaXMgbmV3IHRoZW4gaW5jcmVtZW50IHRoZSB2ZXJzaW9uIChpZiBuZWVkZWQpLlxuXHQgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhbiBcInVwZ3JhZGVuZWVkZWRcIiBldmVudCB3aGljaCBpcyByZXF1aXJlZFxuXHQgICAgICAgICAgICAvLyBmb3IgY3JlYXRpbmcgYSBzdG9yZS5cblx0ICAgICAgICAgICAgaWYgKGlzTmV3U3RvcmUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbmNWZXJzaW9uID0gZGJJbmZvLmRiLnZlcnNpb24gKyAxO1xuXHQgICAgICAgICAgICAgICAgaWYgKGluY1ZlcnNpb24gPiBkYkluZm8udmVyc2lvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIGRiSW5mby52ZXJzaW9uID0gaW5jVmVyc2lvbjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZ2V0SXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblx0ICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5nZXQoa2V5KTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByZXEucmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF9pc0VuY29kZWRCbG9iKHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9kZWNvZGVCbG9iKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBJdGVyYXRlIG92ZXIgYWxsIGl0ZW1zIHN0b3JlZCBpbiBkYXRhYmFzZS5cblx0ICAgIGZ1bmN0aW9uIGl0ZXJhdGUoaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgaXRlcmF0aW9uTnVtYmVyID0gMTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY3Vyc29yLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2lzRW5jb2RlZEJsb2IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9kZWNvZGVCbG9iKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IodmFsdWUsIGN1cnNvci5rZXksIGl0ZXJhdGlvbk51bWJlcisrKTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvclsnY29udGludWUnXSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm87XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydChkYkluZm8uZGIpO1xuXHQgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iU3VwcG9ydCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFibG9iU3VwcG9ydCAmJiB2YWx1ZSBpbnN0YW5jZW9mIEJsb2IpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2VuY29kZUJsb2IodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkd3JpdGUnKTtcblx0ICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBUaGUgcmVhc29uIHdlIGRvbid0IF9zYXZlXyBudWxsIGlzIGJlY2F1c2UgSUUgMTAgZG9lc1xuXHQgICAgICAgICAgICAgICAgLy8gbm90IHN1cHBvcnQgc2F2aW5nIHRoZSBgbnVsbGAgdHlwZSBpbiBJbmRleGVkREIuIEhvd1xuXHQgICAgICAgICAgICAgICAgLy8gaXJvbmljLCBnaXZlbiB0aGUgYnVnIGJlbG93IVxuXHQgICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTYxXG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcblx0ICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gQ2FzdCB0byB1bmRlZmluZWQgc28gdGhlIHZhbHVlIHBhc3NlZCB0b1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrL3Byb21pc2UgaXMgdGhlIHNhbWUgYXMgd2hhdCBvbmUgd291bGQgZ2V0IG91dFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIG9mIGBnZXRJdGVtKClgIGxhdGVyLiBUaGlzIGxlYWRzIHRvIHNvbWUgd2VpcmRuZXNzXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gKHNldEl0ZW0oJ2ZvbycsIHVuZGVmaW5lZCkgd2lsbCByZXR1cm4gYG51bGxgKSwgYnV0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBub3QgbXkgZmF1bHQgbG9jYWxTdG9yYWdlIGlzIG91ciBiYXNlbGluZSBhbmQgdGhhdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIGl0J3Mgd2VpcmQuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gV2UgdXNlIGEgR3J1bnQgdGFzayB0byBtYWtlIHRoaXMgc2FmZSBmb3IgSUUgYW5kIHNvbWVcblx0ICAgICAgICAgICAgICAgIC8vIHZlcnNpb25zIG9mIEFuZHJvaWQgKGluY2x1ZGluZyB0aG9zZSB1c2VkIGJ5IENvcmRvdmEpLlxuXHQgICAgICAgICAgICAgICAgLy8gTm9ybWFsbHkgSUUgd29uJ3QgbGlrZSBgLmRlbGV0ZSgpYCBhbmQgd2lsbCBpbnNpc3Qgb25cblx0ICAgICAgICAgICAgICAgIC8vIHVzaW5nIGBbJ2RlbGV0ZSddKClgLCBidXQgd2UgaGF2ZSBhIGJ1aWxkIHN0ZXAgdGhhdFxuXHQgICAgICAgICAgICAgICAgLy8gZml4ZXMgdGhpcyBmb3IgdXMgbm93LlxuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlWydkZWxldGUnXShrZXkpO1xuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2lsbCBiZSBhbHNvIGJlIGFib3J0ZWQgaWYgd2UndmUgZXhjZWVkZWQgb3VyIHN0b3JhZ2Vcblx0ICAgICAgICAgICAgICAgIC8vIHNwYWNlLlxuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gcmVxLmVycm9yID8gcmVxLmVycm9yIDogcmVxLnRyYW5zYWN0aW9uLmVycm9yO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuY2xlYXIoKTtcblxuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmFib3J0ID0gdHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gcmVxLmVycm9yID8gcmVxLmVycm9yIDogcmVxLnRyYW5zYWN0aW9uLmVycm9yO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGxlbmd0aChjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmNvdW50KCk7XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXEucmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGtleShuLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBpZiAobiA8IDApIHtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciBhZHZhbmNlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLm9wZW5DdXJzb3IoKTtcblx0ICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcS5yZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyB0aGVyZSB3ZXJlbid0IGVub3VnaCBrZXlzXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChuID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdGhlIGZpcnN0IGtleSwgcmV0dXJuIGl0IGlmIHRoYXQncyB3aGF0IHRoZXlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FudGVkLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGN1cnNvci5rZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWR2YW5jZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgYXNrIHRoZSBjdXJzb3IgdG8gc2tpcCBhaGVhZCBuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmRzLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmFkdmFuY2Uobik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIGdldCBoZXJlLCB3ZSd2ZSBnb3QgdGhlIG50aCBrZXkuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGN1cnNvci5rZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUub3BlbkN1cnNvcigpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoa2V5cyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goY3Vyc29yLmtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgY3Vyc29yWydjb250aW51ZSddKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICBpZiAoY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHZhciBhc3luY1N0b3JhZ2UgPSB7XG5cdCAgICAgICAgX2RyaXZlcjogJ2FzeW5jU3RvcmFnZScsXG5cdCAgICAgICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UsXG5cdCAgICAgICAgaXRlcmF0ZTogaXRlcmF0ZSxcblx0ICAgICAgICBnZXRJdGVtOiBnZXRJdGVtLFxuXHQgICAgICAgIHNldEl0ZW06IHNldEl0ZW0sXG5cdCAgICAgICAgcmVtb3ZlSXRlbTogcmVtb3ZlSXRlbSxcblx0ICAgICAgICBjbGVhcjogY2xlYXIsXG5cdCAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG5cdCAgICAgICAga2V5OiBrZXksXG5cdCAgICAgICAga2V5czoga2V5c1xuXHQgICAgfTtcblxuXHQgICAgZXhwb3J0c1snZGVmYXVsdCddID0gYXN5bmNTdG9yYWdlO1xuXHR9KS5jYWxsKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogc2VsZik7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gSWYgSW5kZXhlZERCIGlzbid0IGF2YWlsYWJsZSwgd2UnbGwgZmFsbCBiYWNrIHRvIGxvY2FsU3RvcmFnZS5cblx0Ly8gTm90ZSB0aGF0IHRoaXMgd2lsbCBoYXZlIGNvbnNpZGVyYWJsZSBwZXJmb3JtYW5jZSBhbmQgc3RvcmFnZVxuXHQvLyBzaWRlLWVmZmVjdHMgKGFsbCBkYXRhIHdpbGwgYmUgc2VyaWFsaXplZCBvbiBzYXZlIGFuZCBvbmx5IGRhdGEgdGhhdFxuXHQvLyBjYW4gYmUgY29udmVydGVkIHRvIGEgc3RyaW5nIHZpYSBgSlNPTi5zdHJpbmdpZnkoKWAgd2lsbCBiZSBzYXZlZCkuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICB2YXIgZ2xvYmFsT2JqZWN0ID0gdGhpcztcblx0ICAgIHZhciBsb2NhbFN0b3JhZ2UgPSBudWxsO1xuXG5cdCAgICAvLyBJZiB0aGUgYXBwIGlzIHJ1bm5pbmcgaW5zaWRlIGEgR29vZ2xlIENocm9tZSBwYWNrYWdlZCB3ZWJhcHAsIG9yIHNvbWVcblx0ICAgIC8vIG90aGVyIGNvbnRleHQgd2hlcmUgbG9jYWxTdG9yYWdlIGlzbid0IGF2YWlsYWJsZSwgd2UgZG9uJ3QgdXNlXG5cdCAgICAvLyBsb2NhbFN0b3JhZ2UuIFRoaXMgZmVhdHVyZSBkZXRlY3Rpb24gaXMgcHJlZmVycmVkIG92ZXIgdGhlIG9sZFxuXHQgICAgLy8gYGlmICh3aW5kb3cuY2hyb21lICYmIHdpbmRvdy5jaHJvbWUucnVudGltZSlgIGNvZGUuXG5cdCAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL2lzc3Vlcy82OFxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyBJZiBsb2NhbFN0b3JhZ2UgaXNuJ3QgYXZhaWxhYmxlLCB3ZSBnZXQgb3V0dGEgaGVyZSFcblx0ICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBpbnNpZGUgYSB0cnkgY2F0Y2hcblx0ICAgICAgICBpZiAoIXRoaXMubG9jYWxTdG9yYWdlIHx8ICEoJ3NldEl0ZW0nIGluIHRoaXMubG9jYWxTdG9yYWdlKSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIEluaXRpYWxpemUgbG9jYWxTdG9yYWdlIGFuZCBjcmVhdGUgYSB2YXJpYWJsZSB0byB1c2UgdGhyb3VnaG91dFxuXHQgICAgICAgIC8vIHRoZSBjb2RlLlxuXHQgICAgICAgIGxvY2FsU3RvcmFnZSA9IHRoaXMubG9jYWxTdG9yYWdlO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgLy8gQ29uZmlnIHRoZSBsb2NhbFN0b3JhZ2UgYmFja2VuZCwgdXNpbmcgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cblx0ICAgIGZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBkYkluZm8gPSB7fTtcblx0ICAgICAgICBpZiAob3B0aW9ucykge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgICAgIGRiSW5mb1tpXSA9IG9wdGlvbnNbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICBkYkluZm8ua2V5UHJlZml4ID0gZGJJbmZvLm5hbWUgKyAnLyc7XG5cblx0ICAgICAgICBpZiAoZGJJbmZvLnN0b3JlTmFtZSAhPT0gc2VsZi5fZGVmYXVsdENvbmZpZy5zdG9yZU5hbWUpIHtcblx0ICAgICAgICAgICAgZGJJbmZvLmtleVByZWZpeCArPSBkYkluZm8uc3RvcmVOYW1lICsgJy8nO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcblxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobGliKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyID0gbGliO1xuXHQgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIC8vIFJlbW92ZSBhbGwga2V5cyBmcm9tIHRoZSBkYXRhc3RvcmUsIGVmZmVjdGl2ZWx5IGRlc3Ryb3lpbmcgYWxsIGRhdGEgaW5cblx0ICAgIC8vIHRoZSBhcHAncyBrZXkvdmFsdWUgc3RvcmUhXG5cdCAgICBmdW5jdGlvbiBjbGVhcihjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGtleVByZWZpeCA9IHNlbGYuX2RiSW5mby5rZXlQcmVmaXg7XG5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxvY2FsU3RvcmFnZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG5cblx0ICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihrZXlQcmVmaXgpID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gUmV0cmlldmUgYW4gaXRlbSBmcm9tIHRoZSBzdG9yZS4gVW5saWtlIHRoZSBvcmlnaW5hbCBhc3luY19zdG9yYWdlXG5cdCAgICAvLyBsaWJyYXJ5IGluIEdhaWEsIHdlIGRvbid0IG1vZGlmeSByZXR1cm4gdmFsdWVzIGF0IGFsbC4gSWYgYSBrZXkncyB2YWx1ZVxuXHQgICAgLy8gaXMgYHVuZGVmaW5lZGAsIHdlIHBhc3MgdGhhdCB2YWx1ZSB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAgICBmdW5jdGlvbiBnZXRJdGVtKGtleSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZGJJbmZvLmtleVByZWZpeCArIGtleSk7XG5cblx0ICAgICAgICAgICAgLy8gSWYgYSByZXN1bHQgd2FzIGZvdW5kLCBwYXJzZSBpdCBmcm9tIHRoZSBzZXJpYWxpemVkXG5cdCAgICAgICAgICAgIC8vIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0LiBJZiByZXN1bHQgaXNuJ3QgdHJ1dGh5LCB0aGUga2V5XG5cdCAgICAgICAgICAgIC8vIGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHQgdG8gdGhlXG5cdCAgICAgICAgICAgIC8vIGNhbGxiYWNrLlxuXHQgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIC8vIEl0ZXJhdGUgb3ZlciBhbGwgaXRlbXMgaW4gdGhlIHN0b3JlLlxuXHQgICAgZnVuY3Rpb24gaXRlcmF0ZShpdGVyYXRvciwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgdmFyIGtleVByZWZpeCA9IGRiSW5mby5rZXlQcmVmaXg7XG5cdCAgICAgICAgICAgIHZhciBrZXlQcmVmaXhMZW5ndGggPSBrZXlQcmVmaXgubGVuZ3RoO1xuXHQgICAgICAgICAgICB2YXIgbGVuZ3RoID0gbG9jYWxTdG9yYWdlLmxlbmd0aDtcblxuXHQgICAgICAgICAgICAvLyBXZSB1c2UgYSBkZWRpY2F0ZWQgaXRlcmF0b3IgaW5zdGVhZCBvZiB0aGUgYGlgIHZhcmlhYmxlIGJlbG93XG5cdCAgICAgICAgICAgIC8vIHNvIG90aGVyIGtleXMgd2UgZmV0Y2ggaW4gbG9jYWxTdG9yYWdlIGFyZW4ndCBjb3VudGVkIGluXG5cdCAgICAgICAgICAgIC8vIHRoZSBgaXRlcmF0aW9uTnVtYmVyYCBhcmd1bWVudCBwYXNzZWQgdG8gdGhlIGBpdGVyYXRlKClgXG5cdCAgICAgICAgICAgIC8vIGNhbGxiYWNrLlxuXHQgICAgICAgICAgICAvL1xuXHQgICAgICAgICAgICAvLyBTZWU6IGdpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9wdWxsLzQzNSNkaXNjdXNzaW9uX3IzODA2MTUzMFxuXHQgICAgICAgICAgICB2YXIgaXRlcmF0aW9uTnVtYmVyID0gMTtcblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcblx0ICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihrZXlQcmVmaXgpICE9PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBJZiBhIHJlc3VsdCB3YXMgZm91bmQsIHBhcnNlIGl0IGZyb20gdGhlIHNlcmlhbGl6ZWRcblx0ICAgICAgICAgICAgICAgIC8vIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0LiBJZiByZXN1bHQgaXNuJ3QgdHJ1dGh5LCB0aGVcblx0ICAgICAgICAgICAgICAgIC8vIGtleSBpcyBsaWtlbHkgdW5kZWZpbmVkIGFuZCB3ZSdsbCBwYXNzIGl0IHN0cmFpZ2h0XG5cdCAgICAgICAgICAgICAgICAvLyB0byB0aGUgaXRlcmF0b3IuXG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRiSW5mby5zZXJpYWxpemVyLmRlc2VyaWFsaXplKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdmFsdWUgPSBpdGVyYXRvcih2YWx1ZSwga2V5LnN1YnN0cmluZyhrZXlQcmVmaXhMZW5ndGgpLCBpdGVyYXRpb25OdW1iZXIrKyk7XG5cblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBTYW1lIGFzIGxvY2FsU3RvcmFnZSdzIGtleSgpIG1ldGhvZCwgZXhjZXB0IHRha2VzIGEgY2FsbGJhY2suXG5cdCAgICBmdW5jdGlvbiBrZXkobiwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQ7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSBsb2NhbFN0b3JhZ2Uua2V5KG4pO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcHJlZml4IGZyb20gdGhlIGtleSwgaWYgYSBrZXkgaXMgZm91bmQuXG5cdCAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGtleXMoY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuXHQgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2Uua2V5KGkpLmluZGV4T2YoZGJJbmZvLmtleVByZWZpeCkgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2gobG9jYWxTdG9yYWdlLmtleShpKS5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBrZXlzO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gU3VwcGx5IHRoZSBudW1iZXIgb2Yga2V5cyBpbiB0aGUgZGF0YXN0b3JlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICAgIGZ1bmN0aW9uIGxlbmd0aChjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYua2V5cygpLnRoZW4oZnVuY3Rpb24gKGtleXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGtleXMubGVuZ3RoO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgc3RvcmUsIG5pY2UgYW5kIHNpbXBsZS5cblx0ICAgIGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5LCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGRiSW5mby5rZXlQcmVmaXggKyBrZXkpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gU2V0IGEga2V5J3MgdmFsdWUgYW5kIHJ1biBhbiBvcHRpb25hbCBjYWxsYmFjayBvbmNlIHRoZSB2YWx1ZSBpcyBzZXQuXG5cdCAgICAvLyBVbmxpa2UgR2FpYSdzIGltcGxlbWVudGF0aW9uLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSB2YWx1ZSxcblx0ICAgIC8vIGluIGNhc2UgeW91IHdhbnQgdG8gb3BlcmF0ZSBvbiB0aGF0IHZhbHVlIG9ubHkgYWZ0ZXIgeW91J3JlIHN1cmUgaXRcblx0ICAgIC8vIHNhdmVkLCBvciBzb21ldGhpbmcgbGlrZSB0aGF0LlxuXHQgICAgZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIENvbnZlcnQgdW5kZWZpbmVkIHZhbHVlcyB0byBudWxsLlxuXHQgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9wdWxsLzQyXG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBTYXZlIHRoZSBvcmlnaW5hbCB2YWx1ZSB0byBwYXNzIHRvIHRoZSBjYWxsYmFjay5cblx0ICAgICAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkYkluZm8ua2V5UHJlZml4ICsga2V5LCB2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9yaWdpbmFsVmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2UgY2FwYWNpdHkgZXhjZWVkZWQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYSBzcGVjaWZpYyBlcnJvci9ldmVudC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8IGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIGlmIChjYWxsYmFjaykge1xuXHQgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgdmFyIGxvY2FsU3RvcmFnZVdyYXBwZXIgPSB7XG5cdCAgICAgICAgX2RyaXZlcjogJ2xvY2FsU3RvcmFnZVdyYXBwZXInLFxuXHQgICAgICAgIF9pbml0U3RvcmFnZTogX2luaXRTdG9yYWdlLFxuXHQgICAgICAgIC8vIERlZmF1bHQgQVBJLCBmcm9tIEdhaWEvbG9jYWxTdG9yYWdlLlxuXHQgICAgICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG5cdCAgICAgICAgZ2V0SXRlbTogZ2V0SXRlbSxcblx0ICAgICAgICBzZXRJdGVtOiBzZXRJdGVtLFxuXHQgICAgICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0sXG5cdCAgICAgICAgY2xlYXI6IGNsZWFyLFxuXHQgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuXHQgICAgICAgIGtleToga2V5LFxuXHQgICAgICAgIGtleXM6IGtleXNcblx0ICAgIH07XG5cblx0ICAgIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGxvY2FsU3RvcmFnZVdyYXBwZXI7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgICd1c2Ugc3RyaWN0JztcblxuXHQgICAgLy8gU2FkbHksIHRoZSBiZXN0IHdheSB0byBzYXZlIGJpbmFyeSBkYXRhIGluIFdlYlNRTC9sb2NhbFN0b3JhZ2UgaXMgc2VyaWFsaXppbmdcblx0ICAgIC8vIGl0IHRvIEJhc2U2NCwgc28gdGhpcyBpcyBob3cgd2Ugc3RvcmUgaXQgdG8gcHJldmVudCB2ZXJ5IHN0cmFuZ2UgZXJyb3JzIHdpdGggbGVzc1xuXHQgICAgLy8gdmVyYm9zZSB3YXlzIG9mIGJpbmFyeSA8LT4gc3RyaW5nIGRhdGEgc3RvcmFnZS5cblx0ICAgIHZhciBCQVNFX0NIQVJTID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG5cdCAgICB2YXIgQkxPQl9UWVBFX1BSRUZJWCA9ICd+fmxvY2FsX2ZvcmFnZV90eXBlfic7XG5cdCAgICB2YXIgQkxPQl9UWVBFX1BSRUZJWF9SRUdFWCA9IC9efn5sb2NhbF9mb3JhZ2VfdHlwZX4oW15+XSspfi87XG5cblx0ICAgIHZhciBTRVJJQUxJWkVEX01BUktFUiA9ICdfX2xmc2NfXzonO1xuXHQgICAgdmFyIFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCA9IFNFUklBTElaRURfTUFSS0VSLmxlbmd0aDtcblxuXHQgICAgLy8gT01HIHRoZSBzZXJpYWxpemF0aW9ucyFcblx0ICAgIHZhciBUWVBFX0FSUkFZQlVGRkVSID0gJ2FyYmYnO1xuXHQgICAgdmFyIFRZUEVfQkxPQiA9ICdibG9iJztcblx0ICAgIHZhciBUWVBFX0lOVDhBUlJBWSA9ICdzaTA4Jztcblx0ICAgIHZhciBUWVBFX1VJTlQ4QVJSQVkgPSAndWkwOCc7XG5cdCAgICB2YXIgVFlQRV9VSU5UOENMQU1QRURBUlJBWSA9ICd1aWM4Jztcblx0ICAgIHZhciBUWVBFX0lOVDE2QVJSQVkgPSAnc2kxNic7XG5cdCAgICB2YXIgVFlQRV9JTlQzMkFSUkFZID0gJ3NpMzInO1xuXHQgICAgdmFyIFRZUEVfVUlOVDE2QVJSQVkgPSAndXIxNic7XG5cdCAgICB2YXIgVFlQRV9VSU5UMzJBUlJBWSA9ICd1aTMyJztcblx0ICAgIHZhciBUWVBFX0ZMT0FUMzJBUlJBWSA9ICdmbDMyJztcblx0ICAgIHZhciBUWVBFX0ZMT0FUNjRBUlJBWSA9ICdmbDY0Jztcblx0ICAgIHZhciBUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCA9IFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCArIFRZUEVfQVJSQVlCVUZGRVIubGVuZ3RoO1xuXG5cdCAgICAvLyBHZXQgb3V0IG9mIG91ciBoYWJpdCBvZiB1c2luZyBgd2luZG93YCBpbmxpbmUsIGF0IGxlYXN0LlxuXHQgICAgdmFyIGdsb2JhbE9iamVjdCA9IHRoaXM7XG5cblx0ICAgIC8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuXHQgICAgLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3Rvci4gKGkuZS5cblx0ICAgIC8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgYXQgbGVhc3QpLlxuXHQgICAgZnVuY3Rpb24gX2NyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcblx0ICAgICAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuXHQgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcblx0ICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgaWYgKGVyci5uYW1lICE9PSAnVHlwZUVycm9yJykge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdmFyIEJsb2JCdWlsZGVyID0gZ2xvYmFsT2JqZWN0LkJsb2JCdWlsZGVyIHx8IGdsb2JhbE9iamVjdC5NU0Jsb2JCdWlsZGVyIHx8IGdsb2JhbE9iamVjdC5Nb3pCbG9iQnVpbGRlciB8fCBnbG9iYWxPYmplY3QuV2ViS2l0QmxvYkJ1aWxkZXI7XG5cblx0ICAgICAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgICAgICAgICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gU2VyaWFsaXplIGEgdmFsdWUsIGFmdGVyd2FyZHMgZXhlY3V0aW5nIGEgY2FsbGJhY2sgKHdoaWNoIHVzdWFsbHlcblx0ICAgIC8vIGluc3RydWN0cyB0aGUgYHNldEl0ZW0oKWAgY2FsbGJhY2svcHJvbWlzZSB0byBiZSBleGVjdXRlZCkuIFRoaXMgaXMgaG93XG5cdCAgICAvLyB3ZSBzdG9yZSBiaW5hcnkgZGF0YSB3aXRoIGxvY2FsU3RvcmFnZS5cblx0ICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWx1ZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgdmFsdWVTdHJpbmcgPSAnJztcblx0ICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgdmFsdWVTdHJpbmcgPSB2YWx1ZS50b1N0cmluZygpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIENhbm5vdCB1c2UgYHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJgIG9yIHN1Y2ggaGVyZSwgYXMgdGhlc2Vcblx0ICAgICAgICAvLyBjaGVja3MgZmFpbCB3aGVuIHJ1bm5pbmcgdGhlIHRlc3RzIHVzaW5nIGNhc3Blci5qcy4uLlxuXHQgICAgICAgIC8vXG5cdCAgICAgICAgLy8gVE9ETzogU2VlIHdoeSB0aG9zZSB0ZXN0cyBmYWlsIGFuZCB1c2UgYSBiZXR0ZXIgc29sdXRpb24uXG5cdCAgICAgICAgaWYgKHZhbHVlICYmICh2YWx1ZS50b1N0cmluZygpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nIHx8IHZhbHVlLmJ1ZmZlciAmJiB2YWx1ZS5idWZmZXIudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykpIHtcblx0ICAgICAgICAgICAgLy8gQ29udmVydCBiaW5hcnkgYXJyYXlzIHRvIGEgc3RyaW5nIGFuZCBwcmVmaXggdGhlIHN0cmluZyB3aXRoXG5cdCAgICAgICAgICAgIC8vIGEgc3BlY2lhbCBtYXJrZXIuXG5cdCAgICAgICAgICAgIHZhciBidWZmZXI7XG5cdCAgICAgICAgICAgIHZhciBtYXJrZXIgPSBTRVJJQUxJWkVEX01BUktFUjtcblxuXHQgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuXHQgICAgICAgICAgICAgICAgYnVmZmVyID0gdmFsdWU7XG5cdCAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9BUlJBWUJVRkZFUjtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHZhbHVlLmJ1ZmZlcjtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBJbnQ4QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0lOVDhBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IFVpbnQ4QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQ4QVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDhDTEFNUEVEQVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBJbnQxNkFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9JTlQxNkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgVWludDE2QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQxNkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgSW50MzJBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfSU5UMzJBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IFVpbnQzMkFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UMzJBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfRkxPQVQzMkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9GTE9BVDY0QVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCB0eXBlIGZvciBCaW5hcnlBcnJheScpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGNhbGxiYWNrKG1hcmtlciArIGJ1ZmZlclRvU3RyaW5nKGJ1ZmZlcikpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEJsb2JdJykge1xuXHQgICAgICAgICAgICAvLyBDb252ZXIgdGhlIGJsb2IgdG8gYSBiaW5hcnlBcnJheSBhbmQgdGhlbiB0byBhIHN0cmluZy5cblx0ICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG5cdCAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgcHJlZml4IGZvciB0aGUgYmxvYiB0eXBlLlxuXHQgICAgICAgICAgICAgICAgdmFyIHN0ciA9IEJMT0JfVFlQRV9QUkVGSVggKyB2YWx1ZS50eXBlICsgJ34nICsgYnVmZmVyVG9TdHJpbmcodGhpcy5yZXN1bHQpO1xuXG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhTRVJJQUxJWkVEX01BUktFUiArIFRZUEVfQkxPQiArIHN0cik7XG5cdCAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih2YWx1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBjb252ZXJ0IHZhbHVlIGludG8gYSBKU09OIHN0cmluZzogXCIsIHZhbHVlKTtcblxuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIERlc2VyaWFsaXplIGRhdGEgd2UndmUgaW5zZXJ0ZWQgaW50byBhIHZhbHVlIGNvbHVtbi9maWVsZC4gV2UgcGxhY2Vcblx0ICAgIC8vIHNwZWNpYWwgbWFya2VycyBpbnRvIG91ciBzdHJpbmdzIHRvIG1hcmsgdGhlbSBhcyBlbmNvZGVkOyB0aGlzIGlzbid0XG5cdCAgICAvLyBhcyBuaWNlIGFzIGEgbWV0YSBmaWVsZCwgYnV0IGl0J3MgdGhlIG9ubHkgc2FuZSB0aGluZyB3ZSBjYW4gZG8gd2hpbHN0XG5cdCAgICAvLyBrZWVwaW5nIGxvY2FsU3RvcmFnZSBzdXBwb3J0IGludGFjdC5cblx0ICAgIC8vXG5cdCAgICAvLyBPZnRlbnRpbWVzIHRoaXMgd2lsbCBqdXN0IGRlc2VyaWFsaXplIEpTT04gY29udGVudCwgYnV0IGlmIHdlIGhhdmUgYVxuXHQgICAgLy8gc3BlY2lhbCBtYXJrZXIgKFNFUklBTElaRURfTUFSS0VSLCBkZWZpbmVkIGFib3ZlKSwgd2Ugd2lsbCBleHRyYWN0XG5cdCAgICAvLyBzb21lIGtpbmQgb2YgYXJyYXlidWZmZXIvYmluYXJ5IGRhdGEvdHlwZWQgYXJyYXkgb3V0IG9mIHRoZSBzdHJpbmcuXG5cdCAgICBmdW5jdGlvbiBkZXNlcmlhbGl6ZSh2YWx1ZSkge1xuXHQgICAgICAgIC8vIElmIHdlIGhhdmVuJ3QgbWFya2VkIHRoaXMgc3RyaW5nIGFzIGJlaW5nIHNwZWNpYWxseSBzZXJpYWxpemVkIChpLmUuXG5cdCAgICAgICAgLy8gc29tZXRoaW5nIG90aGVyIHRoYW4gc2VyaWFsaXplZCBKU09OKSwgd2UgY2FuIGp1c3QgcmV0dXJuIGl0IGFuZCBiZVxuXHQgICAgICAgIC8vIGRvbmUgd2l0aCBpdC5cblx0ICAgICAgICBpZiAodmFsdWUuc3Vic3RyaW5nKDAsIFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCkgIT09IFNFUklBTElaRURfTUFSS0VSKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgZGVhbHMgd2l0aCBkZXNlcmlhbGl6aW5nIHNvbWUga2luZCBvZiBCbG9iIG9yXG5cdCAgICAgICAgLy8gVHlwZWRBcnJheS4gRmlyc3Qgd2Ugc2VwYXJhdGUgb3V0IHRoZSB0eXBlIG9mIGRhdGEgd2UncmUgZGVhbGluZ1xuXHQgICAgICAgIC8vIHdpdGggZnJvbSB0aGUgZGF0YSBpdHNlbGYuXG5cdCAgICAgICAgdmFyIHNlcmlhbGl6ZWRTdHJpbmcgPSB2YWx1ZS5zdWJzdHJpbmcoVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgpO1xuXHQgICAgICAgIHZhciB0eXBlID0gdmFsdWUuc3Vic3RyaW5nKFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCwgVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgpO1xuXG5cdCAgICAgICAgdmFyIGJsb2JUeXBlO1xuXHQgICAgICAgIC8vIEJhY2t3YXJkcy1jb21wYXRpYmxlIGJsb2IgdHlwZSBzZXJpYWxpemF0aW9uIHN0cmF0ZWd5LlxuXHQgICAgICAgIC8vIERCcyBjcmVhdGVkIHdpdGggb2xkZXIgdmVyc2lvbnMgb2YgbG9jYWxGb3JhZ2Ugd2lsbCBzaW1wbHkgbm90IGhhdmUgdGhlIGJsb2IgdHlwZS5cblx0ICAgICAgICBpZiAodHlwZSA9PT0gVFlQRV9CTE9CICYmIEJMT0JfVFlQRV9QUkVGSVhfUkVHRVgudGVzdChzZXJpYWxpemVkU3RyaW5nKSkge1xuXHQgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IHNlcmlhbGl6ZWRTdHJpbmcubWF0Y2goQkxPQl9UWVBFX1BSRUZJWF9SRUdFWCk7XG5cdCAgICAgICAgICAgIGJsb2JUeXBlID0gbWF0Y2hlclsxXTtcblx0ICAgICAgICAgICAgc2VyaWFsaXplZFN0cmluZyA9IHNlcmlhbGl6ZWRTdHJpbmcuc3Vic3RyaW5nKG1hdGNoZXJbMF0ubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGJ1ZmZlciA9IHN0cmluZ1RvQnVmZmVyKHNlcmlhbGl6ZWRTdHJpbmcpO1xuXG5cdCAgICAgICAgLy8gUmV0dXJuIHRoZSByaWdodCB0eXBlIGJhc2VkIG9uIHRoZSBjb2RlL3R5cGUgc2V0IGR1cmluZ1xuXHQgICAgICAgIC8vIHNlcmlhbGl6YXRpb24uXG5cdCAgICAgICAgc3dpdGNoICh0eXBlKSB7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9BUlJBWUJVRkZFUjpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXI7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9CTE9COlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVCbG9iKFtidWZmZXJdLCB7IHR5cGU6IGJsb2JUeXBlIH0pO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfSU5UOEFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQ4QXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX1VJTlQ4QVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OENsYW1wZWRBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfSU5UMTZBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50MTZBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfVUlOVDE2QVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9JTlQzMkFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9VSU5UMzJBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX0ZMT0FUMzJBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9GTE9BVDY0QVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0NjRBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtvd24gdHlwZTogJyArIHR5cGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc3RyaW5nVG9CdWZmZXIoc2VyaWFsaXplZFN0cmluZykge1xuXHQgICAgICAgIC8vIEZpbGwgdGhlIHN0cmluZyBpbnRvIGEgQXJyYXlCdWZmZXIuXG5cdCAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IHNlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoICogMC43NTtcblx0ICAgICAgICB2YXIgbGVuID0gc2VyaWFsaXplZFN0cmluZy5sZW5ndGg7XG5cdCAgICAgICAgdmFyIGk7XG5cdCAgICAgICAgdmFyIHAgPSAwO1xuXHQgICAgICAgIHZhciBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcblxuXHQgICAgICAgIGlmIChzZXJpYWxpemVkU3RyaW5nW3NlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoIC0gMV0gPT09ICc9Jykge1xuXHQgICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcblx0ICAgICAgICAgICAgaWYgKHNlcmlhbGl6ZWRTdHJpbmdbc2VyaWFsaXplZFN0cmluZy5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKTtcblx0ICAgICAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuXG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG5cdCAgICAgICAgICAgIGVuY29kZWQxID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaV0pO1xuXHQgICAgICAgICAgICBlbmNvZGVkMiA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2kgKyAxXSk7XG5cdCAgICAgICAgICAgIGVuY29kZWQzID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaSArIDJdKTtcblx0ICAgICAgICAgICAgZW5jb2RlZDQgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpICsgM10pO1xuXG5cdCAgICAgICAgICAgIC8qanNsaW50IGJpdHdpc2U6IHRydWUgKi9cblx0ICAgICAgICAgICAgYnl0ZXNbcCsrXSA9IGVuY29kZWQxIDw8IDIgfCBlbmNvZGVkMiA+PiA0O1xuXHQgICAgICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQyICYgMTUpIDw8IDQgfCBlbmNvZGVkMyA+PiAyO1xuXHQgICAgICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQzICYgMykgPDwgNiB8IGVuY29kZWQ0ICYgNjM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBidWZmZXI7XG5cdCAgICB9XG5cblx0ICAgIC8vIENvbnZlcnRzIGEgYnVmZmVyIHRvIGEgc3RyaW5nIHRvIHN0b3JlLCBzZXJpYWxpemVkLCBpbiB0aGUgYmFja2VuZFxuXHQgICAgLy8gc3RvcmFnZSBsaWJyYXJ5LlxuXHQgICAgZnVuY3Rpb24gYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSB7XG5cdCAgICAgICAgLy8gYmFzZTY0LWFycmF5YnVmZmVyXG5cdCAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICB2YXIgYmFzZTY0U3RyaW5nID0gJyc7XG5cdCAgICAgICAgdmFyIGk7XG5cblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDMpIHtcblx0ICAgICAgICAgICAgLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuXHQgICAgICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpXSA+PiAyXTtcblx0ICAgICAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2ldICYgMykgPDwgNCB8IGJ5dGVzW2kgKyAxXSA+PiA0XTtcblx0ICAgICAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyIHwgYnl0ZXNbaSArIDJdID4+IDZdO1xuXHQgICAgICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1tieXRlc1tpICsgMl0gJiA2M107XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCAlIDMgPT09IDIpIHtcblx0ICAgICAgICAgICAgYmFzZTY0U3RyaW5nID0gYmFzZTY0U3RyaW5nLnN1YnN0cmluZygwLCBiYXNlNjRTdHJpbmcubGVuZ3RoIC0gMSkgKyAnPSc7XG5cdCAgICAgICAgfSBlbHNlIGlmIChieXRlcy5sZW5ndGggJSAzID09PSAxKSB7XG5cdCAgICAgICAgICAgIGJhc2U2NFN0cmluZyA9IGJhc2U2NFN0cmluZy5zdWJzdHJpbmcoMCwgYmFzZTY0U3RyaW5nLmxlbmd0aCAtIDIpICsgJz09Jztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gYmFzZTY0U3RyaW5nO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbG9jYWxmb3JhZ2VTZXJpYWxpemVyID0ge1xuXHQgICAgICAgIHNlcmlhbGl6ZTogc2VyaWFsaXplLFxuXHQgICAgICAgIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcblx0ICAgICAgICBzdHJpbmdUb0J1ZmZlcjogc3RyaW5nVG9CdWZmZXIsXG5cdCAgICAgICAgYnVmZmVyVG9TdHJpbmc6IGJ1ZmZlclRvU3RyaW5nXG5cdCAgICB9O1xuXG5cdCAgICBleHBvcnRzWydkZWZhdWx0J10gPSBsb2NhbGZvcmFnZVNlcmlhbGl6ZXI7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxuXHQgKiBJbmNsdWRlcyBjb2RlIGZyb206XG5cdCAqXG5cdCAqIGJhc2U2NC1hcnJheWJ1ZmZlclxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvYmFzZTY0LWFycmF5YnVmZmVyXG5cdCAqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMiBOaWtsYXMgdm9uIEhlcnR6ZW5cblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIHZhciBnbG9iYWxPYmplY3QgPSB0aGlzO1xuXHQgICAgdmFyIG9wZW5EYXRhYmFzZSA9IHRoaXMub3BlbkRhdGFiYXNlO1xuXG5cdCAgICAvLyBJZiBXZWJTUUwgbWV0aG9kcyBhcmVuJ3QgYXZhaWxhYmxlLCB3ZSBjYW4gc3RvcCBub3cuXG5cdCAgICBpZiAoIW9wZW5EYXRhYmFzZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgLy8gT3BlbiB0aGUgV2ViU1FMIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcblx0ICAgIC8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cblx0ICAgIGZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBkYkluZm8gPSB7XG5cdCAgICAgICAgICAgIGRiOiBudWxsXG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIGlmIChvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvW2ldID0gdHlwZW9mIG9wdGlvbnNbaV0gIT09ICdzdHJpbmcnID8gb3B0aW9uc1tpXS50b1N0cmluZygpIDogb3B0aW9uc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBkYkluZm9Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAvLyBPcGVuIHRoZSBkYXRhYmFzZTsgdGhlIG9wZW5EYXRhYmFzZSBBUEkgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdCAgICAgICAgICAgIC8vIGNyZWF0ZSBpdCBmb3IgdXMgaWYgaXQgZG9lc24ndCBleGlzdC5cblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYiA9IG9wZW5EYXRhYmFzZShkYkluZm8ubmFtZSwgU3RyaW5nKGRiSW5mby52ZXJzaW9uKSwgZGJJbmZvLmRlc2NyaXB0aW9uLCBkYkluZm8uc2l6ZSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnNldERyaXZlcihzZWxmLkxPQ0FMU1RPUkFHRSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2luaXRTdG9yYWdlKG9wdGlvbnMpO1xuXHQgICAgICAgICAgICAgICAgfSkudGhlbihyZXNvbHZlKVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gQ3JlYXRlIG91ciBrZXkvdmFsdWUgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdC5cblx0ICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyAoaWQgSU5URUdFUiBQUklNQVJZIEtFWSwga2V5IHVuaXF1ZSwgdmFsdWUpJywgW10sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBkYkluZm87XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobGliKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyID0gbGliO1xuXHQgICAgICAgICAgICByZXR1cm4gZGJJbmZvUHJvbWlzZTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZ2V0SXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUICogRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUga2V5ID0gPyBMSU1JVCAxJywgW2tleV0sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXN1bHRzLnJvd3MubGVuZ3RoID8gcmVzdWx0cy5yb3dzLml0ZW0oMCkudmFsdWUgOiBudWxsO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIHNlcmlhbGl6ZWQgY29udGVudCB3ZSBuZWVkIHRvXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVucGFjay5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBpdGVyYXRlKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXG5cdCAgICAgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCAqIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93cyA9IHJlc3VsdHMucm93cztcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHJvd3MubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gcm93cy5pdGVtKGkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZW0udmFsdWU7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIHNlcmlhbGl6ZWQgY29udGVudFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byB1bnBhY2suXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IocmVzdWx0LCBpdGVtLmtleSwgaSArIDEpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2b2lkKDApIHByZXZlbnRzIHByb2JsZW1zIHdpdGggcmVkZWZpbml0aW9uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBgdW5kZWZpbmVkYC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHZvaWQgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBUaGUgbG9jYWxTdG9yYWdlIEFQSSBkb2Vzbid0IHJldHVybiB1bmRlZmluZWQgdmFsdWVzIGluIGFuXG5cdCAgICAgICAgICAgICAgICAvLyBcImV4cGVjdGVkXCIgd2F5LCBzbyB1bmRlZmluZWQgaXMgYWx3YXlzIGNhc3QgdG8gbnVsbCBpbiBhbGxcblx0ICAgICAgICAgICAgICAgIC8vIGRyaXZlcnMuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvcHVsbC80MlxuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIG9yaWdpbmFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrLlxuXHQgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdJTlNFUlQgT1IgUkVQTEFDRSBJTlRPICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyAoa2V5LCB2YWx1ZSkgVkFMVUVTICg/LCA/KScsIFtrZXksIHZhbHVlXSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3JpZ2luYWxWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzcWxFcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHRyYW5zYWN0aW9uIGZhaWxlZDsgY2hlY2tcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIHNlZSBpZiBpdCdzIGEgcXVvdGEgZXJyb3IuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsRXJyb3IuY29kZSA9PT0gc3FsRXJyb3IuUVVPVEFfRVJSKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgcmVqZWN0IHRoZSBjYWxsYmFjayBvdXRyaWdodCBmb3Igbm93LCBidXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHdvcnRoIHRyeWluZyB0byByZS1ydW4gdGhlIHRyYW5zYWN0aW9uLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV2ZW4gaWYgdGhlIHVzZXIgYWNjZXB0cyB0aGUgcHJvbXB0IHRvIHVzZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1vcmUgc3RvcmFnZSBvbiBTYWZhcmksIHRoaXMgZXJyb3Igd2lsbFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlIGNhbGxlZC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRyeSB0byByZS1ydW4gdGhlIHRyYW5zYWN0aW9uLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChzcWxFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGtleSA9ID8nLCBba2V5XSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gRGVsZXRlcyBldmVyeSBpdGVtIGluIHRoZSB0YWJsZS5cblx0ICAgIC8vIFRPRE86IEZpbmQgb3V0IGlmIHRoaXMgcmVzZXRzIHRoZSBBVVRPX0lOQ1JFTUVOVCBudW1iZXIuXG5cdCAgICBmdW5jdGlvbiBjbGVhcihjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBEb2VzIGEgc2ltcGxlIGBDT1VOVChrZXkpYCB0byBnZXQgdGhlIG51bWJlciBvZiBpdGVtcyBzdG9yZWQgaW5cblx0ICAgIC8vIGxvY2FsRm9yYWdlLlxuXHQgICAgZnVuY3Rpb24gbGVuZ3RoKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBBaGhoLCBTUUwgbWFrZXMgdGhpcyBvbmUgc29vb29vbyBlYXN5LlxuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUIENPVU5UKGtleSkgYXMgYyBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5pdGVtKDApLmM7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIC8vIFJldHVybiB0aGUga2V5IGxvY2F0ZWQgYXQga2V5IGluZGV4IFg7IGVzc2VudGlhbGx5IGdldHMgdGhlIGtleSBmcm9tIGFcblx0ICAgIC8vIGBXSEVSRSBpZCA9ID9gLiBUaGlzIGlzIHRoZSBtb3N0IGVmZmljaWVudCB3YXkgSSBjYW4gdGhpbmsgdG8gaW1wbGVtZW50XG5cdCAgICAvLyB0aGlzIHJhcmVseS11c2VkIChpbiBteSBleHBlcmllbmNlKSBwYXJ0IG9mIHRoZSBBUEksIGJ1dCBpdCBjYW4gc2VlbVxuXHQgICAgLy8gaW5jb25zaXN0ZW50LCBiZWNhdXNlIHdlIGRvIGBJTlNFUlQgT1IgUkVQTEFDRSBJTlRPYCBvbiBgc2V0SXRlbSgpYCwgc29cblx0ICAgIC8vIHRoZSBJRCBvZiBlYWNoIGtleSB3aWxsIGNoYW5nZSBldmVyeSB0aW1lIGl0J3MgdXBkYXRlZC4gUGVyaGFwcyBhIHN0b3JlZFxuXHQgICAgLy8gcHJvY2VkdXJlIGZvciB0aGUgYHNldEl0ZW0oKWAgU1FMIHdvdWxkIHNvbHZlIHRoaXMgcHJvYmxlbT9cblx0ICAgIC8vIFRPRE86IERvbid0IGNoYW5nZSBJRCBvbiBgc2V0SXRlbSgpYC5cblx0ICAgIGZ1bmN0aW9uIGtleShuLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1Qga2V5IEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIFdIRVJFIGlkID0gPyBMSU1JVCAxJywgW24gKyAxXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5sZW5ndGggPyByZXN1bHRzLnJvd3MuaXRlbSgwKS5rZXkgOiBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGtleXMoY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUIGtleSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMucm93cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKHJlc3VsdHMucm93cy5pdGVtKGkpLmtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGtleXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIGlmIChjYWxsYmFjaykge1xuXHQgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgdmFyIHdlYlNRTFN0b3JhZ2UgPSB7XG5cdCAgICAgICAgX2RyaXZlcjogJ3dlYlNRTFN0b3JhZ2UnLFxuXHQgICAgICAgIF9pbml0U3RvcmFnZTogX2luaXRTdG9yYWdlLFxuXHQgICAgICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG5cdCAgICAgICAgZ2V0SXRlbTogZ2V0SXRlbSxcblx0ICAgICAgICBzZXRJdGVtOiBzZXRJdGVtLFxuXHQgICAgICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0sXG5cdCAgICAgICAgY2xlYXI6IGNsZWFyLFxuXHQgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuXHQgICAgICAgIGtleToga2V5LFxuXHQgICAgICAgIGtleXM6IGtleXNcblx0ICAgIH07XG5cblx0ICAgIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHdlYlNRTFN0b3JhZ2U7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHtcIl9wcm9jZXNzXCI6MjB9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogU3BlY2lmaWMgY3VzdG9tVXRpbHMgZm9yIHRoZSBicm93c2VyLCB3aGVyZSB3ZSBkb24ndCBoYXZlIGFjY2VzcyB0byB0aGUgQ3J5cHRvIGFuZCBCdWZmZXIgbW9kdWxlc1xuICovXG5cbi8qKlxuICogVGFrZW4gZnJvbSB0aGUgY3J5cHRvLWJyb3dzZXJpZnkgbW9kdWxlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZG9taW5pY3RhcnIvY3J5cHRvLWJyb3dzZXJpZnlcbiAqIE5PVEU6IE1hdGgucmFuZG9tKCkgZG9lcyBub3QgZ3VhcmFudGVlIFwiY3J5cHRvZ3JhcGhpYyBxdWFsaXR5XCIgYnV0IHdlIGFjdHVhbGx5IGRvbid0IG5lZWQgaXRcbiAqL1xuZnVuY3Rpb24gcmFuZG9tQnl0ZXMgKHNpemUpIHtcbiAgdmFyIGJ5dGVzID0gbmV3IEFycmF5KHNpemUpO1xuICB2YXIgcjtcblxuICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IHNpemU7IGkrKykge1xuICAgIGlmICgoaSAmIDB4MDMpID09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgYnl0ZXNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gIH1cblxuICByZXR1cm4gYnl0ZXM7XG59XG5cblxuLyoqXG4gKiBUYWtlbiBmcm9tIHRoZSBiYXNlNjQtanMgbW9kdWxlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvXG4gKi9cbmZ1bmN0aW9uIGJ5dGVBcnJheVRvQmFzZTY0ICh1aW50OCkge1xuICB2YXIgbG9va3VwID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG4gICAgLCBleHRyYUJ5dGVzID0gdWludDgubGVuZ3RoICUgMyAgIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gICAgLCBvdXRwdXQgPSBcIlwiXG4gICAgLCB0ZW1wLCBsZW5ndGgsIGk7XG5cbiAgZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl07XG4gIH07XG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKGkgPSAwLCBsZW5ndGggPSB1aW50OC5sZW5ndGggLSBleHRyYUJ5dGVzOyBpIDwgbGVuZ3RoOyBpICs9IDMpIHtcbiAgICB0ZW1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKTtcbiAgICBvdXRwdXQgKz0gdHJpcGxldFRvQmFzZTY0KHRlbXApO1xuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBzd2l0Y2ggKGV4dHJhQnl0ZXMpIHtcbiAgICBjYXNlIDE6XG4gICAgICB0ZW1wID0gdWludDhbdWludDgubGVuZ3RoIC0gMV07XG4gICAgICBvdXRwdXQgKz0gbG9va3VwW3RlbXAgPj4gMl07XG4gICAgICBvdXRwdXQgKz0gbG9va3VwWyh0ZW1wIDw8IDQpICYgMHgzRl07XG4gICAgICBvdXRwdXQgKz0gJz09JztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIHRlbXAgPSAodWludDhbdWludDgubGVuZ3RoIC0gMl0gPDwgOCkgKyAodWludDhbdWludDgubGVuZ3RoIC0gMV0pO1xuICAgICAgb3V0cHV0ICs9IGxvb2t1cFt0ZW1wID4+IDEwXTtcbiAgICAgIG91dHB1dCArPSBsb29rdXBbKHRlbXAgPj4gNCkgJiAweDNGXTtcbiAgICAgIG91dHB1dCArPSBsb29rdXBbKHRlbXAgPDwgMikgJiAweDNGXTtcbiAgICAgIG91dHB1dCArPSAnPSc7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gYWxwaGFudW1lcmljYWwgc3RyaW5nIG9mIGxlbmd0aCBsZW5cbiAqIFRoZXJlIGlzIGEgdmVyeSBzbWFsbCBwcm9iYWJpbGl0eSAobGVzcyB0aGFuIDEvMSwwMDAsMDAwKSBmb3IgdGhlIGxlbmd0aCB0byBiZSBsZXNzIHRoYW4gbGVuXG4gKiAoaWwgdGhlIGJhc2U2NCBjb252ZXJzaW9uIHlpZWxkcyB0b28gbWFueSBwbHVzZXMgYW5kIHNsYXNoZXMpIGJ1dFxuICogdGhhdCdzIG5vdCBhbiBpc3N1ZSBoZXJlXG4gKiBUaGUgcHJvYmFiaWxpdHkgb2YgYSBjb2xsaXNpb24gaXMgZXh0cmVtZWx5IHNtYWxsIChuZWVkIDMqMTBeMTIgZG9jdW1lbnRzIHRvIGhhdmUgb25lIGNoYW5jZSBpbiBhIG1pbGxpb24gb2YgYSBjb2xsaXNpb24pXG4gKiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CaXJ0aGRheV9wcm9ibGVtXG4gKi9cbmZ1bmN0aW9uIHVpZCAobGVuKSB7XG4gIHJldHVybiBieXRlQXJyYXlUb0Jhc2U2NChyYW5kb21CeXRlcyhNYXRoLmNlaWwoTWF0aC5tYXgoOCwgbGVuICogMikpKSkucmVwbGFjZSgvWytcXC9dL2csICcnKS5zbGljZSgwLCBsZW4pO1xufVxuXG5cblxubW9kdWxlLmV4cG9ydHMudWlkID0gdWlkO1xuXG59LHt9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogV2F5IGRhdGEgaXMgc3RvcmVkIGZvciB0aGlzIGRhdGFiYXNlXG4gKiBGb3IgYSBOb2RlLmpzL05vZGUgV2Via2l0IGRhdGFiYXNlIGl0J3MgdGhlIGZpbGUgc3lzdGVtXG4gKiBGb3IgYSBicm93c2VyLXNpZGUgZGF0YWJhc2UgaXQncyBsb2NhbGZvcmFnZSwgd2hpY2ggdXNlcyB0aGUgYmVzdCBiYWNrZW5kIGF2YWlsYWJsZSAoSW5kZXhlZERCIHRoZW4gV2ViU1FMIHRoZW4gbG9jYWxTdG9yYWdlKVxuICpcbiAqIFRoaXMgdmVyc2lvbiBpcyB0aGUgYnJvd3NlciB2ZXJzaW9uXG4gKi9cblxudmFyIGxvY2FsZm9yYWdlID0gcmVxdWlyZSgnbG9jYWxmb3JhZ2UnKVxuXG4vLyBDb25maWd1cmUgbG9jYWxmb3JhZ2UgdG8gZGlzcGxheSBOZURCIG5hbWUgZm9yIG5vdy4gV291bGQgYmUgYSBnb29kIGlkZWEgdG8gbGV0IHVzZXIgdXNlIGhpcyBvd24gYXBwIG5hbWVcbmxvY2FsZm9yYWdlLmNvbmZpZyh7XG4gIG5hbWU6ICdOZURCJ1xuLCBzdG9yZU5hbWU6ICduZWRiZGF0YSdcbn0pO1xuXG5cbmZ1bmN0aW9uIGV4aXN0cyAoZmlsZW5hbWUsIGNhbGxiYWNrKSB7XG4gIGxvY2FsZm9yYWdlLmdldEl0ZW0oZmlsZW5hbWUsIGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSBudWxsKSB7ICAgLy8gRXZlbiBpZiB2YWx1ZSBpcyB1bmRlZmluZWQsIGxvY2FsZm9yYWdlIHJldHVybnMgbnVsbFxuICAgICAgcmV0dXJuIGNhbGxiYWNrKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZmFsc2UpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gcmVuYW1lIChmaWxlbmFtZSwgbmV3RmlsZW5hbWUsIGNhbGxiYWNrKSB7XG4gIGxvY2FsZm9yYWdlLmdldEl0ZW0oZmlsZW5hbWUsIGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICBsb2NhbGZvcmFnZS5yZW1vdmVJdGVtKG5ld0ZpbGVuYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxmb3JhZ2Uuc2V0SXRlbShuZXdGaWxlbmFtZSwgdmFsdWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2soKTsgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIHdyaXRlRmlsZSAoZmlsZW5hbWUsIGNvbnRlbnRzLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAvLyBPcHRpb25zIGRvIG5vdCBtYXR0ZXIgaW4gYnJvd3NlciBzZXR1cFxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHsgY2FsbGJhY2sgPSBvcHRpb25zOyB9XG4gIGxvY2FsZm9yYWdlLnNldEl0ZW0oZmlsZW5hbWUsIGNvbnRlbnRzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbn1cblxuXG5mdW5jdGlvbiBhcHBlbmRGaWxlIChmaWxlbmFtZSwgdG9BcHBlbmQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8vIE9wdGlvbnMgZG8gbm90IG1hdHRlciBpbiBicm93c2VyIHNldHVwXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYWxsYmFjayA9IG9wdGlvbnM7IH1cblxuICBsb2NhbGZvcmFnZS5nZXRJdGVtKGZpbGVuYW1lLCBmdW5jdGlvbiAoZXJyLCBjb250ZW50cykge1xuICAgIGNvbnRlbnRzID0gY29udGVudHMgfHwgJyc7XG4gICAgY29udGVudHMgKz0gdG9BcHBlbmQ7XG4gICAgbG9jYWxmb3JhZ2Uuc2V0SXRlbShmaWxlbmFtZSwgY29udGVudHMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrKCk7IH0pO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiByZWFkRmlsZSAoZmlsZW5hbWUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8vIE9wdGlvbnMgZG8gbm90IG1hdHRlciBpbiBicm93c2VyIHNldHVwXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYWxsYmFjayA9IG9wdGlvbnM7IH1cbiAgbG9jYWxmb3JhZ2UuZ2V0SXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKGVyciwgY29udGVudHMpIHsgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRlbnRzIHx8ICcnKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gdW5saW5rIChmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2soKTsgfSk7XG59XG5cblxuLy8gTm90aGluZyB0byBkbywgbm8gZGlyZWN0b3JpZXMgd2lsbCBiZSB1c2VkIG9uIHRoZSBicm93c2VyXG5mdW5jdGlvbiBta2RpcnAgKGRpciwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNhbGxiYWNrKCk7XG59XG5cblxuLy8gTm90aGluZyB0byBkbywgbm8gZGF0YSBjb3JydXB0aW9uIHBvc3NpYmxlIGluIHRoZSBicm93ZXJcbmZ1bmN0aW9uIGVuc3VyZURhdGFmaWxlSW50ZWdyaXR5IChmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xufVxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMuZXhpc3RzID0gZXhpc3RzO1xubW9kdWxlLmV4cG9ydHMucmVuYW1lID0gcmVuYW1lO1xubW9kdWxlLmV4cG9ydHMud3JpdGVGaWxlID0gd3JpdGVGaWxlO1xubW9kdWxlLmV4cG9ydHMuY3Jhc2hTYWZlV3JpdGVGaWxlID0gd3JpdGVGaWxlOyAgIC8vIE5vIG5lZWQgZm9yIGEgY3Jhc2ggc2FmZSBmdW5jdGlvbiBpbiB0aGUgYnJvd3NlclxubW9kdWxlLmV4cG9ydHMuYXBwZW5kRmlsZSA9IGFwcGVuZEZpbGU7XG5tb2R1bGUuZXhwb3J0cy5yZWFkRmlsZSA9IHJlYWRGaWxlO1xubW9kdWxlLmV4cG9ydHMudW5saW5rID0gdW5saW5rO1xubW9kdWxlLmV4cG9ydHMubWtkaXJwID0gbWtkaXJwO1xubW9kdWxlLmV4cG9ydHMuZW5zdXJlRGF0YWZpbGVJbnRlZ3JpdHkgPSBlbnN1cmVEYXRhZmlsZUludGVncml0eTtcblxuXG59LHtcImxvY2FsZm9yYWdlXCI6N31dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBEYXRhc3RvcmUgPSByZXF1aXJlKCcuL2xpYi9kYXRhc3RvcmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRhc3RvcmU7XG5cbn0se1wiLi9saWIvZGF0YXN0b3JlXCI6MTJ9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIE1hbmFnZSBhY2Nlc3MgdG8gZGF0YSwgYmUgaXQgdG8gZmluZCwgdXBkYXRlIG9yIHJlbW92ZSBpdFxuICovXG52YXIgbW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJylcbiAgLCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpXG4gIDtcblxuXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGN1cnNvciBmb3IgdGhpcyBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0RhdGFzdG9yZX0gZGIgLSBUaGUgZGF0YXN0b3JlIHRoaXMgY3Vyc29yIGlzIGJvdW5kIHRvXG4gKiBAcGFyYW0ge1F1ZXJ5fSBxdWVyeSAtIFRoZSBxdWVyeSB0aGlzIGN1cnNvciB3aWxsIG9wZXJhdGUgb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWNEbiAtIEhhbmRsZXIgdG8gYmUgZXhlY3V0ZWQgYWZ0ZXIgY3Vyc29yIGhhcyBmb3VuZCB0aGUgcmVzdWx0cyBhbmQgYmVmb3JlIHRoZSBjYWxsYmFjayBwYXNzZWQgdG8gZmluZC9maW5kT25lL3VwZGF0ZS9yZW1vdmVcbiAqL1xuZnVuY3Rpb24gQ3Vyc29yIChkYiwgcXVlcnksIGV4ZWNGbikge1xuICB0aGlzLmRiID0gZGI7XG4gIHRoaXMucXVlcnkgPSBxdWVyeSB8fCB7fTtcbiAgaWYgKGV4ZWNGbikgeyB0aGlzLmV4ZWNGbiA9IGV4ZWNGbjsgfVxufVxuXG5cbi8qKlxuICogU2V0IGEgbGltaXQgdG8gdGhlIG51bWJlciBvZiByZXN1bHRzXG4gKi9cbkN1cnNvci5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbihsaW1pdCkge1xuICB0aGlzLl9saW1pdCA9IGxpbWl0O1xuICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBTa2lwIGEgdGhlIG51bWJlciBvZiByZXN1bHRzXG4gKi9cbkN1cnNvci5wcm90b3R5cGUuc2tpcCA9IGZ1bmN0aW9uKHNraXApIHtcbiAgdGhpcy5fc2tpcCA9IHNraXA7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqIFNvcnQgcmVzdWx0cyBvZiB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7U29ydFF1ZXJ5fSBzb3J0UXVlcnkgLSBTb3J0UXVlcnkgaXMgeyBmaWVsZDogb3JkZXIgfSwgZmllbGQgY2FuIHVzZSB0aGUgZG90LW5vdGF0aW9uLCBvcmRlciBpcyAxIGZvciBhc2NlbmRpbmcgYW5kIC0xIGZvciBkZXNjZW5kaW5nXG4gKi9cbkN1cnNvci5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKHNvcnRRdWVyeSkge1xuICB0aGlzLl9zb3J0ID0gc29ydFF1ZXJ5O1xuICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBBZGQgdGhlIHVzZSBvZiBhIHByb2plY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9qZWN0aW9uIC0gTW9uZ29EQi1zdHlsZSBwcm9qZWN0aW9uLiB7fSBtZWFucyB0YWtlIGFsbCBmaWVsZHMuIFRoZW4gaXQncyB7IGtleTE6IDEsIGtleTI6IDEgfSB0byB0YWtlIG9ubHkga2V5MSBhbmQga2V5MlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTE6IDAsIGtleTI6IDAgfSB0byBvbWl0IG9ubHkga2V5MSBhbmQga2V5Mi4gRXhjZXB0IF9pZCwgeW91IGNhbid0IG1peCB0YWtlcyBhbmQgb21pdHNcbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5wcm9qZWN0aW9uID0gZnVuY3Rpb24ocHJvamVjdGlvbikge1xuICB0aGlzLl9wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogQXBwbHkgdGhlIHByb2plY3Rpb25cbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5wcm9qZWN0ID0gZnVuY3Rpb24gKGNhbmRpZGF0ZXMpIHtcbiAgdmFyIHJlcyA9IFtdLCBzZWxmID0gdGhpc1xuICAgICwga2VlcElkLCBhY3Rpb24sIGtleXNcbiAgICA7XG5cbiAgaWYgKHRoaXMuX3Byb2plY3Rpb24gPT09IHVuZGVmaW5lZCB8fCBPYmplY3Qua2V5cyh0aGlzLl9wcm9qZWN0aW9uKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfVxuXG4gIGtlZXBJZCA9IHRoaXMuX3Byb2plY3Rpb24uX2lkID09PSAwID8gZmFsc2UgOiB0cnVlO1xuICB0aGlzLl9wcm9qZWN0aW9uID0gXy5vbWl0KHRoaXMuX3Byb2plY3Rpb24sICdfaWQnKTtcblxuICAvLyBDaGVjayBmb3IgY29uc2lzdGVuY3lcbiAga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3Byb2plY3Rpb24pO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAoYWN0aW9uICE9PSB1bmRlZmluZWQgJiYgc2VsZi5fcHJvamVjdGlvbltrXSAhPT0gYWN0aW9uKSB7IHRocm93IFwiQ2FuJ3QgYm90aCBrZWVwIGFuZCBvbWl0IGZpZWxkcyBleGNlcHQgZm9yIF9pZFwiOyB9XG4gICAgYWN0aW9uID0gc2VsZi5fcHJvamVjdGlvbltrXTtcbiAgfSk7XG5cbiAgLy8gRG8gdGhlIGFjdHVhbCBwcm9qZWN0aW9uXG4gIGNhbmRpZGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgdmFyIHRvUHVzaCA9IGFjdGlvbiA9PT0gMSA/IF8ucGljayhjYW5kaWRhdGUsIGtleXMpIDogXy5vbWl0KGNhbmRpZGF0ZSwga2V5cyk7XG4gICAgaWYgKGtlZXBJZCkge1xuICAgICAgdG9QdXNoLl9pZCA9IGNhbmRpZGF0ZS5faWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB0b1B1c2guX2lkO1xuICAgIH1cbiAgICByZXMucHVzaCh0b1B1c2gpO1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufTtcblxuXG4vKipcbiAqIEdldCBhbGwgbWF0Y2hpbmcgZWxlbWVudHNcbiAqIFdpbGwgcmV0dXJuIHBvaW50ZXJzIHRvIG1hdGNoZWQgZWxlbWVudHMgKHNoYWxsb3cgY29waWVzKSwgcmV0dXJuaW5nIGZ1bGwgY29waWVzIGlzIHRoZSByb2xlIG9mIGZpbmQgb3IgZmluZE9uZVxuICogVGhpcyBpcyBhbiBpbnRlcm5hbCBmdW5jdGlvbiwgdXNlIGV4ZWMgd2hpY2ggdXNlcyB0aGUgZXhlY3V0b3JcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFNpZ25hdHVyZTogZXJyLCByZXN1bHRzXG4gKi9cbkN1cnNvci5wcm90b3R5cGUuX2V4ZWMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICB2YXIgY2FuZGlkYXRlcyA9IHRoaXMuZGIuZ2V0Q2FuZGlkYXRlcyh0aGlzLnF1ZXJ5KVxuICAgICwgcmVzID0gW10sIGFkZGVkID0gMCwgc2tpcHBlZCA9IDAsIHNlbGYgPSB0aGlzXG4gICAgLCBlcnJvciA9IG51bGxcbiAgICAsIGksIGtleXMsIGtleVxuICAgIDtcblxuICB0cnkge1xuICAgIGZvciAoaSA9IDA7IGkgPCBjYW5kaWRhdGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAobW9kZWwubWF0Y2goY2FuZGlkYXRlc1tpXSwgdGhpcy5xdWVyeSkpIHtcbiAgICAgICAgLy8gSWYgYSBzb3J0IGlzIGRlZmluZWQsIHdhaXQgZm9yIHRoZSByZXN1bHRzIHRvIGJlIHNvcnRlZCBiZWZvcmUgYXBwbHlpbmcgbGltaXQgYW5kIHNraXBcbiAgICAgICAgaWYgKCF0aGlzLl9zb3J0KSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3NraXAgJiYgdGhpcy5fc2tpcCA+IHNraXBwZWQpIHtcbiAgICAgICAgICAgIHNraXBwZWQgKz0gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnB1c2goY2FuZGlkYXRlc1tpXSk7XG4gICAgICAgICAgICBhZGRlZCArPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbWl0ICYmIHRoaXMuX2xpbWl0IDw9IGFkZGVkKSB7IGJyZWFrOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5wdXNoKGNhbmRpZGF0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgfVxuXG4gIC8vIEFwcGx5IGFsbCBzb3J0c1xuICBpZiAodGhpcy5fc29ydCkge1xuICAgIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9zb3J0KTtcblxuICAgIC8vIFNvcnRpbmdcbiAgICB2YXIgY3JpdGVyaWEgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGNyaXRlcmlhLnB1c2goeyBrZXk6IGtleSwgZGlyZWN0aW9uOiBzZWxmLl9zb3J0W2tleV0gfSk7XG4gICAgfVxuICAgIHJlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHZhciBjcml0ZXJpb24sIGNvbXBhcmUsIGk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY3JpdGVyaWEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3JpdGVyaW9uID0gY3JpdGVyaWFbaV07XG4gICAgICAgIGNvbXBhcmUgPSBjcml0ZXJpb24uZGlyZWN0aW9uICogbW9kZWwuY29tcGFyZVRoaW5ncyhtb2RlbC5nZXREb3RWYWx1ZShhLCBjcml0ZXJpb24ua2V5KSwgbW9kZWwuZ2V0RG90VmFsdWUoYiwgY3JpdGVyaW9uLmtleSkpO1xuICAgICAgICBpZiAoY29tcGFyZSAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiBjb21wYXJlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICAgIC8vIEFwcGx5aW5nIGxpbWl0IGFuZCBza2lwXG4gICAgdmFyIGxpbWl0ID0gdGhpcy5fbGltaXQgfHwgcmVzLmxlbmd0aFxuICAgICAgLCBza2lwID0gdGhpcy5fc2tpcCB8fCAwO1xuXG4gICAgcmVzID0gcmVzLnNsaWNlKHNraXAsIHNraXAgKyBsaW1pdCk7XG4gIH1cblxuICAvLyBBcHBseSBwcm9qZWN0aW9uXG4gIHRyeSB7XG4gICAgcmVzID0gdGhpcy5wcm9qZWN0KHJlcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvciA9IGU7XG4gICAgcmVzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHRoaXMuZXhlY0ZuKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY0ZuKGVycm9yLCByZXMsIGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZXJyb3IsIHJlcyk7XG4gIH1cbn07XG5cbkN1cnNvci5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5kYi5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcywgZm46IHRoaXMuX2V4ZWMsIGFyZ3VtZW50czogYXJndW1lbnRzIH0pO1xufTtcblxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMgPSBDdXJzb3I7XG5cbn0se1wiLi9tb2RlbFwiOjE1LFwidW5kZXJzY29yZVwiOjE4fV0sMTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGN1c3RvbVV0aWxzID0gcmVxdWlyZSgnLi9jdXN0b21VdGlscycpXG4gICwgbW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJylcbiAgLCBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJylcbiAgLCBFeGVjdXRvciA9IHJlcXVpcmUoJy4vZXhlY3V0b3InKVxuICAsIEluZGV4ID0gcmVxdWlyZSgnLi9pbmRleGVzJylcbiAgLCB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG4gICwgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKVxuICAsIFBlcnNpc3RlbmNlID0gcmVxdWlyZSgnLi9wZXJzaXN0ZW5jZScpXG4gICwgQ3Vyc29yID0gcmVxdWlyZSgnLi9jdXJzb3InKVxuICA7XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29sbGVjdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZmlsZW5hbWUgT3B0aW9uYWwsIGRhdGFzdG9yZSB3aWxsIGJlIGluLW1lbW9yeSBvbmx5IGlmIG5vdCBwcm92aWRlZFxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnRpbWVzdGFtcERhdGEgT3B0aW9uYWwsIGRlZmF1bHRzIHRvIGZhbHNlLiBJZiBzZXQgdG8gdHJ1ZSwgY3JlYXRlZEF0IGFuZCB1cGRhdGVkQXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBwb3B1bGF0ZWQgYXV0b21hdGljYWxseSAoaWYgbm90IHNwZWNpZmllZCBieSB1c2VyKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmluTWVtb3J5T25seSBPcHRpb25hbCwgZGVmYXVsdHMgdG8gZmFsc2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLm5vZGVXZWJraXRBcHBOYW1lIE9wdGlvbmFsLCBzcGVjaWZ5IHRoZSBuYW1lIG9mIHlvdXIgTlcgYXBwIGlmIHlvdSB3YW50IG9wdGlvbnMuZmlsZW5hbWUgdG8gYmUgcmVsYXRpdmUgdG8gdGhlIGRpcmVjdG9yeSB3aGVyZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgV2Via2l0IHN0b3JlcyBhcHBsaWNhdGlvbiBkYXRhIHN1Y2ggYXMgY29va2llcyBhbmQgbG9jYWwgc3RvcmFnZSAodGhlIGJlc3QgcGxhY2UgdG8gc3RvcmUgZGF0YSBpbiBteSBvcGluaW9uKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmF1dG9sb2FkIE9wdGlvbmFsLCBkZWZhdWx0cyB0byBmYWxzZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbmxvYWQgT3B0aW9uYWwsIGlmIGF1dG9sb2FkIGlzIHVzZWQgdGhpcyB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgbG9hZCBkYXRhYmFzZSB3aXRoIHRoZSBlcnJvciBvYmplY3QgYXMgcGFyYW1ldGVyLiBJZiB5b3UgZG9uJ3QgcGFzcyBpdCB0aGUgZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuYWZ0ZXJTZXJpYWxpemF0aW9uIGFuZCBvcHRpb25zLmJlZm9yZURlc2VyaWFsaXphdGlvbiBPcHRpb25hbCwgc2VyaWFsaXphdGlvbiBob29rc1xuICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuY29ycnVwdEFsZXJ0VGhyZXNob2xkIE9wdGlvbmFsLCB0aHJlc2hvbGQgYWZ0ZXIgd2hpY2ggYW4gYWxlcnQgaXMgdGhyb3duIGlmIHRvbyBtdWNoIGRhdGEgaXMgY29ycnVwdFxuICovXG5mdW5jdGlvbiBEYXRhc3RvcmUgKG9wdGlvbnMpIHtcbiAgdmFyIGZpbGVuYW1lO1xuXG4gIC8vIFJldHJvY29tcGF0aWJpbGl0eSB3aXRoIHYwLjYgYW5kIGJlZm9yZVxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgZmlsZW5hbWUgPSBvcHRpb25zO1xuICAgIHRoaXMuaW5NZW1vcnlPbmx5ID0gZmFsc2U7ICAgLy8gRGVmYXVsdFxuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZTtcbiAgICB0aGlzLmluTWVtb3J5T25seSA9IG9wdGlvbnMuaW5NZW1vcnlPbmx5IHx8IGZhbHNlO1xuICAgIHRoaXMuYXV0b2xvYWQgPSBvcHRpb25zLmF1dG9sb2FkIHx8IGZhbHNlO1xuICAgIHRoaXMudGltZXN0YW1wRGF0YSA9IG9wdGlvbnMudGltZXN0YW1wRGF0YSB8fCBmYWxzZTtcbiAgfVxuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGluIG1lbW9yeSBvciBwZXJzaXN0ZW50XG4gIGlmICghZmlsZW5hbWUgfHwgdHlwZW9mIGZpbGVuYW1lICE9PSAnc3RyaW5nJyB8fCBmaWxlbmFtZS5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICB0aGlzLmluTWVtb3J5T25seSA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICB9XG5cbiAgLy8gUGVyc2lzdGVuY2UgaGFuZGxpbmdcbiAgdGhpcy5wZXJzaXN0ZW5jZSA9IG5ldyBQZXJzaXN0ZW5jZSh7IGRiOiB0aGlzLCBub2RlV2Via2l0QXBwTmFtZTogb3B0aW9ucy5ub2RlV2Via2l0QXBwTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGFmdGVyU2VyaWFsaXphdGlvbjogb3B0aW9ucy5hZnRlclNlcmlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBiZWZvcmVEZXNlcmlhbGl6YXRpb246IG9wdGlvbnMuYmVmb3JlRGVzZXJpYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY29ycnVwdEFsZXJ0VGhyZXNob2xkOiBvcHRpb25zLmNvcnJ1cHRBbGVydFRocmVzaG9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAvLyBUaGlzIG5ldyBleGVjdXRvciBpcyByZWFkeSBpZiB3ZSBkb24ndCB1c2UgcGVyc2lzdGVuY2VcbiAgLy8gSWYgd2UgZG8sIGl0IHdpbGwgb25seSBiZSByZWFkeSBvbmNlIGxvYWREYXRhYmFzZSBpcyBjYWxsZWRcbiAgdGhpcy5leGVjdXRvciA9IG5ldyBFeGVjdXRvcigpO1xuICBpZiAodGhpcy5pbk1lbW9yeU9ubHkpIHsgdGhpcy5leGVjdXRvci5yZWFkeSA9IHRydWU7IH1cblxuICAvLyBJbmRleGVkIGJ5IGZpZWxkIG5hbWUsIGRvdCBub3RhdGlvbiBjYW4gYmUgdXNlZFxuICAvLyBfaWQgaXMgYWx3YXlzIGluZGV4ZWQgYW5kIHNpbmNlIF9pZHMgYXJlIGdlbmVyYXRlZCByYW5kb21seSB0aGUgdW5kZXJseWluZ1xuICAvLyBiaW5hcnkgaXMgYWx3YXlzIHdlbGwtYmFsYW5jZWRcbiAgdGhpcy5pbmRleGVzID0ge307XG4gIHRoaXMuaW5kZXhlcy5faWQgPSBuZXcgSW5kZXgoeyBmaWVsZE5hbWU6ICdfaWQnLCB1bmlxdWU6IHRydWUgfSk7XG5cbiAgLy8gUXVldWUgYSBsb2FkIG9mIHRoZSBkYXRhYmFzZSByaWdodCBhd2F5IGFuZCBjYWxsIHRoZSBvbmxvYWQgaGFuZGxlclxuICAvLyBCeSBkZWZhdWx0IChubyBvbmxvYWQgaGFuZGxlciksIGlmIHRoZXJlIGlzIGFuIGVycm9yIHRoZXJlLCBubyBvcGVyYXRpb24gd2lsbCBiZSBwb3NzaWJsZSBzbyB3YXJuIHRoZSB1c2VyIGJ5IHRocm93aW5nIGFuIGV4Y2VwdGlvblxuICBpZiAodGhpcy5hdXRvbG9hZCkgeyB0aGlzLmxvYWREYXRhYmFzZShvcHRpb25zLm9ubG9hZCB8fCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgeyB0aHJvdyBlcnI7IH1cbiAgfSk7IH1cbn1cblxuXG4vKipcbiAqIExvYWQgdGhlIGRhdGFiYXNlIGZyb20gdGhlIGRhdGFmaWxlLCBhbmQgdHJpZ2dlciB0aGUgZXhlY3V0aW9uIG9mIGJ1ZmZlcmVkIGNvbW1hbmRzIGlmIGFueVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmxvYWREYXRhYmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcy5wZXJzaXN0ZW5jZSwgZm46IHRoaXMucGVyc2lzdGVuY2UubG9hZERhdGFiYXNlLCBhcmd1bWVudHM6IGFyZ3VtZW50cyB9LCB0cnVlKTtcbn07XG5cblxuLyoqXG4gKiBHZXQgYW4gYXJyYXkgb2YgYWxsIHRoZSBkYXRhIGluIHRoZSBkYXRhYmFzZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmdldEFsbERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmluZGV4ZXMuX2lkLmdldEFsbCgpO1xufTtcblxuXG4vKipcbiAqIFJlc2V0IGFsbCBjdXJyZW50bHkgZGVmaW5lZCBpbmRleGVzXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUucmVzZXRJbmRleGVzID0gZnVuY3Rpb24gKG5ld0RhdGEpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIE9iamVjdC5rZXlzKHRoaXMuaW5kZXhlcykuZm9yRWFjaChmdW5jdGlvbiAoaSkge1xuICAgIHNlbGYuaW5kZXhlc1tpXS5yZXNldChuZXdEYXRhKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogRW5zdXJlIGFuIGluZGV4IGlzIGtlcHQgZm9yIHRoaXMgZmllbGQuIFNhbWUgcGFyYW1ldGVycyBhcyBsaWIvaW5kZXhlc1xuICogRm9yIG5vdyB0aGlzIGZ1bmN0aW9uIGlzIHN5bmNocm9ub3VzLCB3ZSBuZWVkIHRvIHRlc3QgaG93IG11Y2ggdGltZSBpdCB0YWtlc1xuICogV2UgdXNlIGFuIGFzeW5jIEFQSSBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgcmVzdCBvZiB0aGUgY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZmllbGROYW1lXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMudW5pcXVlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuc3BhcnNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnJcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5lbnN1cmVJbmRleCA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAoIW9wdGlvbnMuZmllbGROYW1lKSB7IHJldHVybiBjYWxsYmFjayh7IG1pc3NpbmdGaWVsZE5hbWU6IHRydWUgfSk7IH1cbiAgaWYgKHRoaXMuaW5kZXhlc1tvcHRpb25zLmZpZWxkTmFtZV0pIHsgcmV0dXJuIGNhbGxiYWNrKG51bGwpOyB9XG5cbiAgdGhpcy5pbmRleGVzW29wdGlvbnMuZmllbGROYW1lXSA9IG5ldyBJbmRleChvcHRpb25zKTtcblxuICB0cnkge1xuICAgIHRoaXMuaW5kZXhlc1tvcHRpb25zLmZpZWxkTmFtZV0uaW5zZXJ0KHRoaXMuZ2V0QWxsRGF0YSgpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGRlbGV0ZSB0aGlzLmluZGV4ZXNbb3B0aW9ucy5maWVsZE5hbWVdO1xuICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgfVxuXG4gIC8vIFdlIG1heSB3YW50IHRvIGZvcmNlIGFsbCBvcHRpb25zIHRvIGJlIHBlcnNpc3RlZCBpbmNsdWRpbmcgZGVmYXVsdHMsIG5vdCBqdXN0IHRoZSBvbmVzIHBhc3NlZCB0aGUgaW5kZXggY3JlYXRpb24gZnVuY3Rpb25cbiAgdGhpcy5wZXJzaXN0ZW5jZS5wZXJzaXN0TmV3U3RhdGUoW3sgJCRpbmRleENyZWF0ZWQ6IG9wdGlvbnMgfV0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYW4gaW5kZXhcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZE5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrLCBzaWduYXR1cmU6IGVyclxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLnJlbW92ZUluZGV4ID0gZnVuY3Rpb24gKGZpZWxkTmFtZSwgY2IpIHtcbiAgdmFyIGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24gKCkge307XG5cbiAgZGVsZXRlIHRoaXMuaW5kZXhlc1tmaWVsZE5hbWVdO1xuXG4gIHRoaXMucGVyc2lzdGVuY2UucGVyc2lzdE5ld1N0YXRlKFt7ICQkaW5kZXhSZW1vdmVkOiBmaWVsZE5hbWUgfV0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBBZGQgb25lIG9yIHNldmVyYWwgZG9jdW1lbnQocykgdG8gYWxsIGluZGV4ZXNcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5hZGRUb0luZGV4ZXMgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHZhciBpLCBmYWlsaW5nSW5kZXgsIGVycm9yXG4gICAgLCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5pbmRleGVzKVxuICAgIDtcblxuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmluZGV4ZXNba2V5c1tpXV0uaW5zZXJ0KGRvYyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZmFpbGluZ0luZGV4ID0gaTtcbiAgICAgIGVycm9yID0gZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIGFuIGVycm9yIGhhcHBlbmVkLCB3ZSBuZWVkIHRvIHJvbGxiYWNrIHRoZSBpbnNlcnQgb24gYWxsIG90aGVyIGluZGV4ZXNcbiAgaWYgKGVycm9yKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGZhaWxpbmdJbmRleDsgaSArPSAxKSB7XG4gICAgICB0aGlzLmluZGV4ZXNba2V5c1tpXV0ucmVtb3ZlKGRvYyk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgb25lIG9yIHNldmVyYWwgZG9jdW1lbnQocykgZnJvbSBhbGwgaW5kZXhlc1xuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLnJlbW92ZUZyb21JbmRleGVzID0gZnVuY3Rpb24gKGRvYykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgT2JqZWN0LmtleXModGhpcy5pbmRleGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgc2VsZi5pbmRleGVzW2ldLnJlbW92ZShkb2MpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBVcGRhdGUgb25lIG9yIHNldmVyYWwgZG9jdW1lbnRzIGluIGFsbCBpbmRleGVzXG4gKiBUbyB1cGRhdGUgbXVsdGlwbGUgZG9jdW1lbnRzLCBvbGREb2MgbXVzdCBiZSBhbiBhcnJheSBvZiB7IG9sZERvYywgbmV3RG9jIH0gcGFpcnNcbiAqIElmIG9uZSB1cGRhdGUgdmlvbGF0ZXMgYSBjb25zdHJhaW50LCBhbGwgY2hhbmdlcyBhcmUgcm9sbGVkIGJhY2tcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS51cGRhdGVJbmRleGVzID0gZnVuY3Rpb24gKG9sZERvYywgbmV3RG9jKSB7XG4gIHZhciBpLCBmYWlsaW5nSW5kZXgsIGVycm9yXG4gICAgLCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5pbmRleGVzKVxuICAgIDtcblxuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmluZGV4ZXNba2V5c1tpXV0udXBkYXRlKG9sZERvYywgbmV3RG9jKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBmYWlsaW5nSW5kZXggPSBpO1xuICAgICAgZXJyb3IgPSBlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYW4gZXJyb3IgaGFwcGVuZWQsIHdlIG5lZWQgdG8gcm9sbGJhY2sgdGhlIHVwZGF0ZSBvbiBhbGwgb3RoZXIgaW5kZXhlc1xuICBpZiAoZXJyb3IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmFpbGluZ0luZGV4OyBpICs9IDEpIHtcbiAgICAgIHRoaXMuaW5kZXhlc1trZXlzW2ldXS5yZXZlcnRVcGRhdGUob2xkRG9jLCBuZXdEb2MpO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0IG9mIGNhbmRpZGF0ZXMgZm9yIGEgZ2l2ZW4gcXVlcnlcbiAqIENydWRlIGltcGxlbWVudGF0aW9uIGZvciBub3csIHdlIHJldHVybiB0aGUgY2FuZGlkYXRlcyBnaXZlbiBieSB0aGUgZmlyc3QgdXNhYmxlIGluZGV4IGlmIGFueVxuICogV2UgdHJ5IHRoZSBmb2xsb3dpbmcgcXVlcnkgdHlwZXMsIGluIHRoaXMgb3JkZXI6IGJhc2ljIG1hdGNoLCAkaW4gbWF0Y2gsIGNvbXBhcmlzb24gbWF0Y2hcbiAqIE9uZSB3YXkgdG8gbWFrZSBpdCBiZXR0ZXIgd291bGQgYmUgdG8gZW5hYmxlIHRoZSB1c2Ugb2YgbXVsdGlwbGUgaW5kZXhlcyBpZiB0aGUgZmlyc3QgdXNhYmxlIGluZGV4XG4gKiByZXR1cm5zIHRvbyBtdWNoIGRhdGEuIEkgbWF5IGRvIGl0IGluIHRoZSBmdXR1cmUuXG4gKlxuICogVE9ETzogbmVlZHMgdG8gYmUgbW92ZWQgdG8gdGhlIEN1cnNvciBtb2R1bGVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5nZXRDYW5kaWRhdGVzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIHZhciBpbmRleE5hbWVzID0gT2JqZWN0LmtleXModGhpcy5pbmRleGVzKVxuICAgICwgdXNhYmxlUXVlcnlLZXlzO1xuXG4gIC8vIEZvciBhIGJhc2ljIG1hdGNoXG4gIHVzYWJsZVF1ZXJ5S2V5cyA9IFtdO1xuICBPYmplY3Qua2V5cyhxdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGlmICh0eXBlb2YgcXVlcnlba10gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBxdWVyeVtrXSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHF1ZXJ5W2tdID09PSAnYm9vbGVhbicgfHwgdXRpbC5pc0RhdGUocXVlcnlba10pIHx8IHF1ZXJ5W2tdID09PSBudWxsKSB7XG4gICAgICB1c2FibGVRdWVyeUtleXMucHVzaChrKTtcbiAgICB9XG4gIH0pO1xuICB1c2FibGVRdWVyeUtleXMgPSBfLmludGVyc2VjdGlvbih1c2FibGVRdWVyeUtleXMsIGluZGV4TmFtZXMpO1xuICBpZiAodXNhYmxlUXVlcnlLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleGVzW3VzYWJsZVF1ZXJ5S2V5c1swXV0uZ2V0TWF0Y2hpbmcocXVlcnlbdXNhYmxlUXVlcnlLZXlzWzBdXSk7XG4gIH1cblxuICAvLyBGb3IgYSAkaW4gbWF0Y2hcbiAgdXNhYmxlUXVlcnlLZXlzID0gW107XG4gIE9iamVjdC5rZXlzKHF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgaWYgKHF1ZXJ5W2tdICYmIHF1ZXJ5W2tdLmhhc093blByb3BlcnR5KCckaW4nKSkge1xuICAgICAgdXNhYmxlUXVlcnlLZXlzLnB1c2goayk7XG4gICAgfVxuICB9KTtcbiAgdXNhYmxlUXVlcnlLZXlzID0gXy5pbnRlcnNlY3Rpb24odXNhYmxlUXVlcnlLZXlzLCBpbmRleE5hbWVzKTtcbiAgaWYgKHVzYWJsZVF1ZXJ5S2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhlc1t1c2FibGVRdWVyeUtleXNbMF1dLmdldE1hdGNoaW5nKHF1ZXJ5W3VzYWJsZVF1ZXJ5S2V5c1swXV0uJGluKTtcbiAgfVxuXG4gIC8vIEZvciBhIGNvbXBhcmlzb24gbWF0Y2hcbiAgdXNhYmxlUXVlcnlLZXlzID0gW107XG4gIE9iamVjdC5rZXlzKHF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgaWYgKHF1ZXJ5W2tdICYmIChxdWVyeVtrXS5oYXNPd25Qcm9wZXJ0eSgnJGx0JykgfHwgcXVlcnlba10uaGFzT3duUHJvcGVydHkoJyRsdGUnKSB8fCBxdWVyeVtrXS5oYXNPd25Qcm9wZXJ0eSgnJGd0JykgfHwgcXVlcnlba10uaGFzT3duUHJvcGVydHkoJyRndGUnKSkpIHtcbiAgICAgIHVzYWJsZVF1ZXJ5S2V5cy5wdXNoKGspO1xuICAgIH1cbiAgfSk7XG4gIHVzYWJsZVF1ZXJ5S2V5cyA9IF8uaW50ZXJzZWN0aW9uKHVzYWJsZVF1ZXJ5S2V5cywgaW5kZXhOYW1lcyk7XG4gIGlmICh1c2FibGVRdWVyeUtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4ZXNbdXNhYmxlUXVlcnlLZXlzWzBdXS5nZXRCZXR3ZWVuQm91bmRzKHF1ZXJ5W3VzYWJsZVF1ZXJ5S2V5c1swXV0pO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCwgcmV0dXJuIGFsbCB0aGUgREIgZGF0YVxuICByZXR1cm4gdGhpcy5nZXRBbGxEYXRhKCk7XG59O1xuXG5cbi8qKlxuICogSW5zZXJ0IGEgbmV3IGRvY3VtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnIsIGluc2VydGVkRG9jXG4gKlxuICogQGFwaSBwcml2YXRlIFVzZSBEYXRhc3RvcmUuaW5zZXJ0IHdoaWNoIGhhcyB0aGUgc2FtZSBzaWduYXR1cmVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5faW5zZXJ0ID0gZnVuY3Rpb24gKG5ld0RvYywgY2IpIHtcbiAgdmFyIGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24gKCkge31cbiAgICAsIHByZXBhcmVkRG9jXG4gICAgO1xuXG4gIHRyeSB7XG4gICAgcHJlcGFyZWREb2MgPSB0aGlzLnByZXBhcmVEb2N1bWVudEZvckluc2VydGlvbihuZXdEb2MpXG4gICAgdGhpcy5faW5zZXJ0SW5DYWNoZShwcmVwYXJlZERvYyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gIH1cblxuICB0aGlzLnBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZSh1dGlsLmlzQXJyYXkocHJlcGFyZWREb2MpID8gcHJlcGFyZWREb2MgOiBbcHJlcGFyZWREb2NdLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBtb2RlbC5kZWVwQ29weShwcmVwYXJlZERvYykpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IF9pZCB0aGF0J3Mgbm90IGFscmVhZHkgaW4gdXNlXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuY3JlYXRlTmV3SWQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW50YXRpdmVJZCA9IGN1c3RvbVV0aWxzLnVpZCgxNik7XG4gIC8vIFRyeSBhcyBtYW55IHRpbWVzIGFzIG5lZWRlZCB0byBnZXQgYW4gdW51c2VkIF9pZC4gQXMgZXhwbGFpbmVkIGluIGN1c3RvbVV0aWxzLCB0aGUgcHJvYmFiaWxpdHkgb2YgdGhpcyBldmVyIGhhcHBlbmluZyBpcyBleHRyZW1lbHkgc21hbGwsIHNvIHRoaXMgaXMgTygxKVxuICBpZiAodGhpcy5pbmRleGVzLl9pZC5nZXRNYXRjaGluZyh0ZW50YXRpdmVJZCkubGVuZ3RoID4gMCkge1xuICAgIHRlbnRhdGl2ZUlkID0gdGhpcy5jcmVhdGVOZXdJZCgpO1xuICB9XG4gIHJldHVybiB0ZW50YXRpdmVJZDtcbn07XG5cbi8qKlxuICogUHJlcGFyZSBhIGRvY3VtZW50IChvciBhcnJheSBvZiBkb2N1bWVudHMpIHRvIGJlIGluc2VydGVkIGluIGEgZGF0YWJhc2VcbiAqIE1lYW5pbmcgYWRkcyBfaWQgYW5kIHRpbWVzdGFtcHMgaWYgbmVjZXNzYXJ5IG9uIGEgY29weSBvZiBuZXdEb2MgdG8gYXZvaWQgYW55IHNpZGUgZWZmZWN0IG9uIHVzZXIgaW5wdXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLnByZXBhcmVEb2N1bWVudEZvckluc2VydGlvbiA9IGZ1bmN0aW9uIChuZXdEb2MpIHtcbiAgdmFyIHByZXBhcmVkRG9jLCBzZWxmID0gdGhpcztcblxuICBpZiAodXRpbC5pc0FycmF5KG5ld0RvYykpIHtcbiAgICBwcmVwYXJlZERvYyA9IFtdO1xuICAgIG5ld0RvYy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsgcHJlcGFyZWREb2MucHVzaChzZWxmLnByZXBhcmVEb2N1bWVudEZvckluc2VydGlvbihkb2MpKTsgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHJlcGFyZWREb2MgPSBtb2RlbC5kZWVwQ29weShuZXdEb2MpO1xuICAgIGlmIChwcmVwYXJlZERvYy5faWQgPT09IHVuZGVmaW5lZCkgeyBwcmVwYXJlZERvYy5faWQgPSB0aGlzLmNyZWF0ZU5ld0lkKCk7IH1cbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICBpZiAodGhpcy50aW1lc3RhbXBEYXRhICYmIHByZXBhcmVkRG9jLmNyZWF0ZWRBdCA9PT0gdW5kZWZpbmVkKSB7IHByZXBhcmVkRG9jLmNyZWF0ZWRBdCA9IG5vdzsgfVxuICAgIGlmICh0aGlzLnRpbWVzdGFtcERhdGEgJiYgcHJlcGFyZWREb2MudXBkYXRlZEF0ID09PSB1bmRlZmluZWQpIHsgcHJlcGFyZWREb2MudXBkYXRlZEF0ID0gbm93OyB9XG4gICAgbW9kZWwuY2hlY2tPYmplY3QocHJlcGFyZWREb2MpO1xuICB9XG5cbiAgcmV0dXJuIHByZXBhcmVkRG9jO1xufTtcblxuLyoqXG4gKiBJZiBuZXdEb2MgaXMgYW4gYXJyYXkgb2YgZG9jdW1lbnRzLCB0aGlzIHdpbGwgaW5zZXJ0IGFsbCBkb2N1bWVudHMgaW4gdGhlIGNhY2hlXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5faW5zZXJ0SW5DYWNoZSA9IGZ1bmN0aW9uIChwcmVwYXJlZERvYykge1xuICBpZiAodXRpbC5pc0FycmF5KHByZXBhcmVkRG9jKSkge1xuICAgIHRoaXMuX2luc2VydE11bHRpcGxlRG9jc0luQ2FjaGUocHJlcGFyZWREb2MpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWRkVG9JbmRleGVzKHByZXBhcmVkRG9jKTtcbiAgfVxufTtcblxuLyoqXG4gKiBJZiBvbmUgaW5zZXJ0aW9uIGZhaWxzIChlLmcuIGJlY2F1c2Ugb2YgYSB1bmlxdWUgY29uc3RyYWludCksIHJvbGwgYmFjayBhbGwgcHJldmlvdXNcbiAqIGluc2VydHMgYW5kIHRocm93cyB0aGUgZXJyb3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLl9pbnNlcnRNdWx0aXBsZURvY3NJbkNhY2hlID0gZnVuY3Rpb24gKHByZXBhcmVkRG9jcykge1xuICB2YXIgaSwgZmFpbGluZ0ksIGVycm9yO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBwcmVwYXJlZERvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5hZGRUb0luZGV4ZXMocHJlcGFyZWREb2NzW2ldKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvciA9IGU7XG4gICAgICBmYWlsaW5nSSA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmFpbGluZ0k7IGkgKz0gMSkge1xuICAgICAgdGhpcy5yZW1vdmVGcm9tSW5kZXhlcyhwcmVwYXJlZERvY3NbaV0pO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5EYXRhc3RvcmUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcywgZm46IHRoaXMuX2luc2VydCwgYXJndW1lbnRzOiBhcmd1bWVudHMgfSk7XG59O1xuXG5cbi8qKlxuICogQ291bnQgYWxsIGRvY3VtZW50cyBtYXRjaGluZyB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBNb25nb0RCLXN0eWxlIHF1ZXJ5XG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbihxdWVyeSwgY2FsbGJhY2spIHtcbiAgdmFyIGN1cnNvciA9IG5ldyBDdXJzb3IodGhpcywgcXVlcnksIGZ1bmN0aW9uKGVyciwgZG9jcywgY2FsbGJhY2spIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGRvY3MubGVuZ3RoKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGN1cnNvci5leGVjKGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3Vyc29yO1xuICB9XG59O1xuXG5cbi8qKlxuICogRmluZCBhbGwgZG9jdW1lbnRzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICogSWYgbm8gY2FsbGJhY2sgaXMgcGFzc2VkLCB3ZSByZXR1cm4gdGhlIGN1cnNvciBzbyB0aGF0IHVzZXIgY2FuIGxpbWl0LCBza2lwIGFuZCBmaW5hbGx5IGV4ZWNcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBNb25nb0RCLXN0eWxlIHF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvamVjdGlvbiBNb25nb0RCLXN0eWxlIHByb2plY3Rpb25cbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHF1ZXJ5LCBwcm9qZWN0aW9uLCBjYWxsYmFjaykge1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6XG4gICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICAvLyBjYWxsYmFjayBpcyB1bmRlZmluZWQsIHdpbGwgcmV0dXJuIGEgY3Vyc29yXG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBpZiAodHlwZW9mIHByb2plY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBwcm9qZWN0aW9uO1xuICAgICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICB9ICAgLy8gSWYgbm90IGFzc3VtZSBwcm9qZWN0aW9uIGlzIGFuIG9iamVjdCBhbmQgY2FsbGJhY2sgdW5kZWZpbmVkXG4gICAgICBicmVhaztcbiAgfVxuXG4gIHZhciBjdXJzb3IgPSBuZXcgQ3Vyc29yKHRoaXMsIHF1ZXJ5LCBmdW5jdGlvbihlcnIsIGRvY3MsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlcyA9IFtdLCBpO1xuXG4gICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHJlcy5wdXNoKG1vZGVsLmRlZXBDb3B5KGRvY3NbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gIH0pO1xuXG4gIGN1cnNvci5wcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY3Vyc29yLmV4ZWMoY2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjdXJzb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBGaW5kIG9uZSBkb2N1bWVudCBtYXRjaGluZyB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBNb25nb0RCLXN0eWxlIHF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvamVjdGlvbiBNb25nb0RCLXN0eWxlIHByb2plY3Rpb25cbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5maW5kT25lID0gZnVuY3Rpb24gKHF1ZXJ5LCBwcm9qZWN0aW9uLCBjYWxsYmFjaykge1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6XG4gICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICAvLyBjYWxsYmFjayBpcyB1bmRlZmluZWQsIHdpbGwgcmV0dXJuIGEgY3Vyc29yXG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBpZiAodHlwZW9mIHByb2plY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBwcm9qZWN0aW9uO1xuICAgICAgICBwcm9qZWN0aW9uID0ge307XG4gICAgICB9ICAgLy8gSWYgbm90IGFzc3VtZSBwcm9qZWN0aW9uIGlzIGFuIG9iamVjdCBhbmQgY2FsbGJhY2sgdW5kZWZpbmVkXG4gICAgICBicmVhaztcbiAgfVxuXG4gIHZhciBjdXJzb3IgPSBuZXcgQ3Vyc29yKHRoaXMsIHF1ZXJ5LCBmdW5jdGlvbihlcnIsIGRvY3MsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuICAgIGlmIChkb2NzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG1vZGVsLmRlZXBDb3B5KGRvY3NbMF0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG51bGwpO1xuICAgIH1cbiAgfSk7XG5cbiAgY3Vyc29yLnByb2plY3Rpb24ocHJvamVjdGlvbikubGltaXQoMSk7XG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjdXJzb3IuZXhlYyhjYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGN1cnNvcjtcbiAgfVxufTtcblxuXG4vKipcbiAqIFVwZGF0ZSBhbGwgZG9jcyBtYXRjaGluZyBxdWVyeVxuICogRm9yIG5vdywgdmVyeSBuYWl2ZSBpbXBsZW1lbnRhdGlvbiAocmVjYWxjdWxhdGluZyB0aGUgd2hvbGUgZGF0YWJhc2UpXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSB1cGRhdGVRdWVyeVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgb3B0aW9uc1xuICogICAgICAgICAgICAgICAgIG9wdGlvbnMubXVsdGkgSWYgdHJ1ZSwgY2FuIHVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgKGRlZmF1bHRzIHRvIGZhbHNlKVxuICogICAgICAgICAgICAgICAgIG9wdGlvbnMudXBzZXJ0IElmIHRydWUsIGRvY3VtZW50IGlzIGluc2VydGVkIGlmIHRoZSBxdWVyeSBkb2Vzbid0IG1hdGNoIGFueXRoaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnIsIG51bVJlcGxhY2VkLCB1cHNlcnQgKHNldCB0byB0cnVlIGlmIHRoZSB1cGRhdGUgd2FzIGluIGZhY3QgYW4gdXBzZXJ0KVxuICpcbiAqIEBhcGkgcHJpdmF0ZSBVc2UgRGF0YXN0b3JlLnVwZGF0ZSB3aGljaCBoYXMgdGhlIHNhbWUgc2lnbmF0dXJlXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChxdWVyeSwgdXBkYXRlUXVlcnksIG9wdGlvbnMsIGNiKSB7XG4gIHZhciBjYWxsYmFja1xuICAgICwgc2VsZiA9IHRoaXNcbiAgICAsIG51bVJlcGxhY2VkID0gMFxuICAgICwgbXVsdGksIHVwc2VydFxuICAgICwgaVxuICAgIDtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHsgY2IgPSBvcHRpb25zOyBvcHRpb25zID0ge307IH1cbiAgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgbXVsdGkgPSBvcHRpb25zLm11bHRpICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm11bHRpIDogZmFsc2U7XG4gIHVwc2VydCA9IG9wdGlvbnMudXBzZXJ0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVwc2VydCA6IGZhbHNlO1xuXG4gIGFzeW5jLndhdGVyZmFsbChbXG4gIGZ1bmN0aW9uIChjYikgeyAgIC8vIElmIHVwc2VydCBvcHRpb24gaXMgc2V0LCBjaGVjayB3aGV0aGVyIHdlIG5lZWQgdG8gaW5zZXJ0IHRoZSBkb2NcbiAgICBpZiAoIXVwc2VydCkgeyByZXR1cm4gY2IoKTsgfVxuXG4gICAgLy8gTmVlZCB0byB1c2UgYW4gaW50ZXJuYWwgZnVuY3Rpb24gbm90IHRpZWQgdG8gdGhlIGV4ZWN1dG9yIHRvIGF2b2lkIGRlYWRsb2NrXG4gICAgdmFyIGN1cnNvciA9IG5ldyBDdXJzb3Ioc2VsZiwgcXVlcnkpO1xuICAgIGN1cnNvci5saW1pdCgxKS5fZXhlYyhmdW5jdGlvbiAoZXJyLCBkb2NzKSB7XG4gICAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgICBpZiAoZG9jcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGNiKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG9CZUluc2VydGVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbW9kZWwuY2hlY2tPYmplY3QodXBkYXRlUXVlcnkpO1xuICAgICAgICAgIC8vIHVwZGF0ZVF1ZXJ5IGlzIGEgc2ltcGxlIG9iamVjdCB3aXRoIG5vIG1vZGlmaWVyLCB1c2UgaXQgYXMgdGhlIGRvY3VtZW50IHRvIGluc2VydFxuICAgICAgICAgIHRvQmVJbnNlcnRlZCA9IHVwZGF0ZVF1ZXJ5O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gdXBkYXRlUXVlcnkgY29udGFpbnMgbW9kaWZpZXJzLCB1c2UgdGhlIGZpbmQgcXVlcnkgYXMgdGhlIGJhc2UsXG4gICAgICAgICAgLy8gc3RyaXAgaXQgZnJvbSBhbGwgb3BlcmF0b3JzIGFuZCB1cGRhdGUgaXQgYWNjb3JkaW5nIHRvIHVwZGF0ZVF1ZXJ5XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRvQmVJbnNlcnRlZCA9IG1vZGVsLm1vZGlmeShtb2RlbC5kZWVwQ29weShxdWVyeSwgdHJ1ZSksIHVwZGF0ZVF1ZXJ5KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmLl9pbnNlcnQodG9CZUluc2VydGVkLCBmdW5jdGlvbiAoZXJyLCBuZXdEb2MpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIDEsIG5ld0RvYyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gICwgZnVuY3Rpb24gKCkgeyAgIC8vIFBlcmZvcm0gdGhlIHVwZGF0ZVxuICAgIHZhciBtb2RpZmllZERvY1xuXHQgICwgY2FuZGlkYXRlcyA9IHNlbGYuZ2V0Q2FuZGlkYXRlcyhxdWVyeSlcblx0ICAsIG1vZGlmaWNhdGlvbnMgPSBbXVxuXHQgIDtcblxuICAgIC8vIFByZXBhcmluZyB1cGRhdGUgKGlmIGFuIGVycm9yIGlzIHRocm93biBoZXJlIG5laXRoZXIgdGhlIGRhdGFmaWxlIG5vclxuICAgIC8vIHRoZSBpbi1tZW1vcnkgaW5kZXhlcyBhcmUgYWZmZWN0ZWQpXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYW5kaWRhdGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChtb2RlbC5tYXRjaChjYW5kaWRhdGVzW2ldLCBxdWVyeSkgJiYgKG11bHRpIHx8IG51bVJlcGxhY2VkID09PSAwKSkge1xuICAgICAgICAgIG51bVJlcGxhY2VkICs9IDE7XG4gICAgICAgICAgbW9kaWZpZWREb2MgPSBtb2RlbC5tb2RpZnkoY2FuZGlkYXRlc1tpXSwgdXBkYXRlUXVlcnkpO1xuICAgICAgICAgIGlmIChzZWxmLnRpbWVzdGFtcERhdGEpIHsgbW9kaWZpZWREb2MudXBkYXRlZEF0ID0gbmV3IERhdGUoKTsgfVxuICAgICAgICAgIG1vZGlmaWNhdGlvbnMucHVzaCh7IG9sZERvYzogY2FuZGlkYXRlc1tpXSwgbmV3RG9jOiBtb2RpZmllZERvYyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuXG4gICAgLy8gQ2hhbmdlIHRoZSBkb2NzIGluIG1lbW9yeVxuICAgIHRyeSB7XG4gICAgICAgIHNlbGYudXBkYXRlSW5kZXhlcyhtb2RpZmljYXRpb25zKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZGF0YWZpbGVcbiAgICBzZWxmLnBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZShfLnBsdWNrKG1vZGlmaWNhdGlvbnMsICduZXdEb2MnKSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG51bVJlcGxhY2VkKTtcbiAgICB9KTtcbiAgfVxuICBdKTtcbn07XG5EYXRhc3RvcmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5leGVjdXRvci5wdXNoKHsgdGhpczogdGhpcywgZm46IHRoaXMuX3VwZGF0ZSwgYXJndW1lbnRzOiBhcmd1bWVudHMgfSk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGFsbCBkb2NzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICogRm9yIG5vdyB2ZXJ5IG5haXZlIGltcGxlbWVudGF0aW9uIChzaW1pbGFyIHRvIHVwZGF0ZSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgb3B0aW9uc1xuICogICAgICAgICAgICAgICAgIG9wdGlvbnMubXVsdGkgSWYgdHJ1ZSwgY2FuIHVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgKGRlZmF1bHRzIHRvIGZhbHNlKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgT3B0aW9uYWwgY2FsbGJhY2ssIHNpZ25hdHVyZTogZXJyLCBudW1SZW1vdmVkXG4gKlxuICogQGFwaSBwcml2YXRlIFVzZSBEYXRhc3RvcmUucmVtb3ZlIHdoaWNoIGhhcyB0aGUgc2FtZSBzaWduYXR1cmVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24gKHF1ZXJ5LCBvcHRpb25zLCBjYikge1xuICB2YXIgY2FsbGJhY2tcbiAgICAsIHNlbGYgPSB0aGlzXG4gICAgLCBudW1SZW1vdmVkID0gMFxuICAgICwgbXVsdGlcbiAgICAsIHJlbW92ZWREb2NzID0gW11cbiAgICAsIGNhbmRpZGF0ZXMgPSB0aGlzLmdldENhbmRpZGF0ZXMocXVlcnkpXG4gICAgO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYiA9IG9wdGlvbnM7IG9wdGlvbnMgPSB7fTsgfVxuICBjYWxsYmFjayA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9O1xuICBtdWx0aSA9IG9wdGlvbnMubXVsdGkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXVsdGkgOiBmYWxzZTtcblxuICB0cnkge1xuICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKG1vZGVsLm1hdGNoKGQsIHF1ZXJ5KSAmJiAobXVsdGkgfHwgbnVtUmVtb3ZlZCA9PT0gMCkpIHtcbiAgICAgICAgbnVtUmVtb3ZlZCArPSAxO1xuICAgICAgICByZW1vdmVkRG9jcy5wdXNoKHsgJCRkZWxldGVkOiB0cnVlLCBfaWQ6IGQuX2lkIH0pO1xuICAgICAgICBzZWxmLnJlbW92ZUZyb21JbmRleGVzKGQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cblxuICBzZWxmLnBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZShyZW1vdmVkRG9jcywgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVtUmVtb3ZlZCk7XG4gIH0pO1xufTtcbkRhdGFzdG9yZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLCBmbjogdGhpcy5fcmVtb3ZlLCBhcmd1bWVudHM6IGFyZ3VtZW50cyB9KTtcbn07XG5cblxuXG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFzdG9yZTtcblxufSx7XCIuL2N1cnNvclwiOjExLFwiLi9jdXN0b21VdGlsc1wiOjgsXCIuL2V4ZWN1dG9yXCI6MTMsXCIuL2luZGV4ZXNcIjoxNCxcIi4vbW9kZWxcIjoxNSxcIi4vcGVyc2lzdGVuY2VcIjoxNixcImFzeW5jXCI6MTcsXCJ1bmRlcnNjb3JlXCI6MTgsXCJ1dGlsXCI6MjJ9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLyoqXG4gKiBSZXNwb25zaWJsZSBmb3Igc2VxdWVudGlhbGx5IGV4ZWN1dGluZyBhY3Rpb25zIG9uIHRoZSBkYXRhYmFzZVxuICovXG5cbnZhciBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJylcbiAgO1xuXG5mdW5jdGlvbiBFeGVjdXRvciAoKSB7XG4gIHRoaXMuYnVmZmVyID0gW107XG4gIHRoaXMucmVhZHkgPSBmYWxzZTtcblxuICAvLyBUaGlzIHF1ZXVlIHdpbGwgZXhlY3V0ZSBhbGwgY29tbWFuZHMsIG9uZS1ieS1vbmUgaW4gb3JkZXJcbiAgdGhpcy5xdWV1ZSA9IGFzeW5jLnF1ZXVlKGZ1bmN0aW9uICh0YXNrLCBjYikge1xuICAgIHZhciBjYWxsYmFja1xuICAgICAgLCBsYXN0QXJnID0gdGFzay5hcmd1bWVudHNbdGFzay5hcmd1bWVudHMubGVuZ3RoIC0gMV1cbiAgICAgICwgaSwgbmV3QXJndW1lbnRzID0gW11cbiAgICAgIDtcblxuICAgIC8vIHRhc2suYXJndW1lbnRzIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IG9uIHdoaWNoIGFkZGluZyBhIG5ldyBmaWVsZCBkb2Vzbid0IHdvcmssIHNvIHdlIHRyYW5zZm9ybSBpdCBpbnRvIGEgcmVhbCBhcnJheVxuICAgIGZvciAoaSA9IDA7IGkgPCB0YXNrLmFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkgeyBuZXdBcmd1bWVudHMucHVzaCh0YXNrLmFyZ3VtZW50c1tpXSk7IH1cblxuICAgIC8vIEFsd2F5cyB0ZWxsIHRoZSBxdWV1ZSB0YXNrIGlzIGNvbXBsZXRlLiBFeGVjdXRlIGNhbGxiYWNrIGlmIGFueSB3YXMgZ2l2ZW4uXG4gICAgaWYgKHR5cGVvZiBsYXN0QXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgc2V0SW1tZWRpYXRlKGNiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGNiKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJnLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBuZXdBcmd1bWVudHNbbmV3QXJndW1lbnRzLmxlbmd0aCAtIDFdID0gY2FsbGJhY2s7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBjYigpOyB9O1xuICAgICAgbmV3QXJndW1lbnRzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cblxuXG4gICAgdGFzay5mbi5hcHBseSh0YXNrLnRoaXMsIG5ld0FyZ3VtZW50cyk7XG4gIH0sIDEpO1xufVxuXG5cbi8qKlxuICogSWYgZXhlY3V0b3IgaXMgcmVhZHksIHF1ZXVlIHRhc2sgKGFuZCBwcm9jZXNzIGl0IGltbWVkaWF0ZWx5IGlmIGV4ZWN1dG9yIHdhcyBpZGxlKVxuICogSWYgbm90LCBidWZmZXIgdGFzayBmb3IgbGF0ZXIgcHJvY2Vzc2luZ1xuICogQHBhcmFtIHtPYmplY3R9IHRhc2tcbiAqICAgICAgICAgICAgICAgICB0YXNrLnRoaXMgLSBPYmplY3QgdG8gdXNlIGFzIHRoaXNcbiAqICAgICAgICAgICAgICAgICB0YXNrLmZuIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZVxuICogICAgICAgICAgICAgICAgIHRhc2suYXJndW1lbnRzIC0gQXJyYXkgb2YgYXJndW1lbnRzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlUXVldWluZyBPcHRpb25hbCAoZGVmYXVsdHMgdG8gZmFsc2UpIGZvcmNlIGV4ZWN1dG9yIHRvIHF1ZXVlIHRhc2sgZXZlbiBpZiBpdCBpcyBub3QgcmVhZHlcbiAqL1xuRXhlY3V0b3IucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodGFzaywgZm9yY2VRdWV1aW5nKSB7XG4gIGlmICh0aGlzLnJlYWR5IHx8IGZvcmNlUXVldWluZykge1xuICAgIHRoaXMucXVldWUucHVzaCh0YXNrKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmJ1ZmZlci5wdXNoKHRhc2spO1xuICB9XG59O1xuXG5cbi8qKlxuICogUXVldWUgYWxsIHRhc2tzIGluIGJ1ZmZlciAoaW4gdGhlIHNhbWUgb3JkZXIgdGhleSBjYW1lIGluKVxuICogQXV0b21hdGljYWxseSBzZXRzIGV4ZWN1dG9yIGFzIHJlYWR5XG4gKi9cbkV4ZWN1dG9yLnByb3RvdHlwZS5wcm9jZXNzQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaTtcbiAgdGhpcy5yZWFkeSA9IHRydWU7XG4gIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlci5sZW5ndGg7IGkgKz0gMSkgeyB0aGlzLnF1ZXVlLnB1c2godGhpcy5idWZmZXJbaV0pOyB9XG4gIHRoaXMuYnVmZmVyID0gW107XG59O1xuXG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dG9yO1xuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSlcbn0se1wiX3Byb2Nlc3NcIjoyMCxcImFzeW5jXCI6MTd9XSwxNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgQmluYXJ5U2VhcmNoVHJlZSA9IHJlcXVpcmUoJ2JpbmFyeS1zZWFyY2gtdHJlZScpLkFWTFRyZWVcbiAgLCBtb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWwnKVxuICAsIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJylcbiAgLCB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG4gIDtcblxuLyoqXG4gKiBUd28gaW5kZXhlZCBwb2ludGVycyBhcmUgZXF1YWwgaWlmIHRoZXkgcG9pbnQgdG8gdGhlIHNhbWUgcGxhY2VcbiAqL1xuZnVuY3Rpb24gY2hlY2tWYWx1ZUVxdWFsaXR5IChhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufVxuXG4vKipcbiAqIFR5cGUtYXdhcmUgcHJvamVjdGlvblxuICovXG5mdW5jdGlvbiBwcm9qZWN0Rm9yVW5pcXVlIChlbHQpIHtcbiAgaWYgKGVsdCA9PT0gbnVsbCkgeyByZXR1cm4gJyRudWxsJzsgfVxuICBpZiAodHlwZW9mIGVsdCA9PT0gJ3N0cmluZycpIHsgcmV0dXJuICckc3RyaW5nJyArIGVsdDsgfVxuICBpZiAodHlwZW9mIGVsdCA9PT0gJ2Jvb2xlYW4nKSB7IHJldHVybiAnJGJvb2xlYW4nICsgZWx0OyB9XG4gIGlmICh0eXBlb2YgZWx0ID09PSAnbnVtYmVyJykgeyByZXR1cm4gJyRudW1iZXInICsgZWx0OyB9XG4gIGlmICh1dGlsLmlzQXJyYXkoZWx0KSkgeyByZXR1cm4gJyRkYXRlJyArIGVsdC5nZXRUaW1lKCk7IH1cbiAgXG4gIHJldHVybiBlbHQ7ICAgLy8gQXJyYXlzIGFuZCBvYmplY3RzLCB3aWxsIGNoZWNrIGZvciBwb2ludGVyIGVxdWFsaXR5XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5kZXhcbiAqIEFsbCBtZXRob2RzIG9uIGFuIGluZGV4IGd1YXJhbnRlZSB0aGF0IGVpdGhlciB0aGUgd2hvbGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsIGFuZCB0aGUgaW5kZXggY2hhbmdlZFxuICogb3IgdGhlIG9wZXJhdGlvbiB3YXMgdW5zdWNjZXNzZnVsIGFuZCBhbiBlcnJvciBpcyB0aHJvd24gd2hpbGUgdGhlIGluZGV4IGlzIHVuY2hhbmdlZFxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZmllbGROYW1lIE9uIHdoaWNoIGZpZWxkIHNob3VsZCB0aGUgaW5kZXggYXBwbHkgKGNhbiB1c2UgZG90IG5vdGF0aW9uIHRvIGluZGV4IG9uIHN1YiBmaWVsZHMpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMudW5pcXVlIE9wdGlvbmFsLCBlbmZvcmNlIGEgdW5pcXVlIGNvbnN0cmFpbnQgKGRlZmF1bHQ6IGZhbHNlKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnNwYXJzZSBPcHRpb25hbCwgYWxsb3cgYSBzcGFyc2UgaW5kZXggKHdlIGNhbiBoYXZlIGRvY3VtZW50cyBmb3Igd2hpY2ggZmllbGROYW1lIGlzIHVuZGVmaW5lZCkgKGRlZmF1bHQ6IGZhbHNlKVxuICovXG5mdW5jdGlvbiBJbmRleCAob3B0aW9ucykge1xuICB0aGlzLmZpZWxkTmFtZSA9IG9wdGlvbnMuZmllbGROYW1lO1xuICB0aGlzLnVuaXF1ZSA9IG9wdGlvbnMudW5pcXVlIHx8IGZhbHNlO1xuICB0aGlzLnNwYXJzZSA9IG9wdGlvbnMuc3BhcnNlIHx8IGZhbHNlO1xuXG4gIHRoaXMudHJlZU9wdGlvbnMgPSB7IHVuaXF1ZTogdGhpcy51bmlxdWUsIGNvbXBhcmVLZXlzOiBtb2RlbC5jb21wYXJlVGhpbmdzLCBjaGVja1ZhbHVlRXF1YWxpdHk6IGNoZWNrVmFsdWVFcXVhbGl0eSB9O1xuXG4gIHRoaXMucmVzZXQoKTsgICAvLyBObyBkYXRhIGluIHRoZSBiZWdpbm5pbmdcbn1cblxuXG4vKipcbiAqIFJlc2V0IGFuIGluZGV4XG4gKiBAcGFyYW0ge0RvY3VtZW50IG9yIEFycmF5IG9mIGRvY3VtZW50c30gbmV3RGF0YSBPcHRpb25hbCwgZGF0YSB0byBpbml0aWFsaXplIHRoZSBpbmRleCB3aXRoXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBhbiBlcnJvciBpcyB0aHJvd24gZHVyaW5nIGluc2VydGlvbiwgdGhlIGluZGV4IGlzIG5vdCBtb2RpZmllZFxuICovXG5JbmRleC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAobmV3RGF0YSkge1xuICB0aGlzLnRyZWUgPSBuZXcgQmluYXJ5U2VhcmNoVHJlZSh0aGlzLnRyZWVPcHRpb25zKTtcblxuICBpZiAobmV3RGF0YSkgeyB0aGlzLmluc2VydChuZXdEYXRhKTsgfVxufTtcblxuXG4vKipcbiAqIEluc2VydCBhIG5ldyBkb2N1bWVudCBpbiB0aGUgaW5kZXhcbiAqIElmIGFuIGFycmF5IGlzIHBhc3NlZCwgd2UgaW5zZXJ0IGFsbCBpdHMgZWxlbWVudHMgKGlmIG9uZSBpbnNlcnRpb24gZmFpbHMgdGhlIGluZGV4IGlzIG5vdCBtb2RpZmllZClcbiAqIE8obG9nKG4pKVxuICovXG5JbmRleC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGRvYykge1xuICB2YXIga2V5LCBzZWxmID0gdGhpc1xuICAgICwga2V5cywgaSwgZmFpbGluZ0ksIGVycm9yXG4gICAgO1xuXG4gIGlmICh1dGlsLmlzQXJyYXkoZG9jKSkgeyB0aGlzLmluc2VydE11bHRpcGxlRG9jcyhkb2MpOyByZXR1cm47IH1cblxuICBrZXkgPSBtb2RlbC5nZXREb3RWYWx1ZShkb2MsIHRoaXMuZmllbGROYW1lKTtcblxuICAvLyBXZSBkb24ndCBpbmRleCBkb2N1bWVudHMgdGhhdCBkb24ndCBjb250YWluIHRoZSBmaWVsZCBpZiB0aGUgaW5kZXggaXMgc3BhcnNlXG4gIGlmIChrZXkgPT09IHVuZGVmaW5lZCAmJiB0aGlzLnNwYXJzZSkgeyByZXR1cm47IH1cblxuICBpZiAoIXV0aWwuaXNBcnJheShrZXkpKSB7XG4gICAgdGhpcy50cmVlLmluc2VydChrZXksIGRvYyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgYW4gaW5zZXJ0IGZhaWxzIGR1ZSB0byBhIHVuaXF1ZSBjb25zdHJhaW50LCByb2xsIGJhY2sgYWxsIGluc2VydHMgYmVmb3JlIGl0XG4gICAga2V5cyA9IF8udW5pcShrZXksIHByb2plY3RGb3JVbmlxdWUpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMudHJlZS5pbnNlcnQoa2V5c1tpXSwgZG9jKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICBmYWlsaW5nSSA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmYWlsaW5nSTsgaSArPSAxKSB7XG4gICAgICAgIHRoaXMudHJlZS5kZWxldGUoa2V5c1tpXSwgZG9jKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogSW5zZXJ0IGFuIGFycmF5IG9mIGRvY3VtZW50cyBpbiB0aGUgaW5kZXhcbiAqIElmIGEgY29uc3RyYWludCBpcyB2aW9sYXRlZCwgdGhlIGNoYW5nZXMgc2hvdWxkIGJlIHJvbGxlZCBiYWNrIGFuZCBhbiBlcnJvciB0aHJvd25cbiAqXG4gKiBAQVBJIHByaXZhdGVcbiAqL1xuSW5kZXgucHJvdG90eXBlLmluc2VydE11bHRpcGxlRG9jcyA9IGZ1bmN0aW9uIChkb2NzKSB7XG4gIHZhciBpLCBlcnJvciwgZmFpbGluZ0k7XG5cbiAgZm9yIChpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5pbnNlcnQoZG9jc1tpXSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3IgPSBlO1xuICAgICAgZmFpbGluZ0kgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGZhaWxpbmdJOyBpICs9IDEpIHtcbiAgICAgIHRoaXMucmVtb3ZlKGRvY3NbaV0pO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGEgZG9jdW1lbnQgZnJvbSB0aGUgaW5kZXhcbiAqIElmIGFuIGFycmF5IGlzIHBhc3NlZCwgd2UgcmVtb3ZlIGFsbCBpdHMgZWxlbWVudHNcbiAqIFRoZSByZW1vdmUgb3BlcmF0aW9uIGlzIHNhZmUgd2l0aCByZWdhcmRzIHRvIHRoZSAndW5pcXVlJyBjb25zdHJhaW50XG4gKiBPKGxvZyhuKSlcbiAqL1xuSW5kZXgucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgdmFyIGtleSwgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHV0aWwuaXNBcnJheShkb2MpKSB7IGRvYy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7IHNlbGYucmVtb3ZlKGQpOyB9KTsgcmV0dXJuOyB9XG5cbiAga2V5ID0gbW9kZWwuZ2V0RG90VmFsdWUoZG9jLCB0aGlzLmZpZWxkTmFtZSk7XG5cbiAgaWYgKGtleSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuc3BhcnNlKSB7IHJldHVybjsgfVxuXG4gIGlmICghdXRpbC5pc0FycmF5KGtleSkpIHtcbiAgICB0aGlzLnRyZWUuZGVsZXRlKGtleSwgZG9jKTtcbiAgfSBlbHNlIHtcbiAgICBfLnVuaXEoa2V5LCBwcm9qZWN0Rm9yVW5pcXVlKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG4gICAgICBzZWxmLnRyZWUuZGVsZXRlKF9rZXksIGRvYyk7XG4gICAgfSk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBVcGRhdGUgYSBkb2N1bWVudCBpbiB0aGUgaW5kZXhcbiAqIElmIGEgY29uc3RyYWludCBpcyB2aW9sYXRlZCwgY2hhbmdlcyBhcmUgcm9sbGVkIGJhY2sgYW5kIGFuIGVycm9yIHRocm93blxuICogTmFpdmUgaW1wbGVtZW50YXRpb24sIHN0aWxsIGluIE8obG9nKG4pKVxuICovXG5JbmRleC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKG9sZERvYywgbmV3RG9jKSB7XG4gIGlmICh1dGlsLmlzQXJyYXkob2xkRG9jKSkgeyB0aGlzLnVwZGF0ZU11bHRpcGxlRG9jcyhvbGREb2MpOyByZXR1cm47IH1cblxuICB0aGlzLnJlbW92ZShvbGREb2MpO1xuXG4gIHRyeSB7XG4gICAgdGhpcy5pbnNlcnQobmV3RG9jKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRoaXMuaW5zZXJ0KG9sZERvYyk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgaW4gdGhlIGluZGV4XG4gKiBJZiBhIGNvbnN0cmFpbnQgaXMgdmlvbGF0ZWQsIHRoZSBjaGFuZ2VzIG5lZWQgdG8gYmUgcm9sbGVkIGJhY2tcbiAqIGFuZCBhbiBlcnJvciB0aHJvd25cbiAqIEBwYXJhbSB7QXJyYXkgb2Ygb2xkRG9jLCBuZXdEb2MgcGFpcnN9IHBhaXJzXG4gKlxuICogQEFQSSBwcml2YXRlXG4gKi9cbkluZGV4LnByb3RvdHlwZS51cGRhdGVNdWx0aXBsZURvY3MgPSBmdW5jdGlvbiAocGFpcnMpIHtcbiAgdmFyIGksIGZhaWxpbmdJLCBlcnJvcjtcblxuICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzLnJlbW92ZShwYWlyc1tpXS5vbGREb2MpO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaW5zZXJ0KHBhaXJzW2ldLm5ld0RvYyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3IgPSBlO1xuICAgICAgZmFpbGluZ0kgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYW4gZXJyb3Igd2FzIHJhaXNlZCwgcm9sbCBiYWNrIGNoYW5nZXMgaW4gdGhlIGludmVyc2Ugb3JkZXJcbiAgaWYgKGVycm9yKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGZhaWxpbmdJOyBpICs9IDEpIHtcbiAgICAgIHRoaXMucmVtb3ZlKHBhaXJzW2ldLm5ld0RvYyk7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzLmluc2VydChwYWlyc1tpXS5vbGREb2MpO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmV2ZXJ0IGFuIHVwZGF0ZVxuICovXG5JbmRleC5wcm90b3R5cGUucmV2ZXJ0VXBkYXRlID0gZnVuY3Rpb24gKG9sZERvYywgbmV3RG9jKSB7XG4gIHZhciByZXZlcnQgPSBbXTtcblxuICBpZiAoIXV0aWwuaXNBcnJheShvbGREb2MpKSB7XG4gICAgdGhpcy51cGRhdGUobmV3RG9jLCBvbGREb2MpO1xuICB9IGVsc2Uge1xuICAgIG9sZERvYy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICByZXZlcnQucHVzaCh7IG9sZERvYzogcGFpci5uZXdEb2MsIG5ld0RvYzogcGFpci5vbGREb2MgfSk7XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGUocmV2ZXJ0KTtcbiAgfVxufTtcblxuXG4vLyBBcHBlbmQgYWxsIGVsZW1lbnRzIGluIHRvQXBwZW5kIHRvIGFycmF5XG5mdW5jdGlvbiBhcHBlbmQgKGFycmF5LCB0b0FwcGVuZCkge1xuICB2YXIgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgdG9BcHBlbmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBhcnJheS5wdXNoKHRvQXBwZW5kW2ldKTtcbiAgfVxufVxuXG5cbi8qKlxuICogR2V0IGFsbCBkb2N1bWVudHMgaW4gaW5kZXggd2hvc2Uga2V5IG1hdGNoIHZhbHVlIChpZiBpdCBpcyBhIFRoaW5nKSBvciBvbmUgb2YgdGhlIGVsZW1lbnRzIG9mIHZhbHVlIChpZiBpdCBpcyBhbiBhcnJheSBvZiBUaGluZ3MpXG4gKiBAcGFyYW0ge1RoaW5nfSB2YWx1ZSBWYWx1ZSB0byBtYXRjaCB0aGUga2V5IGFnYWluc3RcbiAqIEByZXR1cm4ge0FycmF5IG9mIGRvY3VtZW50c31cbiAqL1xuSW5kZXgucHJvdG90eXBlLmdldE1hdGNoaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoIXV0aWwuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdGhpcy50cmVlLnNlYXJjaCh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9yZXMgPSB7fSwgcmVzID0gW107XG5cbiAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICBzZWxmLmdldE1hdGNoaW5nKHYpLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBfcmVzW2RvYy5faWRdID0gZG9jO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBPYmplY3Qua2V5cyhfcmVzKS5mb3JFYWNoKGZ1bmN0aW9uIChfaWQpIHtcbiAgICAgIHJlcy5wdXNoKF9yZXNbX2lkXSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuXG5cbi8qKlxuICogR2V0IGFsbCBkb2N1bWVudHMgaW4gaW5kZXggd2hvc2Uga2V5IGlzIGJldHdlZW4gYm91bmRzIGFyZSB0aGV5IGFyZSBkZWZpbmVkIGJ5IHF1ZXJ5XG4gKiBEb2N1bWVudHMgYXJlIHNvcnRlZCBieSBrZXlcbiAqIEBwYXJhbSB7UXVlcnl9IHF1ZXJ5XG4gKiBAcmV0dXJuIHtBcnJheSBvZiBkb2N1bWVudHN9XG4gKi9cbkluZGV4LnByb3RvdHlwZS5nZXRCZXR3ZWVuQm91bmRzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIHJldHVybiB0aGlzLnRyZWUuYmV0d2VlbkJvdW5kcyhxdWVyeSk7XG59O1xuXG5cbi8qKlxuICogR2V0IGFsbCBlbGVtZW50cyBpbiB0aGUgaW5kZXhcbiAqIEByZXR1cm4ge0FycmF5IG9mIGRvY3VtZW50c31cbiAqL1xuSW5kZXgucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlcyA9IFtdO1xuXG4gIHRoaXMudHJlZS5leGVjdXRlT25FdmVyeU5vZGUoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLmRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHJlcy5wdXNoKG5vZGUuZGF0YVtpXSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzO1xufTtcblxuXG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cyA9IEluZGV4O1xuXG59LHtcIi4vbW9kZWxcIjoxNSxcImJpbmFyeS1zZWFyY2gtdHJlZVwiOjEsXCJ1bmRlcnNjb3JlXCI6MTgsXCJ1dGlsXCI6MjJ9XSwxNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIEhhbmRsZSBtb2RlbHMgKGkuZS4gZG9jcylcbiAqIFNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uXG4gKiBDb3B5aW5nXG4gKiBRdWVyeWluZywgdXBkYXRlXG4gKi9cblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpXG4gICwgbW9kaWZpZXJGdW5jdGlvbnMgPSB7fVxuICAsIGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMgPSB7fVxuICAsIGNvbXBhcmlzb25GdW5jdGlvbnMgPSB7fVxuICAsIGxvZ2ljYWxPcGVyYXRvcnMgPSB7fVxuICAsIGFycmF5Q29tcGFyaXNvbkZ1bmN0aW9ucyA9IHt9XG4gIDtcblxuXG4vKipcbiAqIENoZWNrIGEga2V5LCB0aHJvdyBhbiBlcnJvciBpZiB0aGUga2V5IGlzIG5vbiB2YWxpZFxuICogQHBhcmFtIHtTdHJpbmd9IGsga2V5XG4gKiBAcGFyYW0ge01vZGVsfSB2IHZhbHVlLCBuZWVkZWQgdG8gdHJlYXQgdGhlIERhdGUgZWRnZSBjYXNlXG4gKiBOb24tdHJlYXRhYmxlIGVkZ2UgY2FzZXMgaGVyZTogaWYgcGFydCBvZiB0aGUgb2JqZWN0IGlmIG9mIHRoZSBmb3JtIHsgJCRkYXRlOiBudW1iZXIgfSBvciB7ICQkZGVsZXRlZDogdHJ1ZSB9XG4gKiBJdHMgc2VyaWFsaXplZC10aGVuLWRlc2VyaWFsaXplZCB2ZXJzaW9uIGl0IHdpbGwgdHJhbnNmb3JtZWQgaW50byBhIERhdGUgb2JqZWN0XG4gKiBCdXQgeW91IHJlYWxseSBuZWVkIHRvIHdhbnQgaXQgdG8gdHJpZ2dlciBzdWNoIGJlaGF2aW91ciwgZXZlbiB3aGVuIHdhcm5lZCBub3QgdG8gdXNlICckJyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBmaWVsZCBuYW1lcy4uLlxuICovXG5mdW5jdGlvbiBjaGVja0tleSAoaywgdikge1xuICBpZiAodHlwZW9mIGsgPT09ICdudW1iZXInKSB7XG4gICAgayA9IGsudG9TdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChrWzBdID09PSAnJCcgJiYgIShrID09PSAnJCRkYXRlJyAmJiB0eXBlb2YgdiA9PT0gJ251bWJlcicpICYmICEoayA9PT0gJyQkZGVsZXRlZCcgJiYgdiA9PT0gdHJ1ZSkgJiYgIShrID09PSAnJCRpbmRleENyZWF0ZWQnKSAmJiAhKGsgPT09ICckJGluZGV4UmVtb3ZlZCcpKSB7XG4gICAgdGhyb3cgJ0ZpZWxkIG5hbWVzIGNhbm5vdCBiZWdpbiB3aXRoIHRoZSAkIGNoYXJhY3Rlcic7XG4gIH1cblxuICBpZiAoay5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgdGhyb3cgJ0ZpZWxkIG5hbWVzIGNhbm5vdCBjb250YWluIGEgLic7XG4gIH1cbn1cblxuXG4vKipcbiAqIENoZWNrIGEgREIgb2JqZWN0IGFuZCB0aHJvdyBhbiBlcnJvciBpZiBpdCdzIG5vdCB2YWxpZFxuICogV29ya3MgYnkgYXBwbHlpbmcgdGhlIGFib3ZlIGNoZWNrS2V5IGZ1bmN0aW9uIHRvIGFsbCBmaWVsZHMgcmVjdXJzaXZlbHlcbiAqL1xuZnVuY3Rpb24gY2hlY2tPYmplY3QgKG9iaikge1xuICBpZiAodXRpbC5pc0FycmF5KG9iaikpIHtcbiAgICBvYmouZm9yRWFjaChmdW5jdGlvbiAobykge1xuICAgICAgY2hlY2tPYmplY3Qobyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBjaGVja0tleShrLCBvYmpba10pO1xuICAgICAgY2hlY2tPYmplY3Qob2JqW2tdKTtcbiAgICB9KTtcbiAgfVxufVxuXG5cbi8qKlxuICogU2VyaWFsaXplIGFuIG9iamVjdCB0byBiZSBwZXJzaXN0ZWQgdG8gYSBvbmUtbGluZSBzdHJpbmdcbiAqIEZvciBzZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbiwgd2UgdXNlIHRoZSBuYXRpdmUgSlNPTiBwYXJzZXIgYW5kIG5vdCBldmFsIG9yIEZ1bmN0aW9uXG4gKiBUaGF0IGdpdmVzIHVzIGxlc3MgZnJlZWRvbSBidXQgZGF0YSBlbnRlcmVkIGluIHRoZSBkYXRhYmFzZSBtYXkgY29tZSBmcm9tIHVzZXJzXG4gKiBzbyBldmFsIGFuZCB0aGUgbGlrZSBhcmUgbm90IHNhZmVcbiAqIEFjY2VwdGVkIHByaW1pdGl2ZSB0eXBlczogTnVtYmVyLCBTdHJpbmcsIEJvb2xlYW4sIERhdGUsIG51bGxcbiAqIEFjY2VwdGVkIHNlY29uZGFyeSB0eXBlczogT2JqZWN0cywgQXJyYXlzXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZSAob2JqKSB7XG4gIHZhciByZXM7XG5cbiAgcmVzID0gSlNPTi5zdHJpbmdpZnkob2JqLCBmdW5jdGlvbiAoaywgdikge1xuICAgIGNoZWNrS2V5KGssIHYpO1xuXG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG4gICAgaWYgKHYgPT09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIC8vIEhhY2tpc2ggd2F5IG9mIGNoZWNraW5nIGlmIG9iamVjdCBpcyBEYXRlICh0aGlzIHdheSBpdCB3b3JrcyBiZXR3ZWVuIGV4ZWN1dGlvbiBjb250ZXh0cyBpbiBub2RlLXdlYmtpdCkuXG4gICAgLy8gV2UgY2FuJ3QgdXNlIHZhbHVlIGRpcmVjdGx5IGJlY2F1c2UgZm9yIGRhdGVzIGl0IGlzIGFscmVhZHkgc3RyaW5nIGluIHRoaXMgZnVuY3Rpb24gKGRhdGUudG9KU09OIHdhcyBhbHJlYWR5IGNhbGxlZCksIHNvIHdlIHVzZSB0aGlzXG4gICAgaWYgKHR5cGVvZiB0aGlzW2tdLmdldFRpbWUgPT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIHsgJCRkYXRlOiB0aGlzW2tdLmdldFRpbWUoKSB9OyB9XG5cbiAgICByZXR1cm4gdjtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG4vKipcbiAqIEZyb20gYSBvbmUtbGluZSByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QgZ2VuZXJhdGUgYnkgdGhlIHNlcmlhbGl6ZSBmdW5jdGlvblxuICogUmV0dXJuIHRoZSBvYmplY3QgaXRzZWxmXG4gKi9cbmZ1bmN0aW9uIGRlc2VyaWFsaXplIChyYXdEYXRhKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKHJhd0RhdGEsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgaWYgKGsgPT09ICckJGRhdGUnKSB7IHJldHVybiBuZXcgRGF0ZSh2KTsgfVxuICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHYgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHwgdiA9PT0gbnVsbCkgeyByZXR1cm4gdjsgfVxuICAgIGlmICh2ICYmIHYuJCRkYXRlKSB7IHJldHVybiB2LiQkZGF0ZTsgfVxuXG4gICAgcmV0dXJuIHY7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogRGVlcCBjb3B5IGEgREIgb2JqZWN0XG4gKiBUaGUgb3B0aW9uYWwgc3RyaWN0S2V5cyBmbGFnIChkZWZhdWx0aW5nIHRvIGZhbHNlKSBpbmRpY2F0ZXMgd2hldGhlciB0byBjb3B5IGV2ZXJ5dGhpbmcgb3Igb25seSBmaWVsZHNcbiAqIHdoZXJlIHRoZSBrZXlzIGFyZSB2YWxpZCwgaS5lLiBkb24ndCBiZWdpbiB3aXRoICQgYW5kIGRvbid0IGNvbnRhaW4gYSAuXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5IChvYmosIHN0cmljdEtleXMpIHtcbiAgdmFyIHJlcztcblxuICBpZiAoIHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fFxuICAgICAgIHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8XG4gICAgICAgdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICBvYmogPT09IG51bGwgfHxcbiAgICAgICAodXRpbC5pc0RhdGUob2JqKSkgKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmICh1dGlsLmlzQXJyYXkob2JqKSkge1xuICAgIHJlcyA9IFtdO1xuICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7IHJlcy5wdXNoKGRlZXBDb3B5KG8sIHN0cmljdEtleXMpKTsgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJlcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKCFzdHJpY3RLZXlzIHx8IChrWzBdICE9PSAnJCcgJiYgay5pbmRleE9mKCcuJykgPT09IC0xKSkge1xuICAgICAgICByZXNba10gPSBkZWVwQ29weShvYmpba10sIHN0cmljdEtleXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkOyAgIC8vIEZvciBub3cgZXZlcnl0aGluZyBlbHNlIGlzIHVuZGVmaW5lZC4gV2Ugc2hvdWxkIHByb2JhYmx5IHRocm93IGFuIGVycm9yIGluc3RlYWRcbn1cblxuXG4vKipcbiAqIFRlbGxzIGlmIGFuIG9iamVjdCBpcyBhIHByaW1pdGl2ZSB0eXBlIG9yIGEgXCJyZWFsXCIgb2JqZWN0XG4gKiBBcnJheXMgYXJlIGNvbnNpZGVyZWQgcHJpbWl0aXZlXG4gKi9cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlVHlwZSAob2JqKSB7XG4gIHJldHVybiAoIHR5cGVvZiBvYmogPT09ICdib29sZWFuJyB8fFxuICAgICAgIHR5cGVvZiBvYmogPT09ICdudW1iZXInIHx8XG4gICAgICAgdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICBvYmogPT09IG51bGwgfHxcbiAgICAgICB1dGlsLmlzRGF0ZShvYmopIHx8XG4gICAgICAgdXRpbC5pc0FycmF5KG9iaikpO1xufVxuXG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNvbXBhcmluZyB0aGluZ3NcbiAqIEFzc3VtZXMgdHlwZSBjaGVja2luZyB3YXMgYWxyZWFkeSBkb25lIChhIGFuZCBiIGFscmVhZHkgaGF2ZSB0aGUgc2FtZSB0eXBlKVxuICogY29tcGFyZU5TQiB3b3JrcyBmb3IgbnVtYmVycywgc3RyaW5ncyBhbmQgYm9vbGVhbnNcbiAqL1xuZnVuY3Rpb24gY29tcGFyZU5TQiAoYSwgYikge1xuICBpZiAoYSA8IGIpIHsgcmV0dXJuIC0xOyB9XG4gIGlmIChhID4gYikgeyByZXR1cm4gMTsgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUFycmF5cyAoYSwgYikge1xuICB2YXIgaSwgY29tcDtcblxuICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTsgaSArPSAxKSB7XG4gICAgY29tcCA9IGNvbXBhcmVUaGluZ3MoYVtpXSwgYltpXSk7XG5cbiAgICBpZiAoY29tcCAhPT0gMCkgeyByZXR1cm4gY29tcDsgfVxuICB9XG5cbiAgLy8gQ29tbW9uIHNlY3Rpb24gd2FzIGlkZW50aWNhbCwgbG9uZ2VzdCBvbmUgd2luc1xuICByZXR1cm4gY29tcGFyZU5TQihhLmxlbmd0aCwgYi5sZW5ndGgpO1xufVxuXG5cbi8qKlxuICogQ29tcGFyZSB7IHRoaW5ncyBVIHVuZGVmaW5lZCB9XG4gKiBUaGluZ3MgYXJlIGRlZmluZWQgYXMgYW55IG5hdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG51bGwsIGRhdGUpIGFuZCBvYmplY3RzXG4gKiBXZSBuZWVkIHRvIGNvbXBhcmUgd2l0aCB1bmRlZmluZWQgYXMgaXQgd2lsbCBiZSB1c2VkIGluIGluZGV4ZXNcbiAqIEluIHRoZSBjYXNlIG9mIG9iamVjdHMgYW5kIGFycmF5cywgd2UgZGVlcC1jb21wYXJlXG4gKiBJZiB0d28gb2JqZWN0cyBkb250IGhhdmUgdGhlIHNhbWUgdHlwZSwgdGhlIChhcmJpdHJhcnkpIHR5cGUgaGllcmFyY2h5IGlzOiB1bmRlZmluZWQsIG51bGwsIG51bWJlciwgc3RyaW5ncywgYm9vbGVhbiwgZGF0ZXMsIGFycmF5cywgb2JqZWN0c1xuICogUmV0dXJuIC0xIGlmIGEgPCBiLCAxIGlmIGEgPiBiIGFuZCAwIGlmIGEgPSBiIChub3RlIHRoYXQgZXF1YWxpdHkgaGVyZSBpcyBOT1QgdGhlIHNhbWUgYXMgZGVmaW5lZCBpbiBhcmVUaGluZ3NFcXVhbCEpXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVUaGluZ3MgKGEsIGIpIHtcbiAgdmFyIGFLZXlzLCBiS2V5cywgY29tcCwgaTtcblxuICAvLyB1bmRlZmluZWRcbiAgaWYgKGEgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gYiA9PT0gdW5kZWZpbmVkID8gMCA6IC0xOyB9XG4gIGlmIChiID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIGEgPT09IHVuZGVmaW5lZCA/IDAgOiAxOyB9XG5cbiAgLy8gbnVsbFxuICBpZiAoYSA9PT0gbnVsbCkgeyByZXR1cm4gYiA9PT0gbnVsbCA/IDAgOiAtMTsgfVxuICBpZiAoYiA9PT0gbnVsbCkgeyByZXR1cm4gYSA9PT0gbnVsbCA/IDAgOiAxOyB9XG5cbiAgLy8gTnVtYmVyc1xuICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInKSB7IHJldHVybiB0eXBlb2YgYiA9PT0gJ251bWJlcicgPyBjb21wYXJlTlNCKGEsIGIpIDogLTE7IH1cbiAgaWYgKHR5cGVvZiBiID09PSAnbnVtYmVyJykgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdudW1iZXInID8gY29tcGFyZU5TQihhLCBiKSA6IDE7IH1cblxuICAvLyBTdHJpbmdzXG4gIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHsgcmV0dXJuIHR5cGVvZiBiID09PSAnc3RyaW5nJyA/IGNvbXBhcmVOU0IoYSwgYikgOiAtMTsgfVxuICBpZiAodHlwZW9mIGIgPT09ICdzdHJpbmcnKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZycgPyBjb21wYXJlTlNCKGEsIGIpIDogMTsgfVxuXG4gIC8vIEJvb2xlYW5zXG4gIGlmICh0eXBlb2YgYSA9PT0gJ2Jvb2xlYW4nKSB7IHJldHVybiB0eXBlb2YgYiA9PT0gJ2Jvb2xlYW4nID8gY29tcGFyZU5TQihhLCBiKSA6IC0xOyB9XG4gIGlmICh0eXBlb2YgYiA9PT0gJ2Jvb2xlYW4nKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Jvb2xlYW4nID8gY29tcGFyZU5TQihhLCBiKSA6IDE7IH1cblxuICAvLyBEYXRlc1xuICBpZiAodXRpbC5pc0RhdGUoYSkpIHsgcmV0dXJuIHV0aWwuaXNEYXRlKGIpID8gY29tcGFyZU5TQihhLmdldFRpbWUoKSwgYi5nZXRUaW1lKCkpIDogLTE7IH1cbiAgaWYgKHV0aWwuaXNEYXRlKGIpKSB7IHJldHVybiB1dGlsLmlzRGF0ZShhKSA/IGNvbXBhcmVOU0IoYS5nZXRUaW1lKCksIGIuZ2V0VGltZSgpKSA6IDE7IH1cblxuICAvLyBBcnJheXMgKGZpcnN0IGVsZW1lbnQgaXMgbW9zdCBzaWduaWZpY2FudCBhbmQgc28gb24pXG4gIGlmICh1dGlsLmlzQXJyYXkoYSkpIHsgcmV0dXJuIHV0aWwuaXNBcnJheShiKSA/IGNvbXBhcmVBcnJheXMoYSwgYikgOiAtMTsgfVxuICBpZiAodXRpbC5pc0FycmF5KGIpKSB7IHJldHVybiB1dGlsLmlzQXJyYXkoYSkgPyBjb21wYXJlQXJyYXlzKGEsIGIpIDogMTsgfVxuXG4gIC8vIE9iamVjdHNcbiAgYUtleXMgPSBPYmplY3Qua2V5cyhhKS5zb3J0KCk7XG4gIGJLZXlzID0gT2JqZWN0LmtleXMoYikuc29ydCgpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBNYXRoLm1pbihhS2V5cy5sZW5ndGgsIGJLZXlzLmxlbmd0aCk7IGkgKz0gMSkge1xuICAgIGNvbXAgPSBjb21wYXJlVGhpbmdzKGFbYUtleXNbaV1dLCBiW2JLZXlzW2ldXSk7XG5cbiAgICBpZiAoY29tcCAhPT0gMCkgeyByZXR1cm4gY29tcDsgfVxuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVOU0IoYUtleXMubGVuZ3RoLCBiS2V5cy5sZW5ndGgpO1xufVxuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFVwZGF0aW5nIGRvY3VtZW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBUaGUgc2lnbmF0dXJlIG9mIG1vZGlmaWVyIGZ1bmN0aW9ucyBpcyBhcyBmb2xsb3dzXG4gKiBUaGVpciBzdHJ1Y3R1cmUgaXMgYWx3YXlzIHRoZSBzYW1lOiByZWN1cnNpdmVseSBmb2xsb3cgdGhlIGRvdCBub3RhdGlvbiB3aGlsZSBjcmVhdGluZ1xuICogdGhlIG5lc3RlZCBkb2N1bWVudHMgaWYgbmVlZGVkLCB0aGVuIGFwcGx5IHRoZSBcImxhc3Qgc3RlcCBtb2RpZmllclwiXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBtb2RlbCB0byBtb2RpZnlcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZCBDYW4gY29udGFpbiBkb3RzLCBpbiB0aGF0IGNhc2UgdGhhdCBtZWFucyB3ZSB3aWxsIHNldCBhIHN1YmZpZWxkIHJlY3Vyc2l2ZWx5XG4gKiBAcGFyYW0ge01vZGVsfSB2YWx1ZVxuICovXG5cbi8qKlxuICogU2V0IGEgZmllbGQgdG8gYSBuZXcgdmFsdWVcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kc2V0ID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIG9ialtmaWVsZF0gPSB2YWx1ZTtcbn07XG5cblxuLyoqXG4gKiBVbnNldCBhIGZpZWxkXG4gKi9cbmxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMuJHVuc2V0ID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIGRlbGV0ZSBvYmpbZmllbGRdO1xufTtcblxuXG4vKipcbiAqIFB1c2ggYW4gZWxlbWVudCB0byB0aGUgZW5kIG9mIGFuIGFycmF5IGZpZWxkXG4gKi9cbmxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMuJHB1c2ggPSBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgLy8gQ3JlYXRlIHRoZSBhcnJheSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gIGlmICghb2JqLmhhc093blByb3BlcnR5KGZpZWxkKSkgeyBvYmpbZmllbGRdID0gW107IH1cblxuICBpZiAoIXV0aWwuaXNBcnJheShvYmpbZmllbGRdKSkgeyB0aHJvdyBcIkNhbid0ICRwdXNoIGFuIGVsZW1lbnQgb24gbm9uLWFycmF5IHZhbHVlc1wiOyB9XG5cbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuJGVhY2gpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDEpIHsgdGhyb3cgXCJDYW4ndCB1c2UgYW5vdGhlciBmaWVsZCBpbiBjb25qdW5jdGlvbiB3aXRoICRlYWNoXCI7IH1cbiAgICBpZiAoIXV0aWwuaXNBcnJheSh2YWx1ZS4kZWFjaCkpIHsgdGhyb3cgXCIkZWFjaCByZXF1aXJlcyBhbiBhcnJheSB2YWx1ZVwiOyB9XG5cbiAgICB2YWx1ZS4kZWFjaC5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICBvYmpbZmllbGRdLnB1c2godik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2ZpZWxkXS5wdXNoKHZhbHVlKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEFkZCBhbiBlbGVtZW50IHRvIGFuIGFycmF5IGZpZWxkIG9ubHkgaWYgaXQgaXMgbm90IGFscmVhZHkgaW4gaXRcbiAqIE5vIG1vZGlmaWNhdGlvbiBpZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IGluIHRoZSBhcnJheVxuICogTm90ZSB0aGF0IGl0IGRvZXNuJ3QgY2hlY2sgd2hldGhlciB0aGUgb3JpZ2luYWwgYXJyYXkgY29udGFpbnMgZHVwbGljYXRlc1xuICovXG5sYXN0U3RlcE1vZGlmaWVyRnVuY3Rpb25zLiRhZGRUb1NldCA9IGZ1bmN0aW9uIChvYmosIGZpZWxkLCB2YWx1ZSkge1xuICB2YXIgYWRkVG9TZXQgPSB0cnVlO1xuXG4gIC8vIENyZWF0ZSB0aGUgYXJyYXkgaWYgaXQgZG9lc24ndCBleGlzdFxuICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHsgb2JqW2ZpZWxkXSA9IFtdOyB9XG5cbiAgaWYgKCF1dGlsLmlzQXJyYXkob2JqW2ZpZWxkXSkpIHsgdGhyb3cgXCJDYW4ndCAkYWRkVG9TZXQgYW4gZWxlbWVudCBvbiBub24tYXJyYXkgdmFsdWVzXCI7IH1cblxuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS4kZWFjaCkge1xuICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMSkgeyB0aHJvdyBcIkNhbid0IHVzZSBhbm90aGVyIGZpZWxkIGluIGNvbmp1bmN0aW9uIHdpdGggJGVhY2hcIjsgfVxuICAgIGlmICghdXRpbC5pc0FycmF5KHZhbHVlLiRlYWNoKSkgeyB0aHJvdyBcIiRlYWNoIHJlcXVpcmVzIGFuIGFycmF5IHZhbHVlXCI7IH1cblxuICAgIHZhbHVlLiRlYWNoLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMuJGFkZFRvU2V0KG9iaiwgZmllbGQsIHYpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtmaWVsZF0uZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgaWYgKGNvbXBhcmVUaGluZ3ModiwgdmFsdWUpID09PSAwKSB7IGFkZFRvU2V0ID0gZmFsc2U7IH1cbiAgICB9KTtcbiAgICBpZiAoYWRkVG9TZXQpIHsgb2JqW2ZpZWxkXS5wdXNoKHZhbHVlKTsgfVxuICB9XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXlcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kcG9wID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIGlmICghdXRpbC5pc0FycmF5KG9ialtmaWVsZF0pKSB7IHRocm93IFwiQ2FuJ3QgJHBvcCBhbiBlbGVtZW50IGZyb20gbm9uLWFycmF5IHZhbHVlc1wiOyB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7IHRocm93IHZhbHVlICsgXCIgaXNuJ3QgYW4gaW50ZWdlciwgY2FuJ3QgdXNlIGl0IHdpdGggJHBvcFwiOyB9XG4gIGlmICh2YWx1ZSA9PT0gMCkgeyByZXR1cm47IH1cblxuICBpZiAodmFsdWUgPiAwKSB7XG4gICAgb2JqW2ZpZWxkXSA9IG9ialtmaWVsZF0uc2xpY2UoMCwgb2JqW2ZpZWxkXS5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIHtcbiAgICBvYmpbZmllbGRdID0gb2JqW2ZpZWxkXS5zbGljZSgxKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGluc3RhbmNlcyBvZiBhIHZhbHVlIGZyb20gYW4gZXhpc3RpbmcgYXJyYXlcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kcHVsbCA9IGZ1bmN0aW9uIChvYmosIGZpZWxkLCB2YWx1ZSkge1xuICB2YXIgYXJyLCBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KG9ialtmaWVsZF0pKSB7IHRocm93IFwiQ2FuJ3QgJHB1bGwgYW4gZWxlbWVudCBmcm9tIG5vbi1hcnJheSB2YWx1ZXNcIjsgfVxuXG4gIGFyciA9IG9ialtmaWVsZF07XG4gIGZvciAoaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgIGlmIChtYXRjaChhcnJbaV0sIHZhbHVlKSkge1xuICAgICAgYXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBJbmNyZW1lbnQgYSBudW1lcmljIGZpZWxkJ3MgdmFsdWVcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kaW5jID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7IHRocm93IHZhbHVlICsgXCIgbXVzdCBiZSBhIG51bWJlclwiOyB9XG5cbiAgaWYgKHR5cGVvZiBvYmpbZmllbGRdICE9PSAnbnVtYmVyJykge1xuICAgIGlmICghXy5oYXMob2JqLCBmaWVsZCkpIHtcbiAgICAgIG9ialtmaWVsZF0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJEb24ndCB1c2UgdGhlICRpbmMgbW9kaWZpZXIgb24gbm9uLW51bWJlciBmaWVsZHNcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb2JqW2ZpZWxkXSArPSB2YWx1ZTtcbiAgfVxufTtcblxuLy8gR2l2ZW4gaXRzIG5hbWUsIGNyZWF0ZSB0aGUgY29tcGxldGUgbW9kaWZpZXIgZnVuY3Rpb25cbmZ1bmN0aW9uIGNyZWF0ZU1vZGlmaWVyRnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgICB2YXIgZmllbGRQYXJ0cyA9IHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycgPyBmaWVsZC5zcGxpdCgnLicpIDogZmllbGQ7XG5cbiAgICBpZiAoZmllbGRQYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnNbbW9kaWZpZXJdKG9iaiwgZmllbGQsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2ZpZWxkUGFydHNbMF1dID0gb2JqW2ZpZWxkUGFydHNbMF1dIHx8IHt9O1xuICAgICAgbW9kaWZpZXJGdW5jdGlvbnNbbW9kaWZpZXJdKG9ialtmaWVsZFBhcnRzWzBdXSwgZmllbGRQYXJ0cy5zbGljZSgxKSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gQWN0dWFsbHkgY3JlYXRlIGFsbCBtb2RpZmllciBmdW5jdGlvbnNcbk9iamVjdC5rZXlzKGxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gIG1vZGlmaWVyRnVuY3Rpb25zW21vZGlmaWVyXSA9IGNyZWF0ZU1vZGlmaWVyRnVuY3Rpb24obW9kaWZpZXIpO1xufSk7XG5cblxuLyoqXG4gKiBNb2RpZnkgYSBEQiBvYmplY3QgYWNjb3JkaW5nIHRvIGFuIHVwZGF0ZSBxdWVyeVxuICovXG5mdW5jdGlvbiBtb2RpZnkgKG9iaiwgdXBkYXRlUXVlcnkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVRdWVyeSlcbiAgICAsIGZpcnN0Q2hhcnMgPSBfLm1hcChrZXlzLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbVswXTsgfSlcbiAgICAsIGRvbGxhckZpcnN0Q2hhcnMgPSBfLmZpbHRlcihmaXJzdENoYXJzLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYyA9PT0gJyQnOyB9KVxuICAgICwgbmV3RG9jLCBtb2RpZmllcnNcbiAgICA7XG5cbiAgaWYgKGtleXMuaW5kZXhPZignX2lkJykgIT09IC0xICYmIHVwZGF0ZVF1ZXJ5Ll9pZCAhPT0gb2JqLl9pZCkgeyB0aHJvdyBcIllvdSBjYW5ub3QgY2hhbmdlIGEgZG9jdW1lbnQncyBfaWRcIjsgfVxuXG4gIGlmIChkb2xsYXJGaXJzdENoYXJzLmxlbmd0aCAhPT0gMCAmJiBkb2xsYXJGaXJzdENoYXJzLmxlbmd0aCAhPT0gZmlyc3RDaGFycy5sZW5ndGgpIHtcbiAgICB0aHJvdyBcIllvdSBjYW5ub3QgbWl4IG1vZGlmaWVycyBhbmQgbm9ybWFsIGZpZWxkc1wiO1xuICB9XG5cbiAgaWYgKGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gU2ltcGx5IHJlcGxhY2UgdGhlIG9iamVjdCB3aXRoIHRoZSB1cGRhdGUgcXVlcnkgY29udGVudHNcbiAgICBuZXdEb2MgPSBkZWVwQ29weSh1cGRhdGVRdWVyeSk7XG4gICAgbmV3RG9jLl9pZCA9IG9iai5faWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gQXBwbHkgbW9kaWZpZXJzXG4gICAgbW9kaWZpZXJzID0gXy51bmlxKGtleXMpO1xuICAgIG5ld0RvYyA9IGRlZXBDb3B5KG9iaik7XG4gICAgbW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgIHZhciBrZXlzO1xuXG4gICAgICBpZiAoIW1vZGlmaWVyRnVuY3Rpb25zW21dKSB7IHRocm93IFwiVW5rbm93biBtb2RpZmllciBcIiArIG07IH1cblxuICAgICAgLy8gQ2FuJ3QgcmVseSBvbiBPYmplY3Qua2V5cyB0aHJvd2luZyBvbiBub24gb2JqZWN0cyBzaW5jZSBFUzZ7XG4gICAgICAvLyBOb3QgMTAwJSBzYXRpc2Z5aW5nIGFzIG5vbiBvYmplY3RzIGNhbiBiZSBpbnRlcnByZXRlZCBhcyBvYmplY3RzIGJ1dCBubyBmYWxzZSBuZWdhdGl2ZXMgc28gd2UgY2FuIGxpdmUgd2l0aCBpdFxuICAgICAgaWYgKHR5cGVvZiB1cGRhdGVRdWVyeVttXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgXCJNb2RpZmllciBcIiArIG0gKyBcIidzIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0XCI7XG4gICAgICB9XG5cbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVRdWVyeVttXSk7XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgbW9kaWZpZXJGdW5jdGlvbnNbbV0obmV3RG9jLCBrLCB1cGRhdGVRdWVyeVttXVtrXSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENoZWNrIHJlc3VsdCBpcyB2YWxpZCBhbmQgcmV0dXJuIGl0XG4gIGNoZWNrT2JqZWN0KG5ld0RvYyk7XG5cbiAgaWYgKG9iai5faWQgIT09IG5ld0RvYy5faWQpIHsgdGhyb3cgXCJZb3UgY2FuJ3QgY2hhbmdlIGEgZG9jdW1lbnQncyBfaWRcIjsgfVxuICByZXR1cm4gbmV3RG9jO1xufTtcblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRmluZGluZyBkb2N1bWVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IGEgdmFsdWUgZnJvbSBvYmplY3Qgd2l0aCBkb3Qgbm90YXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICovXG5mdW5jdGlvbiBnZXREb3RWYWx1ZSAob2JqLCBmaWVsZCkge1xuICB2YXIgZmllbGRQYXJ0cyA9IHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycgPyBmaWVsZC5zcGxpdCgnLicpIDogZmllbGRcbiAgICAsIGksIG9ianM7XG5cbiAgaWYgKCFvYmopIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSAgIC8vIGZpZWxkIGNhbm5vdCBiZSBlbXB0eSBzbyB0aGF0IG1lYW5zIHdlIHNob3VsZCByZXR1cm4gdW5kZWZpbmVkIHNvIHRoYXQgbm90aGluZyBjYW4gbWF0Y2hcblxuICBpZiAoZmllbGRQYXJ0cy5sZW5ndGggPT09IDApIHsgcmV0dXJuIG9iajsgfVxuXG4gIGlmIChmaWVsZFBhcnRzLmxlbmd0aCA9PT0gMSkgeyByZXR1cm4gb2JqW2ZpZWxkUGFydHNbMF1dOyB9XG5cbiAgaWYgKHV0aWwuaXNBcnJheShvYmpbZmllbGRQYXJ0c1swXV0pKSB7XG4gICAgLy8gSWYgdGhlIG5leHQgZmllbGQgaXMgYW4gaW50ZWdlciwgcmV0dXJuIG9ubHkgdGhpcyBpdGVtIG9mIHRoZSBhcnJheVxuICAgIGkgPSBwYXJzZUludChmaWVsZFBhcnRzWzFdLCAxMCk7XG4gICAgaWYgKHR5cGVvZiBpID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oaSkpIHtcbiAgICAgIHJldHVybiBnZXREb3RWYWx1ZShvYmpbZmllbGRQYXJ0c1swXV1baV0sIGZpZWxkUGFydHMuc2xpY2UoMikpXG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSBhcnJheSBvZiB2YWx1ZXNcbiAgICBvYmpzID0gbmV3IEFycmF5KCk7XG4gICAgZm9yIChpID0gMDsgaSA8IG9ialtmaWVsZFBhcnRzWzBdXS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgIG9ianMucHVzaChnZXREb3RWYWx1ZShvYmpbZmllbGRQYXJ0c1swXV1baV0sIGZpZWxkUGFydHMuc2xpY2UoMSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9ianM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldERvdFZhbHVlKG9ialtmaWVsZFBhcnRzWzBdXSwgZmllbGRQYXJ0cy5zbGljZSgxKSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgJ3RoaW5ncycgYXJlIGVxdWFsXG4gKiBUaGluZ3MgYXJlIGRlZmluZWQgYXMgYW55IG5hdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG51bGwsIGRhdGUpIGFuZCBvYmplY3RzXG4gKiBJbiB0aGUgY2FzZSBvZiBvYmplY3QsIHdlIGNoZWNrIGRlZXAgZXF1YWxpdHlcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGV5IGFyZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIGFyZVRoaW5nc0VxdWFsIChhLCBiKSB7XG4gIHZhciBhS2V5cyAsIGJLZXlzICwgaTtcblxuICAvLyBTdHJpbmdzLCBib29sZWFucywgbnVtYmVycywgbnVsbFxuICBpZiAoYSA9PT0gbnVsbCB8fCB0eXBlb2YgYSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGEgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgYSA9PT0gJ251bWJlcicgfHxcbiAgICAgIGIgPT09IG51bGwgfHwgdHlwZW9mIGIgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBiID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGIgPT09ICdudW1iZXInKSB7IHJldHVybiBhID09PSBiOyB9XG5cbiAgLy8gRGF0ZXNcbiAgaWYgKHV0aWwuaXNEYXRlKGEpIHx8IHV0aWwuaXNEYXRlKGIpKSB7IHJldHVybiB1dGlsLmlzRGF0ZShhKSAmJiB1dGlsLmlzRGF0ZShiKSAmJiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCk7IH1cblxuICAvLyBBcnJheXMgKG5vIG1hdGNoIHNpbmNlIGFycmF5cyBhcmUgdXNlZCBhcyBhICRpbilcbiAgLy8gdW5kZWZpbmVkIChubyBtYXRjaCBzaW5jZSB0aGV5IG1lYW4gZmllbGQgZG9lc24ndCBleGlzdCBhbmQgY2FuJ3QgYmUgc2VyaWFsaXplZClcbiAgaWYgKHV0aWwuaXNBcnJheShhKSB8fCB1dGlsLmlzQXJyYXkoYikgfHwgYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAvLyBHZW5lcmFsIG9iamVjdHMgKGNoZWNrIGZvciBkZWVwIGVxdWFsaXR5KVxuICAvLyBhIGFuZCBiIHNob3VsZCBiZSBvYmplY3RzIGF0IHRoaXMgcG9pbnRcbiAgdHJ5IHtcbiAgICBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGZvciAoaSA9IDA7IGkgPCBhS2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChiS2V5cy5pbmRleE9mKGFLZXlzW2ldKSA9PT0gLTEpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKCFhcmVUaGluZ3NFcXVhbChhW2FLZXlzW2ldXSwgYlthS2V5c1tpXV0pKSB7IHJldHVybiBmYWxzZTsgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogQ2hlY2sgdGhhdCB0d28gdmFsdWVzIGFyZSBjb21wYXJhYmxlXG4gKi9cbmZ1bmN0aW9uIGFyZUNvbXBhcmFibGUgKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgYSAhPT0gJ251bWJlcicgJiYgIXV0aWwuaXNEYXRlKGEpICYmXG4gICAgICB0eXBlb2YgYiAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIGIgIT09ICdudW1iZXInICYmICF1dGlsLmlzRGF0ZShiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBBcml0aG1ldGljIGFuZCBjb21wYXJpc29uIG9wZXJhdG9yc1xuICogQHBhcmFtIHtOYXRpdmUgdmFsdWV9IGEgVmFsdWUgaW4gdGhlIG9iamVjdFxuICogQHBhcmFtIHtOYXRpdmUgdmFsdWV9IGIgVmFsdWUgaW4gdGhlIHF1ZXJ5XG4gKi9cbmNvbXBhcmlzb25GdW5jdGlvbnMuJGx0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGFyZUNvbXBhcmFibGUoYSwgYikgJiYgYSA8IGI7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRsdGUgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYXJlQ29tcGFyYWJsZShhLCBiKSAmJiBhIDw9IGI7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRndCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhcmVDb21wYXJhYmxlKGEsIGIpICYmIGEgPiBiO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kZ3RlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGFyZUNvbXBhcmFibGUoYSwgYikgJiYgYSA+PSBiO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kbmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB0cnVlOyB9XG4gIHJldHVybiAhYXJlVGhpbmdzRXF1YWwoYSwgYik7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRpbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHZhciBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KGIpKSB7IHRocm93IFwiJGluIG9wZXJhdG9yIGNhbGxlZCB3aXRoIGEgbm9uLWFycmF5XCI7IH1cblxuICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChhcmVUaGluZ3NFcXVhbChhLCBiW2ldKSkgeyByZXR1cm4gdHJ1ZTsgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kbmluID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgaWYgKCF1dGlsLmlzQXJyYXkoYikpIHsgdGhyb3cgXCIkbmluIG9wZXJhdG9yIGNhbGxlZCB3aXRoIGEgbm9uLWFycmF5XCI7IH1cblxuICByZXR1cm4gIWNvbXBhcmlzb25GdW5jdGlvbnMuJGluKGEsIGIpO1xufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kcmVnZXggPSBmdW5jdGlvbiAoYSwgYikge1xuICBpZiAoIXV0aWwuaXNSZWdFeHAoYikpIHsgdGhyb3cgXCIkcmVnZXggb3BlcmF0b3IgY2FsbGVkIHdpdGggbm9uIHJlZ3VsYXIgZXhwcmVzc2lvblwiOyB9XG5cbiAgaWYgKHR5cGVvZiBhICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiLnRlc3QoYSk7XG4gIH1cbn07XG5cbmNvbXBhcmlzb25GdW5jdGlvbnMuJGV4aXN0cyA9IGZ1bmN0aW9uICh2YWx1ZSwgZXhpc3RzKSB7XG4gIGlmIChleGlzdHMgfHwgZXhpc3RzID09PSAnJykgeyAgIC8vIFRoaXMgd2lsbCBiZSB0cnVlIGZvciBhbGwgdmFsdWVzIG9mIGV4aXN0cyBleGNlcHQgZmFsc2UsIG51bGwsIHVuZGVmaW5lZCBhbmQgMFxuICAgIGV4aXN0cyA9IHRydWU7ICAgICAgICAgICAgICAgICAvLyBUaGF0J3Mgc3RyYW5nZSBiZWhhdmlvdXIgKHdlIHNob3VsZCBvbmx5IHVzZSB0cnVlL2ZhbHNlKSBidXQgdGhhdCdzIHRoZSB3YXkgTW9uZ28gZG9lcyBpdC4uLlxuICB9IGVsc2Uge1xuICAgIGV4aXN0cyA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gIWV4aXN0c1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBleGlzdHM7XG4gIH1cbn07XG5cbi8vIFNwZWNpZmljIHRvIGFycmF5c1xuY29tcGFyaXNvbkZ1bmN0aW9ucy4kc2l6ZSA9IGZ1bmN0aW9uIChvYmosIHZhbHVlKSB7XG4gICAgaWYgKCF1dGlsLmlzQXJyYXkob2JqKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAodmFsdWUgJSAxICE9PSAwKSB7IHRocm93IFwiJHNpemUgb3BlcmF0b3IgY2FsbGVkIHdpdGhvdXQgYW4gaW50ZWdlclwiOyB9XG5cbiAgICByZXR1cm4gKG9iai5sZW5ndGggPT0gdmFsdWUpO1xufTtcbmFycmF5Q29tcGFyaXNvbkZ1bmN0aW9ucy4kc2l6ZSA9IHRydWU7XG5cblxuLyoqXG4gKiBNYXRjaCBhbnkgb2YgdGhlIHN1YnF1ZXJpZXNcbiAqIEBwYXJhbSB7TW9kZWx9IG9ialxuICogQHBhcmFtIHtBcnJheSBvZiBRdWVyaWVzfSBxdWVyeVxuICovXG5sb2dpY2FsT3BlcmF0b3JzLiRvciA9IGZ1bmN0aW9uIChvYmosIHF1ZXJ5KSB7XG4gIHZhciBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KHF1ZXJ5KSkgeyB0aHJvdyBcIiRvciBvcGVyYXRvciB1c2VkIHdpdGhvdXQgYW4gYXJyYXlcIjsgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBxdWVyeS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChtYXRjaChvYmosIHF1ZXJ5W2ldKSkgeyByZXR1cm4gdHJ1ZTsgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuXG4vKipcbiAqIE1hdGNoIGFsbCBvZiB0aGUgc3VicXVlcmllc1xuICogQHBhcmFtIHtNb2RlbH0gb2JqXG4gKiBAcGFyYW0ge0FycmF5IG9mIFF1ZXJpZXN9IHF1ZXJ5XG4gKi9cbmxvZ2ljYWxPcGVyYXRvcnMuJGFuZCA9IGZ1bmN0aW9uIChvYmosIHF1ZXJ5KSB7XG4gIHZhciBpO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KHF1ZXJ5KSkgeyB0aHJvdyBcIiRhbmQgb3BlcmF0b3IgdXNlZCB3aXRob3V0IGFuIGFycmF5XCI7IH1cblxuICBmb3IgKGkgPSAwOyBpIDwgcXVlcnkubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoIW1hdGNoKG9iaiwgcXVlcnlbaV0pKSB7IHJldHVybiBmYWxzZTsgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogSW52ZXJ0ZWQgbWF0Y2ggb2YgdGhlIHF1ZXJ5XG4gKiBAcGFyYW0ge01vZGVsfSBvYmpcbiAqIEBwYXJhbSB7UXVlcnl9IHF1ZXJ5XG4gKi9cbmxvZ2ljYWxPcGVyYXRvcnMuJG5vdCA9IGZ1bmN0aW9uIChvYmosIHF1ZXJ5KSB7XG4gIHJldHVybiAhbWF0Y2gob2JqLCBxdWVyeSk7XG59O1xuXG5cbi8qKlxuICogVXNlIGEgZnVuY3Rpb24gdG8gbWF0Y2hcbiAqIEBwYXJhbSB7TW9kZWx9IG9ialxuICogQHBhcmFtIHtRdWVyeX0gcXVlcnlcbiAqL1xubG9naWNhbE9wZXJhdG9ycy4kd2hlcmUgPSBmdW5jdGlvbiAob2JqLCBmbikge1xuICB2YXIgcmVzdWx0O1xuXG4gIGlmICghXy5pc0Z1bmN0aW9uKGZuKSkgeyB0aHJvdyBcIiR3aGVyZSBvcGVyYXRvciB1c2VkIHdpdGhvdXQgYSBmdW5jdGlvblwiOyB9XG5cbiAgcmVzdWx0ID0gZm4uY2FsbChvYmopO1xuICBpZiAoIV8uaXNCb29sZWFuKHJlc3VsdCkpIHsgdGhyb3cgXCIkd2hlcmUgZnVuY3Rpb24gbXVzdCByZXR1cm4gYm9vbGVhblwiOyB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqXG4gKiBUZWxsIGlmIGEgZ2l2ZW4gZG9jdW1lbnQgbWF0Y2hlcyBhIHF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIERvY3VtZW50IHRvIGNoZWNrXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnlcbiAqL1xuZnVuY3Rpb24gbWF0Y2ggKG9iaiwgcXVlcnkpIHtcbiAgdmFyIHF1ZXJ5S2V5cywgcXVlcnlLZXksIHF1ZXJ5VmFsdWUsIGk7XG5cbiAgLy8gUHJpbWl0aXZlIHF1ZXJ5IGFnYWluc3QgYSBwcmltaXRpdmUgdHlwZVxuICAvLyBUaGlzIGlzIGEgYml0IG9mIGEgaGFjayBzaW5jZSB3ZSBjb25zdHJ1Y3QgYW4gb2JqZWN0IHdpdGggYW4gYXJiaXRyYXJ5IGtleSBvbmx5IHRvIGRlcmVmZXJlbmNlIGl0IGxhdGVyXG4gIC8vIEJ1dCBJIGRvbid0IGhhdmUgdGltZSBmb3IgYSBjbGVhbmVyIGltcGxlbWVudGF0aW9uIG5vd1xuICBpZiAoaXNQcmltaXRpdmVUeXBlKG9iaikgfHwgaXNQcmltaXRpdmVUeXBlKHF1ZXJ5KSkge1xuICAgIHJldHVybiBtYXRjaFF1ZXJ5UGFydCh7IG5lZWRBS2V5OiBvYmogfSwgJ25lZWRBS2V5JywgcXVlcnkpO1xuICB9XG5cbiAgLy8gTm9ybWFsIHF1ZXJ5XG4gIHF1ZXJ5S2V5cyA9IE9iamVjdC5rZXlzKHF1ZXJ5KTtcbiAgZm9yIChpID0gMDsgaSA8IHF1ZXJ5S2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHF1ZXJ5S2V5ID0gcXVlcnlLZXlzW2ldO1xuICAgIHF1ZXJ5VmFsdWUgPSBxdWVyeVtxdWVyeUtleV07XG5cbiAgICBpZiAocXVlcnlLZXlbMF0gPT09ICckJykge1xuICAgICAgaWYgKCFsb2dpY2FsT3BlcmF0b3JzW3F1ZXJ5S2V5XSkgeyB0aHJvdyBcIlVua25vd24gbG9naWNhbCBvcGVyYXRvciBcIiArIHF1ZXJ5S2V5OyB9XG4gICAgICBpZiAoIWxvZ2ljYWxPcGVyYXRvcnNbcXVlcnlLZXldKG9iaiwgcXVlcnlWYWx1ZSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbWF0Y2hRdWVyeVBhcnQob2JqLCBxdWVyeUtleSwgcXVlcnlWYWx1ZSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogTWF0Y2ggYW4gb2JqZWN0IGFnYWluc3QgYSBzcGVjaWZpYyB7IGtleTogdmFsdWUgfSBwYXJ0IG9mIGEgcXVlcnlcbiAqIGlmIHRoZSB0cmVhdE9iakFzVmFsdWUgZmxhZyBpcyBzZXQsIGRvbid0IHRyeSB0byBtYXRjaCBldmVyeSBwYXJ0IHNlcGFyYXRlbHksIGJ1dCB0aGUgYXJyYXkgYXMgYSB3aG9sZVxuICovXG5mdW5jdGlvbiBtYXRjaFF1ZXJ5UGFydCAob2JqLCBxdWVyeUtleSwgcXVlcnlWYWx1ZSwgdHJlYXRPYmpBc1ZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IGdldERvdFZhbHVlKG9iaiwgcXVlcnlLZXkpXG4gICAgLCBpLCBrZXlzLCBmaXJzdENoYXJzLCBkb2xsYXJGaXJzdENoYXJzO1xuXG4gIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBhbiBhcnJheSBpZiB3ZSBkb24ndCBmb3JjZSBhIHRyZWF0bWVudCBhcyB2YWx1ZVxuICBpZiAodXRpbC5pc0FycmF5KG9ialZhbHVlKSAmJiAhdHJlYXRPYmpBc1ZhbHVlKSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIGFuIGFycmF5LXNwZWNpZmljIGNvbXBhcmlzb24gZnVuY3Rpb25cbiAgICBpZiAocXVlcnlWYWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgcXVlcnlWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIXV0aWwuaXNSZWdFeHAocXVlcnlWYWx1ZSkpIHtcbiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhxdWVyeVZhbHVlKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChhcnJheUNvbXBhcmlzb25GdW5jdGlvbnNba2V5c1tpXV0pIHsgcmV0dXJuIG1hdGNoUXVlcnlQYXJ0KG9iaiwgcXVlcnlLZXksIHF1ZXJ5VmFsdWUsIHRydWUpOyB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm90LCB0cmVhdCBpdCBhcyBhbiBhcnJheSBvZiB7IG9iaiwgcXVlcnkgfSB3aGVyZSB0aGVyZSBuZWVkcyB0byBiZSBhdCBsZWFzdCBvbmUgbWF0Y2hcbiAgICBmb3IgKGkgPSAwOyBpIDwgb2JqVmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChtYXRjaFF1ZXJ5UGFydCh7IGs6IG9ialZhbHVlW2ldIH0sICdrJywgcXVlcnlWYWx1ZSkpIHsgcmV0dXJuIHRydWU7IH0gICAvLyBrIGhlcmUgY291bGQgYmUgYW55IHN0cmluZ1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBxdWVyeVZhbHVlIGlzIGFuIGFjdHVhbCBvYmplY3QuIERldGVybWluZSB3aGV0aGVyIGl0IGNvbnRhaW5zIGNvbXBhcmlzb24gb3BlcmF0b3JzXG4gIC8vIG9yIG9ubHkgbm9ybWFsIGZpZWxkcy4gTWl4ZWQgb2JqZWN0cyBhcmUgbm90IGFsbG93ZWRcbiAgaWYgKHF1ZXJ5VmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHF1ZXJ5VmFsdWUgPT09ICdvYmplY3QnICYmICF1dGlsLmlzUmVnRXhwKHF1ZXJ5VmFsdWUpKSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHF1ZXJ5VmFsdWUpO1xuICAgIGZpcnN0Q2hhcnMgPSBfLm1hcChrZXlzLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbVswXTsgfSk7XG4gICAgZG9sbGFyRmlyc3RDaGFycyA9IF8uZmlsdGVyKGZpcnN0Q2hhcnMsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjID09PSAnJCc7IH0pO1xuXG4gICAgaWYgKGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoICE9PSAwICYmIGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoICE9PSBmaXJzdENoYXJzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgXCJZb3UgY2Fubm90IG1peCBvcGVyYXRvcnMgYW5kIG5vcm1hbCBmaWVsZHNcIjtcbiAgICB9XG5cbiAgICAvLyBxdWVyeVZhbHVlIGlzIGFuIG9iamVjdCBvZiB0aGlzIGZvcm06IHsgJGNvbXBhcmlzb25PcGVyYXRvcjE6IHZhbHVlMSwgLi4uIH1cbiAgICBpZiAoZG9sbGFyRmlyc3RDaGFycy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoIWNvbXBhcmlzb25GdW5jdGlvbnNba2V5c1tpXV0pIHsgdGhyb3cgXCJVbmtub3duIGNvbXBhcmlzb24gZnVuY3Rpb24gXCIgKyBrZXlzW2ldOyB9XG5cbiAgICAgICAgaWYgKCFjb21wYXJpc29uRnVuY3Rpb25zW2tleXNbaV1dKG9ialZhbHVlLCBxdWVyeVZhbHVlW2tleXNbaV1dKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMgd2l0aCBiYXNpYyBxdWVyeWluZ1xuICBpZiAodXRpbC5pc1JlZ0V4cChxdWVyeVZhbHVlKSkgeyByZXR1cm4gY29tcGFyaXNvbkZ1bmN0aW9ucy4kcmVnZXgob2JqVmFsdWUsIHF1ZXJ5VmFsdWUpOyB9XG5cbiAgLy8gcXVlcnlWYWx1ZSBpcyBlaXRoZXIgYSBuYXRpdmUgdmFsdWUgb3IgYSBub3JtYWwgb2JqZWN0XG4gIC8vIEJhc2ljIG1hdGNoaW5nIGlzIHBvc3NpYmxlXG4gIGlmICghYXJlVGhpbmdzRXF1YWwob2JqVmFsdWUsIHF1ZXJ5VmFsdWUpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xubW9kdWxlLmV4cG9ydHMuZGVzZXJpYWxpemUgPSBkZXNlcmlhbGl6ZTtcbm1vZHVsZS5leHBvcnRzLmRlZXBDb3B5ID0gZGVlcENvcHk7XG5tb2R1bGUuZXhwb3J0cy5jaGVja09iamVjdCA9IGNoZWNrT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMuaXNQcmltaXRpdmVUeXBlID0gaXNQcmltaXRpdmVUeXBlO1xubW9kdWxlLmV4cG9ydHMubW9kaWZ5ID0gbW9kaWZ5O1xubW9kdWxlLmV4cG9ydHMuZ2V0RG90VmFsdWUgPSBnZXREb3RWYWx1ZTtcbm1vZHVsZS5leHBvcnRzLm1hdGNoID0gbWF0Y2g7XG5tb2R1bGUuZXhwb3J0cy5hcmVUaGluZ3NFcXVhbCA9IGFyZVRoaW5nc0VxdWFsO1xubW9kdWxlLmV4cG9ydHMuY29tcGFyZVRoaW5ncyA9IGNvbXBhcmVUaGluZ3M7XG5cbn0se1widW5kZXJzY29yZVwiOjE4LFwidXRpbFwiOjIyfV0sMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbi8qKlxuICogSGFuZGxlIGV2ZXJ5IHBlcnNpc3RlbmNlLXJlbGF0ZWQgdGFza1xuICogVGhlIGludGVyZmFjZSBEYXRhc3RvcmUgZXhwZWN0cyB0byBiZSBpbXBsZW1lbnRlZCBpc1xuICogKiBQZXJzaXN0ZW5jZS5sb2FkRGF0YWJhc2UoY2FsbGJhY2spIGFuZCBjYWxsYmFjayBoYXMgc2lnbmF0dXJlIGVyclxuICogKiBQZXJzaXN0ZW5jZS5wZXJzaXN0TmV3U3RhdGUobmV3RG9jcywgY2FsbGJhY2spIHdoZXJlIG5ld0RvY3MgaXMgYW4gYXJyYXkgb2YgZG9jdW1lbnRzIGFuZCBjYWxsYmFjayBoYXMgc2lnbmF0dXJlIGVyclxuICovXG5cbnZhciBzdG9yYWdlID0gcmVxdWlyZSgnLi9zdG9yYWdlJylcbiAgLCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgbW9kZWwgPSByZXF1aXJlKCcuL21vZGVsJylcbiAgLCBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJylcbiAgLCBjdXN0b21VdGlscyA9IHJlcXVpcmUoJy4vY3VzdG9tVXRpbHMnKVxuICAsIEluZGV4ID0gcmVxdWlyZSgnLi9pbmRleGVzJylcbiAgO1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IFBlcnNpc3RlbmNlIG9iamVjdCBmb3IgZGF0YWJhc2Ugb3B0aW9ucy5kYlxuICogQHBhcmFtIHtEYXRhc3RvcmV9IG9wdGlvbnMuZGJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5ub2RlV2Via2l0QXBwTmFtZSBPcHRpb25hbCwgc3BlY2lmeSB0aGUgbmFtZSBvZiB5b3VyIE5XIGFwcCBpZiB5b3Ugd2FudCBvcHRpb25zLmZpbGVuYW1lIHRvIGJlIHJlbGF0aXZlIHRvIHRoZSBkaXJlY3Rvcnkgd2hlcmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIFdlYmtpdCBzdG9yZXMgYXBwbGljYXRpb24gZGF0YSBzdWNoIGFzIGNvb2tpZXMgYW5kIGxvY2FsIHN0b3JhZ2UgKHRoZSBiZXN0IHBsYWNlIHRvIHN0b3JlIGRhdGEgaW4gbXkgb3BpbmlvbilcbiAqL1xuZnVuY3Rpb24gUGVyc2lzdGVuY2UgKG9wdGlvbnMpIHtcbiAgdmFyIGksIGosIHJhbmRvbVN0cmluZztcblxuICB0aGlzLmRiID0gb3B0aW9ucy5kYjtcbiAgdGhpcy5pbk1lbW9yeU9ubHkgPSB0aGlzLmRiLmluTWVtb3J5T25seTtcbiAgdGhpcy5maWxlbmFtZSA9IHRoaXMuZGIuZmlsZW5hbWU7XG4gIHRoaXMuY29ycnVwdEFsZXJ0VGhyZXNob2xkID0gb3B0aW9ucy5jb3JydXB0QWxlcnRUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29ycnVwdEFsZXJ0VGhyZXNob2xkIDogMC4xO1xuXG4gIGlmICghdGhpcy5pbk1lbW9yeU9ubHkgJiYgdGhpcy5maWxlbmFtZSAmJiB0aGlzLmZpbGVuYW1lLmNoYXJBdCh0aGlzLmZpbGVuYW1lLmxlbmd0aCAtIDEpID09PSAnficpIHtcbiAgICB0aHJvdyBcIlRoZSBkYXRhZmlsZSBuYW1lIGNhbid0IGVuZCB3aXRoIGEgfiwgd2hpY2ggaXMgcmVzZXJ2ZWQgZm9yIGNyYXNoIHNhZmUgYmFja3VwIGZpbGVzXCI7XG4gIH1cblxuICAvLyBBZnRlciBzZXJpYWxpemF0aW9uIGFuZCBiZWZvcmUgZGVzZXJpYWxpemF0aW9uIGhvb2tzIHdpdGggc29tZSBiYXNpYyBzYW5pdHkgY2hlY2tzXG4gIGlmIChvcHRpb25zLmFmdGVyU2VyaWFsaXphdGlvbiAmJiAhb3B0aW9ucy5iZWZvcmVEZXNlcmlhbGl6YXRpb24pIHtcbiAgICB0aHJvdyBcIlNlcmlhbGl6YXRpb24gaG9vayBkZWZpbmVkIGJ1dCBkZXNlcmlhbGl6YXRpb24gaG9vayB1bmRlZmluZWQsIGNhdXRpb3VzbHkgcmVmdXNpbmcgdG8gc3RhcnQgTmVEQiB0byBwcmV2ZW50IGRhdGFsb3NzXCI7XG4gIH1cbiAgaWYgKCFvcHRpb25zLmFmdGVyU2VyaWFsaXphdGlvbiAmJiBvcHRpb25zLmJlZm9yZURlc2VyaWFsaXphdGlvbikge1xuICAgIHRocm93IFwiU2VyaWFsaXphdGlvbiBob29rIHVuZGVmaW5lZCBidXQgZGVzZXJpYWxpemF0aW9uIGhvb2sgZGVmaW5lZCwgY2F1dGlvdXNseSByZWZ1c2luZyB0byBzdGFydCBOZURCIHRvIHByZXZlbnQgZGF0YWxvc3NcIjtcbiAgfVxuICB0aGlzLmFmdGVyU2VyaWFsaXphdGlvbiA9IG9wdGlvbnMuYWZ0ZXJTZXJpYWxpemF0aW9uIHx8IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzOyB9O1xuICB0aGlzLmJlZm9yZURlc2VyaWFsaXphdGlvbiA9IG9wdGlvbnMuYmVmb3JlRGVzZXJpYWxpemF0aW9uIHx8IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzOyB9O1xuICBmb3IgKGkgPSAxOyBpIDwgMzA7IGkgKz0gMSkge1xuICAgIGZvciAoaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICByYW5kb21TdHJpbmcgPSBjdXN0b21VdGlscy51aWQoaSk7XG4gICAgICBpZiAodGhpcy5iZWZvcmVEZXNlcmlhbGl6YXRpb24odGhpcy5hZnRlclNlcmlhbGl6YXRpb24ocmFuZG9tU3RyaW5nKSkgIT09IHJhbmRvbVN0cmluZykge1xuICAgICAgICB0aHJvdyBcImJlZm9yZURlc2VyaWFsaXphdGlvbiBpcyBub3QgdGhlIHJldmVyc2Ugb2YgYWZ0ZXJTZXJpYWxpemF0aW9uLCBjYXV0aW91c2x5IHJlZnVzaW5nIHRvIHN0YXJ0IE5lREIgdG8gcHJldmVudCBkYXRhbG9zc1wiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZvciBOVyBhcHBzLCBzdG9yZSBkYXRhIGluIHRoZSBzYW1lIGRpcmVjdG9yeSB3aGVyZSBOVyBzdG9yZXMgYXBwbGljYXRpb24gZGF0YVxuICBpZiAodGhpcy5maWxlbmFtZSAmJiBvcHRpb25zLm5vZGVXZWJraXRBcHBOYW1lKSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJXQVJOSU5HOiBUaGUgbm9kZVdlYmtpdEFwcE5hbWUgb3B0aW9uIGlzIGRlcHJlY2F0ZWRcIik7XG4gICAgY29uc29sZS5sb2coXCJUbyBnZXQgdGhlIHBhdGggdG8gdGhlIGRpcmVjdG9yeSB3aGVyZSBOb2RlIFdlYmtpdCBzdG9yZXMgdGhlIGRhdGFcIik7XG4gICAgY29uc29sZS5sb2coXCJmb3IgeW91ciBhcHAsIHVzZSB0aGUgaW50ZXJuYWwgbncuZ3VpIG1vZHVsZSBsaWtlIHRoaXNcIik7XG4gICAgY29uc29sZS5sb2coXCJyZXF1aXJlKCdudy5ndWknKS5BcHAuZGF0YVBhdGhcIik7XG4gICAgY29uc29sZS5sb2coXCJTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JvZ2Vyd2FuZy9ub2RlLXdlYmtpdC9pc3N1ZXMvNTAwXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XCIpO1xuICAgIHRoaXMuZmlsZW5hbWUgPSBQZXJzaXN0ZW5jZS5nZXROV0FwcEZpbGVuYW1lKG9wdGlvbnMubm9kZVdlYmtpdEFwcE5hbWUsIHRoaXMuZmlsZW5hbWUpO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgaWYgYSBkaXJlY3RvcnkgZXhpc3RzIGFuZCBjcmVhdGUgaXQgb24gdGhlIGZseSBpZiBpdCBpcyBub3QgdGhlIGNhc2VcbiAqIGNiIGlzIG9wdGlvbmFsLCBzaWduYXR1cmU6IGVyclxuICovXG5QZXJzaXN0ZW5jZS5lbnN1cmVEaXJlY3RvcnlFeGlzdHMgPSBmdW5jdGlvbiAoZGlyLCBjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgIDtcblxuICBzdG9yYWdlLm1rZGlycChkaXIsIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH0pO1xufTtcblxuXG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHBhdGggdGhlIGRhdGFmaWxlIGlmIHRoZSBnaXZlbiBmaWxlbmFtZSBpcyByZWxhdGl2ZSB0byB0aGUgZGlyZWN0b3J5IHdoZXJlIE5vZGUgV2Via2l0IHN0b3Jlc1xuICogZGF0YSBmb3IgdGhpcyBhcHBsaWNhdGlvbi4gUHJvYmFibHkgdGhlIGJlc3QgcGxhY2UgdG8gc3RvcmUgZGF0YVxuICovXG5QZXJzaXN0ZW5jZS5nZXROV0FwcEZpbGVuYW1lID0gZnVuY3Rpb24gKGFwcE5hbWUsIHJlbGF0aXZlRmlsZW5hbWUpIHtcbiAgdmFyIGhvbWU7XG5cbiAgc3dpdGNoIChwcm9jZXNzLnBsYXRmb3JtKSB7XG4gICAgY2FzZSAnd2luMzInOlxuICAgIGNhc2UgJ3dpbjY0JzpcbiAgICAgIGhvbWUgPSBwcm9jZXNzLmVudi5MT0NBTEFQUERBVEEgfHwgcHJvY2Vzcy5lbnYuQVBQREFUQTtcbiAgICAgIGlmICghaG9tZSkgeyB0aHJvdyBcIkNvdWxkbid0IGZpbmQgdGhlIGJhc2UgYXBwbGljYXRpb24gZGF0YSBmb2xkZXJcIjsgfVxuICAgICAgaG9tZSA9IHBhdGguam9pbihob21lLCBhcHBOYW1lKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Rhcndpbic6XG4gICAgICBob21lID0gcHJvY2Vzcy5lbnYuSE9NRTtcbiAgICAgIGlmICghaG9tZSkgeyB0aHJvdyBcIkNvdWxkbid0IGZpbmQgdGhlIGJhc2UgYXBwbGljYXRpb24gZGF0YSBkaXJlY3RvcnlcIjsgfVxuICAgICAgaG9tZSA9IHBhdGguam9pbihob21lLCAnTGlicmFyeScsICdBcHBsaWNhdGlvbiBTdXBwb3J0JywgYXBwTmFtZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsaW51eCc6XG4gICAgICBob21lID0gcHJvY2Vzcy5lbnYuSE9NRTtcbiAgICAgIGlmICghaG9tZSkgeyB0aHJvdyBcIkNvdWxkbid0IGZpbmQgdGhlIGJhc2UgYXBwbGljYXRpb24gZGF0YSBkaXJlY3RvcnlcIjsgfVxuICAgICAgaG9tZSA9IHBhdGguam9pbihob21lLCAnLmNvbmZpZycsIGFwcE5hbWUpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFwiQ2FuJ3QgdXNlIHRoZSBOb2RlIFdlYmtpdCByZWxhdGl2ZSBwYXRoIGZvciBwbGF0Zm9ybSBcIiArIHByb2Nlc3MucGxhdGZvcm07XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBwYXRoLmpvaW4oaG9tZSwgJ25lZGItZGF0YScsIHJlbGF0aXZlRmlsZW5hbWUpO1xufVxuXG5cbi8qKlxuICogUGVyc2lzdCBjYWNoZWQgZGF0YWJhc2VcbiAqIFRoaXMgc2VydmVzIGFzIGEgY29tcGFjdGlvbiBmdW5jdGlvbiBzaW5jZSB0aGUgY2FjaGUgYWx3YXlzIGNvbnRhaW5zIG9ubHkgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIHdoaWxlIHRoZSBkYXRhIGZpbGUgaXMgYXBwZW5kLW9ubHkgc28gaXQgbWF5IGdyb3cgbGFyZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnJcbiAqL1xuUGVyc2lzdGVuY2UucHJvdG90eXBlLnBlcnNpc3RDYWNoZWREYXRhYmFzZSA9IGZ1bmN0aW9uIChjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgICwgdG9QZXJzaXN0ID0gJydcbiAgICAsIHNlbGYgPSB0aGlzXG4gICAgO1xuXG4gIGlmICh0aGlzLmluTWVtb3J5T25seSkgeyByZXR1cm4gY2FsbGJhY2sobnVsbCk7IH1cblxuICB0aGlzLmRiLmdldEFsbERhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICB0b1BlcnNpc3QgKz0gc2VsZi5hZnRlclNlcmlhbGl6YXRpb24obW9kZWwuc2VyaWFsaXplKGRvYykpICsgJ1xcbic7XG4gIH0pO1xuICBPYmplY3Qua2V5cyh0aGlzLmRiLmluZGV4ZXMpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkTmFtZSkge1xuICAgIGlmIChmaWVsZE5hbWUgIT0gXCJfaWRcIikgeyAgIC8vIFRoZSBzcGVjaWFsIF9pZCBpbmRleCBpcyBtYW5hZ2VkIGJ5IGRhdGFzdG9yZS5qcywgdGhlIG90aGVycyBuZWVkIHRvIGJlIHBlcnNpc3RlZFxuICAgICAgdG9QZXJzaXN0ICs9IHNlbGYuYWZ0ZXJTZXJpYWxpemF0aW9uKG1vZGVsLnNlcmlhbGl6ZSh7ICQkaW5kZXhDcmVhdGVkOiB7IGZpZWxkTmFtZTogZmllbGROYW1lLCB1bmlxdWU6IHNlbGYuZGIuaW5kZXhlc1tmaWVsZE5hbWVdLnVuaXF1ZSwgc3BhcnNlOiBzZWxmLmRiLmluZGV4ZXNbZmllbGROYW1lXS5zcGFyc2UgfX0pKSArICdcXG4nO1xuICAgIH1cbiAgfSk7XG5cbiAgc3RvcmFnZS5jcmFzaFNhZmVXcml0ZUZpbGUodGhpcy5maWxlbmFtZSwgdG9QZXJzaXN0LCBjYWxsYmFjayk7XG59O1xuXG5cbi8qKlxuICogUXVldWUgYSByZXdyaXRlIG9mIHRoZSBkYXRhZmlsZVxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUuY29tcGFjdERhdGFmaWxlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmRiLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLCBmbjogdGhpcy5wZXJzaXN0Q2FjaGVkRGF0YWJhc2UsIGFyZ3VtZW50czogW10gfSk7XG59O1xuXG5cbi8qKlxuICogU2V0IGF1dG9tYXRpYyBjb21wYWN0aW9uIGV2ZXJ5IGludGVydmFsIG1zXG4gKiBAcGFyYW0ge051bWJlcn0gaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzLCB3aXRoIGFuIGVuZm9yY2VkIG1pbmltdW0gb2YgNSBzZWNvbmRzXG4gKi9cblBlcnNpc3RlbmNlLnByb3RvdHlwZS5zZXRBdXRvY29tcGFjdGlvbkludGVydmFsID0gZnVuY3Rpb24gKGludGVydmFsKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICAgICwgbWluSW50ZXJ2YWwgPSA1MDAwXG4gICAgLCByZWFsSW50ZXJ2YWwgPSBNYXRoLm1heChpbnRlcnZhbCB8fCAwLCBtaW5JbnRlcnZhbClcbiAgICA7XG5cbiAgdGhpcy5zdG9wQXV0b2NvbXBhY3Rpb24oKTtcblxuICB0aGlzLmF1dG9jb21wYWN0aW9uSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLmNvbXBhY3REYXRhZmlsZSgpO1xuICB9LCByZWFsSW50ZXJ2YWwpO1xufTtcblxuXG4vKipcbiAqIFN0b3AgYXV0b2NvbXBhY3Rpb24gKGRvIG5vdGhpbmcgaWYgYXV0b2NvbXBhY3Rpb24gd2FzIG5vdCBydW5uaW5nKVxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUuc3RvcEF1dG9jb21wYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5hdXRvY29tcGFjdGlvbkludGVydmFsSWQpIHsgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9jb21wYWN0aW9uSW50ZXJ2YWxJZCk7IH1cbn07XG5cblxuLyoqXG4gKiBQZXJzaXN0IG5ldyBzdGF0ZSBmb3IgdGhlIGdpdmVuIG5ld0RvY3MgKGNhbiBiZSBpbnNlcnRpb24sIHVwZGF0ZSBvciByZW1vdmFsKVxuICogVXNlIGFuIGFwcGVuZC1vbmx5IGZvcm1hdFxuICogQHBhcmFtIHtBcnJheX0gbmV3RG9jcyBDYW4gYmUgZW1wdHkgaWYgbm8gZG9jIHdhcyB1cGRhdGVkL3JlbW92ZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsLCBzaWduYXR1cmU6IGVyclxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUucGVyc2lzdE5ld1N0YXRlID0gZnVuY3Rpb24gKG5ld0RvY3MsIGNiKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICAgICwgdG9QZXJzaXN0ID0gJydcbiAgICAsIGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24gKCkge31cbiAgICA7XG5cbiAgLy8gSW4tbWVtb3J5IG9ubHkgZGF0YXN0b3JlXG4gIGlmIChzZWxmLmluTWVtb3J5T25seSkgeyByZXR1cm4gY2FsbGJhY2sobnVsbCk7IH1cblxuICBuZXdEb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIHRvUGVyc2lzdCArPSBzZWxmLmFmdGVyU2VyaWFsaXphdGlvbihtb2RlbC5zZXJpYWxpemUoZG9jKSkgKyAnXFxuJztcbiAgfSk7XG5cbiAgaWYgKHRvUGVyc2lzdC5sZW5ndGggPT09IDApIHsgcmV0dXJuIGNhbGxiYWNrKG51bGwpOyB9XG5cbiAgc3RvcmFnZS5hcHBlbmRGaWxlKHNlbGYuZmlsZW5hbWUsIHRvUGVyc2lzdCwgJ3V0ZjgnLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEZyb20gYSBkYXRhYmFzZSdzIHJhdyBkYXRhLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmdcbiAqIG1hY2hpbmUgdW5kZXJzdGFuZGFibGUgY29sbGVjdGlvblxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUudHJlYXRSYXdEYXRhID0gZnVuY3Rpb24gKHJhd0RhdGEpIHtcbiAgdmFyIGRhdGEgPSByYXdEYXRhLnNwbGl0KCdcXG4nKVxuICAgICwgZGF0YUJ5SWQgPSB7fVxuICAgICwgdGRhdGEgPSBbXVxuICAgICwgaVxuICAgICwgaW5kZXhlcyA9IHt9XG4gICAgLCBjb3JydXB0SXRlbXMgPSAtMSAgIC8vIExhc3QgbGluZSBvZiBldmVyeSBkYXRhIGZpbGUgaXMgdXN1YWxseSBibGFuayBzbyBub3QgcmVhbGx5IGNvcnJ1cHRcbiAgICA7XG5cbiAgZm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgZG9jO1xuXG4gICAgdHJ5IHtcbiAgICAgIGRvYyA9IG1vZGVsLmRlc2VyaWFsaXplKHRoaXMuYmVmb3JlRGVzZXJpYWxpemF0aW9uKGRhdGFbaV0pKTtcbiAgICAgIGlmIChkb2MuX2lkKSB7XG4gICAgICAgIGlmIChkb2MuJCRkZWxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgZGVsZXRlIGRhdGFCeUlkW2RvYy5faWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGFCeUlkW2RvYy5faWRdID0gZG9jO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRvYy4kJGluZGV4Q3JlYXRlZCAmJiBkb2MuJCRpbmRleENyZWF0ZWQuZmllbGROYW1lICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleGVzW2RvYy4kJGluZGV4Q3JlYXRlZC5maWVsZE5hbWVdID0gZG9jLiQkaW5kZXhDcmVhdGVkO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jLiQkaW5kZXhSZW1vdmVkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGRlbGV0ZSBpbmRleGVzW2RvYy4kJGluZGV4UmVtb3ZlZF07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29ycnVwdEl0ZW1zICs9IDE7XG4gICAgfVxuICB9XG5cbiAgLy8gQSBiaXQgbGVuaWVudCBvbiBjb3JydXB0aW9uXG4gIGlmIChkYXRhLmxlbmd0aCA+IDAgJiYgY29ycnVwdEl0ZW1zIC8gZGF0YS5sZW5ndGggPiB0aGlzLmNvcnJ1cHRBbGVydFRocmVzaG9sZCkge1xuICAgIHRocm93IFwiTW9yZSB0aGFuIDEwJSBvZiB0aGUgZGF0YSBmaWxlIGlzIGNvcnJ1cHQsIHRoZSB3cm9uZyBiZWZvcmVEZXNlcmlhbGl6YXRpb24gaG9vayBtYXkgYmUgdXNlZC4gQ2F1dGlvdXNseSByZWZ1c2luZyB0byBzdGFydCBOZURCIHRvIHByZXZlbnQgZGF0YWxvc3NcIlxuICB9XG5cbiAgT2JqZWN0LmtleXMoZGF0YUJ5SWQpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICB0ZGF0YS5wdXNoKGRhdGFCeUlkW2tdKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHsgZGF0YTogdGRhdGEsIGluZGV4ZXM6IGluZGV4ZXMgfTtcbn07XG5cblxuLyoqXG4gKiBMb2FkIHRoZSBkYXRhYmFzZVxuICogMSkgQ3JlYXRlIGFsbCBpbmRleGVzXG4gKiAyKSBJbnNlcnQgYWxsIGRhdGFcbiAqIDMpIENvbXBhY3QgdGhlIGRhdGFiYXNlXG4gKiBUaGlzIG1lYW5zIHB1bGxpbmcgZGF0YSBvdXQgb2YgdGhlIGRhdGEgZmlsZSBvciBjcmVhdGluZyBpdCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gKiBBbHNvLCBhbGwgZGF0YSBpcyBwZXJzaXN0ZWQgcmlnaHQgYXdheSwgd2hpY2ggaGFzIHRoZSBlZmZlY3Qgb2YgY29tcGFjdGluZyB0aGUgZGF0YWJhc2UgZmlsZVxuICogVGhpcyBvcGVyYXRpb24gaXMgdmVyeSBxdWljayBhdCBzdGFydHVwIGZvciBhIGJpZyBjb2xsZWN0aW9uICg2MG1zIGZvciB+MTBrIGRvY3MpXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnJcbiAqL1xuUGVyc2lzdGVuY2UucHJvdG90eXBlLmxvYWREYXRhYmFzZSA9IGZ1bmN0aW9uIChjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgICwgc2VsZiA9IHRoaXNcbiAgICA7XG5cbiAgc2VsZi5kYi5yZXNldEluZGV4ZXMoKTtcblxuICAvLyBJbi1tZW1vcnkgb25seSBkYXRhc3RvcmVcbiAgaWYgKHNlbGYuaW5NZW1vcnlPbmx5KSB7IHJldHVybiBjYWxsYmFjayhudWxsKTsgfVxuXG4gIGFzeW5jLndhdGVyZmFsbChbXG4gICAgZnVuY3Rpb24gKGNiKSB7XG4gICAgICBQZXJzaXN0ZW5jZS5lbnN1cmVEaXJlY3RvcnlFeGlzdHMocGF0aC5kaXJuYW1lKHNlbGYuZmlsZW5hbWUpLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHN0b3JhZ2UuZW5zdXJlRGF0YWZpbGVJbnRlZ3JpdHkoc2VsZi5maWxlbmFtZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIHN0b3JhZ2UucmVhZEZpbGUoc2VsZi5maWxlbmFtZSwgJ3V0ZjgnLCBmdW5jdGlvbiAoZXJyLCByYXdEYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7IHJldHVybiBjYihlcnIpOyB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciB0cmVhdGVkRGF0YSA9IHNlbGYudHJlYXRSYXdEYXRhKHJhd0RhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY2IoZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlY3JlYXRlIGFsbCBpbmRleGVzIGluIHRoZSBkYXRhZmlsZVxuICAgICAgICAgICAgT2JqZWN0LmtleXModHJlYXRlZERhdGEuaW5kZXhlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIHNlbGYuZGIuaW5kZXhlc1trZXldID0gbmV3IEluZGV4KHRyZWF0ZWREYXRhLmluZGV4ZXNba2V5XSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRmlsbCBjYWNoZWQgZGF0YWJhc2UgKGkuZS4gYWxsIGluZGV4ZXMpIHdpdGggZGF0YVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc2VsZi5kYi5yZXNldEluZGV4ZXModHJlYXRlZERhdGEuZGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHNlbGYuZGIucmVzZXRJbmRleGVzKCk7ICAgLy8gUm9sbGJhY2sgYW55IGluZGV4IHdoaWNoIGRpZG4ndCBmYWlsXG4gICAgICAgICAgICAgIHJldHVybiBjYihlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5kYi5wZXJzaXN0ZW5jZS5wZXJzaXN0Q2FjaGVkRGF0YWJhc2UoY2IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgXSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cblxuICAgICAgIHNlbGYuZGIuZXhlY3V0b3IucHJvY2Vzc0J1ZmZlcigpO1xuICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgfSk7XG59O1xuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMgPSBQZXJzaXN0ZW5jZTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG59LHtcIi4vY3VzdG9tVXRpbHNcIjo4LFwiLi9pbmRleGVzXCI6MTQsXCIuL21vZGVsXCI6MTUsXCIuL3N0b3JhZ2VcIjo5LFwiX3Byb2Nlc3NcIjoyMCxcImFzeW5jXCI6MTcsXCJwYXRoXCI6MTl9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLypnbG9iYWwgc2V0SW1tZWRpYXRlOiBmYWxzZSwgc2V0VGltZW91dDogZmFsc2UsIGNvbnNvbGU6IGZhbHNlICovXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGFzeW5jID0ge307XG5cbiAgICAvLyBnbG9iYWwgb24gdGhlIHNlcnZlciwgd2luZG93IGluIHRoZSBicm93c2VyXG4gICAgdmFyIHJvb3QsIHByZXZpb3VzX2FzeW5jO1xuXG4gICAgcm9vdCA9IHRoaXM7XG4gICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgcHJldmlvdXNfYXN5bmMgPSByb290LmFzeW5jO1xuICAgIH1cblxuICAgIGFzeW5jLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJvb3QuYXN5bmMgPSBwcmV2aW91c19hc3luYztcbiAgICAgICAgcmV0dXJuIGFzeW5jO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvbmx5X29uY2UoZm4pIHtcbiAgICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuXCIpO1xuICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGZuLmFwcGx5KHJvb3QsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy8vIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJsaXR5IGZ1bmN0aW9ucyAvLy8vXG5cbiAgICB2YXIgX2VhY2ggPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvcikge1xuICAgICAgICBpZiAoYXJyLmZvckVhY2gpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIuZm9yRWFjaChpdGVyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGFycltpXSwgaSwgYXJyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX21hcCA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yKSB7XG4gICAgICAgIGlmIChhcnIubWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyLm1hcChpdGVyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgX2VhY2goYXJyLCBmdW5jdGlvbiAoeCwgaSwgYSkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZXJhdG9yKHgsIGksIGEpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG5cbiAgICB2YXIgX3JlZHVjZSA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yLCBtZW1vKSB7XG4gICAgICAgIGlmIChhcnIucmVkdWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyLnJlZHVjZShpdGVyYXRvciwgbWVtbyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VhY2goYXJyLCBmdW5jdGlvbiAoeCwgaSwgYSkge1xuICAgICAgICAgICAgbWVtbyA9IGl0ZXJhdG9yKG1lbW8sIHgsIGksIGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcblxuICAgIHZhciBfa2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuXG4gICAgLy8vLyBleHBvcnRlZCBhc3luYyBtb2R1bGUgZnVuY3Rpb25zIC8vLy9cblxuICAgIC8vLy8gbmV4dFRpY2sgaW1wbGVtZW50YXRpb24gd2l0aCBicm93c2VyLWNvbXBhdGlibGUgZmFsbGJhY2sgLy8vL1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcgfHwgIShwcm9jZXNzLm5leHRUaWNrKSkge1xuICAgICAgICBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYXN5bmMubmV4dFRpY2sgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgYSBkaXJlY3QgYWxpYXMgZm9yIElFMTAgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gYXN5bmMubmV4dFRpY2s7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3luYy5uZXh0VGljayA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZSA9IGFzeW5jLm5leHRUaWNrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3luYy5uZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgIC8vIG5vdCBhIGRpcmVjdCBhbGlhcyBmb3IgSUUxMCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gYXN5bmMubmV4dFRpY2s7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYy5lYWNoID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IDA7XG4gICAgICAgIF9lYWNoKGFyciwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgsIG9ubHlfb25jZShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMuZm9yRWFjaCA9IGFzeW5jLmVhY2g7XG5cbiAgICBhc3luYy5lYWNoU2VyaWVzID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IDA7XG4gICAgICAgIHZhciBpdGVyYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyW2NvbXBsZXRlZF0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA+PSBhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpdGVyYXRlKCk7XG4gICAgfTtcbiAgICBhc3luYy5mb3JFYWNoU2VyaWVzID0gYXN5bmMuZWFjaFNlcmllcztcblxuICAgIGFzeW5jLmVhY2hMaW1pdCA9IGZ1bmN0aW9uIChhcnIsIGxpbWl0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZuID0gX2VhY2hMaW1pdChsaW1pdCk7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIFthcnIsIGl0ZXJhdG9yLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgYXN5bmMuZm9yRWFjaExpbWl0ID0gYXN5bmMuZWFjaExpbWl0O1xuXG4gICAgdmFyIF9lYWNoTGltaXQgPSBmdW5jdGlvbiAobGltaXQpIHtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgaWYgKCFhcnIubGVuZ3RoIHx8IGxpbWl0IDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSAwO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ZWQgPSAwO1xuICAgICAgICAgICAgdmFyIHJ1bm5pbmcgPSAwO1xuXG4gICAgICAgICAgICAoZnVuY3Rpb24gcmVwbGVuaXNoICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHJ1bm5pbmcgPCBsaW1pdCAmJiBzdGFydGVkIDwgYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydGVkICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IoYXJyW3N0YXJ0ZWQgLSAxXSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxlbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG5cbiAgICB2YXIgZG9QYXJhbGxlbCA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFthc3luYy5lYWNoXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIGRvUGFyYWxsZWxMaW1pdCA9IGZ1bmN0aW9uKGxpbWl0LCBmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFtfZWFjaExpbWl0KGxpbWl0KV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBkb1NlcmllcyA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFthc3luYy5lYWNoU2VyaWVzXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIHZhciBfYXN5bmNNYXAgPSBmdW5jdGlvbiAoZWFjaGZuLCBhcnIsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICBhcnIgPSBfbWFwKGFyciwgZnVuY3Rpb24gKHgsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiB7aW5kZXg6IGksIHZhbHVlOiB4fTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IoeC52YWx1ZSwgZnVuY3Rpb24gKGVyciwgdikge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbeC5pbmRleF0gPSB2O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBhc3luYy5tYXAgPSBkb1BhcmFsbGVsKF9hc3luY01hcCk7XG4gICAgYXN5bmMubWFwU2VyaWVzID0gZG9TZXJpZXMoX2FzeW5jTWFwKTtcbiAgICBhc3luYy5tYXBMaW1pdCA9IGZ1bmN0aW9uIChhcnIsIGxpbWl0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9tYXBMaW1pdChsaW1pdCkoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICB2YXIgX21hcExpbWl0ID0gZnVuY3Rpb24obGltaXQpIHtcbiAgICAgICAgcmV0dXJuIGRvUGFyYWxsZWxMaW1pdChsaW1pdCwgX2FzeW5jTWFwKTtcbiAgICB9O1xuXG4gICAgLy8gcmVkdWNlIG9ubHkgaGFzIGEgc2VyaWVzIHZlcnNpb24sIGFzIGRvaW5nIHJlZHVjZSBpbiBwYXJhbGxlbCB3b24ndFxuICAgIC8vIHdvcmsgaW4gbWFueSBzaXR1YXRpb25zLlxuICAgIGFzeW5jLnJlZHVjZSA9IGZ1bmN0aW9uIChhcnIsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihtZW1vLCB4LCBmdW5jdGlvbiAoZXJyLCB2KSB7XG4gICAgICAgICAgICAgICAgbWVtbyA9IHY7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIsIG1lbW8pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIGluamVjdCBhbGlhc1xuICAgIGFzeW5jLmluamVjdCA9IGFzeW5jLnJlZHVjZTtcbiAgICAvLyBmb2xkbCBhbGlhc1xuICAgIGFzeW5jLmZvbGRsID0gYXN5bmMucmVkdWNlO1xuXG4gICAgYXN5bmMucmVkdWNlUmlnaHQgPSBmdW5jdGlvbiAoYXJyLCBtZW1vLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJldmVyc2VkID0gX21hcChhcnIsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSkucmV2ZXJzZSgpO1xuICAgICAgICBhc3luYy5yZWR1Y2UocmV2ZXJzZWQsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvLyBmb2xkciBhbGlhc1xuICAgIGFzeW5jLmZvbGRyID0gYXN5bmMucmVkdWNlUmlnaHQ7XG5cbiAgICB2YXIgX2ZpbHRlciA9IGZ1bmN0aW9uIChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIGFyciA9IF9tYXAoYXJyLCBmdW5jdGlvbiAoeCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIHtpbmRleDogaSwgdmFsdWU6IHh9O1xuICAgICAgICB9KTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LnZhbHVlLCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhfbWFwKHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGFzeW5jLmZpbHRlciA9IGRvUGFyYWxsZWwoX2ZpbHRlcik7XG4gICAgYXN5bmMuZmlsdGVyU2VyaWVzID0gZG9TZXJpZXMoX2ZpbHRlcik7XG4gICAgLy8gc2VsZWN0IGFsaWFzXG4gICAgYXN5bmMuc2VsZWN0ID0gYXN5bmMuZmlsdGVyO1xuICAgIGFzeW5jLnNlbGVjdFNlcmllcyA9IGFzeW5jLmZpbHRlclNlcmllcztcblxuICAgIHZhciBfcmVqZWN0ID0gZnVuY3Rpb24gKGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgYXJyID0gX21hcChhcnIsIGZ1bmN0aW9uICh4LCBpKSB7XG4gICAgICAgICAgICByZXR1cm4ge2luZGV4OiBpLCB2YWx1ZTogeH07XG4gICAgICAgIH0pO1xuICAgICAgICBlYWNoZm4oYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgudmFsdWUsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhfbWFwKHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGFzeW5jLnJlamVjdCA9IGRvUGFyYWxsZWwoX3JlamVjdCk7XG4gICAgYXN5bmMucmVqZWN0U2VyaWVzID0gZG9TZXJpZXMoX3JlamVjdCk7XG5cbiAgICB2YXIgX2RldGVjdCA9IGZ1bmN0aW9uIChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIG1haW5fY2FsbGJhY2spIHtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBtYWluX2NhbGxiYWNrKHgpO1xuICAgICAgICAgICAgICAgICAgICBtYWluX2NhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBtYWluX2NhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMuZGV0ZWN0ID0gZG9QYXJhbGxlbChfZGV0ZWN0KTtcbiAgICBhc3luYy5kZXRlY3RTZXJpZXMgPSBkb1NlcmllcyhfZGV0ZWN0KTtcblxuICAgIGFzeW5jLnNvbWUgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgbWFpbl9jYWxsYmFjaykge1xuICAgICAgICBhc3luYy5lYWNoKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIG1haW5fY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG1haW5fY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBtYWluX2NhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBhbnkgYWxpYXNcbiAgICBhc3luYy5hbnkgPSBhc3luYy5zb21lO1xuXG4gICAgYXN5bmMuZXZlcnkgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgbWFpbl9jYWxsYmFjaykge1xuICAgICAgICBhc3luYy5lYWNoKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGlmICghdikge1xuICAgICAgICAgICAgICAgICAgICBtYWluX2NhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbl9jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIG1haW5fY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gYWxsIGFsaWFzXG4gICAgYXN5bmMuYWxsID0gYXN5bmMuZXZlcnk7XG5cbiAgICBhc3luYy5zb3J0QnkgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgYXN5bmMubWFwKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAoZXJyLCBjcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHt2YWx1ZTogeCwgY3JpdGVyaWE6IGNyaXRlcmlhfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWEsIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgX21hcChyZXN1bHRzLnNvcnQoZm4pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhc3luYy5hdXRvID0gZnVuY3Rpb24gKHRhc2tzLCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICB2YXIga2V5cyA9IF9rZXlzKHRhc2tzKTtcbiAgICAgICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcblxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgIHZhciBhZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnVuc2hpZnQoZm4pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRhc2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF9lYWNoKGxpc3RlbmVycy5zbGljZSgwKSwgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfa2V5cyhyZXN1bHRzKS5sZW5ndGggPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2VhY2goa2V5cywgZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gKHRhc2tzW2tdIGluc3RhbmNlb2YgRnVuY3Rpb24pID8gW3Rhc2tzW2tdXTogdGFza3Nba107XG4gICAgICAgICAgICB2YXIgdGFza0NhbGxiYWNrID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2FmZVJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgX2VhY2goX2tleXMocmVzdWx0cyksIGZ1bmN0aW9uKHJrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVSZXN1bHRzW3JrZXldID0gcmVzdWx0c1tya2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVSZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBzYWZlUmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3Agc3Vic2VxdWVudCBlcnJvcnMgaGl0dGluZyBjYWxsYmFjayBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1trXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZSh0YXNrQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgcmVxdWlyZXMgPSB0YXNrLnNsaWNlKDAsIE1hdGguYWJzKHRhc2subGVuZ3RoIC0gMSkpIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVkdWNlKHJlcXVpcmVzLCBmdW5jdGlvbiAoYSwgeCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGEgJiYgcmVzdWx0cy5oYXNPd25Qcm9wZXJ0eSh4KSk7XG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSkgJiYgIXJlc3VsdHMuaGFzT3duUHJvcGVydHkoayk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICB0YXNrW3Rhc2subGVuZ3RoIC0gMV0odGFza0NhbGxiYWNrLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tbdGFzay5sZW5ndGggLSAxXSh0YXNrQ2FsbGJhY2ssIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhc3luYy53YXRlcmZhbGwgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICh0YXNrcy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcbiAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCB0byB3YXRlcmZhbGwgbXVzdCBiZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMnKTtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBJdGVyYXRvciA9IGZ1bmN0aW9uIChpdGVyYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHdyYXBJdGVyYXRvcihuZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgd3JhcEl0ZXJhdG9yKGFzeW5jLml0ZXJhdG9yKHRhc2tzKSkoKTtcbiAgICB9O1xuXG4gICAgdmFyIF9wYXJhbGxlbCA9IGZ1bmN0aW9uKGVhY2hmbiwgdGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICh0YXNrcy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgICAgIGVhY2hmbi5tYXAodGFza3MsIGZ1bmN0aW9uIChmbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwgZXJyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgIGVhY2hmbi5lYWNoKF9rZXlzKHRhc2tzKSwgZnVuY3Rpb24gKGssIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGFza3Nba10oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMucGFyYWxsZWwgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbCh7IG1hcDogYXN5bmMubWFwLCBlYWNoOiBhc3luYy5lYWNoIH0sIHRhc2tzLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLnBhcmFsbGVsTGltaXQgPSBmdW5jdGlvbih0YXNrcywgbGltaXQsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbCh7IG1hcDogX21hcExpbWl0KGxpbWl0KSwgZWFjaDogX2VhY2hMaW1pdChsaW1pdCkgfSwgdGFza3MsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuc2VyaWVzID0gZnVuY3Rpb24gKHRhc2tzLCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICBpZiAodGFza3MuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgICAgICBhc3luYy5tYXBTZXJpZXModGFza3MsIGZ1bmN0aW9uIChmbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwgZXJyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgIGFzeW5jLmVhY2hTZXJpZXMoX2tleXModGFza3MpLCBmdW5jdGlvbiAoaywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0YXNrc1trXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNba10gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhc3luYy5pdGVyYXRvciA9IGZ1bmN0aW9uICh0YXNrcykge1xuICAgICAgICB2YXIgbWFrZUNhbGxiYWNrID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1tpbmRleF0uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLm5leHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmbi5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoaW5kZXggPCB0YXNrcy5sZW5ndGggLSAxKSA/IG1ha2VDYWxsYmFjayhpbmRleCArIDEpOiBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1ha2VDYWxsYmFjaygwKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuYXBwbHkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KFxuICAgICAgICAgICAgICAgIG51bGwsIGFyZ3MuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgX2NvbmNhdCA9IGZ1bmN0aW9uIChlYWNoZm4sIGFyciwgZm4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByID0gW107XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh4LCBjYikge1xuICAgICAgICAgICAgZm4oeCwgZnVuY3Rpb24gKGVyciwgeSkge1xuICAgICAgICAgICAgICAgIHIgPSByLmNvbmNhdCh5IHx8IFtdKTtcbiAgICAgICAgICAgICAgICBjYihlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMuY29uY2F0ID0gZG9QYXJhbGxlbChfY29uY2F0KTtcbiAgICBhc3luYy5jb25jYXRTZXJpZXMgPSBkb1NlcmllcyhfY29uY2F0KTtcblxuICAgIGFzeW5jLndoaWxzdCA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRlc3QoKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzeW5jLndoaWxzdCh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFzeW5jLmRvV2hpbHN0ID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCB0ZXN0LCBjYWxsYmFjaykge1xuICAgICAgICBpdGVyYXRvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGVzdCgpKSB7XG4gICAgICAgICAgICAgICAgYXN5bmMuZG9XaGlsc3QoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhc3luYy51bnRpbCA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0ZXN0KCkpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3luYy51bnRpbCh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFzeW5jLmRvVW50aWwgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIGl0ZXJhdG9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGVzdCgpKSB7XG4gICAgICAgICAgICAgICAgYXN5bmMuZG9VbnRpbChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLnF1ZXVlID0gZnVuY3Rpb24gKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbmN5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBfaW5zZXJ0KHEsIGRhdGEsIHBvcywgY2FsbGJhY2spIHtcbiAgICAgICAgICBpZihkYXRhLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xuICAgICAgICAgICAgICBkYXRhID0gW2RhdGFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfZWFjaChkYXRhLCBmdW5jdGlvbih0YXNrKSB7XG4gICAgICAgICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgZGF0YTogdGFzayxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IG51bGxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgcS50YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHEudGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChxLnNhdHVyYXRlZCAmJiBxLnRhc2tzLmxlbmd0aCA9PT0gY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKHEucHJvY2Vzcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd29ya2VycyA9IDA7XG4gICAgICAgIHZhciBxID0ge1xuICAgICAgICAgICAgdGFza3M6IFtdLFxuICAgICAgICAgICAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICAgICAgICAgICAgc2F0dXJhdGVkOiBudWxsLFxuICAgICAgICAgICAgZW1wdHk6IG51bGwsXG4gICAgICAgICAgICBkcmFpbjogbnVsbCxcbiAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICBfaW5zZXJ0KHEsIGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5zaGlmdDogZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIF9pbnNlcnQocSwgZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAod29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS50YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBxLnRhc2tzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChxLmVtcHR5ICYmIHEudGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlcnMgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5jYWxsYmFjay5hcHBseSh0YXNrLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEuZHJhaW4gJiYgcS50YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5kcmFpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYiA9IG9ubHlfb25jZShuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyKHRhc2suZGF0YSwgY2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcS50YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVubmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcTtcbiAgICB9O1xuXG4gICAgYXN5bmMuY2FyZ28gPSBmdW5jdGlvbiAod29ya2VyLCBwYXlsb2FkKSB7XG4gICAgICAgIHZhciB3b3JraW5nICAgICA9IGZhbHNlLFxuICAgICAgICAgICAgdGFza3MgICAgICAgPSBbXTtcblxuICAgICAgICB2YXIgY2FyZ28gPSB7XG4gICAgICAgICAgICB0YXNrczogdGFza3MsXG4gICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgICAgICAgc2F0dXJhdGVkOiBudWxsLFxuICAgICAgICAgICAgZW1wdHk6IG51bGwsXG4gICAgICAgICAgICBkcmFpbjogbnVsbCxcbiAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBbZGF0YV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9lYWNoKGRhdGEsIGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YXNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmdvLnNhdHVyYXRlZCAmJiB0YXNrcy5sZW5ndGggPT09IHBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmdvLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKGNhcmdvLnByb2Nlc3MpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdvcmtpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNhcmdvLmRyYWluKSBjYXJnby5kcmFpbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRzID0gdHlwZW9mIHBheWxvYWQgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0YXNrcy5zcGxpY2UoMCwgcGF5bG9hZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRhc2tzLnNwbGljZSgwKTtcblxuICAgICAgICAgICAgICAgIHZhciBkcyA9IF9tYXAodHMsIGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXNrLmRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZihjYXJnby5lbXB0eSkgY2FyZ28uZW1wdHkoKTtcbiAgICAgICAgICAgICAgICB3b3JraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3b3JrZXIoZHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICBfZWFjaCh0cywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYWxsYmFjay5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvY2VzcygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVubmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3b3JraW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2FyZ287XG4gICAgfTtcblxuICAgIHZhciBfY29uc29sZV9mbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MuY29uY2F0KFtmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uc29sZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2VhY2goYXJncywgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlW25hbWVdKHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSkpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYXN5bmMubG9nID0gX2NvbnNvbGVfZm4oJ2xvZycpO1xuICAgIGFzeW5jLmRpciA9IF9jb25zb2xlX2ZuKCdkaXInKTtcbiAgICAvKmFzeW5jLmluZm8gPSBfY29uc29sZV9mbignaW5mbycpO1xuICAgIGFzeW5jLndhcm4gPSBfY29uc29sZV9mbignd2FybicpO1xuICAgIGFzeW5jLmVycm9yID0gX2NvbnNvbGVfZm4oJ2Vycm9yJyk7Ki9cblxuICAgIGFzeW5jLm1lbW9pemUgPSBmdW5jdGlvbiAoZm4sIGhhc2hlcikge1xuICAgICAgICB2YXIgbWVtbyA9IHt9O1xuICAgICAgICB2YXIgcXVldWVzID0ge307XG4gICAgICAgIGhhc2hlciA9IGhhc2hlciB8fCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICB2YXIga2V5ID0gaGFzaGVyLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGtleSBpbiBtZW1vKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgbWVtb1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSBpbiBxdWV1ZXMpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZXNba2V5XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXVlc1trZXldID0gW2NhbGxiYWNrXTtcbiAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtZW1vW2tleV0gPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxID0gcXVldWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBxdWV1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBxLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHFbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1lbW9pemVkLm1lbW8gPSBtZW1vO1xuICAgICAgICBtZW1vaXplZC51bm1lbW9pemVkID0gZm47XG4gICAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9O1xuXG4gICAgYXN5bmMudW5tZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKGZuLnVubWVtb2l6ZWQgfHwgZm4pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBhc3luYy50aW1lcyA9IGZ1bmN0aW9uIChjb3VudCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjb3VudGVyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY291bnRlci5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3luYy5tYXAoY291bnRlciwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMudGltZXNTZXJpZXMgPSBmdW5jdGlvbiAoY291bnQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgY291bnRlciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvdW50ZXIucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXN5bmMubWFwU2VyaWVzKGNvdW50ZXIsIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLmNvbXBvc2UgPSBmdW5jdGlvbiAoLyogZnVuY3Rpb25zLi4uICovKSB7XG4gICAgICAgIHZhciBmbnMgPSBBcnJheS5wcm90b3R5cGUucmV2ZXJzZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgYXN5bmMucmVkdWNlKGZucywgYXJncywgZnVuY3Rpb24gKG5ld2FyZ3MsIGZuLCBjYikge1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIG5ld2FyZ3MuY29uY2F0KFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0YXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgIGNiKGVyciwgbmV4dGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1dKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhhdCwgW2Vycl0uY29uY2F0KHJlc3VsdHMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgX2FwcGx5RWFjaCA9IGZ1bmN0aW9uIChlYWNoZm4sIGZucyAvKmFyZ3MuLi4qLykge1xuICAgICAgICB2YXIgZ28gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGVhY2hmbihmbnMsIGZ1bmN0aW9uIChmbiwgY2IpIHtcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzLmNvbmNhdChbY2JdKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgICAgIHJldHVybiBnby5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnbztcbiAgICAgICAgfVxuICAgIH07XG4gICAgYXN5bmMuYXBwbHlFYWNoID0gZG9QYXJhbGxlbChfYXBwbHlFYWNoKTtcbiAgICBhc3luYy5hcHBseUVhY2hTZXJpZXMgPSBkb1NlcmllcyhfYXBwbHlFYWNoKTtcblxuICAgIGFzeW5jLmZvcmV2ZXIgPSBmdW5jdGlvbiAoZm4sIGNhbGxiYWNrKSB7XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbihuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcblxuICAgIC8vIEFNRCAvIFJlcXVpcmVKU1xuICAgIGlmICh0eXBlb2YgZGVmaW5lICE9PSAndW5kZWZpbmVkJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gTm9kZS5qc1xuICAgIGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gYXN5bmM7XG4gICAgfVxuICAgIC8vIGluY2x1ZGVkIGRpcmVjdGx5IHZpYSA8c2NyaXB0PiB0YWdcbiAgICBlbHNlIHtcbiAgICAgICAgcm9vdC5hc3luYyA9IGFzeW5jO1xuICAgIH1cblxufSgpKTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG59LHtcIl9wcm9jZXNzXCI6MjB9XSwxODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5hcmd1bWVudHNbNF1bNV1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpXG59LHtcImR1cFwiOjV9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKVxufSx7XCJfcHJvY2Vzc1wiOjIwfV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cbn0se31dLDIxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cbn0se31dLDIyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7XCIuL3N1cHBvcnQvaXNCdWZmZXJcIjoyMSxcIl9wcm9jZXNzXCI6MjAsXCJpbmhlcml0c1wiOjZ9XSwyMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuLi8uLi9ub2RlX21vZHVsZXMvbmVkYi9pbmRleC5qcycpO1xuXG52YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRiID0ge307XG5kYi5zb25ncyA9IG5ldyBfaW5kZXgyLmRlZmF1bHQoeyBmaWxlbmFtZTogJ2RhdGFiYXNlL2Nhcm9zX3NvbmdzLmRiJyB9KTtcbmRiLmFydGlzdHMgPSBuZXcgX2luZGV4Mi5kZWZhdWx0KHsgZmlsZW5hbWU6ICdkYXRhYmFzZS9jYXJvc19hcnRpc3RzLmRiJyB9KTtcbmRiLmFsYnVtcyA9IG5ldyBfaW5kZXgyLmRlZmF1bHQoeyBmaWxlbmFtZTogJ2RhdGFiYXNlL2Nhcm9zX2FsYnVtcy5kYicgfSk7XG5cbmRiLnNvbmdzLmxvYWREYXRhYmFzZSgpO1xuZGIuYXJ0aXN0cy5sb2FkRGF0YWJhc2UoKTtcbmRiLmFsYnVtcy5sb2FkRGF0YWJhc2UoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgYWRkX211c2ljOiBmdW5jdGlvbiBhZGRfbXVzaWMoZGF0YSwgY2FsbGJhY2spIHtcbiAgICBjb25zb2xlLmxvZygnQWRkaW5nOiAnICsgZGF0YS5wYXRoKTtcbiAgICBpZiAoZGF0YS5hcnRpc3QpIHtcbiAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb25nID0geyB0aXRsZTogZGF0YS50aXRsZSwgcGF0aDogZGF0YS5wYXRoLCBudW1iZXI6IGRhdGEudHJhY2tudW0sIGR1cmF0aW9uOiBkYXRhLmR1cmF0aW9uIH07XG4gICAgICAgIHZhciBhcnRpc3QgPSB7IG5hbWU6IGRhdGEuYXJ0aXN0IH07XG4gICAgICAgIHZhciBhbGJ1bSA9IHsgdGl0bGU6IGRhdGEuYWxidW0sIGltYWdlOiBkYXRhLmltYWdlIH07XG5cbiAgICAgICAgZGIuc29uZ3MudXBkYXRlKHsgdGl0bGU6IHNvbmcudGl0bGUgfSwgeyB0aXRsZTogc29uZy50aXRsZSwgcGF0aDogc29uZy5wYXRoLCBudW1iZXI6IGRhdGEudHJhY2tudW0sIGR1cmF0aW9uOiBzb25nLmR1cmF0aW9uIH0sIHsgdXBzZXJ0OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIG51bSwgc29uZ0RvYykge1xuICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgICAgIHNvbmcuX2lkID0gc29uZ0RvYy5faWQ7XG4gICAgICAgICAgZGIuYXJ0aXN0cy51cGRhdGUoeyBuYW1lOiBhcnRpc3QubmFtZSB9LCB7IG5hbWU6IGFydGlzdC5uYW1lIH0sIHsgdXBzZXJ0OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIG51bSwgYXJ0aXN0RG9jKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICAgICAgICAgIGFydGlzdC5faWQgPSBhcnRpc3REb2MuX2lkO1xuICAgICAgICAgICAgZGIuYWxidW1zLnVwZGF0ZSh7IHRpdGxlOiBhbGJ1bS50aXRsZSB9LCB7IHRpdGxlOiBhbGJ1bS50aXRsZSwgYXJ0aXN0OiBhcnRpc3QuX2lkLCBpbWFnZTogYWxidW0uaW1hZ2UgfSwgeyB1cHNlcnQ6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgbnVtLCBhbGJ1bURvYykge1xuICAgICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICAgICAgICAgICAgYWxidW0uX2lkID0gYWxidW1Eb2MuX2lkO1xuXG4gICAgICAgICAgICAgIGRiLnNvbmdzLnVwZGF0ZSh7IF9pZDogc29uZy5faWQgfSwgeyB0aXRsZTogc29uZy50aXRsZSwgYXJ0aXN0OiBhcnRpc3QuX2lkLCBhbGJ1bTogYWxidW0uX2lkLCBwYXRoOiBzb25nLnBhdGgsIG51bWJlcjogZGF0YS50cmFja251bSwgZHVyYXRpb246IHNvbmcuZHVyYXRpb24gfSk7XG4gICAgICAgICAgICAgIGRiLmFydGlzdHMudXBkYXRlKHsgX2lkOiBhcnRpc3QuX2lkIH0sIHsgJGFkZFRvU2V0OiB7IHNvbmdzOiBzb25nLl9pZCwgYWxidW1zOiBhbGJ1bS5faWQgfSB9KTtcbiAgICAgICAgICAgICAgZGIuYWxidW1zLnVwZGF0ZSh7IF9pZDogYWxidW0uX2lkIH0sIHsgJGFkZFRvU2V0OiB7IHNvbmdzOiBzb25nLl9pZCB9IH0pO1xuXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSBpZiAoZGF0YS50aXRsZSAmJiAhZGF0YS5hcnRpc3QpIHtcbiAgICAgIGRiLnNvbmdzLnVwZGF0ZSh7IHRpdGxlOiBkYXRhLnRpdGxlIH0sIHsgdGl0bGU6IGRhdGEudGl0bGUsIHBhdGg6IGRhdGEucGF0aCB9LCB7IHVwc2VydDogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBudW0sIGRvYykge1xuICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0X3NvbmdzOiBmdW5jdGlvbiBnZXRfc29uZ3MoY2FsbGJhY2spIHtcbiAgICB2YXIgc29uZ3MgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGFydGlzdHMgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGFsYnVtcyA9IHVuZGVmaW5lZDtcblxuICAgIGRiLnNvbmdzLmZpbmQoe30pLnNvcnQoeyB0aXRsZTogMSB9KS5leGVjKGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgdmFyIHNvbmdzID0gZG9jcy5zb3J0KCk7XG5cbiAgICAgIGRiLmFydGlzdHMuZmluZCh7fSkuc29ydCh7IG5hbWU6IDEgfSkuZXhlYyhmdW5jdGlvbiAoZXJyLCBkb2NzKSB7XG4gICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgICB2YXIgYXJ0aXN0cyA9IGRvY3Muc29ydCgpO1xuXG4gICAgICAgIGRiLmFsYnVtcy5maW5kKHt9KS5zb3J0KHsgdGl0bGU6IDEgfSkuZXhlYyhmdW5jdGlvbiAoZXJyLCBkb2NzKSB7XG4gICAgICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICAgICAgdmFyIGFsYnVtcyA9IGRvY3Muc29ydCgpO1xuXG4gICAgICAgICAgY2FsbGJhY2soeyBhcnRpc3RzOiBhcnRpc3RzLCBhbGJ1bXM6IGFsYnVtcywgc29uZ3M6IHNvbmdzIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHByaW50X3NvbmdzOiBmdW5jdGlvbiBwcmludF9zb25ncygpIHtcbiAgICBkYi5hcnRpc3RzLmZpbmQoe30sIGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgY29uc29sZS5sb2coZG9jcyk7XG4gICAgfSk7XG5cbiAgICBkYi5hbGJ1bXMuZmluZCh7fSwgZnVuY3Rpb24gKGVyciwgZG9jcykge1xuICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICBjb25zb2xlLmxvZyhkb2NzKTtcbiAgICB9KTtcblxuICAgIGRiLnNvbmdzLmZpbmQoe30sIGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgY29uc29sZS5sb2coZG9jcyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcHJpbnRfb25lX3Nvbmc6IGZ1bmN0aW9uIHByaW50X29uZV9zb25nKHRpdGxlKSB7XG4gICAgZGIuc29uZ3MuZmluZE9uZSh7IHRpdGxlOiB0aXRsZSB9LCBmdW5jdGlvbiAoZXJyLCBkb2MpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRvYyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgZHJvcF9kYnM6IGZ1bmN0aW9uIGRyb3BfZGJzKCkge1xuICAgIGRiLmFydGlzdHMucmVtb3ZlKHt9LCB7IG11bHRpOiB0cnVlIH0pO1xuICAgIGRiLmFsYnVtcy5yZW1vdmUoe30sIHsgbXVsdGk6IHRydWUgfSk7XG4gICAgZGIuc29uZ3MucmVtb3ZlKHt9LCB7IG11bHRpOiB0cnVlIH0pO1xuICB9XG5cbn07XG5cbn0se1wiLi4vLi4vbm9kZV9tb2R1bGVzL25lZGIvaW5kZXguanNcIjoxMH1dLDI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9kYXRhYmFzZSA9IHJlcXVpcmUoJy4vZGF0YWJhc2UuanMnKTtcblxudmFyIG11c2ljU2Nyb2xsZXI7XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnQ2FyT1MnLCBbXSk7XG5cbmFwcC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRpbnRlcnZhbCcsIGZ1bmN0aW9uICgkc2NvcGUsICRpbnRlcnZhbCkge1xuICAkc2NvcGUubWFpbndpbmRvdyA9ICdtYWluLW1lbnUnO1xuICAkc2NvcGUud2luZG93U3RhY2sgPSBbJ21haW4tbWVudSddO1xuICAkc2NvcGUudGltZSA9IG1vbWVudCgpLmZvcm1hdCgnaDptbSBhJyk7XG4gICRzY29wZS5kYXRlID0gbW9tZW50KCkuZm9ybWF0KCdkZGQgLSBNTU0gRG8nKTtcbiAgJHNjb3BlLnlvc2Nyb2xsID0gZmFsc2U7XG5cbiAgJHNjb3BlLmdvQmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAkc2NvcGUud2luZG93U3RhY2sucG9wKCk7XG4gICAgJHNjb3BlLm1haW53aW5kb3cgPSAkc2NvcGUud2luZG93U3RhY2tbJHNjb3BlLndpbmRvd1N0YWNrLmxlbmd0aCAtIDFdO1xuICB9O1xuXG4gICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgJHNjb3BlLnRpbWUgPSBtb21lbnQoKS5mb3JtYXQoJ2g6bW0gYScpO1xuICB9LCAxMDAwKTtcblxuICAkaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICRzY29wZS5kYXRlID0gbW9tZW50KCkuZm9ybWF0KCdNTS9kZCcpO1xuICB9LCA0LjMyZSs3KTtcblxuICAkc2NvcGUubmF2aWdhdGUgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICRzY29wZS5tYWlud2luZG93ID0gY29udGV4dDtcbiAgfTtcbn1dKTtcblxuYXBwLmNvbnRyb2xsZXIoJ01haW5NZW51JywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7fV0pO1xuXG4vKioqKioqKioqKioqKioqXG4gIE11c2ljIENvbnRyb2xsZXJcbioqKioqKioqKioqKioqKi9cblxuYXBwLmNvbnRyb2xsZXIoJ011c2ljJywgWyckc2NvcGUnLCAnJGZpbHRlcicsICckdGltZW91dCcsICckaHR0cCcsICdNdXNpY1NlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkZmlsdGVyLCAkdGltZW91dCwgJGh0dHAsIE11c2ljU2VydmljZSkge1xuICAkc2NvcGUuc29uZ3MgPSBbXTtcbiAgJHNjb3BlLmFydGlzdHMgPSBbXTtcbiAgJHNjb3BlLmFsYnVtcyA9IFtdO1xuICAkc2NvcGUucGxheWluZyA9IGZhbHNlO1xuICAkc2NvcGUuYWN0aXZlID0ge1xuICAgIHNpZGVCYXI6ICcnLFxuICAgIGxpc3RWaWV3OiAnJyxcbiAgICBzb25nOiAnJ1xuICB9O1xuXG4gICRzY29wZS5jdXJyZW50QXJ0aXN0ID0geyBhcnRpc3Q6IG51bGwsIHNvbmdzOiBbXSB9O1xuXG4gICRodHRwKHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJy9kZW1vL2dldF9zb25ncydcbiAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgJHNjb3BlLmFydGlzdHMgPSByZXMuZGF0YS5hcnRpc3RzO1xuICAgICRzY29wZS5hbGJ1bXMgPSByZXMuZGF0YS5hbGJ1bXM7XG4gICAgJHNjb3BlLnNvbmdzID0gcmVzLmRhdGEuc29uZ3M7XG4gIH0pO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2UuY3VycmVudFNvbmc7XG4gIH0sIGZ1bmN0aW9uIChzb25nKSB7XG4gICAgJHNjb3BlLmN1cnJlbnRTb25nID0gc29uZztcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5jdXJyZW50QWxidW07XG4gIH0sIGZ1bmN0aW9uIChhbGJ1bSkge1xuICAgICRzY29wZS5jdXJyZW50QWxidW0gPSBhbGJ1bTtcbiAgfSk7XG5cbiAgJHNjb3BlLmNvbnRleHQgPSAnJztcbiAgJHNjb3BlLmNoYW5nZUNvbnRleHQgPSBmdW5jdGlvbiAoY3R4dCwgaW5kZXgpIHtcbiAgICAkc2NvcGUuY29udGV4dCA9IGN0eHQ7XG4gICAgJHNjb3BlLmN1cnJlbnRBcnRpc3QgPSB7IGFydGlzdDogbnVsbCwgYWxidW1zOiBbXSwgc29uZ3M6IFtdIH07XG4gICAgJHNjb3BlLmN1cnJlbnRBbGJ1bSA9IHt9O1xuICB9O1xuXG4gIC8vIGFydGlzdCB2aWV3c1xuICAkc2NvcGUuc2hvd0FsYnVtcyA9IGZ1bmN0aW9uIChhcnRpc3QsIGluZGV4KSB7XG4gICAgJHNjb3BlLmN1cnJlbnRBcnRpc3QgPSB7IGFydGlzdDogYXJ0aXN0LCBzb25nczogW10sIGFsYnVtczogW10gfTtcblxuICAgICRzY29wZS5hbGJ1bXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgYXJ0aXN0LmFsYnVtcy5mb3JFYWNoKGZ1bmN0aW9uIChhbCkge1xuICAgICAgICBpZiAoYS5faWQgPT09IGFsKSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdBbGJ1bSA9IHsgdGl0bGU6IGEudGl0bGUsIGltYWdlOiBhLmltYWdlLCBzb25nczogW10gfTtcblxuICAgICAgICAgICAgYS5zb25ncy5mb3JFYWNoKGZ1bmN0aW9uIChzbykge1xuICAgICAgICAgICAgICAkc2NvcGUuc29uZ3MuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIGlmIChzbyA9PT0gcy5faWQpIHtcbiAgICAgICAgICAgICAgICAgIG5ld0FsYnVtLnNvbmdzLnB1c2gocyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEFydGlzdC5hbGJ1bXMucHVzaChuZXdBbGJ1bSk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnNob3dTb25ncyA9IGZ1bmN0aW9uIChhbGJ1bSwgaW5kZXgpIHtcbiAgICAkc2NvcGUuY3VycmVudEFsYnVtID0geyB0aXRsZTogYWxidW0udGl0bGUsIGFydGlzdDogbnVsbCwgaW1hZ2U6IGFsYnVtLmltYWdlLCBzb25nczogW10gfTtcblxuICAgICRzY29wZS5hcnRpc3RzLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgIGlmIChhLl9pZCA9PT0gYWxidW0uYXJ0aXN0KSB7XG4gICAgICAgICRzY29wZS5jdXJyZW50QWxidW0uYXJ0aXN0ID0gYTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRBcnRpc3QuYXJ0aXN0ID0gYTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS5zb25ncy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICBhbGJ1bS5zb25ncy5mb3JFYWNoKGZ1bmN0aW9uIChzbykge1xuICAgICAgICBpZiAocy5faWQgPT09IHNvKSB7XG4gICAgICAgICAgJHNjb3BlLmN1cnJlbnRBbGJ1bS5zb25ncy5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuZ2V0QXJ0aXN0ID0gZnVuY3Rpb24gKGFydGlzdCkge1xuICAgIHZhciBuYW1lID0gJyc7XG4gICAgJHNjb3BlLmFydGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgaWYgKGEuX2lkID09PSBhcnRpc3QpIHtcbiAgICAgICAgbmFtZSA9IGEubmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBuYW1lO1xuICB9O1xuXG4gIC8vIGhhbmRsZSBzb25nIGNsaWNrXG4gICRzY29wZS5wbGF5U29uZyA9IGZ1bmN0aW9uIChzb25nLCBzb25nbGlzdCwgYWxidW0pIHtcbiAgICBpZiAoIXNvbmdsaXN0KSB7XG4gICAgICBzb25nbGlzdCA9ICRzY29wZS5zb25ncztcbiAgICB9XG5cbiAgICBpZiAoISRzY29wZS5jdXJyZW50QXJ0aXN0LmFydGlzdCkge1xuICAgICAgJHNjb3BlLmFydGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoYXIpIHtcbiAgICAgICAgaWYgKGFyLl9pZCA9PT0gc29uZy5hcnRpc3QpIHtcbiAgICAgICAgICAkc2NvcGUuY3VycmVudEFydGlzdC5hcnRpc3QgPSBhcjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhbGJ1bSA9PT0gJ251bWJlcicpIHtcbiAgICAgICRzY29wZS5hbGJ1bXMuZm9yRWFjaChmdW5jdGlvbiAoYWwpIHtcbiAgICAgICAgaWYgKGFsLl9pZCA9PT0gYWxidW0pIHtcbiAgICAgICAgICBNdXNpY1NlcnZpY2UucGxheVNvbmcoc29uZywgc29uZ2xpc3QsICRzY29wZS5jdXJyZW50QXJ0aXN0LCBhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBNdXNpY1NlcnZpY2UucGxheVNvbmcoc29uZywgc29uZ2xpc3QsICRzY29wZS5jdXJyZW50QXJ0aXN0LCBhbGJ1bSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5xdWV1ZVNvbmcgPSBmdW5jdGlvbiAoc29uZykge1xuICAgIE11c2ljU2VydmljZS5xdWV1ZVNvbmcoc29uZyk7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5zb25nbGlzdDtcbiAgfSwgZnVuY3Rpb24gKGxpc3QpIHtcbiAgICBpZiAobGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAkc2NvcGUucGxheWluZyA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5wbGF5aW5nID0gZmFsc2U7XG4gICAgfVxuICAgICRzY29wZS5zb25nbGlzdCA9IGFuZ3VsYXIuY29weShsaXN0KTtcbiAgfSwgdHJ1ZSk7XG59XSk7XG5cbi8qKioqKioqKioqKioqKipcbiAgU2V0dGluZ3MgQ3RybFxuKioqKioqKioqKioqKioqL1xuXG5hcHAuY29udHJvbGxlcignU2V0dGluZ3MnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgJHNjb3BlLnNldHRpbmdzID0ge307XG5cbiAgJHNjb3BlLnJlZnJlc2hNdXNpYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBmYWtlIHJlZnJlc2hcbiAgfTtcbn1dKTtcblxuLyoqKioqKioqKioqKioqKlxuICBQbGF5ZXIgQ3RybFxuKioqKioqKioqKioqKioqL1xuXG5hcHAuY29udHJvbGxlcignUGxheWVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJywgJ011c2ljU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRpbnRlcnZhbCwgTXVzaWNTZXJ2aWNlKSB7XG4gIHZhciBzb25nbGlzdCA9IE11c2ljU2VydmljZS5zb25nbGlzdDtcbiAgdmFyIHBsYXllciA9IHVuZGVmaW5lZCxcbiAgICAgIHRpbWVyID0gdW5kZWZpbmVkO1xuXG4gICRzY29wZS5kdXJhdGlvbiA9IDA7XG4gICRzY29wZS5wbGF5bGlzdCA9IFtdO1xuXG4gICRzY29wZS5zY3J1YmJlciA9IHt9O1xuICAkc2NvcGUuc2NydWJiZXIudmFsdWUgPSAnMCc7XG5cbiAgJHNjb3BlLnBsYXlpbmcgPSBmYWxzZTtcbiAgJHNjb3BlLnNvbmdsaXN0ID0gW107XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5kdXJhdGlvbjtcbiAgfSwgZnVuY3Rpb24gKGR1cikge1xuICAgICRzY29wZS5kdXJhdGlvbiA9IE1hdGgucm91bmQoZHVyKTtcbiAgICBpZiAoZHVyID4gMSkge1xuICAgICAgdGltZXIgPSAkaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuc2NydWJiZXIudmFsdWUgPSBNYXRoLmZsb29yKE11c2ljU2VydmljZS5wbGF5ZXIuY3VycmVudFRpbWUpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9LCB0cnVlKTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLnBhdXNlZDtcbiAgfSwgZnVuY3Rpb24gKHBhdXNlZCkge1xuICAgICRzY29wZS5wYXVzZWQgPSBwYXVzZWQ7XG4gIH0pO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2Uuc29uZ2xpc3Q7XG4gIH0sIGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgaWYgKGxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgJHNjb3BlLnBsYXlpbmcgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUucGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAkc2NvcGUuc29uZ2xpc3QgPSBhbmd1bGFyLmNvcHkobGlzdCk7XG4gIH0sIHRydWUpO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2UuY3VycmVudFNvbmc7XG4gIH0sIGZ1bmN0aW9uIChzb25nKSB7XG4gICAgJHNjb3BlLmN1cnJlbnRTb25nID0gc29uZztcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5jdXJyZW50QXJ0aXN0O1xuICB9LCBmdW5jdGlvbiAoYXJ0aXN0KSB7XG4gICAgJHNjb3BlLmN1cnJlbnRBcnRpc3QgPSBhcnRpc3Q7XG4gIH0pO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2UuY3VycmVudEFsYnVtO1xuICB9LCBmdW5jdGlvbiAoYWxidW0pIHtcbiAgICAkc2NvcGUuY3VycmVudEFsYnVtID0gYWxidW07XG4gIH0pO1xuXG4gIC8vIG5vbi1pbnRlcmFjdGFibGUgc2NydWJiZXIgZm9yIHNtYWxsLXBsYXllclxuICAvLyBzY3J1YmJlciB3aWR0aCBpcyBkdXJhdGlvbiAvIHNjcnViYmVyIHZhbHVlIGFzIHBlcmNlbnRhZ2VcbiAgJHNjb3BlLnNjcnViYmVyV2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCRzY29wZS5kdXJhdGlvbiA+IDEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFwid2lkdGhcIjogJHNjb3BlLnNjcnViYmVyLnZhbHVlIC8gJHNjb3BlLmR1cmF0aW9uICogMTAwICsgJyUnXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuc2hvd0Z1bGxQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCgnI3BsYXllcicpLmFuaW1hdGUoe1xuICAgICAgYm90dG9tOiAnJ1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5zZWVrID0gZnVuY3Rpb24gKHNlZWtUbykge1xuICAgIE11c2ljU2VydmljZS5zZWVrKHNlZWtUbyk7XG4gIH07XG5cbiAgJHNjb3BlLnBsYXlQYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJHNjb3BlLnBhdXNlZCkge1xuICAgICAgTXVzaWNTZXJ2aWNlLnBsYXkoKTtcbiAgICAgIHRpbWVyID0gJGludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLnNjcnViYmVyLnZhbHVlID0gTWF0aC5mbG9vcihNdXNpY1NlcnZpY2UucGxheWVyLmN1cnJlbnRUaW1lKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBNdXNpY1NlcnZpY2UucGF1c2UoKTtcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwodGltZXIpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZmFzdEZvcndhcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgTXVzaWNTZXJ2aWNlLmZhc3RGb3J3YXJkKCRzY29wZS5jdXJyZW50U29uZy5udW1iZXIpO1xuICB9O1xuXG4gICRzY29wZS5yZXdpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgTXVzaWNTZXJ2aWNlLnJld2luZCgkc2NvcGUuY3VycmVudFNvbmcubnVtYmVyKTtcbiAgfTtcblxuICAkc2NvcGUucHJldlNvbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgTXVzaWNTZXJ2aWNlLnByZXZTb25nKCRzY29wZS5jdXJyZW50U29uZy5udW1iZXIpO1xuICB9O1xufV0pO1xuXG4vKioqKioqKioqKioqKioqXG4gIE11c2ljIFNlcnZpY2VcbioqKioqKioqKioqKioqKi9cblxuYXBwLmZhY3RvcnkoJ011c2ljU2VydmljZScsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBzb25nbGlzdDogW10sXG4gICAgcGxheWVyOiBuZXcgQXVkaW8oKSxcbiAgICBkdXJhdGlvbjogMSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHBsYXlpbmc6IGZhbHNlLFxuICAgIGN1cnJlbnRTb25nOiB7fSxcbiAgICBjdXJyZW50QXJ0aXN0OiB7fSxcbiAgICBjdXJyZW50QWxidW06IHt9LFxuICAgIGdldER1cmF0aW9uOiBmdW5jdGlvbiBnZXREdXJhdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmR1cmF0aW9uO1xuICAgIH0sXG4gICAgcGxheVNvbmc6IGZ1bmN0aW9uIHBsYXlTb25nKHNvbmcsIHNvbmdsaXN0LCBjdXJyZW50QXJ0aXN0LCBjdXJyZW50QWxidW0pIHtcblxuICAgICAgdGhpcy5zb25nbGlzdCA9IHNvbmdsaXN0LnNvbmdzO1xuXG4gICAgICB0aGlzLmN1cnJlbnRTb25nID0gc29uZztcbiAgICAgIGlmIChjdXJyZW50QWxidW0pIHtcbiAgICAgICAgdGhpcy5jdXJyZW50QWxidW0gPSBjdXJyZW50QWxidW07XG4gICAgICB9IGVsc2UgaWYgKHNvbmdsaXN0ICYmIHNvbmdsaXN0LmltYWdlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudEFsYnVtID0gc29uZ2xpc3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50QXJ0aXN0KSB0aGlzLmN1cnJlbnRBcnRpc3QgPSBjdXJyZW50QXJ0aXN0O1xuXG4gICAgICB0aGlzLmFkZEV2ZW50KCk7XG4gICAgICB0aGlzLnBsYXkoc29uZy5wYXRoLnJlcGxhY2UoL1xcIy9pZywgJyUyMycpKTtcbiAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgfSxcbiAgICBnZXRDdXJyZW50VGltZTogZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuY3VycmVudFRpbWU7XG4gICAgfSxcbiAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KHBhdGgpIHtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHRoaXMucGxheWVyLnNyYyA9IHBhdGg7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheWVyLnBsYXkoKTtcbiAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG5cbiAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBVcGRhdGUgZnRzY3JvbGxlciBkaXYgdG8gbm90IGhpZGUgY29udGVudCBiZWhpbmQgbXVzaWMgcGxheWVyIGJ5IG1ha2luZyBzY3JvbGwgaGVpZ2h0ICsxMDBweFxuICAgICAgICB2YXIgc2Nyb2xsZXJIZWlnaHQgPSAkKG11c2ljU2Nyb2xsZXIuY29udGVudENvbnRhaW5lck5vZGUpLmhlaWdodCgpO1xuICAgICAgICB2YXIgc2Nyb2xsZXJXaWR0aCA9ICQobXVzaWNTY3JvbGxlci5jb250ZW50Q29udGFpbmVyTm9kZSkud2lkdGgoKTtcblxuICAgICAgICBtdXNpY1Njcm9sbGVyLnVwZGF0ZURpbWVuc2lvbnMoc2Nyb2xsZXJXaWR0aCwgc2Nyb2xsZXJIZWlnaHQgKyAxMDAsIHRydWUpO1xuICAgICAgfSwgMTAwKTtcblxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdGhpcy5wbGF5ZXIub25lbmRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoYXQuc29uZ2xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBpbmRleCA9IHRoYXQuc29uZ2xpc3QuaW5kZXhPZih0aGF0LmN1cnJlbnRTb25nKSArIDE7XG4gICAgICAgICAgdmFyIHNvbmcgPSB0aGF0LnNvbmdsaXN0W2luZGV4XTtcblxuICAgICAgICAgIHRoYXQuY3VycmVudFNvbmcgPSBzb25nO1xuICAgICAgICAgIC8vIHRoYXQuY3VycmVudEFydGlzdCA9IHNvbmcuYXJ0aXN0O1xuICAgICAgICAgIHRoYXQucGxheWVyLnNyYyA9IHNvbmcucGF0aDtcbiAgICAgICAgICB0aGF0LnBsYXllci5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICB0aGlzLnBsYXllci5wYXVzZSgpO1xuICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgc2VlazogZnVuY3Rpb24gc2VlayhzZWVrVG8pIHtcbiAgICAgIHRoaXMucGxheWVyLmN1cnJlbnRUaW1lID0gc2Vla1RvO1xuICAgIH0sXG4gICAgZmFzdEZvcndhcmQ6IGZ1bmN0aW9uIGZhc3RGb3J3YXJkKGluZGV4KSB7XG4gICAgICB2YXIgc29uZyA9IHRoaXMuc29uZ2xpc3RbaW5kZXhdO1xuXG4gICAgICB0aGlzLnBsYXlTb25nKHNvbmcpO1xuICAgIH0sXG4gICAgcmV3aW5kOiBmdW5jdGlvbiByZXdpbmQoaW5kZXgpIHtcbiAgICAgIHZhciBzb25nID0gdGhpcy5zb25nbGlzdFtpbmRleCAtIDFdO1xuXG4gICAgICB0aGlzLnBsYXlTb25nKHNvbmcpO1xuICAgIH0sXG4gICAgcHJldlNvbmc6IGZ1bmN0aW9uIHByZXZTb25nKGluZGV4KSB7XG4gICAgICB2YXIgc29uZyA9IHRoaXMuc29uZ2xpc3RbaW5kZXggLSAyXTtcblxuICAgICAgdGhpcy5wbGF5U29uZyhzb25nKTtcbiAgICB9LFxuICAgIGFkZEV2ZW50OiBmdW5jdGlvbiBhZGRFdmVudCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5kdXJhdGlvbiA9IF90aGlzLnBsYXllci5kdXJhdGlvbjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hcHAuZmlsdGVyKCd0aW1lY29kZScsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKGlucHV0IC8gNjApIDwgMTAgPyAnMCcgKyBNYXRoLmZsb29yKGlucHV0IC8gNjApIDogTWF0aC5mbG9vcihpbnB1dCAvIDYwKTtcbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoaW5wdXQgJSA2MCkgPCAxMCA/ICcwJyArIE1hdGguZmxvb3IoaW5wdXQgJSA2MCkgOiBNYXRoLmZsb29yKGlucHV0ICUgNjApO1xuICAgIHJldHVybiBtaW4gKyAnOicgKyBzZWNvbmRzO1xuICB9O1xufSk7XG5cbi8vIGZ0c2Nyb2xsZXJcbi8vIHtcbi8vICAgdmFyIHNjcm9sbGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXVzaWMtY29udGVudCcpO1xuLy8gICBtdXNpY1Njcm9sbGVyID0gbmV3IEZUU2Nyb2xsZXIoc2Nyb2xsYWJsZSwge1xuLy8gICAgIHNjcm9sbGJhcnM6IGZhbHNlLFxuLy8gICAgIHNjcm9sbGluZ1g6IGZhbHNlXG4vLyAgIH0pO1xuLy8gfVxuXG52YXIgZHJvcERhdGEgPSBmdW5jdGlvbiBkcm9wRGF0YSgpIHtcbiAgZHJvcF9kYnMoKTtcbn07XG5cbn0se1wiLi9kYXRhYmFzZS5qc1wiOjIzfV19LHt9LFsyNF0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
