!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports.BinarySearchTree=require("./lib/bst"),module.exports.AVLTree=require("./lib/avltree")},{"./lib/avltree":2,"./lib/bst":3}],2:[function(require,module,exports){function AVLTree(options){this.tree=new _AVLTree(options)}function _AVLTree(options){options=options||{},this.left=null,this.right=null,this.parent=void 0!==options.parent?options.parent:null,options.hasOwnProperty("key")&&(this.key=options.key),this.data=options.hasOwnProperty("value")?[options.value]:[],this.unique=options.unique||!1,this.compareKeys=options.compareKeys||customUtils.defaultCompareKeysFunction,this.checkValueEquality=options.checkValueEquality||customUtils.defaultCheckValueEquality}var BinarySearchTree=require("./bst"),customUtils=require("./customUtils"),util=require("util");require("underscore");util.inherits(_AVLTree,BinarySearchTree),AVLTree._AVLTree=_AVLTree,_AVLTree.prototype.checkHeightCorrect=function(){var leftH,rightH;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw"Undefined height for node "+this.left.key;if(this.right&&void 0===this.right.height)throw"Undefined height for node "+this.right.key;if(void 0===this.height)throw"Undefined height for node "+this.key;if(leftH=this.left?this.left.height:0,rightH=this.right?this.right.height:0,this.height!==1+Math.max(leftH,rightH))throw"Height constraint failed for node "+this.key;this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},_AVLTree.prototype.balanceFactor=function(){var leftH=this.left?this.left.height:0,rightH=this.right?this.right.height:0;return leftH-rightH},_AVLTree.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw"Tree is unbalanced at node "+this.key;this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},_AVLTree.prototype.checkIsAVLT=function(){_AVLTree.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},AVLTree.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},_AVLTree.prototype.rightRotation=function(){var b,ah,bh,ch,q=this,p=this.left;return p?(b=p.right,q.parent?(p.parent=q.parent,q.parent.left===q?q.parent.left=p:q.parent.right=p):p.parent=null,p.right=q,q.parent=p,q.left=b,b&&(b.parent=q),ah=p.left?p.left.height:0,bh=b?b.height:0,ch=q.right?q.right.height:0,q.height=Math.max(bh,ch)+1,p.height=Math.max(ah,q.height)+1,p):this},_AVLTree.prototype.leftRotation=function(){var b,ah,bh,ch,p=this,q=this.right;return q?(b=q.left,p.parent?(q.parent=p.parent,p.parent.left===p?p.parent.left=q:p.parent.right=q):q.parent=null,q.left=p,p.parent=q,p.right=b,b&&(b.parent=p),ah=p.left?p.left.height:0,bh=b?b.height:0,ch=q.right?q.right.height:0,p.height=Math.max(ah,bh)+1,q.height=Math.max(ch,p.height)+1,q):this},_AVLTree.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},_AVLTree.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},_AVLTree.prototype.rebalanceAlongPath=function(path){var rotated,i,newRoot=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(i=path.length-1;i>=0;i-=1)path[i].height=1+Math.max(path[i].left?path[i].left.height:0,path[i].right?path[i].right.height:0),path[i].balanceFactor()>1&&(rotated=path[i].rightTooSmall(),0===i&&(newRoot=rotated)),path[i].balanceFactor()<-1&&(rotated=path[i].leftTooSmall(),0===i&&(newRoot=rotated));return newRoot},_AVLTree.prototype.insert=function(key,value){var insertPath=[],currentNode=this;if(!this.hasOwnProperty("key"))return this.key=key,this.data.push(value),this.height=1,this;for(;;){if(0===currentNode.compareKeys(currentNode.key,key)){if(currentNode.unique)throw{message:"Can't insert key "+key+", it violates the unique constraint",key:key,errorType:"uniqueViolated"};return currentNode.data.push(value),this}if(insertPath.push(currentNode),currentNode.compareKeys(key,currentNode.key)<0){if(!currentNode.left){insertPath.push(currentNode.createLeftChild({key:key,value:value}));break}currentNode=currentNode.left}else{if(!currentNode.right){insertPath.push(currentNode.createRightChild({key:key,value:value}));break}currentNode=currentNode.right}}return this.rebalanceAlongPath(insertPath)},AVLTree.prototype.insert=function(key,value){var newTree=this.tree.insert(key,value);newTree&&(this.tree=newTree)},_AVLTree.prototype["delete"]=function(key,value){var replaceWith,newData=[],currentNode=this,deletePath=[];if(!this.hasOwnProperty("key"))return this;for(;;){if(0===currentNode.compareKeys(key,currentNode.key))break;if(deletePath.push(currentNode),currentNode.compareKeys(key,currentNode.key)<0){if(!currentNode.left)return this;currentNode=currentNode.left}else{if(!currentNode.right)return this;currentNode=currentNode.right}}if(currentNode.data.length>1&&value)return currentNode.data.forEach(function(d){currentNode.checkValueEquality(d,value)||newData.push(d)}),currentNode.data=newData,this;if(!currentNode.left&&!currentNode.right)return currentNode===this?(delete currentNode.key,currentNode.data=[],delete currentNode.height,this):(currentNode.parent.left===currentNode?currentNode.parent.left=null:currentNode.parent.right=null,this.rebalanceAlongPath(deletePath));if(!currentNode.left||!currentNode.right)return replaceWith=currentNode.left?currentNode.left:currentNode.right,currentNode===this?(replaceWith.parent=null,replaceWith):(currentNode.parent.left===currentNode?(currentNode.parent.left=replaceWith,replaceWith.parent=currentNode.parent):(currentNode.parent.right=replaceWith,replaceWith.parent=currentNode.parent),this.rebalanceAlongPath(deletePath));if(deletePath.push(currentNode),replaceWith=currentNode.left,!replaceWith.right)return currentNode.key=replaceWith.key,currentNode.data=replaceWith.data,currentNode.left=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=currentNode),this.rebalanceAlongPath(deletePath);for(;;){if(!replaceWith.right)break;deletePath.push(replaceWith),replaceWith=replaceWith.right}return currentNode.key=replaceWith.key,currentNode.data=replaceWith.data,replaceWith.parent.right=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent),this.rebalanceAlongPath(deletePath)},AVLTree.prototype["delete"]=function(key,value){var newTree=this.tree["delete"](key,value);newTree&&(this.tree=newTree)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(fn){AVLTree.prototype[fn]=function(){return this.tree[fn].apply(this.tree,arguments)}}),module.exports=AVLTree},{"./bst":3,"./customUtils":4,underscore:5,util:22}],3:[function(require,module,exports){function BinarySearchTree(options){options=options||{},this.left=null,this.right=null,this.parent=void 0!==options.parent?options.parent:null,options.hasOwnProperty("key")&&(this.key=options.key),this.data=options.hasOwnProperty("value")?[options.value]:[],this.unique=options.unique||!1,this.compareKeys=options.compareKeys||customUtils.defaultCompareKeysFunction,this.checkValueEquality=options.checkValueEquality||customUtils.defaultCheckValueEquality}function append(array,toAppend){var i;for(i=0;i<toAppend.length;i+=1)array.push(toAppend[i])}var customUtils=require("./customUtils");BinarySearchTree.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},BinarySearchTree.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},BinarySearchTree.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},BinarySearchTree.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},BinarySearchTree.prototype.checkAllNodesFullfillCondition=function(test){this.hasOwnProperty("key")&&(test(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(test),this.right&&this.right.checkAllNodesFullfillCondition(test))},BinarySearchTree.prototype.checkNodeOrdering=function(){var self=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(k){if(self.compareKeys(k,self.key)>=0)throw"Tree with root "+self.key+" is not a binary search tree"}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(k){if(self.compareKeys(k,self.key)<=0)throw"Tree with root "+self.key+" is not a binary search tree"}),this.right.checkNodeOrdering()))},BinarySearchTree.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw"Parent pointer broken for key "+this.key;this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw"Parent pointer broken for key "+this.key;this.right.checkInternalPointers()}},BinarySearchTree.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw"The root shouldn't have a parent"},BinarySearchTree.prototype.getNumberOfKeys=function(){var res;return this.hasOwnProperty("key")?(res=1,this.left&&(res+=this.left.getNumberOfKeys()),this.right&&(res+=this.right.getNumberOfKeys()),res):0},BinarySearchTree.prototype.createSimilar=function(options){return options=options||{},options.unique=this.unique,options.compareKeys=this.compareKeys,options.checkValueEquality=this.checkValueEquality,new this.constructor(options)},BinarySearchTree.prototype.createLeftChild=function(options){var leftChild=this.createSimilar(options);return leftChild.parent=this,this.left=leftChild,leftChild},BinarySearchTree.prototype.createRightChild=function(options){var rightChild=this.createSimilar(options);return rightChild.parent=this,this.right=rightChild,rightChild},BinarySearchTree.prototype.insert=function(key,value){if(!this.hasOwnProperty("key"))return this.key=key,void this.data.push(value);if(0===this.compareKeys(this.key,key)){if(this.unique)throw{message:"Can't insert key "+key+", it violates the unique constraint",key:key,errorType:"uniqueViolated"};return void this.data.push(value)}this.compareKeys(key,this.key)<0?this.left?this.left.insert(key,value):this.createLeftChild({key:key,value:value}):this.right?this.right.insert(key,value):this.createRightChild({key:key,value:value})},BinarySearchTree.prototype.search=function(key){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,key)?this.data:this.compareKeys(key,this.key)<0?this.left?this.left.search(key):[]:this.right?this.right.search(key):[]:[]},BinarySearchTree.prototype.getLowerBoundMatcher=function(query){var self=this;return query.hasOwnProperty("$gt")||query.hasOwnProperty("$gte")?query.hasOwnProperty("$gt")&&query.hasOwnProperty("$gte")?0===self.compareKeys(query.$gte,query.$gt)?function(key){return self.compareKeys(key,query.$gt)>0}:self.compareKeys(query.$gte,query.$gt)>0?function(key){return self.compareKeys(key,query.$gte)>=0}:function(key){return self.compareKeys(key,query.$gt)>0}:query.hasOwnProperty("$gt")?function(key){return self.compareKeys(key,query.$gt)>0}:function(key){return self.compareKeys(key,query.$gte)>=0}:function(){return!0}},BinarySearchTree.prototype.getUpperBoundMatcher=function(query){var self=this;return query.hasOwnProperty("$lt")||query.hasOwnProperty("$lte")?query.hasOwnProperty("$lt")&&query.hasOwnProperty("$lte")?0===self.compareKeys(query.$lte,query.$lt)?function(key){return self.compareKeys(key,query.$lt)<0}:self.compareKeys(query.$lte,query.$lt)<0?function(key){return self.compareKeys(key,query.$lte)<=0}:function(key){return self.compareKeys(key,query.$lt)<0}:query.hasOwnProperty("$lt")?function(key){return self.compareKeys(key,query.$lt)<0}:function(key){return self.compareKeys(key,query.$lte)<=0}:function(){return!0}},BinarySearchTree.prototype.betweenBounds=function(query,lbm,ubm){var res=[];return this.hasOwnProperty("key")?(lbm=lbm||this.getLowerBoundMatcher(query),ubm=ubm||this.getUpperBoundMatcher(query),lbm(this.key)&&this.left&&append(res,this.left.betweenBounds(query,lbm,ubm)),lbm(this.key)&&ubm(this.key)&&append(res,this.data),ubm(this.key)&&this.right&&append(res,this.right.betweenBounds(query,lbm,ubm)),res):[]},BinarySearchTree.prototype.deleteIfLeaf=function(){return this.left||this.right?!1:this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0)},BinarySearchTree.prototype.deleteIfOnlyOneChild=function(){var child;return this.left&&!this.right&&(child=this.left),!this.left&&this.right&&(child=this.right),child?this.parent?(this.parent.left===this?(this.parent.left=child,child.parent=this.parent):(this.parent.right=child,child.parent=this.parent),!0):(this.key=child.key,this.data=child.data,this.left=null,child.left&&(this.left=child.left,child.left.parent=this),this.right=null,child.right&&(this.right=child.right,child.right.parent=this),!0):!1},BinarySearchTree.prototype["delete"]=function(key,value){var replaceWith,newData=[],self=this;if(this.hasOwnProperty("key")){if(this.compareKeys(key,this.key)<0)return void(this.left&&this.left["delete"](key,value));if(this.compareKeys(key,this.key)>0)return void(this.right&&this.right["delete"](key,value));if(0!==!this.compareKeys(key,this.key))return this.data.length>1&&void 0!==value?(this.data.forEach(function(d){self.checkValueEquality(d,value)||newData.push(d)}),void(self.data=newData)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(replaceWith=this.left.getMaxKeyDescendant(),this.key=replaceWith.key,this.data=replaceWith.data,this===replaceWith.parent?(this.left=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent)):(replaceWith.parent.right=replaceWith.left,replaceWith.left&&(replaceWith.left.parent=replaceWith.parent))):(replaceWith=this.right.getMinKeyDescendant(),this.key=replaceWith.key,this.data=replaceWith.data,this===replaceWith.parent?(this.right=replaceWith.right,replaceWith.right&&(replaceWith.right.parent=replaceWith.parent)):(replaceWith.parent.left=replaceWith.right,replaceWith.right&&(replaceWith.right.parent=replaceWith.parent)))))}},BinarySearchTree.prototype.executeOnEveryNode=function(fn){this.left&&this.left.executeOnEveryNode(fn),fn(this),this.right&&this.right.executeOnEveryNode(fn)},BinarySearchTree.prototype.prettyPrint=function(printData,spacing){spacing=spacing||"",console.log(spacing+"* "+this.key),printData&&console.log(spacing+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(printData,spacing+"  "):console.log(spacing+"  *"),this.right?this.right.prettyPrint(printData,spacing+"  "):console.log(spacing+"  *"))},module.exports=BinarySearchTree},{"./customUtils":4}],4:[function(require,module,exports){function getRandomArray(n){var res,next;return 0===n?[]:1===n?[0]:(res=getRandomArray(n-1),next=Math.floor(Math.random()*n),res.splice(next,0,n-1),res)}function defaultCompareKeysFunction(a,b){if(b>a)return-1;if(a>b)return 1;if(a===b)return 0;throw{message:"Couldn't compare elements",a:a,b:b}}function defaultCheckValueEquality(a,b){return a===b}module.exports.getRandomArray=getRandomArray,module.exports.defaultCompareKeysFunction=defaultCompareKeysFunction,module.exports.defaultCheckValueEquality=defaultCheckValueEquality},{}],5:[function(require,module,exports){(function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.4.4";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;l>i;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){return iterator.call(context,value,index,list)?(result=value,!0):void 0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&(results[results.length]=value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){return(result=result&&iterator.call(context,value,index,list))?void 0:breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){return result||(result=iterator.call(context,value,index,list))?breaker:void 0}),!!result)};_.contains=_.include=function(obj,target){return null==obj?!1:nativeIndexOf&&obj.indexOf===nativeIndexOf?-1!=obj.indexOf(target):any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?null:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-(1/0);var result={computed:-(1/0),value:-(1/0)};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index<right.index?-1:1}),"value")};var group=function(obj,value,context,behavior){var result={},iterator=lookupIterator(value||_.identity);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)})},_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){_.has(result,key)||(result[key]=0),result[key]++})},_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;high>low;){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return null!=array?null==n||guard?array[0]:slice.call(array,0,n):void 0},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){return null!=array?null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0)):void 0},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return each(input,function(value){_.isArray(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=new Array(length),i=0;length>i;i++)results[i]=_.pluck(args,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,l=list.length;l>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,l=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=0>isSorted?Math.max(0,l+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;l>i;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;for(var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(len);len>idx;)range[idx++]=start,start+=step;return range},_.bind=function(func,context){if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));var args=slice.call(arguments,2);return function(){return func.apply(context,args.concat(slice.call(arguments)))}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);return 0===funcs.length&&(funcs=_.functions(obj)),each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,result,previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return 0>=times?func():function(){return--times<1?func.apply(this,arguments):void 0}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&(keys[keys.length]=key);return keys},_.values=function(obj){var values=[];for(var key in obj)_.has(obj,key)&&values.push(obj[key]);return values},_.pairs=function(obj){var pairs=[];for(var key in obj)_.has(obj,key)&&pairs.push([key,obj[key]]);return pairs},_.invert=function(obj){var result={};for(var key in obj)_.has(obj,key)&&(result[obj[key]]=key);return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)null==obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(obj){return"function"==typeof obj}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(n),i=0;n>i;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;",
"/":"&#x2F;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null==object)return null;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],6:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],7:[function(require,module,exports){(function(process,global){!function(){var define,requireModule,require,requirejs;!function(){var registry={},seen={};define=function(name,deps,callback){registry[name]={deps:deps,callback:callback}},requirejs=require=requireModule=function(name){function resolve(child){if("."!==child.charAt(0))return child;for(var parts=child.split("/"),parentBase=name.split("/").slice(0,-1),i=0,l=parts.length;l>i;i++){var part=parts[i];if(".."===part)parentBase.pop();else{if("."===part)continue;parentBase.push(part)}}return parentBase.join("/")}if(requirejs._eak_seen=registry,seen[name])return seen[name];if(seen[name]={},!registry[name])throw new Error("Could not find module "+name);for(var exports,mod=registry[name],deps=mod.deps,callback=mod.callback,reified=[],i=0,l=deps.length;l>i;i++)"exports"===deps[i]?reified.push(exports={}):reified.push(requireModule(resolve(deps[i])));var value=callback.apply(this,reified);return seen[name]=exports||value}}(),define("promise/all",["./utils","exports"],function(__dependency1__,__exports__){"use strict";function all(promises){var Promise=this;if(!isArray(promises))throw new TypeError("You must pass an array to all.");return new Promise(function(resolve,reject){function resolver(index){return function(value){resolveAll(index,value)}}function resolveAll(index,value){results[index]=value,0===--remaining&&resolve(results)}var promise,results=[],remaining=promises.length;0===remaining&&resolve([]);for(var i=0;i<promises.length;i++)promise=promises[i],promise&&isFunction(promise.then)?promise.then(resolver(i),reject):resolveAll(i,promise)})}var isArray=__dependency1__.isArray,isFunction=__dependency1__.isFunction;__exports__.all=all}),define("promise/asap",["exports"],function(__exports__){"use strict";function useNextTick(){return function(){process.nextTick(flush)}}function useMutationObserver(){var iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function useSetTimeout(){return function(){local.setTimeout(flush,1)}}function flush(){for(var i=0;i<queue.length;i++){var tuple=queue[i],callback=tuple[0],arg=tuple[1];callback(arg)}queue=[]}function asap(callback,arg){var length=queue.push([callback,arg]);1===length&&scheduleFlush()}var scheduleFlush,browserGlobal="undefined"!=typeof window?window:{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,local="undefined"!=typeof global?global:void 0===this?window:this,queue=[];scheduleFlush="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?useNextTick():BrowserMutationObserver?useMutationObserver():useSetTimeout(),__exports__.asap=asap}),define("promise/config",["exports"],function(__exports__){"use strict";function configure(name,value){return 2!==arguments.length?config[name]:void(config[name]=value)}var config={instrument:!1};__exports__.config=config,__exports__.configure=configure}),define("promise/polyfill",["./promise","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";function polyfill(){var local;local="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var es6PromiseSupport="Promise"in local&&"resolve"in local.Promise&&"reject"in local.Promise&&"all"in local.Promise&&"race"in local.Promise&&function(){var resolve;return new local.Promise(function(r){resolve=r}),isFunction(resolve)}();es6PromiseSupport||(local.Promise=RSVPPromise)}var RSVPPromise=__dependency1__.Promise,isFunction=__dependency2__.isFunction;__exports__.polyfill=polyfill}),define("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";function Promise(resolver){if(!isFunction(resolver))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Promise))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],invokeResolver(resolver,this)}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=isFunction(callback);if(hasCallback)try{value=callback(detail),succeeded=!0}catch(e){failed=!0,error=e}else value=detail,succeeded=!0;handleThenable(promise,value)||(hasCallback&&succeeded?resolve(promise,value):failed?reject(promise,error):settled===FULFILLED?resolve(promise,value):settled===REJECTED&&reject(promise,value))}function subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;subscribers[length]=child,subscribers[length+FULFILLED]=onFulfillment,subscribers[length+REJECTED]=onRejection}function publish(promise,settled){for(var child,callback,subscribers=promise._subscribers,detail=promise._detail,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],invokeCallback(settled,child,callback,detail);promise._subscribers=null}function handleThenable(promise,value){var resolved,then=null;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(objectOrFunction(value)&&(then=value.then,isFunction(then)))return then.call(value,function(val){return resolved?!0:(resolved=!0,void(value!==val?resolve(promise,val):fulfill(promise,val)))},function(val){return resolved?!0:(resolved=!0,void reject(promise,val))}),!0}catch(error){return resolved?!0:(reject(promise,error),!0)}return!1}function resolve(promise,value){promise===value?fulfill(promise,value):handleThenable(promise,value)||fulfill(promise,value)}function fulfill(promise,value){promise._state===PENDING&&(promise._state=SEALED,promise._detail=value,config.async(publishFulfillment,promise))}function reject(promise,reason){promise._state===PENDING&&(promise._state=SEALED,promise._detail=reason,config.async(publishRejection,promise))}function publishFulfillment(promise){publish(promise,promise._state=FULFILLED)}function publishRejection(promise){publish(promise,promise._state=REJECTED)}var config=__dependency1__.config,objectOrFunction=(__dependency1__.configure,__dependency2__.objectOrFunction),isFunction=__dependency2__.isFunction,all=(__dependency2__.now,__dependency3__.all),race=__dependency4__.race,staticResolve=__dependency5__.resolve,staticReject=__dependency6__.reject,asap=__dependency7__.asap;config.async=asap;var PENDING=void 0,SEALED=0,FULFILLED=1,REJECTED=2;Promise.prototype={constructor:Promise,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(onFulfillment,onRejection){var promise=this,thenPromise=new this.constructor(function(){});if(this._state){var callbacks=arguments;config.async(function(){invokeCallback(promise._state,thenPromise,callbacks[promise._state-1],promise._detail)})}else subscribe(this,thenPromise,onFulfillment,onRejection);return thenPromise},"catch":function(onRejection){return this.then(null,onRejection)}},Promise.all=all,Promise.race=race,Promise.resolve=staticResolve,Promise.reject=staticReject,__exports__.Promise=Promise}),define("promise/race",["./utils","exports"],function(__dependency1__,__exports__){"use strict";function race(promises){var Promise=this;if(!isArray(promises))throw new TypeError("You must pass an array to race.");return new Promise(function(resolve,reject){for(var promise,i=0;i<promises.length;i++)promise=promises[i],promise&&"function"==typeof promise.then?promise.then(resolve,reject):resolve(promise)})}var isArray=__dependency1__.isArray;__exports__.race=race}),define("promise/reject",["exports"],function(__exports__){"use strict";function reject(reason){var Promise=this;return new Promise(function(resolve,reject){reject(reason)})}__exports__.reject=reject}),define("promise/resolve",["exports"],function(__exports__){"use strict";function resolve(value){if(value&&"object"==typeof value&&value.constructor===this)return value;var Promise=this;return new Promise(function(resolve){resolve(value)})}__exports__.resolve=resolve}),define("promise/utils",["exports"],function(__exports__){"use strict";function objectOrFunction(x){return isFunction(x)||"object"==typeof x&&null!==x}function isFunction(x){return"function"==typeof x}function isArray(x){return"[object Array]"===Object.prototype.toString.call(x)}var now=Date.now||function(){return(new Date).getTime()};__exports__.objectOrFunction=objectOrFunction,__exports__.isFunction=isFunction,__exports__.isArray=isArray,__exports__.now=now}),requireModule("promise/polyfill").polyfill()}(),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.localforage=factory():root.localforage=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0,function(){function callWhenReady(localForageInstance,libraryMethod){localForageInstance[libraryMethod]=function(){var _args=arguments;return localForageInstance.ready().then(function(){return localForageInstance[libraryMethod].apply(localForageInstance,_args)})}}function extend(){for(var i=1;i<arguments.length;i++){var arg=arguments[i];if(arg)for(var key in arg)arg.hasOwnProperty(key)&&(isArray(arg[key])?arguments[0][key]=arg[key].slice():arguments[0][key]=arg[key])}return arguments[0]}function isLibraryDriver(driverName){for(var driver in DriverType)if(DriverType.hasOwnProperty(driver)&&DriverType[driver]===driverName)return!0;return!1}var CustomDrivers={},DriverType={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},DefaultDriverOrder=[DriverType.INDEXEDDB,DriverType.WEBSQL,DriverType.LOCALSTORAGE],LibraryMethods=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],DefaultConfig={description:"",driver:DefaultDriverOrder.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},driverSupport=function(self){var indexedDB=indexedDB||self.indexedDB||self.webkitIndexedDB||self.mozIndexedDB||self.OIndexedDB||self.msIndexedDB,result={};return result[DriverType.WEBSQL]=!!self.openDatabase,result[DriverType.INDEXEDDB]=!!function(){if("undefined"!=typeof self.openDatabase&&self.navigator&&self.navigator.userAgent&&/Safari/.test(self.navigator.userAgent)&&!/Chrome/.test(self.navigator.userAgent))return!1;try{return indexedDB&&"function"==typeof indexedDB.open&&"undefined"!=typeof self.IDBKeyRange}catch(e){return!1}}(),result[DriverType.LOCALSTORAGE]=!!function(){try{return self.localStorage&&"setItem"in self.localStorage&&self.localStorage.setItem}catch(e){return!1}}(),result}(this),isArray=Array.isArray||function(arg){return"[object Array]"===Object.prototype.toString.call(arg)},LocalForage=function(){function LocalForage(options){_classCallCheck(this,LocalForage),this.INDEXEDDB=DriverType.INDEXEDDB,this.LOCALSTORAGE=DriverType.LOCALSTORAGE,this.WEBSQL=DriverType.WEBSQL,this._defaultConfig=extend({},DefaultConfig),this._config=extend({},this._defaultConfig,options),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return LocalForage.prototype.config=function(options){if("object"==typeof options){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in options)"storeName"===i&&(options[i]=options[i].replace(/\W/g,"_")),this._config[i]=options[i];return"driver"in options&&options.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof options?this._config[options]:this._config},LocalForage.prototype.defineDriver=function(driverObject,callback,errorCallback){var promise=new Promise(function(resolve,reject){try{var driverName=driverObject._driver,complianceError=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),namingError=new Error("Custom driver name already in use: "+driverObject._driver);if(!driverObject._driver)return void reject(complianceError);if(isLibraryDriver(driverObject._driver))return void reject(namingError);for(var customDriverMethods=LibraryMethods.concat("_initStorage"),i=0;i<customDriverMethods.length;i++){var customDriverMethod=customDriverMethods[i];if(!customDriverMethod||!driverObject[customDriverMethod]||"function"!=typeof driverObject[customDriverMethod])return void reject(complianceError)}var supportPromise=Promise.resolve(!0);"_support"in driverObject&&(supportPromise=driverObject._support&&"function"==typeof driverObject._support?driverObject._support():Promise.resolve(!!driverObject._support)),supportPromise.then(function(supportResult){driverSupport[driverName]=supportResult,CustomDrivers[driverName]=driverObject,resolve()},reject)}catch(e){reject(e)}});return promise.then(callback,errorCallback),promise},LocalForage.prototype.driver=function(){return this._driver||null},LocalForage.prototype.getDriver=function(driverName,callback,errorCallback){var self=this,getDriverPromise=function(){if(isLibraryDriver(driverName))switch(driverName){case self.INDEXEDDB:return new Promise(function(resolve,reject){resolve(__webpack_require__(1))});case self.LOCALSTORAGE:return new Promise(function(resolve,reject){resolve(__webpack_require__(2))});case self.WEBSQL:return new Promise(function(resolve,reject){resolve(__webpack_require__(4))})}else if(CustomDrivers[driverName])return Promise.resolve(CustomDrivers[driverName]);return Promise.reject(new Error("Driver not found."))}();return getDriverPromise.then(callback,errorCallback),getDriverPromise},LocalForage.prototype.getSerializer=function(callback){var serializerPromise=new Promise(function(resolve,reject){resolve(__webpack_require__(3))});return callback&&"function"==typeof callback&&serializerPromise.then(function(result){callback(result)}),serializerPromise},LocalForage.prototype.ready=function(callback){var self=this,promise=self._driverSet.then(function(){return null===self._ready&&(self._ready=self._initDriver()),self._ready});return promise.then(callback,callback),promise},LocalForage.prototype.setDriver=function(drivers,callback,errorCallback){function setDriverToConfig(){self._config.driver=self.driver()}function initDriver(supportedDrivers){return function(){function driverPromiseLoop(){for(;currentDriverIndex<supportedDrivers.length;){var driverName=supportedDrivers[currentDriverIndex];return currentDriverIndex++,self._dbInfo=null,self._ready=null,self.getDriver(driverName).then(function(driver){return self._extend(driver),setDriverToConfig(),self._ready=self._initStorage(self._config),self._ready})["catch"](driverPromiseLoop)}setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise.reject(error),self._driverSet}var currentDriverIndex=0;return driverPromiseLoop()}}var self=this;isArray(drivers)||(drivers=[drivers]);var supportedDrivers=this._getSupportedDrivers(drivers),oldDriverSetDone=null!==this._driverSet?this._driverSet["catch"](function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=oldDriverSetDone.then(function(){var driverName=supportedDrivers[0];return self._dbInfo=null,self._ready=null,self.getDriver(driverName).then(function(driver){self._driver=driver._driver,setDriverToConfig(),self._wrapLibraryMethodsWithReady(),self._initDriver=initDriver(supportedDrivers)})})["catch"](function(){setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise.reject(error),self._driverSet}),this._driverSet.then(callback,errorCallback),this._driverSet},LocalForage.prototype.supports=function(driverName){return!!driverSupport[driverName]},LocalForage.prototype._extend=function(libraryMethodsAndProperties){extend(this,libraryMethodsAndProperties)},LocalForage.prototype._getSupportedDrivers=function(drivers){for(var supportedDrivers=[],i=0,len=drivers.length;len>i;i++){var driverName=drivers[i];this.supports(driverName)&&supportedDrivers.push(driverName)}return supportedDrivers},LocalForage.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0;i<LibraryMethods.length;i++)callWhenReady(this,LibraryMethods[i])},LocalForage.prototype.createInstance=function(options){return new LocalForage(options)},LocalForage}(),localForage=new LocalForage;exports["default"]=localForage}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=!0,function(){function _createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(e){if("TypeError"!==e.name)throw e;for(var BlobBuilder=globalObject.BlobBuilder||globalObject.MSBlobBuilder||globalObject.MozBlobBuilder||globalObject.WebKitBlobBuilder,builder=new BlobBuilder,i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}function _binStringToArrayBuffer(bin){for(var length=bin.length,buf=new ArrayBuffer(length),arr=new Uint8Array(buf),i=0;length>i;i++)arr[i]=bin.charCodeAt(i);return buf}function _blobAjax(url){return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.withCredentials=!0,xhr.responseType="arraybuffer",xhr.onreadystatechange=function(){return 4===xhr.readyState?200===xhr.status?resolve({response:xhr.response,type:xhr.getResponseHeader("Content-Type")}):void reject({status:xhr.status,response:xhr.response}):void 0},xhr.send()})}function _checkBlobSupportWithoutCaching(idb){return new Promise(function(resolve,reject){var blob=_createBlob([""],{type:"image/png"}),txn=idb.transaction([DETECT_BLOB_SUPPORT_STORE],"readwrite");txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob,"key"),txn.oncomplete=function(){var blobTxn=idb.transaction([DETECT_BLOB_SUPPORT_STORE],"readwrite"),getBlobReq=blobTxn.objectStore(DETECT_BLOB_SUPPORT_STORE).get("key");getBlobReq.onerror=reject,getBlobReq.onsuccess=function(e){var storedBlob=e.target.result,url=URL.createObjectURL(storedBlob);_blobAjax(url).then(function(res){resolve(!(!res||"image/png"!==res.type))},function(){resolve(!1)}).then(function(){URL.revokeObjectURL(url)})}}})["catch"](function(){return!1})}function _checkBlobSupport(idb){return"boolean"==typeof supportsBlobs?Promise.resolve(supportsBlobs):_checkBlobSupportWithoutCaching(idb).then(function(value){return supportsBlobs=value})}function _encodeBlob(blob){return new Promise(function(resolve,reject){var reader=new FileReader;reader.onerror=reject,reader.onloadend=function(e){var base64=btoa(e.target.result||"");resolve({__local_forage_encoded_blob:!0,data:base64,type:blob.type})},reader.readAsBinaryString(blob)})}function _decodeBlob(encodedBlob){var arrayBuff=_binStringToArrayBuffer(atob(encodedBlob.data));return _createBlob([arrayBuff],{type:encodedBlob.type})}function _isEncodedBlob(value){return value&&value.__local_forage_encoded_blob}function _initStorage(options){function ignoreErrors(){return Promise.resolve()}var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]=options[i];dbContexts||(dbContexts={});var dbContext=dbContexts[dbInfo.name];dbContext||(dbContext={forages:[],db:null},dbContexts[dbInfo.name]=dbContext),dbContext.forages.push(this);for(var readyPromises=[],j=0;j<dbContext.forages.length;j++){var forage=dbContext.forages[j];forage!==this&&readyPromises.push(forage.ready()["catch"](ignoreErrors))}var forages=dbContext.forages.slice(0);return Promise.all(readyPromises).then(function(){return dbInfo.db=dbContext.db,_getOriginalConnection(dbInfo)}).then(function(db){return dbInfo.db=db,_isUpgradeNeeded(dbInfo,self._defaultConfig.version)?_getUpgradedConnection(dbInfo):db}).then(function(db){dbInfo.db=dbContext.db=db,self._dbInfo=dbInfo;for(var k in forages){var forage=forages[k];forage!==self&&(forage._dbInfo.db=dbInfo.db,forage._dbInfo.version=dbInfo.version)}})}function _getOriginalConnection(dbInfo){return _getConnection(dbInfo,!1)}function _getUpgradedConnection(dbInfo){return _getConnection(dbInfo,!0)}function _getConnection(dbInfo,upgradeNeeded){return new Promise(function(resolve,reject){if(dbInfo.db){if(!upgradeNeeded)return resolve(dbInfo.db);dbInfo.db.close()}var dbArgs=[dbInfo.name];upgradeNeeded&&dbArgs.push(dbInfo.version);var openreq=indexedDB.open.apply(indexedDB,dbArgs);upgradeNeeded&&(openreq.onupgradeneeded=function(e){var db=openreq.result;try{db.createObjectStore(dbInfo.storeName),e.oldVersion<=1&&db.createObjectStore(DETECT_BLOB_SUPPORT_STORE)}catch(ex){if("ConstraintError"!==ex.name)throw ex;globalObject.console.warn('The database "'+dbInfo.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+dbInfo.storeName+'" already exists.')}}),openreq.onerror=function(){reject(openreq.error)},openreq.onsuccess=function(){resolve(openreq.result)}})}function _isUpgradeNeeded(dbInfo,defaultVersion){if(!dbInfo.db)return!0;var isNewStore=!dbInfo.db.objectStoreNames.contains(dbInfo.storeName),isDowngrade=dbInfo.version<dbInfo.db.version,isUpgrade=dbInfo.version>dbInfo.db.version;if(isDowngrade&&(dbInfo.version!==defaultVersion&&globalObject.console.warn('The database "'+dbInfo.name+"\" can't be downgraded from version "+dbInfo.db.version+" to version "+dbInfo.version+"."),dbInfo.version=dbInfo.db.version),isUpgrade||isNewStore){if(isNewStore){var incVersion=dbInfo.db.version+1;incVersion>dbInfo.version&&(dbInfo.version=incVersion)}return!0}return!1}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.get(key);req.onsuccess=function(){var value=req.result;void 0===value&&(value=null),_isEncodedBlob(value)&&(value=_decodeBlob(value)),resolve(value)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.openCursor(),iterationNumber=1;req.onsuccess=function(){var cursor=req.result;if(cursor){var value=cursor.value;_isEncodedBlob(value)&&(value=_decodeBlob(value));var result=iterator(value,cursor.key,iterationNumber++);void 0!==result?resolve(result):cursor["continue"]()}else resolve()},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){var dbInfo;self.ready().then(function(){return dbInfo=self._dbInfo,_checkBlobSupport(dbInfo.db)}).then(function(blobSupport){return!blobSupport&&value instanceof Blob?_encodeBlob(value):value}).then(function(value){var transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName);null===value&&(value=void 0);var req=store.put(value,key);transaction.oncomplete=function(){void 0===value&&(value=null),resolve(value)},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName),req=store["delete"](key);transaction.oncomplete=function(){resolve()},transaction.onerror=function(){reject(req.error)},transaction.onabort=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function clear(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,transaction=dbInfo.db.transaction(dbInfo.storeName,"readwrite"),store=transaction.objectStore(dbInfo.storeName),req=store.clear();transaction.oncomplete=function(){resolve()},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}})["catch"](reject)});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.count();req.onsuccess=function(){resolve(req.result)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=new Promise(function(resolve,reject){return 0>n?void resolve(null):void self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),advanced=!1,req=store.openCursor();req.onsuccess=function(){var cursor=req.result;return cursor?void(0===n?resolve(cursor.key):advanced?resolve(cursor.key):(advanced=!0,cursor.advance(n))):void resolve(null)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo,store=dbInfo.db.transaction(dbInfo.storeName,"readonly").objectStore(dbInfo.storeName),req=store.openCursor(),keys=[];req.onsuccess=function(){var cursor=req.result;return cursor?(keys.push(cursor.key),void cursor["continue"]()):void resolve(keys)},req.onerror=function(){reject(req.error)}})["catch"](reject)});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,indexedDB=indexedDB||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(indexedDB){var supportsBlobs,dbContexts,DETECT_BLOB_SUPPORT_STORE="local-forage-detect-blob-support",asyncStorage={_driver:"asyncStorage",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=asyncStorage}}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,function(){function _initStorage(options){var self=this,dbInfo={};if(options)for(var i in options)dbInfo[i]=options[i];return dbInfo.keyPrefix=dbInfo.name+"/",dbInfo.storeName!==self._defaultConfig.storeName&&(dbInfo.keyPrefix+=dbInfo.storeName+"/"),self._dbInfo=dbInfo,new Promise(function(resolve,reject){resolve(__webpack_require__(3))}).then(function(lib){return dbInfo.serializer=lib,Promise.resolve()})}function clear(callback){var self=this,promise=self.ready().then(function(){for(var keyPrefix=self._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){
var key=localStorage.key(i);0===key.indexOf(keyPrefix)&&localStorage.removeItem(key)}});return executeCallback(promise,callback),promise}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){var dbInfo=self._dbInfo,result=localStorage.getItem(dbInfo.keyPrefix+key);return result&&(result=dbInfo.serializer.deserialize(result)),result});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=self.ready().then(function(){for(var dbInfo=self._dbInfo,keyPrefix=dbInfo.keyPrefix,keyPrefixLength=keyPrefix.length,length=localStorage.length,iterationNumber=1,i=0;length>i;i++){var key=localStorage.key(i);if(0===key.indexOf(keyPrefix)){var value=localStorage.getItem(key);if(value&&(value=dbInfo.serializer.deserialize(value)),value=iterator(value,key.substring(keyPrefixLength),iterationNumber++),void 0!==value)return value}}});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=self.ready().then(function(){var result,dbInfo=self._dbInfo;try{result=localStorage.key(n)}catch(error){result=null}return result&&(result=result.substring(dbInfo.keyPrefix.length)),result});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=self.ready().then(function(){for(var dbInfo=self._dbInfo,length=localStorage.length,keys=[],i=0;length>i;i++)0===localStorage.key(i).indexOf(dbInfo.keyPrefix)&&keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));return keys});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=self.keys().then(function(keys){return keys.length});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){var dbInfo=self._dbInfo;localStorage.removeItem(dbInfo.keyPrefix+key)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=self.ready().then(function(){void 0===value&&(value=null);var originalValue=value;return new Promise(function(resolve,reject){var dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){if(error)reject(error);else try{localStorage.setItem(dbInfo.keyPrefix+key,value),resolve(originalValue)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&reject(e),reject(e)}})})});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,localStorage=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;localStorage=this.localStorage}catch(e){return}var localStorageWrapper={_driver:"localStorageWrapper",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=localStorageWrapper}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=!0,function(){function _createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(err){if("TypeError"!==err.name)throw err;for(var BlobBuilder=globalObject.BlobBuilder||globalObject.MSBlobBuilder||globalObject.MozBlobBuilder||globalObject.WebKitBlobBuilder,builder=new BlobBuilder,i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}function serialize(value,callback){var valueString="";if(value&&(valueString=value.toString()),value&&("[object ArrayBuffer]"===value.toString()||value.buffer&&"[object ArrayBuffer]"===value.buffer.toString())){var buffer,marker=SERIALIZED_MARKER;value instanceof ArrayBuffer?(buffer=value,marker+=TYPE_ARRAYBUFFER):(buffer=value.buffer,"[object Int8Array]"===valueString?marker+=TYPE_INT8ARRAY:"[object Uint8Array]"===valueString?marker+=TYPE_UINT8ARRAY:"[object Uint8ClampedArray]"===valueString?marker+=TYPE_UINT8CLAMPEDARRAY:"[object Int16Array]"===valueString?marker+=TYPE_INT16ARRAY:"[object Uint16Array]"===valueString?marker+=TYPE_UINT16ARRAY:"[object Int32Array]"===valueString?marker+=TYPE_INT32ARRAY:"[object Uint32Array]"===valueString?marker+=TYPE_UINT32ARRAY:"[object Float32Array]"===valueString?marker+=TYPE_FLOAT32ARRAY:"[object Float64Array]"===valueString?marker+=TYPE_FLOAT64ARRAY:callback(new Error("Failed to get type for BinaryArray"))),callback(marker+bufferToString(buffer))}else if("[object Blob]"===valueString){var fileReader=new FileReader;fileReader.onload=function(){var str=BLOB_TYPE_PREFIX+value.type+"~"+bufferToString(this.result);callback(SERIALIZED_MARKER+TYPE_BLOB+str)},fileReader.readAsArrayBuffer(value)}else try{callback(JSON.stringify(value))}catch(e){console.error("Couldn't convert value into a JSON string: ",value),callback(null,e)}}function deserialize(value){if(value.substring(0,SERIALIZED_MARKER_LENGTH)!==SERIALIZED_MARKER)return JSON.parse(value);var blobType,serializedString=value.substring(TYPE_SERIALIZED_MARKER_LENGTH),type=value.substring(SERIALIZED_MARKER_LENGTH,TYPE_SERIALIZED_MARKER_LENGTH);if(type===TYPE_BLOB&&BLOB_TYPE_PREFIX_REGEX.test(serializedString)){var matcher=serializedString.match(BLOB_TYPE_PREFIX_REGEX);blobType=matcher[1],serializedString=serializedString.substring(matcher[0].length)}var buffer=stringToBuffer(serializedString);switch(type){case TYPE_ARRAYBUFFER:return buffer;case TYPE_BLOB:return _createBlob([buffer],{type:blobType});case TYPE_INT8ARRAY:return new Int8Array(buffer);case TYPE_UINT8ARRAY:return new Uint8Array(buffer);case TYPE_UINT8CLAMPEDARRAY:return new Uint8ClampedArray(buffer);case TYPE_INT16ARRAY:return new Int16Array(buffer);case TYPE_UINT16ARRAY:return new Uint16Array(buffer);case TYPE_INT32ARRAY:return new Int32Array(buffer);case TYPE_UINT32ARRAY:return new Uint32Array(buffer);case TYPE_FLOAT32ARRAY:return new Float32Array(buffer);case TYPE_FLOAT64ARRAY:return new Float64Array(buffer);default:throw new Error("Unkown type: "+type)}}function stringToBuffer(serializedString){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*serializedString.length,len=serializedString.length,p=0;"="===serializedString[serializedString.length-1]&&(bufferLength--,"="===serializedString[serializedString.length-2]&&bufferLength--);var buffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(buffer);for(i=0;len>i;i+=4)encoded1=BASE_CHARS.indexOf(serializedString[i]),encoded2=BASE_CHARS.indexOf(serializedString[i+1]),encoded3=BASE_CHARS.indexOf(serializedString[i+2]),encoded4=BASE_CHARS.indexOf(serializedString[i+3]),bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return buffer}function bufferToString(buffer){var i,bytes=new Uint8Array(buffer),base64String="";for(i=0;i<bytes.length;i+=3)base64String+=BASE_CHARS[bytes[i]>>2],base64String+=BASE_CHARS[(3&bytes[i])<<4|bytes[i+1]>>4],base64String+=BASE_CHARS[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64String+=BASE_CHARS[63&bytes[i+2]];return bytes.length%3===2?base64String=base64String.substring(0,base64String.length-1)+"=":bytes.length%3===1&&(base64String=base64String.substring(0,base64String.length-2)+"=="),base64String}var BASE_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BLOB_TYPE_PREFIX="~~local_forage_type~",BLOB_TYPE_PREFIX_REGEX=/^~~local_forage_type~([^~]+)~/,SERIALIZED_MARKER="__lfsc__:",SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER.length,TYPE_ARRAYBUFFER="arbf",TYPE_BLOB="blob",TYPE_INT8ARRAY="si08",TYPE_UINT8ARRAY="ui08",TYPE_UINT8CLAMPEDARRAY="uic8",TYPE_INT16ARRAY="si16",TYPE_INT32ARRAY="si32",TYPE_UINT16ARRAY="ur16",TYPE_UINT32ARRAY="ui32",TYPE_FLOAT32ARRAY="fl32",TYPE_FLOAT64ARRAY="fl64",TYPE_SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER_LENGTH+TYPE_ARRAYBUFFER.length,globalObject=this,localforageSerializer={serialize:serialize,deserialize:deserialize,stringToBuffer:stringToBuffer,bufferToString:bufferToString};exports["default"]=localforageSerializer}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,function(){function _initStorage(options){var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]="string"!=typeof options[i]?options[i].toString():options[i];var dbInfoPromise=new Promise(function(resolve,reject){try{dbInfo.db=openDatabase(dbInfo.name,String(dbInfo.version),dbInfo.description,dbInfo.size)}catch(e){return self.setDriver(self.LOCALSTORAGE).then(function(){return self._initStorage(options)}).then(resolve)["catch"](reject)}dbInfo.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+dbInfo.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){self._dbInfo=dbInfo,resolve()},function(t,error){reject(error)})})});return new Promise(function(resolve,reject){resolve(__webpack_require__(3))}).then(function(lib){return dbInfo.serializer=lib,dbInfoPromise})}function getItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT * FROM "+dbInfo.storeName+" WHERE key = ? LIMIT 1",[key],function(t,results){var result=results.rows.length?results.rows.item(0).value:null;result&&(result=dbInfo.serializer.deserialize(result)),resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function iterate(iterator,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT * FROM "+dbInfo.storeName,[],function(t,results){for(var rows=results.rows,length=rows.length,i=0;length>i;i++){var item=rows.item(i),result=item.value;if(result&&(result=dbInfo.serializer.deserialize(result)),result=iterator(result,item.key,i+1),void 0!==result)return void resolve(result)}resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function setItem(key,value,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){void 0===value&&(value=null);var originalValue=value,dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){error?reject(error):dbInfo.db.transaction(function(t){t.executeSql("INSERT OR REPLACE INTO "+dbInfo.storeName+" (key, value) VALUES (?, ?)",[key,value],function(){resolve(originalValue)},function(t,error){reject(error)})},function(sqlError){sqlError.code===sqlError.QUOTA_ERR&&reject(sqlError)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function removeItem(key,callback){var self=this;"string"!=typeof key&&(globalObject.console.warn(key+" used as a key, but it is not a string."),key=String(key));var promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("DELETE FROM "+dbInfo.storeName+" WHERE key = ?",[key],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function clear(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("DELETE FROM "+dbInfo.storeName,[],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function length(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+dbInfo.storeName,[],function(t,results){var result=results.rows.item(0).c;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function key(n,callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT key FROM "+dbInfo.storeName+" WHERE id = ? LIMIT 1",[n+1],function(t,results){var result=results.rows.length?results.rows.item(0).key:null;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function keys(callback){var self=this,promise=new Promise(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){t.executeSql("SELECT key FROM "+dbInfo.storeName,[],function(t,results){for(var keys=[],i=0;i<results.rows.length;i++)keys.push(results.rows.item(i).key);resolve(keys)},function(t,error){reject(error)})})})["catch"](reject)});return executeCallback(promise,callback),promise}function executeCallback(promise,callback){callback&&promise.then(function(result){callback(null,result)},function(error){callback(error)})}var globalObject=this,openDatabase=this.openDatabase;if(openDatabase){var webSQLStorage={_driver:"webSQLStorage",_initStorage:_initStorage,iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys};exports["default"]=webSQLStorage}}.call("undefined"!=typeof window?window:self),module.exports=exports["default"]}])})}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:20}],8:[function(require,module,exports){function randomBytes(size){for(var r,r,bytes=new Array(size),i=0;size>i;i++)0==(3&i)&&(r=4294967296*Math.random()),bytes[i]=r>>>((3&i)<<3)&255;return bytes}function byteArrayToBase64(uint8){function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}var temp,length,i,lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=lookup[temp>>2],output+=lookup[temp<<4&63],output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=lookup[temp>>10],output+=lookup[temp>>4&63],output+=lookup[temp<<2&63],output+="="}return output}function uid(len){return byteArrayToBase64(randomBytes(Math.ceil(Math.max(8,2*len)))).replace(/[+\/]/g,"").slice(0,len)}module.exports.uid=uid},{}],9:[function(require,module,exports){function exists(filename,callback){localforage.getItem(filename,function(err,value){return callback(null!==value?!0:!1)})}function rename(filename,newFilename,callback){localforage.getItem(filename,function(err,value){null===value?localforage.removeItem(newFilename,function(){return callback()}):localforage.setItem(newFilename,value,function(){localforage.removeItem(filename,function(){return callback()})})})}function writeFile(filename,contents,options,callback){"function"==typeof options&&(callback=options),localforage.setItem(filename,contents,function(){return callback()})}function appendFile(filename,toAppend,options,callback){"function"==typeof options&&(callback=options),localforage.getItem(filename,function(err,contents){contents=contents||"",contents+=toAppend,localforage.setItem(filename,contents,function(){return callback()})})}function readFile(filename,options,callback){"function"==typeof options&&(callback=options),localforage.getItem(filename,function(err,contents){return callback(null,contents||"")})}function unlink(filename,callback){localforage.removeItem(filename,function(){return callback()})}function mkdirp(dir,callback){return callback()}function ensureDatafileIntegrity(filename,callback){return callback(null)}var localforage=require("localforage");localforage.config({name:"NeDB",storeName:"nedbdata"}),module.exports.exists=exists,module.exports.rename=rename,module.exports.writeFile=writeFile,module.exports.crashSafeWriteFile=writeFile,module.exports.appendFile=appendFile,module.exports.readFile=readFile,module.exports.unlink=unlink,module.exports.mkdirp=mkdirp,module.exports.ensureDatafileIntegrity=ensureDatafileIntegrity},{localforage:7}],10:[function(require,module,exports){var Datastore=require("./lib/datastore");module.exports=Datastore},{"./lib/datastore":12}],11:[function(require,module,exports){function Cursor(db,query,execFn){this.db=db,this.query=query||{},execFn&&(this.execFn=execFn)}var model=require("./model"),_=require("underscore");Cursor.prototype.limit=function(limit){return this._limit=limit,this},Cursor.prototype.skip=function(skip){return this._skip=skip,this},Cursor.prototype.sort=function(sortQuery){return this._sort=sortQuery,this},Cursor.prototype.projection=function(projection){return this._projection=projection,this},Cursor.prototype.project=function(candidates){var keepId,action,keys,res=[],self=this;return void 0===this._projection||0===Object.keys(this._projection).length?candidates:(keepId=0===this._projection._id?!1:!0,this._projection=_.omit(this._projection,"_id"),keys=Object.keys(this._projection),keys.forEach(function(k){if(void 0!==action&&self._projection[k]!==action)throw"Can't both keep and omit fields except for _id";action=self._projection[k]}),candidates.forEach(function(candidate){var toPush=1===action?_.pick(candidate,keys):_.omit(candidate,keys);keepId?toPush._id=candidate._id:delete toPush._id,res.push(toPush)}),res)},Cursor.prototype._exec=function(callback){var i,keys,key,candidates=this.db.getCandidates(this.query),res=[],added=0,skipped=0,self=this,error=null;try{for(i=0;i<candidates.length;i+=1)if(model.match(candidates[i],this.query))if(this._sort)res.push(candidates[i]);else if(this._skip&&this._skip>skipped)skipped+=1;else if(res.push(candidates[i]),added+=1,this._limit&&this._limit<=added)break}catch(err){return callback(err)}if(this._sort){keys=Object.keys(this._sort);var criteria=[];for(i=0;i<keys.length;i++)key=keys[i],criteria.push({key:key,direction:self._sort[key]});res.sort(function(a,b){var criterion,compare,i;for(i=0;i<criteria.length;i++)if(criterion=criteria[i],compare=criterion.direction*model.compareThings(model.getDotValue(a,criterion.key),model.getDotValue(b,criterion.key)),0!==compare)return compare;return 0});var limit=this._limit||res.length,skip=this._skip||0;res=res.slice(skip,skip+limit)}try{res=this.project(res)}catch(e){error=e,res=void 0}return this.execFn?this.execFn(error,res,callback):callback(error,res)},Cursor.prototype.exec=function(){this.db.executor.push({"this":this,fn:this._exec,arguments:arguments})},module.exports=Cursor},{"./model":15,underscore:18}],12:[function(require,module,exports){function Datastore(options){var filename;"string"==typeof options?(filename=options,this.inMemoryOnly=!1):(options=options||{},filename=options.filename,this.inMemoryOnly=options.inMemoryOnly||!1,this.autoload=options.autoload||!1,this.timestampData=options.timestampData||!1),filename&&"string"==typeof filename&&0!==filename.length?this.filename=filename:(this.filename=null,this.inMemoryOnly=!0),this.persistence=new Persistence({db:this,nodeWebkitAppName:options.nodeWebkitAppName,afterSerialization:options.afterSerialization,beforeDeserialization:options.beforeDeserialization,corruptAlertThreshold:options.corruptAlertThreshold}),this.executor=new Executor,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new Index({fieldName:"_id",unique:!0}),this.autoload&&this.loadDatabase(options.onload||function(err){if(err)throw err})}var customUtils=require("./customUtils"),model=require("./model"),async=require("async"),Executor=require("./executor"),Index=require("./indexes"),util=require("util"),_=require("underscore"),Persistence=require("./persistence"),Cursor=require("./cursor");Datastore.prototype.loadDatabase=function(){this.executor.push({"this":this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},Datastore.prototype.getAllData=function(){return this.indexes._id.getAll()},Datastore.prototype.resetIndexes=function(newData){var self=this;Object.keys(this.indexes).forEach(function(i){self.indexes[i].reset(newData)})},Datastore.prototype.ensureIndex=function(options,cb){var callback=cb||function(){};if(options=options||{},!options.fieldName)return callback({missingFieldName:!0});if(this.indexes[options.fieldName])return callback(null);this.indexes[options.fieldName]=new Index(options);try{this.indexes[options.fieldName].insert(this.getAllData())}catch(e){return delete this.indexes[options.fieldName],callback(e)}this.persistence.persistNewState([{$$indexCreated:options}],function(err){return callback(err?err:null)})},Datastore.prototype.removeIndex=function(fieldName,cb){var callback=cb||function(){};delete this.indexes[fieldName],this.persistence.persistNewState([{$$indexRemoved:fieldName}],function(err){return callback(err?err:null)})},Datastore.prototype.addToIndexes=function(doc){var i,failingIndex,error,keys=Object.keys(this.indexes);for(i=0;i<keys.length;i+=1)try{this.indexes[keys[i]].insert(doc)}catch(e){failingIndex=i,error=e;break}if(error){for(i=0;failingIndex>i;i+=1)this.indexes[keys[i]].remove(doc);throw error}},Datastore.prototype.removeFromIndexes=function(doc){var self=this;Object.keys(this.indexes).forEach(function(i){self.indexes[i].remove(doc)})},Datastore.prototype.updateIndexes=function(oldDoc,newDoc){var i,failingIndex,error,keys=Object.keys(this.indexes);for(i=0;i<keys.length;i+=1)try{this.indexes[keys[i]].update(oldDoc,newDoc)}catch(e){failingIndex=i,error=e;break}if(error){for(i=0;failingIndex>i;i+=1)this.indexes[keys[i]].revertUpdate(oldDoc,newDoc);throw error}},Datastore.prototype.getCandidates=function(query){var usableQueryKeys,indexNames=Object.keys(this.indexes);return usableQueryKeys=[],Object.keys(query).forEach(function(k){("string"==typeof query[k]||"number"==typeof query[k]||"boolean"==typeof query[k]||util.isDate(query[k])||null===query[k])&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]]):(usableQueryKeys=[],Object.keys(query).forEach(function(k){query[k]&&query[k].hasOwnProperty("$in")&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]].$in):(usableQueryKeys=[],Object.keys(query).forEach(function(k){query[k]&&(query[k].hasOwnProperty("$lt")||query[k].hasOwnProperty("$lte")||query[k].hasOwnProperty("$gt")||query[k].hasOwnProperty("$gte"))&&usableQueryKeys.push(k)}),usableQueryKeys=_.intersection(usableQueryKeys,indexNames),usableQueryKeys.length>0?this.indexes[usableQueryKeys[0]].getBetweenBounds(query[usableQueryKeys[0]]):this.getAllData()))},Datastore.prototype._insert=function(newDoc,cb){var preparedDoc,callback=cb||function(){};try{preparedDoc=this.prepareDocumentForInsertion(newDoc),this._insertInCache(preparedDoc)}catch(e){return callback(e)}this.persistence.persistNewState(util.isArray(preparedDoc)?preparedDoc:[preparedDoc],function(err){return err?callback(err):callback(null,model.deepCopy(preparedDoc))})},Datastore.prototype.createNewId=function(){var tentativeId=customUtils.uid(16);return this.indexes._id.getMatching(tentativeId).length>0&&(tentativeId=this.createNewId()),tentativeId},Datastore.prototype.prepareDocumentForInsertion=function(newDoc){var preparedDoc,self=this;if(util.isArray(newDoc))preparedDoc=[],newDoc.forEach(function(doc){preparedDoc.push(self.prepareDocumentForInsertion(doc))});else{preparedDoc=model.deepCopy(newDoc),void 0===preparedDoc._id&&(preparedDoc._id=this.createNewId());var now=new Date;this.timestampData&&void 0===preparedDoc.createdAt&&(preparedDoc.createdAt=now),this.timestampData&&void 0===preparedDoc.updatedAt&&(preparedDoc.updatedAt=now),model.checkObject(preparedDoc)}return preparedDoc},Datastore.prototype._insertInCache=function(preparedDoc){util.isArray(preparedDoc)?this._insertMultipleDocsInCache(preparedDoc):this.addToIndexes(preparedDoc)},Datastore.prototype._insertMultipleDocsInCache=function(preparedDocs){var i,failingI,error;for(i=0;i<preparedDocs.length;i+=1)try{this.addToIndexes(preparedDocs[i])}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.removeFromIndexes(preparedDocs[i]);throw error}},Datastore.prototype.insert=function(){this.executor.push({"this":this,fn:this._insert,arguments:arguments})},Datastore.prototype.count=function(query,callback){var cursor=new Cursor(this,query,function(err,docs,callback){return err?callback(err):callback(null,docs.length)});return"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype.find=function(query,projection,callback){switch(arguments.length){case 1:projection={};break;case 2:"function"==typeof projection&&(callback=projection,projection={})}var cursor=new Cursor(this,query,function(err,docs,callback){var i,res=[];if(err)return callback(err);for(i=0;i<docs.length;i+=1)res.push(model.deepCopy(docs[i]));return callback(null,res)});return cursor.projection(projection),"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype.findOne=function(query,projection,callback){switch(arguments.length){case 1:projection={};break;case 2:"function"==typeof projection&&(callback=projection,projection={})}var cursor=new Cursor(this,query,function(err,docs,callback){return err?callback(err):1===docs.length?callback(null,model.deepCopy(docs[0])):callback(null,null)});return cursor.projection(projection).limit(1),"function"!=typeof callback?cursor:void cursor.exec(callback)},Datastore.prototype._update=function(query,updateQuery,options,cb){var callback,multi,upsert,i,self=this,numReplaced=0;"function"==typeof options&&(cb=options,options={}),callback=cb||function(){},multi=void 0!==options.multi?options.multi:!1,upsert=void 0!==options.upsert?options.upsert:!1,async.waterfall([function(cb){if(!upsert)return cb();var cursor=new Cursor(self,query);cursor.limit(1)._exec(function(err,docs){if(err)return callback(err);if(1===docs.length)return cb();var toBeInserted;try{model.checkObject(updateQuery),toBeInserted=updateQuery}catch(e){try{toBeInserted=model.modify(model.deepCopy(query,!0),updateQuery)}catch(err){return callback(err)}}return self._insert(toBeInserted,function(err,newDoc){return err?callback(err):callback(null,1,newDoc)})})},function(){var modifiedDoc,candidates=self.getCandidates(query),modifications=[];try{for(i=0;i<candidates.length;i+=1)model.match(candidates[i],query)&&(multi||0===numReplaced)&&(numReplaced+=1,modifiedDoc=model.modify(candidates[i],updateQuery),self.timestampData&&(modifiedDoc.updatedAt=new Date),modifications.push({oldDoc:candidates[i],newDoc:modifiedDoc}))}catch(err){return callback(err)}try{self.updateIndexes(modifications)}catch(err){return callback(err)}self.persistence.persistNewState(_.pluck(modifications,"newDoc"),function(err){return err?callback(err):callback(null,numReplaced)})}])},Datastore.prototype.update=function(){this.executor.push({"this":this,fn:this._update,arguments:arguments})},Datastore.prototype._remove=function(query,options,cb){var callback,multi,self=this,numRemoved=0,removedDocs=[],candidates=this.getCandidates(query);"function"==typeof options&&(cb=options,options={}),callback=cb||function(){},multi=void 0!==options.multi?options.multi:!1;try{candidates.forEach(function(d){model.match(d,query)&&(multi||0===numRemoved)&&(numRemoved+=1,removedDocs.push({$$deleted:!0,_id:d._id}),self.removeFromIndexes(d))})}catch(err){return callback(err)}self.persistence.persistNewState(removedDocs,function(err){return err?callback(err):callback(null,numRemoved)})},Datastore.prototype.remove=function(){this.executor.push({"this":this,fn:this._remove,arguments:arguments})},module.exports=Datastore},{"./cursor":11,"./customUtils":8,"./executor":13,"./indexes":14,"./model":15,"./persistence":16,async:17,underscore:18,util:22}],13:[function(require,module,exports){(function(process){function Executor(){this.buffer=[],this.ready=!1,this.queue=async.queue(function(task,cb){var callback,i,lastArg=task.arguments[task.arguments.length-1],newArguments=[];for(i=0;i<task.arguments.length;i+=1)newArguments.push(task.arguments[i]);"function"==typeof lastArg?(callback=function(){"function"==typeof setImmediate?setImmediate(cb):process.nextTick(cb),lastArg.apply(null,arguments)},newArguments[newArguments.length-1]=callback):(callback=function(){cb()},newArguments.push(callback)),task.fn.apply(task["this"],newArguments)},1)}var async=require("async");Executor.prototype.push=function(task,forceQueuing){this.ready||forceQueuing?this.queue.push(task):this.buffer.push(task)},Executor.prototype.processBuffer=function(){var i;for(this.ready=!0,i=0;i<this.buffer.length;i+=1)this.queue.push(this.buffer[i]);this.buffer=[]},module.exports=Executor}).call(this,require("_process"))},{_process:20,async:17}],14:[function(require,module,exports){function checkValueEquality(a,b){return a===b}function projectForUnique(elt){return null===elt?"$null":"string"==typeof elt?"$string"+elt:"boolean"==typeof elt?"$boolean"+elt:"number"==typeof elt?"$number"+elt:util.isArray(elt)?"$date"+elt.getTime():elt}function Index(options){this.fieldName=options.fieldName,this.unique=options.unique||!1,this.sparse=options.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:model.compareThings,checkValueEquality:checkValueEquality},this.reset()}var BinarySearchTree=require("binary-search-tree").AVLTree,model=require("./model"),_=require("underscore"),util=require("util");Index.prototype.reset=function(newData){this.tree=new BinarySearchTree(this.treeOptions),newData&&this.insert(newData)},Index.prototype.insert=function(doc){var key,keys,i,failingI,error;if(util.isArray(doc))return void this.insertMultipleDocs(doc);if(key=model.getDotValue(doc,this.fieldName),void 0!==key||!this.sparse)if(util.isArray(key)){for(keys=_.uniq(key,projectForUnique),i=0;i<keys.length;i+=1)try{this.tree.insert(keys[i],doc)}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.tree["delete"](keys[i],doc);throw error}}else this.tree.insert(key,doc)},Index.prototype.insertMultipleDocs=function(docs){var i,error,failingI;for(i=0;i<docs.length;i+=1)try{this.insert(docs[i])}catch(e){error=e,failingI=i;break}if(error){for(i=0;failingI>i;i+=1)this.remove(docs[i]);throw error}},Index.prototype.remove=function(doc){var key,self=this;return util.isArray(doc)?void doc.forEach(function(d){self.remove(d)}):(key=model.getDotValue(doc,this.fieldName),void(void 0===key&&this.sparse||(util.isArray(key)?_.uniq(key,projectForUnique).forEach(function(_key){self.tree["delete"](_key,doc)}):this.tree["delete"](key,doc))))},Index.prototype.update=function(oldDoc,newDoc){if(util.isArray(oldDoc))return void this.updateMultipleDocs(oldDoc);this.remove(oldDoc);try{this.insert(newDoc)}catch(e){throw this.insert(oldDoc),e}},Index.prototype.updateMultipleDocs=function(pairs){var i,failingI,error;for(i=0;i<pairs.length;i+=1)this.remove(pairs[i].oldDoc);for(i=0;i<pairs.length;i+=1)try{this.insert(pairs[i].newDoc)}catch(e){error=e,failingI=i;break}if(error){
for(i=0;failingI>i;i+=1)this.remove(pairs[i].newDoc);for(i=0;i<pairs.length;i+=1)this.insert(pairs[i].oldDoc);throw error}},Index.prototype.revertUpdate=function(oldDoc,newDoc){var revert=[];util.isArray(oldDoc)?(oldDoc.forEach(function(pair){revert.push({oldDoc:pair.newDoc,newDoc:pair.oldDoc})}),this.update(revert)):this.update(newDoc,oldDoc)},Index.prototype.getMatching=function(value){var self=this;if(util.isArray(value)){var _res={},res=[];return value.forEach(function(v){self.getMatching(v).forEach(function(doc){_res[doc._id]=doc})}),Object.keys(_res).forEach(function(_id){res.push(_res[_id])}),res}return this.tree.search(value)},Index.prototype.getBetweenBounds=function(query){return this.tree.betweenBounds(query)},Index.prototype.getAll=function(){var res=[];return this.tree.executeOnEveryNode(function(node){var i;for(i=0;i<node.data.length;i+=1)res.push(node.data[i])}),res},module.exports=Index},{"./model":15,"binary-search-tree":1,underscore:18,util:22}],15:[function(require,module,exports){function checkKey(k,v){if("number"==typeof k&&(k=k.toString()),!("$"!==k[0]||"$$date"===k&&"number"==typeof v||"$$deleted"===k&&v===!0||"$$indexCreated"===k||"$$indexRemoved"===k))throw"Field names cannot begin with the $ character";if(-1!==k.indexOf("."))throw"Field names cannot contain a ."}function checkObject(obj){util.isArray(obj)&&obj.forEach(function(o){checkObject(o)}),"object"==typeof obj&&null!==obj&&Object.keys(obj).forEach(function(k){checkKey(k,obj[k]),checkObject(obj[k])})}function serialize(obj){var res;return res=JSON.stringify(obj,function(k,v){return checkKey(k,v),void 0!==v?null===v?null:"function"==typeof this[k].getTime?{$$date:this[k].getTime()}:v:void 0})}function deserialize(rawData){return JSON.parse(rawData,function(k,v){return"$$date"===k?new Date(v):"string"==typeof v||"number"==typeof v||"boolean"==typeof v||null===v?v:v&&v.$$date?v.$$date:v})}function deepCopy(obj,strictKeys){var res;return"boolean"==typeof obj||"number"==typeof obj||"string"==typeof obj||null===obj||util.isDate(obj)?obj:util.isArray(obj)?(res=[],obj.forEach(function(o){res.push(deepCopy(o,strictKeys))}),res):"object"==typeof obj?(res={},Object.keys(obj).forEach(function(k){(!strictKeys||"$"!==k[0]&&-1===k.indexOf("."))&&(res[k]=deepCopy(obj[k],strictKeys))}),res):void 0}function isPrimitiveType(obj){return"boolean"==typeof obj||"number"==typeof obj||"string"==typeof obj||null===obj||util.isDate(obj)||util.isArray(obj)}function compareNSB(a,b){return b>a?-1:a>b?1:0}function compareArrays(a,b){var i,comp;for(i=0;i<Math.min(a.length,b.length);i+=1)if(comp=compareThings(a[i],b[i]),0!==comp)return comp;return compareNSB(a.length,b.length)}function compareThings(a,b){var aKeys,bKeys,comp,i;if(void 0===a)return void 0===b?0:-1;if(void 0===b)return void 0===a?0:1;if(null===a)return null===b?0:-1;if(null===b)return null===a?0:1;if("number"==typeof a)return"number"==typeof b?compareNSB(a,b):-1;if("number"==typeof b)return"number"==typeof a?compareNSB(a,b):1;if("string"==typeof a)return"string"==typeof b?compareNSB(a,b):-1;if("string"==typeof b)return"string"==typeof a?compareNSB(a,b):1;if("boolean"==typeof a)return"boolean"==typeof b?compareNSB(a,b):-1;if("boolean"==typeof b)return"boolean"==typeof a?compareNSB(a,b):1;if(util.isDate(a))return util.isDate(b)?compareNSB(a.getTime(),b.getTime()):-1;if(util.isDate(b))return util.isDate(a)?compareNSB(a.getTime(),b.getTime()):1;if(util.isArray(a))return util.isArray(b)?compareArrays(a,b):-1;if(util.isArray(b))return util.isArray(a)?compareArrays(a,b):1;for(aKeys=Object.keys(a).sort(),bKeys=Object.keys(b).sort(),i=0;i<Math.min(aKeys.length,bKeys.length);i+=1)if(comp=compareThings(a[aKeys[i]],b[bKeys[i]]),0!==comp)return comp;return compareNSB(aKeys.length,bKeys.length)}function createModifierFunction(modifier){return function(obj,field,value){var fieldParts="string"==typeof field?field.split("."):field;1===fieldParts.length?lastStepModifierFunctions[modifier](obj,field,value):(obj[fieldParts[0]]=obj[fieldParts[0]]||{},modifierFunctions[modifier](obj[fieldParts[0]],fieldParts.slice(1),value))}}function modify(obj,updateQuery){var newDoc,modifiers,keys=Object.keys(updateQuery),firstChars=_.map(keys,function(item){return item[0]}),dollarFirstChars=_.filter(firstChars,function(c){return"$"===c});if(-1!==keys.indexOf("_id")&&updateQuery._id!==obj._id)throw"You cannot change a document's _id";if(0!==dollarFirstChars.length&&dollarFirstChars.length!==firstChars.length)throw"You cannot mix modifiers and normal fields";if(0===dollarFirstChars.length?(newDoc=deepCopy(updateQuery),newDoc._id=obj._id):(modifiers=_.uniq(keys),newDoc=deepCopy(obj),modifiers.forEach(function(m){var keys;if(!modifierFunctions[m])throw"Unknown modifier "+m;if("object"!=typeof updateQuery[m])throw"Modifier "+m+"'s argument must be an object";keys=Object.keys(updateQuery[m]),keys.forEach(function(k){modifierFunctions[m](newDoc,k,updateQuery[m][k])})})),checkObject(newDoc),obj._id!==newDoc._id)throw"You can't change a document's _id";return newDoc}function getDotValue(obj,field){var i,objs,fieldParts="string"==typeof field?field.split("."):field;if(obj){if(0===fieldParts.length)return obj;if(1===fieldParts.length)return obj[fieldParts[0]];if(util.isArray(obj[fieldParts[0]])){if(i=parseInt(fieldParts[1],10),"number"==typeof i&&!isNaN(i))return getDotValue(obj[fieldParts[0]][i],fieldParts.slice(2));for(objs=new Array,i=0;i<obj[fieldParts[0]].length;i+=1)objs.push(getDotValue(obj[fieldParts[0]][i],fieldParts.slice(1)));return objs}return getDotValue(obj[fieldParts[0]],fieldParts.slice(1))}}function areThingsEqual(a,b){var aKeys,bKeys,i;if(null===a||"string"==typeof a||"boolean"==typeof a||"number"==typeof a||null===b||"string"==typeof b||"boolean"==typeof b||"number"==typeof b)return a===b;if(util.isDate(a)||util.isDate(b))return util.isDate(a)&&util.isDate(b)&&a.getTime()===b.getTime();if(util.isArray(a)||util.isArray(b)||void 0===a||void 0===b)return!1;try{aKeys=Object.keys(a),bKeys=Object.keys(b)}catch(e){return!1}if(aKeys.length!==bKeys.length)return!1;for(i=0;i<aKeys.length;i+=1){if(-1===bKeys.indexOf(aKeys[i]))return!1;if(!areThingsEqual(a[aKeys[i]],b[aKeys[i]]))return!1}return!0}function areComparable(a,b){return"string"==typeof a||"number"==typeof a||util.isDate(a)||"string"==typeof b||"number"==typeof b||util.isDate(b)?typeof a!=typeof b?!1:!0:!1}function match(obj,query){var queryKeys,queryKey,queryValue,i;if(isPrimitiveType(obj)||isPrimitiveType(query))return matchQueryPart({needAKey:obj},"needAKey",query);for(queryKeys=Object.keys(query),i=0;i<queryKeys.length;i+=1)if(queryKey=queryKeys[i],queryValue=query[queryKey],"$"===queryKey[0]){if(!logicalOperators[queryKey])throw"Unknown logical operator "+queryKey;if(!logicalOperators[queryKey](obj,queryValue))return!1}else if(!matchQueryPart(obj,queryKey,queryValue))return!1;return!0}function matchQueryPart(obj,queryKey,queryValue,treatObjAsValue){var i,keys,firstChars,dollarFirstChars,objValue=getDotValue(obj,queryKey);if(util.isArray(objValue)&&!treatObjAsValue){if(null!==queryValue&&"object"==typeof queryValue&&!util.isRegExp(queryValue))for(keys=Object.keys(queryValue),i=0;i<keys.length;i+=1)if(arrayComparisonFunctions[keys[i]])return matchQueryPart(obj,queryKey,queryValue,!0);for(i=0;i<objValue.length;i+=1)if(matchQueryPart({k:objValue[i]},"k",queryValue))return!0;return!1}if(null!==queryValue&&"object"==typeof queryValue&&!util.isRegExp(queryValue)){if(keys=Object.keys(queryValue),firstChars=_.map(keys,function(item){return item[0]}),dollarFirstChars=_.filter(firstChars,function(c){return"$"===c}),0!==dollarFirstChars.length&&dollarFirstChars.length!==firstChars.length)throw"You cannot mix operators and normal fields";if(dollarFirstChars.length>0){for(i=0;i<keys.length;i+=1){if(!comparisonFunctions[keys[i]])throw"Unknown comparison function "+keys[i];if(!comparisonFunctions[keys[i]](objValue,queryValue[keys[i]]))return!1}return!0}}return util.isRegExp(queryValue)?comparisonFunctions.$regex(objValue,queryValue):areThingsEqual(objValue,queryValue)?!0:!1}var util=require("util"),_=require("underscore"),modifierFunctions={},lastStepModifierFunctions={},comparisonFunctions={},logicalOperators={},arrayComparisonFunctions={};lastStepModifierFunctions.$set=function(obj,field,value){obj[field]=value},lastStepModifierFunctions.$unset=function(obj,field,value){delete obj[field]},lastStepModifierFunctions.$push=function(obj,field,value){if(obj.hasOwnProperty(field)||(obj[field]=[]),!util.isArray(obj[field]))throw"Can't $push an element on non-array values";if(null!==value&&"object"==typeof value&&value.$each){if(Object.keys(value).length>1)throw"Can't use another field in conjunction with $each";if(!util.isArray(value.$each))throw"$each requires an array value";value.$each.forEach(function(v){obj[field].push(v)})}else obj[field].push(value)},lastStepModifierFunctions.$addToSet=function(obj,field,value){var addToSet=!0;if(obj.hasOwnProperty(field)||(obj[field]=[]),!util.isArray(obj[field]))throw"Can't $addToSet an element on non-array values";if(null!==value&&"object"==typeof value&&value.$each){if(Object.keys(value).length>1)throw"Can't use another field in conjunction with $each";if(!util.isArray(value.$each))throw"$each requires an array value";value.$each.forEach(function(v){lastStepModifierFunctions.$addToSet(obj,field,v)})}else obj[field].forEach(function(v){0===compareThings(v,value)&&(addToSet=!1)}),addToSet&&obj[field].push(value)},lastStepModifierFunctions.$pop=function(obj,field,value){if(!util.isArray(obj[field]))throw"Can't $pop an element from non-array values";if("number"!=typeof value)throw value+" isn't an integer, can't use it with $pop";0!==value&&(value>0?obj[field]=obj[field].slice(0,obj[field].length-1):obj[field]=obj[field].slice(1))},lastStepModifierFunctions.$pull=function(obj,field,value){var arr,i;if(!util.isArray(obj[field]))throw"Can't $pull an element from non-array values";for(arr=obj[field],i=arr.length-1;i>=0;i-=1)match(arr[i],value)&&arr.splice(i,1)},lastStepModifierFunctions.$inc=function(obj,field,value){if("number"!=typeof value)throw value+" must be a number";if("number"!=typeof obj[field]){if(_.has(obj,field))throw"Don't use the $inc modifier on non-number fields";obj[field]=value}else obj[field]+=value},Object.keys(lastStepModifierFunctions).forEach(function(modifier){modifierFunctions[modifier]=createModifierFunction(modifier)}),comparisonFunctions.$lt=function(a,b){return areComparable(a,b)&&b>a},comparisonFunctions.$lte=function(a,b){return areComparable(a,b)&&b>=a},comparisonFunctions.$gt=function(a,b){return areComparable(a,b)&&a>b},comparisonFunctions.$gte=function(a,b){return areComparable(a,b)&&a>=b},comparisonFunctions.$ne=function(a,b){return void 0===a?!0:!areThingsEqual(a,b)},comparisonFunctions.$in=function(a,b){var i;if(!util.isArray(b))throw"$in operator called with a non-array";for(i=0;i<b.length;i+=1)if(areThingsEqual(a,b[i]))return!0;return!1},comparisonFunctions.$nin=function(a,b){if(!util.isArray(b))throw"$nin operator called with a non-array";return!comparisonFunctions.$in(a,b)},comparisonFunctions.$regex=function(a,b){if(!util.isRegExp(b))throw"$regex operator called with non regular expression";return"string"!=typeof a?!1:b.test(a)},comparisonFunctions.$exists=function(value,exists){return exists=exists||""===exists?!0:!1,void 0===value?!exists:exists},comparisonFunctions.$size=function(obj,value){if(!util.isArray(obj))return!1;if(value%1!==0)throw"$size operator called without an integer";return obj.length==value},arrayComparisonFunctions.$size=!0,logicalOperators.$or=function(obj,query){var i;if(!util.isArray(query))throw"$or operator used without an array";for(i=0;i<query.length;i+=1)if(match(obj,query[i]))return!0;return!1},logicalOperators.$and=function(obj,query){var i;if(!util.isArray(query))throw"$and operator used without an array";for(i=0;i<query.length;i+=1)if(!match(obj,query[i]))return!1;return!0},logicalOperators.$not=function(obj,query){return!match(obj,query)},logicalOperators.$where=function(obj,fn){var result;if(!_.isFunction(fn))throw"$where operator used without a function";if(result=fn.call(obj),!_.isBoolean(result))throw"$where function must return boolean";return result},module.exports.serialize=serialize,module.exports.deserialize=deserialize,module.exports.deepCopy=deepCopy,module.exports.checkObject=checkObject,module.exports.isPrimitiveType=isPrimitiveType,module.exports.modify=modify,module.exports.getDotValue=getDotValue,module.exports.match=match,module.exports.areThingsEqual=areThingsEqual,module.exports.compareThings=compareThings},{underscore:18,util:22}],16:[function(require,module,exports){(function(process){function Persistence(options){var i,j,randomString;if(this.db=options.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==options.corruptAlertThreshold?options.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw"The datafile name can't end with a ~, which is reserved for crash safe backup files";if(options.afterSerialization&&!options.beforeDeserialization)throw"Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss";if(!options.afterSerialization&&options.beforeDeserialization)throw"Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss";for(this.afterSerialization=options.afterSerialization||function(s){return s},this.beforeDeserialization=options.beforeDeserialization||function(s){return s},i=1;30>i;i+=1)for(j=0;10>j;j+=1)if(randomString=customUtils.uid(i),this.beforeDeserialization(this.afterSerialization(randomString))!==randomString)throw"beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss";this.filename&&options.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=Persistence.getNWAppFilename(options.nodeWebkitAppName,this.filename))}var storage=require("./storage"),path=require("path"),model=require("./model"),async=require("async"),customUtils=require("./customUtils"),Index=require("./indexes");Persistence.ensureDirectoryExists=function(dir,cb){var callback=cb||function(){};storage.mkdirp(dir,function(err){return callback(err)})},Persistence.getNWAppFilename=function(appName,relativeFilename){var home;switch(process.platform){case"win32":case"win64":if(home=process.env.LOCALAPPDATA||process.env.APPDATA,!home)throw"Couldn't find the base application data folder";home=path.join(home,appName);break;case"darwin":if(home=process.env.HOME,!home)throw"Couldn't find the base application data directory";home=path.join(home,"Library","Application Support",appName);break;case"linux":if(home=process.env.HOME,!home)throw"Couldn't find the base application data directory";home=path.join(home,".config",appName);break;default:throw"Can't use the Node Webkit relative path for platform "+process.platform}return path.join(home,"nedb-data",relativeFilename)},Persistence.prototype.persistCachedDatabase=function(cb){var callback=cb||function(){},toPersist="",self=this;return this.inMemoryOnly?callback(null):(this.db.getAllData().forEach(function(doc){toPersist+=self.afterSerialization(model.serialize(doc))+"\n"}),Object.keys(this.db.indexes).forEach(function(fieldName){"_id"!=fieldName&&(toPersist+=self.afterSerialization(model.serialize({$$indexCreated:{fieldName:fieldName,unique:self.db.indexes[fieldName].unique,sparse:self.db.indexes[fieldName].sparse}}))+"\n")}),void storage.crashSafeWriteFile(this.filename,toPersist,callback))},Persistence.prototype.compactDatafile=function(){this.db.executor.push({"this":this,fn:this.persistCachedDatabase,arguments:[]})},Persistence.prototype.setAutocompactionInterval=function(interval){var self=this,minInterval=5e3,realInterval=Math.max(interval||0,minInterval);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval(function(){self.compactDatafile()},realInterval)},Persistence.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},Persistence.prototype.persistNewState=function(newDocs,cb){var self=this,toPersist="",callback=cb||function(){};return self.inMemoryOnly?callback(null):(newDocs.forEach(function(doc){toPersist+=self.afterSerialization(model.serialize(doc))+"\n"}),0===toPersist.length?callback(null):void storage.appendFile(self.filename,toPersist,"utf8",function(err){return callback(err)}))},Persistence.prototype.treatRawData=function(rawData){var i,data=rawData.split("\n"),dataById={},tdata=[],indexes={},corruptItems=-1;for(i=0;i<data.length;i+=1){var doc;try{doc=model.deserialize(this.beforeDeserialization(data[i])),doc._id?doc.$$deleted===!0?delete dataById[doc._id]:dataById[doc._id]=doc:doc.$$indexCreated&&void 0!=doc.$$indexCreated.fieldName?indexes[doc.$$indexCreated.fieldName]=doc.$$indexCreated:"string"==typeof doc.$$indexRemoved&&delete indexes[doc.$$indexRemoved]}catch(e){corruptItems+=1}}if(data.length>0&&corruptItems/data.length>this.corruptAlertThreshold)throw"More than 10% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss";return Object.keys(dataById).forEach(function(k){tdata.push(dataById[k])}),{data:tdata,indexes:indexes}},Persistence.prototype.loadDatabase=function(cb){var callback=cb||function(){},self=this;return self.db.resetIndexes(),self.inMemoryOnly?callback(null):void async.waterfall([function(cb){Persistence.ensureDirectoryExists(path.dirname(self.filename),function(err){storage.ensureDatafileIntegrity(self.filename,function(err){storage.readFile(self.filename,"utf8",function(err,rawData){if(err)return cb(err);try{var treatedData=self.treatRawData(rawData)}catch(e){return cb(e)}Object.keys(treatedData.indexes).forEach(function(key){self.db.indexes[key]=new Index(treatedData.indexes[key])});try{self.db.resetIndexes(treatedData.data)}catch(e){return self.db.resetIndexes(),cb(e)}self.db.persistence.persistCachedDatabase(cb)})})})}],function(err){return err?callback(err):(self.db.executor.processBuffer(),callback(null))})},module.exports=Persistence}).call(this,require("_process"))},{"./customUtils":8,"./indexes":14,"./model":15,"./storage":9,_process:20,async:17,path:19}],17:[function(require,module,exports){(function(process){!function(){function only_once(fn){var called=!1;return function(){if(called)throw new Error("Callback was already called.");called=!0,fn.apply(root,arguments)}}var root,previous_async,async={};root=this,null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _each=function(arr,iterator){if(arr.forEach)return arr.forEach(iterator);for(var i=0;i<arr.length;i+=1)iterator(arr[i],i,arr)},_map=function(arr,iterator){if(arr.map)return arr.map(iterator);var results=[];return _each(arr,function(x,i,a){results.push(iterator(x,i,a))}),results},_reduce=function(arr,iterator,memo){return arr.reduce?arr.reduce(iterator,memo):(_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo)},_keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys};"undefined"!=typeof process&&process.nextTick?(async.nextTick=process.nextTick,"undefined"!=typeof setImmediate?async.setImmediate=function(fn){setImmediate(fn)}:async.setImmediate=async.nextTick):"function"==typeof setImmediate?(async.nextTick=function(fn){setImmediate(fn)},async.setImmediate=async.nextTick):(async.nextTick=function(fn){setTimeout(fn,0)},async.setImmediate=async.nextTick),async.each=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0;_each(arr,function(x){iterator(x,only_once(function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length&&callback(null))}))})},async.forEach=async.each,async.eachSeries=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0,iterate=function(){iterator(arr[completed],function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length?callback(null):iterate())})};iterate()},async.forEachSeries=async.eachSeries,async.eachLimit=function(arr,limit,iterator,callback){var fn=_eachLimit(limit);fn.apply(null,[arr,iterator,callback])},async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){if(callback=callback||function(){},!arr.length||0>=limit)return callback();var completed=0,started=0,running=0;!function replenish(){if(completed>=arr.length)return callback();for(;limit>running&&started<arr.length;)started+=1,running+=1,iterator(arr[started-1],function(err){err?(callback(err),callback=function(){}):(completed+=1,running-=1,completed>=arr.length?callback():replenish())})}()}},doParallel=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.each].concat(args))}},doParallelLimit=function(limit,fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}},doSeries=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.eachSeries].concat(args))}},_asyncMap=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v,callback(err)})},function(err){callback(err,results)})};async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})},async.inject=async.reduce,async.foldl=async.reduce,async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse();async.reduce(reversed,memo,iterator,callback)},async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v&&results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter),async.filterSeries=doSeries(_filter),async.select=async.filter,async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v||results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject),async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){result?(main_callback(x),main_callback=function(){}):callback()})},function(err){main_callback()})};async.detect=doParallel(_detect),async.detectSeries=doSeries(_detect),async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v&&(main_callback(!0),main_callback=function(){}),callback()})},function(err){main_callback(!1)})},async.any=async.some,async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v||(main_callback(!1),main_callback=function(){}),callback()})},function(err){main_callback(!0)})},async.all=async.every,async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){if(err)return callback(err);var fn=function(left,right){var a=left.criteria,b=right.criteria;return b>a?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))})},async.auto=function(tasks,callback){callback=callback||function(){};var keys=_keys(tasks);if(!keys.length)return callback(null);var results={},listeners=[],addListener=function(fn){listeners.unshift(fn)},removeListener=function(fn){for(var i=0;i<listeners.length;i+=1)if(listeners[i]===fn)return void listeners.splice(i,1)},taskComplete=function(){_each(listeners.slice(0),function(fn){fn()})};addListener(function(){_keys(results).length===keys.length&&(callback(null,results),callback=function(){})}),_each(keys,function(k){var task=tasks[k]instanceof Function?[tasks[k]]:tasks[k],taskCallback=function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1&&(args=args[0]),err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]}),safeResults[k]=args,callback(err,safeResults),callback=function(){}}else results[k]=args,async.setImmediate(taskComplete)},requires=task.slice(0,Math.abs(task.length-1))||[],ready=function(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)};if(ready())task[task.length-1](taskCallback,results);else{var listener=function(){ready()&&(removeListener(listener),task[task.length-1](taskCallback,results))};addListener(listener)}})},async.waterfall=function(tasks,callback){if(callback=callback||function(){},tasks.constructor!==Array){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length)return callback();var wrapIterator=function(iterator){return function(err){if(err)callback.apply(null,arguments),callback=function(){};else{var args=Array.prototype.slice.call(arguments,1),next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),async.setImmediate(function(){iterator.apply(null,args)})}}};wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)eachfn.map(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each},tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)},async.series=function(tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)async.mapSeries(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);args.length<=1&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}},async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()};return fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null},fn};return makeCallback(0)},async.apply=function(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(null,args.concat(Array.prototype.slice.call(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]),cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat),async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){test()?iterator(function(err){return err?callback(err):void async.whilst(test,iterator,callback)}):callback()},async.doWhilst=function(iterator,test,callback){iterator(function(err){return err?callback(err):void(test()?async.doWhilst(iterator,test,callback):callback())})},async.until=function(test,iterator,callback){test()?callback():iterator(function(err){return err?callback(err):void async.until(test,iterator,callback)})},async.doUntil=function(iterator,test,callback){iterator(function(err){return err?callback(err):void(test()?callback():async.doUntil(iterator,test,callback))})},async.queue=function(worker,concurrency){function _insert(q,data,pos,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){var item={data:task,callback:"function"==typeof callback?callback:null};pos?q.tasks.unshift(item):q.tasks.push(item),q.saturated&&q.tasks.length===concurrency&&q.saturated(),async.setImmediate(q.process)})}void 0===concurrency&&(concurrency=1);var workers=0,q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,push:function(data,callback){_insert(q,data,!1,callback)},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){if(workers<q.concurrency&&q.tasks.length){var task=q.tasks.shift();q.empty&&0===q.tasks.length&&q.empty(),workers+=1;var next=function(){workers-=1,task.callback&&task.callback.apply(task,arguments),q.drain&&q.tasks.length+workers===0&&q.drain(),q.process()},cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers}};return q},async.cargo=function(worker,payload){var working=!1,tasks=[],cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,push:function(data,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){tasks.push({data:task,callback:"function"==typeof callback?callback:null}),cargo.saturated&&tasks.length===payload&&cargo.saturated()}),async.setImmediate(cargo.process)},process:function process(){if(!working){if(0===tasks.length)return void(cargo.drain&&cargo.drain());var ts="number"==typeof payload?tasks.splice(0,payload):tasks.splice(0),ds=_map(ts,function(task){return task.data});cargo.empty&&cargo.empty(),working=!0,worker(ds,function(){working=!1;var args=arguments;_each(ts,function(data){data.callback&&data.callback.apply(null,args)}),process()})}},length:function(){return tasks.length},running:function(){return working}};return cargo};var _console_fn=function(name){return function(fn){var args=Array.prototype.slice.call(arguments,1);fn.apply(null,args.concat([function(err){var args=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(err?console.error&&console.error(err):console[name]&&_each(args,function(x){console[name](x)}))}]))}};async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=Array.prototype.slice.call(arguments),callback=args.pop(),key=hasher.apply(null,args);key in memo?callback.apply(null,memo[key]):key in queues?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([function(){memo[key]=arguments;var q=queues[key];delete queues[key];for(var i=0,l=q.length;l>i;i++)q[i].apply(null,arguments)}])))};return memoized.memo=memo,
memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.map(counter,iterator,callback)},async.timesSeries=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.mapSeries(counter,iterator,callback)},async.compose=function(){var fns=Array.prototype.reverse.call(arguments);return function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0],nextargs=Array.prototype.slice.call(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};var _applyEach=function(eachfn,fns){var go=function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return go.apply(this,args)}return go};async.applyEach=doParallel(_applyEach),async.applyEachSeries=doSeries(_applyEach),async.forever=function(fn,callback){function next(err){if(err){if(callback)return callback(err);throw err}fn(next)}next()},"undefined"!=typeof define&&define.amd?define([],function(){return async}):"undefined"!=typeof module&&module.exports?module.exports=async:root.async=async}()}).call(this,require("_process"))},{_process:20}],18:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],19:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;length>i;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return 0>start&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:20}],20:[function(require,module,exports){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],21:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],22:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":21,_process:20,inherits:6}],23:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _index=require("../../node_modules/nedb/index.js"),_index2=_interopRequireDefault(_index),db={};db.songs=new _index2["default"]({filename:"database/caros_songs.db"}),db.artists=new _index2["default"]({filename:"database/caros_artists.db"}),db.albums=new _index2["default"]({filename:"database/caros_albums.db"}),db.songs.loadDatabase(),db.artists.loadDatabase(),db.albums.loadDatabase(),module.exports={add_music:function(data,callback){console.log("Adding: "+data.path),data.artist?!function(){var song={title:data.title,path:data.path,number:data.tracknum,duration:data.duration},artist={name:data.artist},album={title:data.album,image:data.image};db.songs.update({title:song.title},{title:song.title,path:song.path,number:data.tracknum,duration:song.duration},{upsert:!0},function(err,num,songDoc){err&&console.error(err),song._id=songDoc._id,db.artists.update({name:artist.name},{name:artist.name},{upsert:!0},function(err,num,artistDoc){err&&console.error(err),artist._id=artistDoc._id,db.albums.update({title:album.title},{title:album.title,artist:artist._id,image:album.image},{upsert:!0},function(err,num,albumDoc){err&&console.error(err),album._id=albumDoc._id,db.songs.update({_id:song._id},{title:song.title,artist:artist._id,album:album._id,path:song.path,number:data.tracknum,duration:song.duration}),db.artists.update({_id:artist._id},{$addToSet:{songs:song._id,albums:album._id}}),db.albums.update({_id:album._id},{$addToSet:{songs:song._id}}),setTimeout(function(){callback()},300)})})})}():data.title&&!data.artist&&db.songs.update({title:data.title},{title:data.title,path:data.path},{upsert:!0},function(err,num,doc){err&&console.error(err)})},get_songs:function(callback){db.songs.find({}).sort({title:1}).exec(function(err,docs){err&&console.error(err);var songs=docs.sort();db.artists.find({}).sort({name:1}).exec(function(err,docs){err&&console.error(err);var artists=docs.sort();db.albums.find({}).sort({title:1}).exec(function(err,docs){err&&console.error(err);var albums=docs.sort();callback({artists:artists,albums:albums,songs:songs})})})})},print_songs:function(){db.artists.find({},function(err,docs){err&&console.error(err),console.log(docs)}),db.albums.find({},function(err,docs){err&&console.error(err),console.log(docs)}),db.songs.find({},function(err,docs){err&&console.error(err),console.log(docs)})},print_one_song:function(title){db.songs.findOne({title:title},function(err,doc){console.log(doc)})},drop_dbs:function(){db.artists.remove({},{multi:!0}),db.albums.remove({},{multi:!0}),db.songs.remove({},{multi:!0})}}},{"../../node_modules/nedb/index.js":10}],24:[function(require,module,exports){"use strict";var musicScroller,app=(require("./database.js"),angular.module("CarOS",[]));app.controller("MainController",["$scope","$interval",function($scope,$interval){$scope.mainwindow="main-menu",$scope.windowStack=["main-menu"],$scope.time=moment().format("h:mm a"),$scope.date=moment().format("ddd - MMM Do"),$scope.yoscroll=!1,$scope.goBack=function(){$scope.windowStack.pop(),$scope.mainwindow=$scope.windowStack[$scope.windowStack.length-1]},$interval(function(){$scope.time=moment().format("h:mm a")},1e3),$interval(function(){$scope.date=moment().format("MM/dd")},432e5),$scope.navigate=function(context){$scope.mainwindow=context}}]),app.controller("MainMenu",["$scope",function($scope){}]),app.controller("Music",["$scope","$filter","$timeout","$http","MusicService",function($scope,$filter,$timeout,$http,MusicService){$scope.songs=[],$scope.artists=[],$scope.albums=[],$scope.playing=!1,$scope.active={sideBar:"",listView:"",song:""},$scope.currentArtist={artist:null,songs:[]},$http({method:"GET",url:"/demo/get_songs"}).then(function(res){$scope.artists=res.data.artists,$scope.albums=res.data.albums,$scope.songs=res.data.songs}),$scope.$watch(function(){return MusicService.currentSong},function(song){$scope.currentSong=song}),$scope.$watch(function(){return MusicService.currentAlbum},function(album){$scope.currentAlbum=album}),$scope.context="",$scope.changeContext=function(ctxt,index){$scope.context=ctxt,$scope.currentArtist={artist:null,albums:[],songs:[]},$scope.currentAlbum={},$scope.updateScroller(index)},$scope.updateScroller=function(index){var list=$(".list-view")[index];musicScroller.scrollTo(0,0,0),$timeout(function(){musicScroller.updateDimensions($(list).outerWidth(),$(list).outerHeight()+25)},100)},$scope.showAlbums=function(artist,index){$scope.currentArtist={artist:artist,songs:[],albums:[]},$scope.albums.forEach(function(a){artist.albums.forEach(function(al){a._id===al&&!function(){var newAlbum={title:a.title,image:a.image,songs:[]};a.songs.forEach(function(so){$scope.songs.forEach(function(s){so===s._id&&newAlbum.songs.push(s)})}),$scope.currentArtist.albums.push(newAlbum)}()})}),$scope.updateScroller(index)},$scope.showSongs=function(album,index){$scope.currentAlbum={title:album.title,artist:null,image:album.image,songs:[]},$scope.artists.forEach(function(a){a._id===album.artist&&($scope.currentAlbum.artist=a,$scope.currentArtist.artist=a)}),$scope.songs.forEach(function(s){album.songs.forEach(function(so){s._id===so&&$scope.currentAlbum.songs.push(s)})}),$scope.updateScroller(index)},$scope.getArtist=function(artist){var name="";return $scope.artists.forEach(function(a){a._id===artist&&(name=a.name)}),name},$scope.playSong=function(song,songlist,album){songlist||(songlist=$scope.songs),$scope.currentArtist.artist||$scope.artists.forEach(function(ar){ar._id===song.artist&&($scope.currentArtist.artist=ar)}),"number"==typeof album?$scope.albums.forEach(function(al){al._id===album&&MusicService.playSong(song,songlist,$scope.currentArtist,al)}):MusicService.playSong(song,songlist,$scope.currentArtist,album)},$scope.queueSong=function(song){MusicService.queueSong(song)},$scope.$watch(function(){return MusicService.songlist},function(list){list.length>0?$scope.playing=!0:$scope.playing=!1,$scope.songlist=angular.copy(list)},!0)}]),app.controller("Settings",["$scope",function($scope){$scope.settings={},$scope.refreshMusic=function(){}}]),app.controller("Player",["$scope","$interval","MusicService",function($scope,$interval,MusicService){var timer=(MusicService.songlist,void 0);$scope.duration=0,$scope.playlist=[],$scope.scrubber={},$scope.scrubber.value="0",$scope.playing=!1,$scope.songlist=[],$scope.$watch(function(){return MusicService.duration},function(dur){$scope.duration=Math.round(dur),dur>1&&(timer=$interval(function(){$scope.scrubber.value=Math.floor(MusicService.player.currentTime)},1e3))},!0),$scope.$watch(function(){return MusicService.paused},function(paused){$scope.paused=paused}),$scope.$watch(function(){return MusicService.songlist},function(list){list.length>0?$scope.playing=!0:$scope.playing=!1,$scope.songlist=angular.copy(list)},!0),$scope.$watch(function(){return MusicService.currentSong},function(song){$scope.currentSong=song}),$scope.$watch(function(){return MusicService.currentArtist},function(artist){$scope.currentArtist=artist}),$scope.$watch(function(){return MusicService.currentAlbum},function(album){$scope.currentAlbum=album}),$scope.scrubberWidth=function(){return $scope.duration>1?{width:$scope.scrubber.value/$scope.duration*100+"%"}:void 0},$scope.showFullPlayer=function(){$("#player").animate({bottom:""})},$scope.seek=function(seekTo){MusicService.seek(seekTo)},$scope.playPause=function(){$scope.paused?(MusicService.play(),timer=$interval(function(){$scope.scrubber.value=Math.floor(MusicService.player.currentTime)},1e3)):(MusicService.pause(),$interval.cancel(timer))},$scope.fastForward=function(){MusicService.fastForward($scope.currentSong.number)},$scope.rewind=function(){MusicService.rewind($scope.currentSong.number)},$scope.prevSong=function(){MusicService.prevSong($scope.currentSong.number)}}]),app.factory("MusicService",function(){return{songlist:[],player:new Audio,duration:1,paused:!1,playing:!1,currentSong:{},currentArtist:{},currentAlbum:{},getDuration:function(){return this.duration},playSong:function(song,songlist,currentArtist,currentAlbum){this.songlist=songlist.songs,this.currentSong=song,currentAlbum?this.currentAlbum=currentAlbum:songlist&&songlist.image&&(this.currentAlbum=songlist),currentArtist&&(this.currentArtist=currentArtist),this.addEvent(),this.play(song.path.replace(/\#/gi,"%23")),this.playing=!0},getCurrentTime:function(){return this.player.currentTime},play:function(path){path&&(this.player.src=path),this.player.play(),this.paused=!1,this.playing=!0,setTimeout(function(){var scrollerHeight=$(musicScroller.contentContainerNode).height(),scrollerWidth=$(musicScroller.contentContainerNode).width();musicScroller.updateDimensions(scrollerWidth,scrollerHeight+100,!0)},100);var that=this;this.player.onended=function(){if(that.songlist.length>0){var index=that.songlist.indexOf(that.currentSong)+1,song=that.songlist[index];that.currentSong=song,that.player.src=song.path,that.player.play()}}},pause:function(){this.player.pause(),this.paused=!0},seek:function(seekTo){this.player.currentTime=seekTo},fastForward:function(index){var song=this.songlist[index];this.playSong(song)},rewind:function(index){var song=this.songlist[index-1];this.playSong(song)},prevSong:function(index){var song=this.songlist[index-2];this.playSong(song)},addEvent:function(){var _this=this;this.player.addEventListener("loadedmetadata",function(){_this.duration=_this.player.duration})}}}),app.filter("timecode",function(){return function(input){var min=Math.floor(input/60)<10?"0"+Math.floor(input/60):Math.floor(input/60),seconds=Math.floor(input%60)<10?"0"+Math.floor(input%60):Math.floor(input%60);return min+":"+seconds}});var scrollable=document.getElementById("music-content");musicScroller=new FTScroller(scrollable,{scrollbars:!1,scrollingX:!1})},{"./database.js":23}]},{},[24]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLDEsIm1vZHVsZSIsIkJpbmFyeVNlYXJjaFRyZWUiLCJBVkxUcmVlIiwiLi9saWIvYXZsdHJlZSIsIi4vbGliL2JzdCIsMiwib3B0aW9ucyIsInRoaXMiLCJ0cmVlIiwiX0FWTFRyZWUiLCJsZWZ0IiwicmlnaHQiLCJwYXJlbnQiLCJ1bmRlZmluZWQiLCJoYXNPd25Qcm9wZXJ0eSIsImtleSIsImRhdGEiLCJ2YWx1ZSIsInVuaXF1ZSIsImNvbXBhcmVLZXlzIiwiY3VzdG9tVXRpbHMiLCJkZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbiIsImNoZWNrVmFsdWVFcXVhbGl0eSIsImRlZmF1bHRDaGVja1ZhbHVlRXF1YWxpdHkiLCJ1dGlsIiwiaW5oZXJpdHMiLCJwcm90b3R5cGUiLCJjaGVja0hlaWdodENvcnJlY3QiLCJsZWZ0SCIsInJpZ2h0SCIsImhlaWdodCIsIk1hdGgiLCJtYXgiLCJiYWxhbmNlRmFjdG9yIiwiY2hlY2tCYWxhbmNlRmFjdG9ycyIsImFicyIsImNoZWNrSXNBVkxUIiwic3VwZXJfIiwiY2hlY2tJc0JTVCIsInJpZ2h0Um90YXRpb24iLCJiIiwiYWgiLCJiaCIsImNoIiwicSIsInAiLCJsZWZ0Um90YXRpb24iLCJyaWdodFRvb1NtYWxsIiwibGVmdFRvb1NtYWxsIiwicmViYWxhbmNlQWxvbmdQYXRoIiwicGF0aCIsInJvdGF0ZWQiLCJuZXdSb290IiwiaW5zZXJ0IiwiaW5zZXJ0UGF0aCIsImN1cnJlbnROb2RlIiwicHVzaCIsIm1lc3NhZ2UiLCJlcnJvclR5cGUiLCJjcmVhdGVMZWZ0Q2hpbGQiLCJjcmVhdGVSaWdodENoaWxkIiwibmV3VHJlZSIsInJlcGxhY2VXaXRoIiwibmV3RGF0YSIsImRlbGV0ZVBhdGgiLCJmb3JFYWNoIiwiZCIsImZuIiwiYXBwbHkiLCJhcmd1bWVudHMiLCIuL2JzdCIsIi4vY3VzdG9tVXRpbHMiLCJ1bmRlcnNjb3JlIiwzLCJhcHBlbmQiLCJhcnJheSIsInRvQXBwZW5kIiwiZ2V0TWF4S2V5RGVzY2VuZGFudCIsImdldE1heEtleSIsImdldE1pbktleURlc2NlbmRhbnQiLCJnZXRNaW5LZXkiLCJjaGVja0FsbE5vZGVzRnVsbGZpbGxDb25kaXRpb24iLCJ0ZXN0IiwiY2hlY2tOb2RlT3JkZXJpbmciLCJzZWxmIiwiayIsImNoZWNrSW50ZXJuYWxQb2ludGVycyIsImdldE51bWJlck9mS2V5cyIsInJlcyIsImNyZWF0ZVNpbWlsYXIiLCJjb25zdHJ1Y3RvciIsImxlZnRDaGlsZCIsInJpZ2h0Q2hpbGQiLCJzZWFyY2giLCJnZXRMb3dlckJvdW5kTWF0Y2hlciIsInF1ZXJ5IiwiJGd0ZSIsIiRndCIsImdldFVwcGVyQm91bmRNYXRjaGVyIiwiJGx0ZSIsIiRsdCIsImJldHdlZW5Cb3VuZHMiLCJsYm0iLCJ1Ym0iLCJkZWxldGVJZkxlYWYiLCJkZWxldGVJZk9ubHlPbmVDaGlsZCIsImNoaWxkIiwicmFuZG9tIiwiZXhlY3V0ZU9uRXZlcnlOb2RlIiwicHJldHR5UHJpbnQiLCJwcmludERhdGEiLCJzcGFjaW5nIiwiY29uc29sZSIsImxvZyIsNCwiZ2V0UmFuZG9tQXJyYXkiLCJuZXh0IiwiZmxvb3IiLCJzcGxpY2UiLDUsInJvb3QiLCJwcmV2aW91c1VuZGVyc2NvcmUiLCJfIiwiYnJlYWtlciIsIkFycmF5UHJvdG8iLCJBcnJheSIsIk9ialByb3RvIiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJzbGljZSIsImNvbmNhdCIsInRvU3RyaW5nIiwibmF0aXZlRm9yRWFjaCIsIm5hdGl2ZU1hcCIsIm1hcCIsIm5hdGl2ZVJlZHVjZSIsInJlZHVjZSIsIm5hdGl2ZVJlZHVjZVJpZ2h0IiwicmVkdWNlUmlnaHQiLCJuYXRpdmVGaWx0ZXIiLCJmaWx0ZXIiLCJuYXRpdmVFdmVyeSIsImV2ZXJ5IiwibmF0aXZlU29tZSIsInNvbWUiLCJuYXRpdmVJbmRleE9mIiwiaW5kZXhPZiIsIm5hdGl2ZUxhc3RJbmRleE9mIiwibGFzdEluZGV4T2YiLCJuYXRpdmVJc0FycmF5IiwiaXNBcnJheSIsIm5hdGl2ZUtleXMiLCJrZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJvYmoiLCJfd3JhcHBlZCIsIlZFUlNJT04iLCJlYWNoIiwiaXRlcmF0b3IiLCJjb250ZXh0IiwiaGFzIiwiY29sbGVjdCIsInJlc3VsdHMiLCJpbmRleCIsImxpc3QiLCJyZWR1Y2VFcnJvciIsImZvbGRsIiwiaW5qZWN0IiwibWVtbyIsImluaXRpYWwiLCJUeXBlRXJyb3IiLCJmb2xkciIsImZpbmQiLCJkZXRlY3QiLCJyZXN1bHQiLCJhbnkiLCJzZWxlY3QiLCJyZWplY3QiLCJhbGwiLCJpZGVudGl0eSIsImNvbnRhaW5zIiwiaW5jbHVkZSIsInRhcmdldCIsImludm9rZSIsIm1ldGhvZCIsImFyZ3MiLCJpc0Z1bmMiLCJpc0Z1bmN0aW9uIiwicGx1Y2siLCJ3aGVyZSIsImF0dHJzIiwiZmlyc3QiLCJpc0VtcHR5IiwiZmluZFdoZXJlIiwiSW5maW5pdHkiLCJjb21wdXRlZCIsIm1pbiIsInNodWZmbGUiLCJyYW5kIiwic2h1ZmZsZWQiLCJsb29rdXBJdGVyYXRvciIsInNvcnRCeSIsImNyaXRlcmlhIiwic29ydCIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiY291bnRCeSIsInNvcnRlZEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsInRvQXJyYXkiLCJ2YWx1ZXMiLCJzaXplIiwiaGVhZCIsInRha2UiLCJndWFyZCIsImxhc3QiLCJyZXN0IiwidGFpbCIsImRyb3AiLCJjb21wYWN0IiwiZmxhdHRlbiIsImlucHV0Iiwic2hhbGxvdyIsIm91dHB1dCIsIndpdGhvdXQiLCJkaWZmZXJlbmNlIiwidW5pcSIsImlzU29ydGVkIiwic2VlbiIsInVuaW9uIiwiaW50ZXJzZWN0aW9uIiwiaXRlbSIsIm90aGVyIiwiemlwIiwib2JqZWN0IiwiZnJvbSIsImhhc0luZGV4IiwicmFuZ2UiLCJzdGFydCIsInN0b3AiLCJzdGVwIiwibGVuIiwiY2VpbCIsImlkeCIsImZ1bmMiLCJwYXJ0aWFsIiwiYmluZEFsbCIsImZ1bmNzIiwiZnVuY3Rpb25zIiwibWVtb2l6ZSIsImhhc2hlciIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwidGltZW91dCIsInByZXZpb3VzIiwibGF0ZXIiLCJEYXRlIiwibm93IiwicmVtYWluaW5nIiwiY2xlYXJUaW1lb3V0IiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJjYWxsTm93Iiwib25jZSIsInJhbiIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJwYWlycyIsImludmVydCIsIm1ldGhvZHMiLCJuYW1lcyIsImV4dGVuZCIsInNvdXJjZSIsInByb3AiLCJwaWNrIiwiY29weSIsIm9taXQiLCJkZWZhdWx0cyIsImNsb25lIiwiaXNPYmplY3QiLCJ0YXAiLCJpbnRlcmNlcHRvciIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiU3RyaW5nIiwiZ2xvYmFsIiwibXVsdGlsaW5lIiwiaWdub3JlQ2FzZSIsImFDdG9yIiwiYkN0b3IiLCJwb3AiLCJpc0VxdWFsIiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsIm5hbWUiLCJpc0FyZ3VtZW50cyIsImlzRmluaXRlIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc0Jvb2xlYW4iLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJhY2N1bSIsImVudGl0eU1hcCIsImVzY2FwZSIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsIi8iLCJ1bmVzY2FwZSIsImVudGl0eVJlZ2V4ZXMiLCJSZWdFeHAiLCJqb2luIiwic3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoIiwicHJvcGVydHkiLCJtaXhpbiIsImlkQ291bnRlciIsInVuaXF1ZUlkIiwicHJlZml4IiwiaWQiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsIm5vTWF0Y2giLCJlc2NhcGVzIiwiXFwiLCJcciIsIlxuIiwiXHQiLCLigKgiLCLigKkiLCJlc2NhcGVyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJyZW5kZXIiLCJtYXRjaGVyIiwib2Zmc2V0IiwidmFyaWFibGUiLCJjaGFpbiIsIl9jaGFpbiIsNiwiY3JlYXRlIiwiY3RvciIsInN1cGVyQ3RvciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiw3LCJwcm9jZXNzIiwiZGVmaW5lIiwicmVxdWlyZU1vZHVsZSIsInJlcXVpcmVqcyIsInJlZ2lzdHJ5IiwiZGVwcyIsImNhbGxiYWNrIiwicmVzb2x2ZSIsImNoYXJBdCIsInBhcnRzIiwic3BsaXQiLCJwYXJlbnRCYXNlIiwicGFydCIsIl9lYWtfc2VlbiIsIm1vZCIsInJlaWZpZWQiLCJfX2RlcGVuZGVuY3kxX18iLCJfX2V4cG9ydHNfXyIsInByb21pc2VzIiwiUHJvbWlzZSIsInJlc29sdmVyIiwicmVzb2x2ZUFsbCIsInByb21pc2UiLCJ0aGVuIiwidXNlTmV4dFRpY2siLCJuZXh0VGljayIsImZsdXNoIiwidXNlTXV0YXRpb25PYnNlcnZlciIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsIkJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInVzZVNldFRpbWVvdXQiLCJsb2NhbCIsInF1ZXVlIiwidHVwbGUiLCJhcmciLCJhc2FwIiwic2NoZWR1bGVGbHVzaCIsImJyb3dzZXJHbG9iYWwiLCJ3aW5kb3ciLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImNvbmZpZ3VyZSIsImNvbmZpZyIsImluc3RydW1lbnQiLCJfX2RlcGVuZGVuY3kyX18iLCJwb2x5ZmlsbCIsImVzNlByb21pc2VTdXBwb3J0IiwiUlNWUFByb21pc2UiLCJfX2RlcGVuZGVuY3kzX18iLCJfX2RlcGVuZGVuY3k0X18iLCJfX2RlcGVuZGVuY3k1X18iLCJfX2RlcGVuZGVuY3k2X18iLCJfX2RlcGVuZGVuY3k3X18iLCJfc3Vic2NyaWJlcnMiLCJpbnZva2VSZXNvbHZlciIsInJlc29sdmVQcm9taXNlIiwicmVqZWN0UHJvbWlzZSIsInJlYXNvbiIsImludm9rZUNhbGxiYWNrIiwic2V0dGxlZCIsImRldGFpbCIsImVycm9yIiwic3VjY2VlZGVkIiwiZmFpbGVkIiwiaGFzQ2FsbGJhY2siLCJoYW5kbGVUaGVuYWJsZSIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwic3Vic2NyaWJlIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwic3Vic2NyaWJlcnMiLCJwdWJsaXNoIiwiX2RldGFpbCIsInJlc29sdmVkIiwib2JqZWN0T3JGdW5jdGlvbiIsInZhbCIsImZ1bGZpbGwiLCJfc3RhdGUiLCJQRU5ESU5HIiwiU0VBTEVEIiwiYXN5bmMiLCJwdWJsaXNoRnVsZmlsbG1lbnQiLCJwdWJsaXNoUmVqZWN0aW9uIiwicmFjZSIsInN0YXRpY1Jlc29sdmUiLCJzdGF0aWNSZWplY3QiLCJ0aGVuUHJvbWlzZSIsImNhbGxiYWNrcyIsImNhdGNoIiwieCIsImdldFRpbWUiLCJmYWN0b3J5IiwiYW1kIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJsb2FkZWQiLCJtIiwiYyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfX2VzTW9kdWxlIiwiY2FsbFdoZW5SZWFkeSIsImxvY2FsRm9yYWdlSW5zdGFuY2UiLCJsaWJyYXJ5TWV0aG9kIiwiX2FyZ3MiLCJyZWFkeSIsImlzTGlicmFyeURyaXZlciIsImRyaXZlck5hbWUiLCJkcml2ZXIiLCJEcml2ZXJUeXBlIiwiQ3VzdG9tRHJpdmVycyIsIklOREVYRUREQiIsIkxPQ0FMU1RPUkFHRSIsIldFQlNRTCIsIkRlZmF1bHREcml2ZXJPcmRlciIsIkxpYnJhcnlNZXRob2RzIiwiRGVmYXVsdENvbmZpZyIsImRlc2NyaXB0aW9uIiwic3RvcmVOYW1lIiwidmVyc2lvbiIsImRyaXZlclN1cHBvcnQiLCJpbmRleGVkREIiLCJ3ZWJraXRJbmRleGVkREIiLCJtb3pJbmRleGVkREIiLCJPSW5kZXhlZERCIiwibXNJbmRleGVkREIiLCJvcGVuRGF0YWJhc2UiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJvcGVuIiwiSURCS2V5UmFuZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiTG9jYWxGb3JhZ2UiLCJfZGVmYXVsdENvbmZpZyIsIl9jb25maWciLCJfZHJpdmVyU2V0IiwiX2luaXREcml2ZXIiLCJfcmVhZHkiLCJfZGJJbmZvIiwiX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSIsInNldERyaXZlciIsImRlZmluZURyaXZlciIsImRyaXZlck9iamVjdCIsImVycm9yQ2FsbGJhY2siLCJfZHJpdmVyIiwiY29tcGxpYW5jZUVycm9yIiwibmFtaW5nRXJyb3IiLCJjdXN0b21Ecml2ZXJNZXRob2RzIiwiY3VzdG9tRHJpdmVyTWV0aG9kIiwic3VwcG9ydFByb21pc2UiLCJfc3VwcG9ydCIsInN1cHBvcnRSZXN1bHQiLCJnZXREcml2ZXIiLCJnZXREcml2ZXJQcm9taXNlIiwiZ2V0U2VyaWFsaXplciIsInNlcmlhbGl6ZXJQcm9taXNlIiwiZHJpdmVycyIsInNldERyaXZlclRvQ29uZmlnIiwiaW5pdERyaXZlciIsInN1cHBvcnRlZERyaXZlcnMiLCJkcml2ZXJQcm9taXNlTG9vcCIsImN1cnJlbnREcml2ZXJJbmRleCIsIl9leHRlbmQiLCJfaW5pdFN0b3JhZ2UiLCJfZ2V0U3VwcG9ydGVkRHJpdmVycyIsIm9sZERyaXZlclNldERvbmUiLCJzdXBwb3J0cyIsImxpYnJhcnlNZXRob2RzQW5kUHJvcGVydGllcyIsImNyZWF0ZUluc3RhbmNlIiwibG9jYWxGb3JhZ2UiLCJfY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJCbG9iIiwiQmxvYkJ1aWxkZXIiLCJnbG9iYWxPYmplY3QiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImJ1aWxkZXIiLCJnZXRCbG9iIiwidHlwZSIsIl9iaW5TdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJhcnIiLCJVaW50OEFycmF5IiwiY2hhckNvZGVBdCIsIl9ibG9iQWpheCIsInVybCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJzZW5kIiwiX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyIsImlkYiIsImJsb2IiLCJ0eG4iLCJ0cmFuc2FjdGlvbiIsIkRFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUiLCJvYmplY3RTdG9yZSIsInB1dCIsIm9uY29tcGxldGUiLCJibG9iVHhuIiwiZ2V0QmxvYlJlcSIsImdldCIsIm9uZXJyb3IiLCJvbnN1Y2Nlc3MiLCJzdG9yZWRCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiX2NoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0Jsb2JzIiwiX2VuY29kZUJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkZW5kIiwiYmFzZTY0IiwiYnRvYSIsIl9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYiIsInJlYWRBc0JpbmFyeVN0cmluZyIsIl9kZWNvZGVCbG9iIiwiZW5jb2RlZEJsb2IiLCJhcnJheUJ1ZmYiLCJhdG9iIiwiX2lzRW5jb2RlZEJsb2IiLCJpZ25vcmVFcnJvcnMiLCJkYkluZm8iLCJkYiIsImRiQ29udGV4dHMiLCJkYkNvbnRleHQiLCJmb3JhZ2VzIiwicmVhZHlQcm9taXNlcyIsImoiLCJmb3JhZ2UiLCJfZ2V0T3JpZ2luYWxDb25uZWN0aW9uIiwiX2lzVXBncmFkZU5lZWRlZCIsIl9nZXRVcGdyYWRlZENvbm5lY3Rpb24iLCJfZ2V0Q29ubmVjdGlvbiIsInVwZ3JhZGVOZWVkZWQiLCJjbG9zZSIsImRiQXJncyIsIm9wZW5yZXEiLCJvbnVwZ3JhZGVuZWVkZWQiLCJjcmVhdGVPYmplY3RTdG9yZSIsIm9sZFZlcnNpb24iLCJleCIsIndhcm4iLCJuZXdWZXJzaW9uIiwiZGVmYXVsdFZlcnNpb24iLCJpc05ld1N0b3JlIiwib2JqZWN0U3RvcmVOYW1lcyIsImlzRG93bmdyYWRlIiwiaXNVcGdyYWRlIiwiaW5jVmVyc2lvbiIsImdldEl0ZW0iLCJzdG9yZSIsInJlcSIsImV4ZWN1dGVDYWxsYmFjayIsIml0ZXJhdGUiLCJvcGVuQ3Vyc29yIiwiaXRlcmF0aW9uTnVtYmVyIiwiY3Vyc29yIiwiYmxvYlN1cHBvcnQiLCJvbmFib3J0IiwiZXJyIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiY291bnQiLCJhZHZhbmNlZCIsImFkdmFuY2UiLCJhc3luY1N0b3JhZ2UiLCJrZXlQcmVmaXgiLCJsaWIiLCJzZXJpYWxpemVyIiwiZGVzZXJpYWxpemUiLCJrZXlQcmVmaXhMZW5ndGgiLCJzdWJzdHJpbmciLCJvcmlnaW5hbFZhbHVlIiwic2VyaWFsaXplIiwibG9jYWxTdG9yYWdlV3JhcHBlciIsInZhbHVlU3RyaW5nIiwiYnVmZmVyIiwibWFya2VyIiwiU0VSSUFMSVpFRF9NQVJLRVIiLCJUWVBFX0FSUkFZQlVGRkVSIiwiVFlQRV9JTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4QVJSQVkiLCJUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZIiwiVFlQRV9JTlQxNkFSUkFZIiwiVFlQRV9VSU5UMTZBUlJBWSIsIlRZUEVfSU5UMzJBUlJBWSIsIlRZUEVfVUlOVDMyQVJSQVkiLCJUWVBFX0ZMT0FUMzJBUlJBWSIsIlRZUEVfRkxPQVQ2NEFSUkFZIiwiYnVmZmVyVG9TdHJpbmciLCJmaWxlUmVhZGVyIiwib25sb2FkIiwic3RyIiwiQkxPQl9UWVBFX1BSRUZJWCIsIlRZUEVfQkxPQiIsInJlYWRBc0FycmF5QnVmZmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIlNFUklBTElaRURfTUFSS0VSX0xFTkdUSCIsInBhcnNlIiwiYmxvYlR5cGUiLCJzZXJpYWxpemVkU3RyaW5nIiwiVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgiLCJCTE9CX1RZUEVfUFJFRklYX1JFR0VYIiwic3RyaW5nVG9CdWZmZXIiLCJJbnQ4QXJyYXkiLCJVaW50OENsYW1wZWRBcnJheSIsIkludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsImVuY29kZWQxIiwiZW5jb2RlZDIiLCJlbmNvZGVkMyIsImVuY29kZWQ0IiwiYnVmZmVyTGVuZ3RoIiwiYnl0ZXMiLCJCQVNFX0NIQVJTIiwiYmFzZTY0U3RyaW5nIiwibG9jYWxmb3JhZ2VTZXJpYWxpemVyIiwiZGJJbmZvUHJvbWlzZSIsImV4ZWN1dGVTcWwiLCJyb3dzIiwic3FsRXJyb3IiLCJRVU9UQV9FUlIiLCJ3ZWJTUUxTdG9yYWdlIiwiX3Byb2Nlc3MiLDgsInJhbmRvbUJ5dGVzIiwiYnl0ZUFycmF5VG9CYXNlNjQiLCJ1aW50OCIsInRyaXBsZXRUb0Jhc2U2NCIsIm51bSIsImxvb2t1cCIsInRlbXAiLCJleHRyYUJ5dGVzIiwidWlkIiw5LCJleGlzdHMiLCJmaWxlbmFtZSIsImxvY2FsZm9yYWdlIiwicmVuYW1lIiwibmV3RmlsZW5hbWUiLCJ3cml0ZUZpbGUiLCJjb250ZW50cyIsImFwcGVuZEZpbGUiLCJyZWFkRmlsZSIsInVubGluayIsIm1rZGlycCIsImRpciIsImVuc3VyZURhdGFmaWxlSW50ZWdyaXR5IiwiY3Jhc2hTYWZlV3JpdGVGaWxlIiwxMCwiRGF0YXN0b3JlIiwiLi9saWIvZGF0YXN0b3JlIiwxMSwiQ3Vyc29yIiwiZXhlY0ZuIiwibW9kZWwiLCJsaW1pdCIsIl9saW1pdCIsInNraXAiLCJfc2tpcCIsInNvcnRRdWVyeSIsIl9zb3J0IiwicHJvamVjdGlvbiIsIl9wcm9qZWN0aW9uIiwicHJvamVjdCIsImNhbmRpZGF0ZXMiLCJrZWVwSWQiLCJhY3Rpb24iLCJfaWQiLCJjYW5kaWRhdGUiLCJ0b1B1c2giLCJfZXhlYyIsImdldENhbmRpZGF0ZXMiLCJhZGRlZCIsInNraXBwZWQiLCJkaXJlY3Rpb24iLCJjcml0ZXJpb24iLCJjb21wYXJlIiwiY29tcGFyZVRoaW5ncyIsImdldERvdFZhbHVlIiwiZXhlYyIsImV4ZWN1dG9yIiwiLi9tb2RlbCIsMTIsImluTWVtb3J5T25seSIsImF1dG9sb2FkIiwidGltZXN0YW1wRGF0YSIsInBlcnNpc3RlbmNlIiwiUGVyc2lzdGVuY2UiLCJub2RlV2Via2l0QXBwTmFtZSIsImFmdGVyU2VyaWFsaXphdGlvbiIsImJlZm9yZURlc2VyaWFsaXphdGlvbiIsImNvcnJ1cHRBbGVydFRocmVzaG9sZCIsIkV4ZWN1dG9yIiwiaW5kZXhlcyIsIkluZGV4IiwiZmllbGROYW1lIiwibG9hZERhdGFiYXNlIiwiZ2V0QWxsRGF0YSIsImdldEFsbCIsInJlc2V0SW5kZXhlcyIsInJlc2V0IiwiZW5zdXJlSW5kZXgiLCJjYiIsIm1pc3NpbmdGaWVsZE5hbWUiLCJwZXJzaXN0TmV3U3RhdGUiLCIkJGluZGV4Q3JlYXRlZCIsInJlbW92ZUluZGV4IiwiJCRpbmRleFJlbW92ZWQiLCJhZGRUb0luZGV4ZXMiLCJkb2MiLCJmYWlsaW5nSW5kZXgiLCJyZW1vdmUiLCJyZW1vdmVGcm9tSW5kZXhlcyIsInVwZGF0ZUluZGV4ZXMiLCJvbGREb2MiLCJuZXdEb2MiLCJ1cGRhdGUiLCJyZXZlcnRVcGRhdGUiLCJ1c2FibGVRdWVyeUtleXMiLCJpbmRleE5hbWVzIiwiaXNEYXRlIiwiZ2V0TWF0Y2hpbmciLCIkaW4iLCJnZXRCZXR3ZWVuQm91bmRzIiwiX2luc2VydCIsInByZXBhcmVkRG9jIiwicHJlcGFyZURvY3VtZW50Rm9ySW5zZXJ0aW9uIiwiX2luc2VydEluQ2FjaGUiLCJkZWVwQ29weSIsImNyZWF0ZU5ld0lkIiwidGVudGF0aXZlSWQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJjaGVja09iamVjdCIsIl9pbnNlcnRNdWx0aXBsZURvY3NJbkNhY2hlIiwicHJlcGFyZWREb2NzIiwiZmFpbGluZ0kiLCJkb2NzIiwiZmluZE9uZSIsIl91cGRhdGUiLCJ1cGRhdGVRdWVyeSIsIm11bHRpIiwidXBzZXJ0IiwibnVtUmVwbGFjZWQiLCJ3YXRlcmZhbGwiLCJ0b0JlSW5zZXJ0ZWQiLCJtb2RpZnkiLCJtb2RpZmllZERvYyIsIm1vZGlmaWNhdGlvbnMiLCJfcmVtb3ZlIiwibnVtUmVtb3ZlZCIsInJlbW92ZWREb2NzIiwiJCRkZWxldGVkIiwiLi9jdXJzb3IiLCIuL2V4ZWN1dG9yIiwiLi9pbmRleGVzIiwiLi9wZXJzaXN0ZW5jZSIsMTMsInRhc2siLCJsYXN0QXJnIiwibmV3QXJndW1lbnRzIiwic2V0SW1tZWRpYXRlIiwiZm9yY2VRdWV1aW5nIiwicHJvY2Vzc0J1ZmZlciIsMTQsInByb2plY3RGb3JVbmlxdWUiLCJlbHQiLCJzcGFyc2UiLCJ0cmVlT3B0aW9ucyIsImluc2VydE11bHRpcGxlRG9jcyIsIl9rZXkiLCJ1cGRhdGVNdWx0aXBsZURvY3MiLCJyZXZlcnQiLCJwYWlyIiwiX3JlcyIsInYiLCJiaW5hcnktc2VhcmNoLXRyZWUiLDE1LCJjaGVja0tleSIsIiQkZGF0ZSIsInJhd0RhdGEiLCJzdHJpY3RLZXlzIiwiaXNQcmltaXRpdmVUeXBlIiwiY29tcGFyZU5TQiIsImNvbXBhcmVBcnJheXMiLCJjb21wIiwiYUtleXMiLCJiS2V5cyIsImNyZWF0ZU1vZGlmaWVyRnVuY3Rpb24iLCJtb2RpZmllciIsImZpZWxkIiwiZmllbGRQYXJ0cyIsImxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMiLCJtb2RpZmllckZ1bmN0aW9ucyIsIm1vZGlmaWVycyIsImZpcnN0Q2hhcnMiLCJkb2xsYXJGaXJzdENoYXJzIiwib2JqcyIsInBhcnNlSW50IiwiYXJlVGhpbmdzRXF1YWwiLCJhcmVDb21wYXJhYmxlIiwicXVlcnlLZXlzIiwicXVlcnlLZXkiLCJxdWVyeVZhbHVlIiwibWF0Y2hRdWVyeVBhcnQiLCJuZWVkQUtleSIsImxvZ2ljYWxPcGVyYXRvcnMiLCJ0cmVhdE9iakFzVmFsdWUiLCJvYmpWYWx1ZSIsImlzUmVnRXhwIiwiYXJyYXlDb21wYXJpc29uRnVuY3Rpb25zIiwiY29tcGFyaXNvbkZ1bmN0aW9ucyIsIiRyZWdleCIsIiRzZXQiLCIkdW5zZXQiLCIkcHVzaCIsIiRlYWNoIiwiJGFkZFRvU2V0IiwiYWRkVG9TZXQiLCIkcG9wIiwiJHB1bGwiLCIkaW5jIiwiJG5lIiwiJG5pbiIsIiRleGlzdHMiLCIkc2l6ZSIsIiRvciIsIiRhbmQiLCIkbm90IiwiJHdoZXJlIiwxNiwicmFuZG9tU3RyaW5nIiwiZ2V0TldBcHBGaWxlbmFtZSIsInN0b3JhZ2UiLCJlbnN1cmVEaXJlY3RvcnlFeGlzdHMiLCJhcHBOYW1lIiwicmVsYXRpdmVGaWxlbmFtZSIsImhvbWUiLCJwbGF0Zm9ybSIsImVudiIsIkxPQ0FMQVBQREFUQSIsIkFQUERBVEEiLCJIT01FIiwicGVyc2lzdENhY2hlZERhdGFiYXNlIiwidG9QZXJzaXN0IiwiY29tcGFjdERhdGFmaWxlIiwic2V0QXV0b2NvbXBhY3Rpb25JbnRlcnZhbCIsImludGVydmFsIiwibWluSW50ZXJ2YWwiLCJyZWFsSW50ZXJ2YWwiLCJzdG9wQXV0b2NvbXBhY3Rpb24iLCJhdXRvY29tcGFjdGlvbkludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJuZXdEb2NzIiwidHJlYXRSYXdEYXRhIiwiZGF0YUJ5SWQiLCJ0ZGF0YSIsImNvcnJ1cHRJdGVtcyIsImRpcm5hbWUiLCJ0cmVhdGVkRGF0YSIsIi4vc3RvcmFnZSIsMTcsIm9ubHlfb25jZSIsImNhbGxlZCIsInByZXZpb3VzX2FzeW5jIiwiX2VhY2giLCJfbWFwIiwiX3JlZHVjZSIsIl9rZXlzIiwiY29tcGxldGVkIiwiZWFjaFNlcmllcyIsImZvckVhY2hTZXJpZXMiLCJlYWNoTGltaXQiLCJfZWFjaExpbWl0IiwiZm9yRWFjaExpbWl0Iiwic3RhcnRlZCIsInJ1bm5pbmciLCJyZXBsZW5pc2giLCJkb1BhcmFsbGVsIiwiZG9QYXJhbGxlbExpbWl0IiwiZG9TZXJpZXMiLCJfYXN5bmNNYXAiLCJlYWNoZm4iLCJtYXBTZXJpZXMiLCJtYXBMaW1pdCIsIl9tYXBMaW1pdCIsInJldmVyc2VkIiwicmV2ZXJzZSIsIl9maWx0ZXIiLCJmaWx0ZXJTZXJpZXMiLCJzZWxlY3RTZXJpZXMiLCJfcmVqZWN0IiwicmVqZWN0U2VyaWVzIiwiX2RldGVjdCIsIm1haW5fY2FsbGJhY2siLCJkZXRlY3RTZXJpZXMiLCJhdXRvIiwidGFza3MiLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInVuc2hpZnQiLCJyZW1vdmVMaXN0ZW5lciIsInRhc2tDb21wbGV0ZSIsInRhc2tDYWxsYmFjayIsInNhZmVSZXN1bHRzIiwicmtleSIsInJlcXVpcmVzIiwibGlzdGVuZXIiLCJ3cmFwSXRlcmF0b3IiLCJfcGFyYWxsZWwiLCJwYXJhbGxlbCIsInBhcmFsbGVsTGltaXQiLCJzZXJpZXMiLCJtYWtlQ2FsbGJhY2siLCJfY29uY2F0IiwieSIsImNvbmNhdFNlcmllcyIsIndoaWxzdCIsImRvV2hpbHN0IiwidW50aWwiLCJkb1VudGlsIiwid29ya2VyIiwiY29uY3VycmVuY3kiLCJwb3MiLCJzYXR1cmF0ZWQiLCJ3b3JrZXJzIiwiZW1wdHkiLCJkcmFpbiIsInNoaWZ0IiwiY2FyZ28iLCJwYXlsb2FkIiwid29ya2luZyIsInRzIiwiZHMiLCJfY29uc29sZV9mbiIsInF1ZXVlcyIsIm1lbW9pemVkIiwidW5tZW1vaXplZCIsInVubWVtb2l6ZSIsImNvdW50ZXIiLCJ0aW1lc1NlcmllcyIsImZucyIsInRoYXQiLCJuZXdhcmdzIiwibmV4dGFyZ3MiLCJfYXBwbHlFYWNoIiwiZ28iLCJhcHBseUVhY2giLCJhcHBseUVhY2hTZXJpZXMiLCJmb3JldmVyIiwxOCwiZHVwIiwxOSwibm9ybWFsaXplQXJyYXkiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwieHMiLCJzcGxpdFBhdGhSZSIsInNwbGl0UGF0aCIsInJlc29sdmVkUGF0aCIsInJlc29sdmVkQWJzb2x1dGUiLCJjd2QiLCJub3JtYWxpemUiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsInN1YnN0ciIsInBhdGhzIiwicmVsYXRpdmUiLCJ0byIsInRyaW0iLCJlbmQiLCJmcm9tUGFydHMiLCJ0b1BhcnRzIiwic2FtZVBhcnRzTGVuZ3RoIiwib3V0cHV0UGFydHMiLCJzZXAiLCJkZWxpbWl0ZXIiLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLDIwLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwicnVuIiwiSXRlbSIsImZ1biIsIm5vb3AiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbnMiLCJvbiIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY2hkaXIiLCJ1bWFzayIsMjEsImZpbGwiLCJyZWFkVUludDgiLDIyLCJpbnNwZWN0Iiwib3B0cyIsImN0eCIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwic2hvd0hpZGRlbiIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsImFycmF5VG9IYXNoIiwiaGFzaCIsInJlY3Vyc2VUaW1lcyIsInJldCIsInByaW1pdGl2ZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImlzRXJyb3IiLCJmb3JtYXRFcnJvciIsImJhc2UiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsImZvcm1hdEFycmF5IiwiZm9ybWF0UHJvcGVydHkiLCJyZWR1Y2VUb1NpbmdsZVN0cmluZyIsInNpbXBsZSIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXQiLCJsaW5lIiwibnVtTGluZXNFc3QiLCJwcmV2IiwiY3VyIiwiYXIiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwicmUiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwidGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXREYXRlIiwibW9udGhzIiwiZ2V0TW9udGgiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJvYmplY3RzIiwiTnVtYmVyIiwiZGVwcmVjYXRlIiwibXNnIiwiZGVwcmVjYXRlZCIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJ0cmFjZURlcHJlY2F0aW9uIiwidHJhY2UiLCJub0RlcHJlY2F0aW9uIiwiZGVidWdFbnZpcm9uIiwiZGVidWdzIiwiZGVidWdsb2ciLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJwaWQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaW52ZXJzZSIsIndoaXRlIiwiZ3JleSIsImJsYWNrIiwiYmx1ZSIsImN5YW4iLCJncmVlbiIsIm1hZ2VudGEiLCJyZWQiLCJ5ZWxsb3ciLCJzcGVjaWFsIiwibnVtYmVyIiwiYm9vbGVhbiIsIm51bGwiLCJkYXRlIiwicmVnZXhwIiwiaXNCdWZmZXIiLCJvcmlnaW4iLCJhZGQiLCIuL3N1cHBvcnQvaXNCdWZmZXIiLDIzLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZGVmYXVsdCIsIl9pbmRleCIsIl9pbmRleDIiLCJzb25ncyIsImFydGlzdHMiLCJhbGJ1bXMiLCJhZGRfbXVzaWMiLCJhcnRpc3QiLCJzb25nIiwidHJhY2tudW0iLCJkdXJhdGlvbiIsImFsYnVtIiwiaW1hZ2UiLCJzb25nRG9jIiwiYXJ0aXN0RG9jIiwiYWxidW1Eb2MiLCJnZXRfc29uZ3MiLCJwcmludF9zb25ncyIsInByaW50X29uZV9zb25nIiwiZHJvcF9kYnMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbmVkYi9pbmRleC5qcyIsMjQsIm11c2ljU2Nyb2xsZXIiLCJhcHAiLCJhbmd1bGFyIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRpbnRlcnZhbCIsIm1haW53aW5kb3ciLCJ3aW5kb3dTdGFjayIsIm1vbWVudCIsInlvc2Nyb2xsIiwiZ29CYWNrIiwibmF2aWdhdGUiLCIkZmlsdGVyIiwiJHRpbWVvdXQiLCIkaHR0cCIsIk11c2ljU2VydmljZSIsInBsYXlpbmciLCJhY3RpdmUiLCJzaWRlQmFyIiwibGlzdFZpZXciLCJjdXJyZW50QXJ0aXN0IiwiJHdhdGNoIiwiY3VycmVudFNvbmciLCJjdXJyZW50QWxidW0iLCJjaGFuZ2VDb250ZXh0IiwiY3R4dCIsInVwZGF0ZVNjcm9sbGVyIiwiJCIsInNjcm9sbFRvIiwidXBkYXRlRGltZW5zaW9ucyIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsInNob3dBbGJ1bXMiLCJhbCIsIm5ld0FsYnVtIiwic28iLCJzaG93U29uZ3MiLCJnZXRBcnRpc3QiLCJwbGF5U29uZyIsInNvbmdsaXN0IiwicXVldWVTb25nIiwicmVmcmVzaE11c2ljIiwidGltZXIiLCJwbGF5bGlzdCIsInNjcnViYmVyIiwiZHVyIiwicm91bmQiLCJwbGF5ZXIiLCJjdXJyZW50VGltZSIsInBhdXNlZCIsInNjcnViYmVyV2lkdGgiLCJ3aWR0aCIsInNob3dGdWxsUGxheWVyIiwiYW5pbWF0ZSIsImJvdHRvbSIsInNlZWsiLCJzZWVrVG8iLCJwbGF5UGF1c2UiLCJwbGF5IiwicGF1c2UiLCJjYW5jZWwiLCJmYXN0Rm9yd2FyZCIsInJld2luZCIsInByZXZTb25nIiwiQXVkaW8iLCJnZXREdXJhdGlvbiIsImFkZEV2ZW50IiwiZ2V0Q3VycmVudFRpbWUiLCJzcmMiLCJzY3JvbGxlckhlaWdodCIsImNvbnRlbnRDb250YWluZXJOb2RlIiwic2Nyb2xsZXJXaWR0aCIsIm9uZW5kZWQiLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWNvbmRzIiwic2Nyb2xsYWJsZSIsImdldEVsZW1lbnRCeUlkIiwiRlRTY3JvbGxlciIsInNjcm9sbGJhcnMiLCJzY3JvbGxpbmdYIiwiLi9kYXRhYmFzZS5qcyJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLElBQUlLLEdBQUUsR0FBSUMsT0FBTSx1QkFBdUJOLEVBQUUsSUFBSyxNQUFNSyxHQUFFRSxLQUFLLG1CQUFtQkYsRUFBRSxHQUFJRyxHQUFFWCxFQUFFRyxJQUFJUyxXQUFZYixHQUFFSSxHQUFHLEdBQUdVLEtBQUtGLEVBQUVDLFFBQVEsU0FBU2QsR0FBRyxHQUFJRSxHQUFFRCxFQUFFSSxHQUFHLEdBQUdMLEVBQUcsT0FBT0ksR0FBRUYsRUFBRUEsRUFBRUYsSUFBSWEsRUFBRUEsRUFBRUMsUUFBUWQsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxNQUFPRCxHQUFFRyxHQUFHUyxRQUFrRCxJQUFJLEdBQTFDTCxHQUFrQixrQkFBVEQsVUFBcUJBLFFBQWdCSCxFQUFFLEVBQUVBLEVBQUVGLEVBQUVhLE9BQU9YLElBQUlELEVBQUVELEVBQUVFLEdBQUksT0FBT0QsS0FBS2EsR0FBRyxTQUFTVCxRQUFRVSxPQUFPSixTQUN2ZEksT0FBT0osUUFBUUssaUJBQW1CWCxRQUFRLGFBQzFDVSxPQUFPSixRQUFRTSxRQUFVWixRQUFRLG1CQUU5QmEsZ0JBQWdCLEVBQUVDLFlBQVksSUFBSUMsR0FBRyxTQUFTZixRQUFRVSxPQUFPSixTQWtCaEUsUUFBU00sU0FBU0ksU0FDaEJDLEtBQUtDLEtBQU8sR0FBSUMsVUFBU0gsU0FZM0IsUUFBU0csVUFBVUgsU0FDakJBLFFBQVVBLFlBRVZD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LEdBRWhCTSxLQUFNLFNBQWNDLFFBQ2xCenZDLEtBQUtndkMsT0FBT0MsWUFBY1EsUUFFNUJLLFlBQWEsU0FBcUJobUMsT0FDaEMsR0FBSXFoQyxNQUFPbnJDLEtBQUt3dUMsU0FBUzFrQyxNQUV6QjlKLE1BQUt1dUMsU0FBU3BELE9BRWhCNEUsT0FBUSxTQUFnQmptQyxPQUN0QixHQUFJcWhDLE1BQU9uckMsS0FBS3d1QyxTQUFTMWtDLE1BQVEsRUFFakM5SixNQUFLdXVDLFNBQVNwRCxPQUVoQjZFLFNBQVUsU0FBa0JsbUMsT0FDMUIsR0FBSXFoQyxNQUFPbnJDLEtBQUt3dUMsU0FBUzFrQyxNQUFRLEVBRWpDOUosTUFBS3V1QyxTQUFTcEQsT0FFaEJnRixTQUFVLFdBQ1IsR0FBSU8sT0FBUTF3QyxJQUVaQSxNQUFLZ3ZDLE9BQU8yQixpQkFBaUIsaUJBQWtCLFdBQzdDRCxNQUFNckYsU0FBV3FGLE1BQU0xQixPQUFPM0QsZUFNdENhLElBQUk1akMsT0FBTyxXQUFZLFdBQ3JCLE1BQU8sVUFBVXFGLE9BQ2YsR0FBSTVCLEtBQU12SyxLQUFLc0YsTUFBTTZHLE1BQVEsSUFBTSxHQUFLLElBQU1uTSxLQUFLc0YsTUFBTTZHLE1BQVEsSUFBTW5NLEtBQUtzRixNQUFNNkcsTUFBUSxJQUN0RmlqQyxRQUFVcHZDLEtBQUtzRixNQUFNNkcsTUFBUSxJQUFNLEdBQUssSUFBTW5NLEtBQUtzRixNQUFNNkcsTUFBUSxJQUFNbk0sS0FBS3NGLE1BQU02RyxNQUFRLEdBQzlGLE9BQU81QixLQUFNLElBQU02a0MsVUFNckIsSUFBSUMsWUFBYWw0QixTQUFTbTRCLGVBQWUsZ0JBQ3pDN0UsZUFBZ0IsR0FBSThFLFlBQVdGLFlBQzdCRyxZQUFZLEVBQ1pDLFlBQVksTUFRYkMsZ0JBQWdCLFVBQVUiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzLkJpbmFyeVNlYXJjaFRyZWUgPSByZXF1aXJlKCcuL2xpYi9ic3QnKTtcbm1vZHVsZS5leHBvcnRzLkFWTFRyZWUgPSByZXF1aXJlKCcuL2xpYi9hdmx0cmVlJyk7XG5cbn0se1wiLi9saWIvYXZsdHJlZVwiOjIsXCIuL2xpYi9ic3RcIjozfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIFNlbGYtYmFsYW5jaW5nIGJpbmFyeSBzZWFyY2ggdHJlZSB1c2luZyB0aGUgQVZMIGltcGxlbWVudGF0aW9uXG4gKi9cbnZhciBCaW5hcnlTZWFyY2hUcmVlID0gcmVxdWlyZSgnLi9ic3QnKVxuICAsIGN1c3RvbVV0aWxzID0gcmVxdWlyZSgnLi9jdXN0b21VdGlscycpXG4gICwgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuICAsIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJylcbiAgO1xuXG5cbi8qKlxuICogQ29uc3RydWN0b3JcbiAqIFdlIGNhbid0IHVzZSBhIGRpcmVjdCBwb2ludGVyIHRvIHRoZSByb290IG5vZGUgKGFzIGluIHRoZSBzaW1wbGUgYmluYXJ5IHNlYXJjaCB0cmVlKVxuICogYXMgdGhlIHJvb3Qgd2lsbCBjaGFuZ2UgZHVyaW5nIHRyZWUgcm90YXRpb25zXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICBvcHRpb25zLnVuaXF1ZSBXaGV0aGVyIHRvIGVuZm9yY2UgYSAndW5pcXVlJyBjb25zdHJhaW50IG9uIHRoZSBrZXkgb3Igbm90XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmNvbXBhcmVLZXlzIEluaXRpYWxpemUgdGhpcyBCU1QncyBjb21wYXJlS2V5c1xuICovXG5mdW5jdGlvbiBBVkxUcmVlIChvcHRpb25zKSB7XG4gIHRoaXMudHJlZSA9IG5ldyBfQVZMVHJlZShvcHRpb25zKTtcbn1cblxuXG4vKipcbiAqIENvbnN0cnVjdG9yIG9mIHRoZSBpbnRlcm5hbCBBVkxUcmVlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25hbFxuICogQHBhcmFtIHtCb29sZWFufSAgb3B0aW9ucy51bmlxdWUgV2hldGhlciB0byBlbmZvcmNlIGEgJ3VuaXF1ZScgY29uc3RyYWludCBvbiB0aGUga2V5IG9yIG5vdFxuICogQHBhcmFtIHtLZXl9ICAgICAgb3B0aW9ucy5rZXkgSW5pdGlhbGl6ZSB0aGlzIEJTVCdzIGtleSB3aXRoIGtleVxuICogQHBhcmFtIHtWYWx1ZX0gICAgb3B0aW9ucy52YWx1ZSBJbml0aWFsaXplIHRoaXMgQlNUJ3MgZGF0YSB3aXRoIFt2YWx1ZV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuY29tcGFyZUtleXMgSW5pdGlhbGl6ZSB0aGlzIEJTVCdzIGNvbXBhcmVLZXlzXG4gKi9cbmZ1bmN0aW9uIF9BVkxUcmVlIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHRoaXMubGVmdCA9IG51bGw7XG4gIHRoaXMucmlnaHQgPSBudWxsO1xuICB0aGlzLnBhcmVudCA9IG9wdGlvbnMucGFyZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBhcmVudCA6IG51bGw7XG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdrZXknKSkgeyB0aGlzLmtleSA9IG9wdGlvbnMua2V5OyB9XG4gIHRoaXMuZGF0YSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgPyBbb3B0aW9ucy52YWx1ZV0gOiBbXTtcbiAgdGhpcy51bmlxdWUgPSBvcHRpb25zLnVuaXF1ZSB8fCBmYWxzZTtcblxuICB0aGlzLmNvbXBhcmVLZXlzID0gb3B0aW9ucy5jb21wYXJlS2V5cyB8fCBjdXN0b21VdGlscy5kZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbjtcbiAgdGhpcy5jaGVja1ZhbHVlRXF1YWxpdHkgPSBvcHRpb25zLmNoZWNrVmFsdWVFcXVhbGl0eSB8fCBjdXN0b21VdGlscy5kZWZhdWx0Q2hlY2tWYWx1ZUVxdWFsaXR5O1xufVxuXG5cbi8qKlxuICogSW5oZXJpdCBiYXNpYyBmdW5jdGlvbnMgZnJvbSB0aGUgYmFzaWMgYmluYXJ5IHNlYXJjaCB0cmVlXG4gKi9cbnV0aWwuaW5oZXJpdHMoX0FWTFRyZWUsIEJpbmFyeVNlYXJjaFRyZWUpO1xuXG4vKipcbiAqIEtlZXAgYSBwb2ludGVyIHRvIHRoZSBpbnRlcm5hbCB0cmVlIGNvbnN0cnVjdG9yIGZvciB0ZXN0aW5nIHB1cnBvc2VzXG4gKi9cbkFWTFRyZWUuX0FWTFRyZWUgPSBfQVZMVHJlZTtcblxuXG4vKipcbiAqIENoZWNrIHRoZSByZWNvcmRlZCBoZWlnaHQgaXMgY29ycmVjdCBmb3IgZXZlcnkgbm9kZVxuICogVGhyb3dzIGlmIG9uZSBoZWlnaHQgZG9lc24ndCBtYXRjaFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUuY2hlY2tIZWlnaHRDb3JyZWN0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGVmdEgsIHJpZ2h0SDtcblxuICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7IHJldHVybjsgfSAgIC8vIEVtcHR5IHRyZWVcblxuICBpZiAodGhpcy5sZWZ0ICYmIHRoaXMubGVmdC5oZWlnaHQgPT09IHVuZGVmaW5lZCkgeyB0aHJvdyBcIlVuZGVmaW5lZCBoZWlnaHQgZm9yIG5vZGUgXCIgKyB0aGlzLmxlZnQua2V5OyB9XG4gIGlmICh0aGlzLnJpZ2h0ICYmIHRoaXMucmlnaHQuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHsgdGhyb3cgXCJVbmRlZmluZWQgaGVpZ2h0IGZvciBub2RlIFwiICsgdGhpcy5yaWdodC5rZXk7IH1cbiAgaWYgKHRoaXMuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHsgdGhyb3cgXCJVbmRlZmluZWQgaGVpZ2h0IGZvciBub2RlIFwiICsgdGhpcy5rZXk7IH1cblxuICBsZWZ0SCA9IHRoaXMubGVmdCA/IHRoaXMubGVmdC5oZWlnaHQgOiAwO1xuICByaWdodEggPSB0aGlzLnJpZ2h0ID8gdGhpcy5yaWdodC5oZWlnaHQgOiAwO1xuXG4gIGlmICh0aGlzLmhlaWdodCAhPT0gMSArIE1hdGgubWF4KGxlZnRILCByaWdodEgpKSB7IHRocm93IFwiSGVpZ2h0IGNvbnN0cmFpbnQgZmFpbGVkIGZvciBub2RlIFwiICsgdGhpcy5rZXk7IH1cbiAgaWYgKHRoaXMubGVmdCkgeyB0aGlzLmxlZnQuY2hlY2tIZWlnaHRDb3JyZWN0KCk7IH1cbiAgaWYgKHRoaXMucmlnaHQpIHsgdGhpcy5yaWdodC5jaGVja0hlaWdodENvcnJlY3QoKTsgfVxufTtcblxuXG4vKipcbiAqIFJldHVybiB0aGUgYmFsYW5jZSBmYWN0b3JcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLmJhbGFuY2VGYWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZWZ0SCA9IHRoaXMubGVmdCA/IHRoaXMubGVmdC5oZWlnaHQgOiAwXG4gICAgLCByaWdodEggPSB0aGlzLnJpZ2h0ID8gdGhpcy5yaWdodC5oZWlnaHQgOiAwXG4gICAgO1xuICByZXR1cm4gbGVmdEggLSByaWdodEg7XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgdGhhdCB0aGUgYmFsYW5jZSBmYWN0b3JzIGFyZSBhbGwgYmV0d2VlbiAtMSBhbmQgMVxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUuY2hlY2tCYWxhbmNlRmFjdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKE1hdGguYWJzKHRoaXMuYmFsYW5jZUZhY3RvcigpKSA+IDEpIHsgdGhyb3cgJ1RyZWUgaXMgdW5iYWxhbmNlZCBhdCBub2RlICcgKyB0aGlzLmtleTsgfVxuXG4gIGlmICh0aGlzLmxlZnQpIHsgdGhpcy5sZWZ0LmNoZWNrQmFsYW5jZUZhY3RvcnMoKTsgfVxuICBpZiAodGhpcy5yaWdodCkgeyB0aGlzLnJpZ2h0LmNoZWNrQmFsYW5jZUZhY3RvcnMoKTsgfVxufTtcblxuXG4vKipcbiAqIFdoZW4gY2hlY2tpbmcgaWYgdGhlIEJTVCBjb25kaXRpb25zIGFyZSBtZXQsIGFsc28gY2hlY2sgdGhhdCB0aGUgaGVpZ2h0cyBhcmUgY29ycmVjdFxuICogYW5kIHRoZSB0cmVlIGlzIGJhbGFuY2VkXG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5jaGVja0lzQVZMVCA9IGZ1bmN0aW9uICgpIHtcbiAgX0FWTFRyZWUuc3VwZXJfLnByb3RvdHlwZS5jaGVja0lzQlNULmNhbGwodGhpcyk7XG4gIHRoaXMuY2hlY2tIZWlnaHRDb3JyZWN0KCk7XG4gIHRoaXMuY2hlY2tCYWxhbmNlRmFjdG9ycygpO1xufTtcbkFWTFRyZWUucHJvdG90eXBlLmNoZWNrSXNBVkxUID0gZnVuY3Rpb24gKCkgeyB0aGlzLnRyZWUuY2hlY2tJc0FWTFQoKTsgfTtcblxuXG4vKipcbiAqIFBlcmZvcm0gYSByaWdodCByb3RhdGlvbiBvZiB0aGUgdHJlZSBpZiBwb3NzaWJsZVxuICogYW5kIHJldHVybiB0aGUgcm9vdCBvZiB0aGUgcmVzdWx0aW5nIHRyZWVcbiAqIFRoZSByZXN1bHRpbmcgdHJlZSdzIG5vZGVzJyBoZWlnaHRzIGFyZSBhbHNvIHVwZGF0ZWRcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLnJpZ2h0Um90YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBxID0gdGhpc1xuICAgICwgcCA9IHRoaXMubGVmdFxuICAgICwgYlxuICAgICwgYWgsIGJoLCBjaDtcblxuICBpZiAoIXApIHsgcmV0dXJuIHRoaXM7IH0gICAvLyBObyBjaGFuZ2VcblxuICBiID0gcC5yaWdodDtcblxuICAvLyBBbHRlciB0cmVlIHN0cnVjdHVyZVxuICBpZiAocS5wYXJlbnQpIHtcbiAgICBwLnBhcmVudCA9IHEucGFyZW50O1xuICAgIGlmIChxLnBhcmVudC5sZWZ0ID09PSBxKSB7IHEucGFyZW50LmxlZnQgPSBwOyB9IGVsc2UgeyBxLnBhcmVudC5yaWdodCA9IHA7IH1cbiAgfSBlbHNlIHtcbiAgICBwLnBhcmVudCA9IG51bGw7XG4gIH1cbiAgcC5yaWdodCA9IHE7XG4gIHEucGFyZW50ID0gcDtcbiAgcS5sZWZ0ID0gYjtcbiAgaWYgKGIpIHsgYi5wYXJlbnQgPSBxOyB9XG5cbiAgLy8gVXBkYXRlIGhlaWdodHNcbiAgYWggPSBwLmxlZnQgPyBwLmxlZnQuaGVpZ2h0IDogMDtcbiAgYmggPSBiID8gYi5oZWlnaHQgOiAwO1xuICBjaCA9IHEucmlnaHQgPyBxLnJpZ2h0LmhlaWdodCA6IDA7XG4gIHEuaGVpZ2h0ID0gTWF0aC5tYXgoYmgsIGNoKSArIDE7XG4gIHAuaGVpZ2h0ID0gTWF0aC5tYXgoYWgsIHEuaGVpZ2h0KSArIDE7XG5cbiAgcmV0dXJuIHA7XG59O1xuXG5cbi8qKlxuICogUGVyZm9ybSBhIGxlZnQgcm90YXRpb24gb2YgdGhlIHRyZWUgaWYgcG9zc2libGVcbiAqIGFuZCByZXR1cm4gdGhlIHJvb3Qgb2YgdGhlIHJlc3VsdGluZyB0cmVlXG4gKiBUaGUgcmVzdWx0aW5nIHRyZWUncyBub2RlcycgaGVpZ2h0cyBhcmUgYWxzbyB1cGRhdGVkXG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5sZWZ0Um90YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBwID0gdGhpc1xuICAgICwgcSA9IHRoaXMucmlnaHRcbiAgICAsIGJcbiAgICAsIGFoLCBiaCwgY2g7XG5cbiAgaWYgKCFxKSB7IHJldHVybiB0aGlzOyB9ICAgLy8gTm8gY2hhbmdlXG5cbiAgYiA9IHEubGVmdDtcblxuICAvLyBBbHRlciB0cmVlIHN0cnVjdHVyZVxuICBpZiAocC5wYXJlbnQpIHtcbiAgICBxLnBhcmVudCA9IHAucGFyZW50O1xuICAgIGlmIChwLnBhcmVudC5sZWZ0ID09PSBwKSB7IHAucGFyZW50LmxlZnQgPSBxOyB9IGVsc2UgeyBwLnBhcmVudC5yaWdodCA9IHE7IH1cbiAgfSBlbHNlIHtcbiAgICBxLnBhcmVudCA9IG51bGw7XG4gIH1cbiAgcS5sZWZ0ID0gcDtcbiAgcC5wYXJlbnQgPSBxO1xuICBwLnJpZ2h0ID0gYjtcbiAgaWYgKGIpIHsgYi5wYXJlbnQgPSBwOyB9XG5cbiAgLy8gVXBkYXRlIGhlaWdodHNcbiAgYWggPSBwLmxlZnQgPyBwLmxlZnQuaGVpZ2h0IDogMDtcbiAgYmggPSBiID8gYi5oZWlnaHQgOiAwO1xuICBjaCA9IHEucmlnaHQgPyBxLnJpZ2h0LmhlaWdodCA6IDA7XG4gIHAuaGVpZ2h0ID0gTWF0aC5tYXgoYWgsIGJoKSArIDE7XG4gIHEuaGVpZ2h0ID0gTWF0aC5tYXgoY2gsIHAuaGVpZ2h0KSArIDE7XG5cbiAgcmV0dXJuIHE7XG59O1xuXG5cbi8qKlxuICogTW9kaWZ5IHRoZSB0cmVlIGlmIGl0cyByaWdodCBzdWJ0cmVlIGlzIHRvbyBzbWFsbCBjb21wYXJlZCB0byB0aGUgbGVmdFxuICogUmV0dXJuIHRoZSBuZXcgcm9vdCBpZiBhbnlcbiAqL1xuX0FWTFRyZWUucHJvdG90eXBlLnJpZ2h0VG9vU21hbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmJhbGFuY2VGYWN0b3IoKSA8PSAxKSB7IHJldHVybiB0aGlzOyB9ICAgLy8gUmlnaHQgaXMgbm90IHRvbyBzbWFsbCwgZG9uJ3QgY2hhbmdlXG5cbiAgaWYgKHRoaXMubGVmdC5iYWxhbmNlRmFjdG9yKCkgPCAwKSB7XG4gICAgdGhpcy5sZWZ0LmxlZnRSb3RhdGlvbigpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMucmlnaHRSb3RhdGlvbigpO1xufTtcblxuXG4vKipcbiAqIE1vZGlmeSB0aGUgdHJlZSBpZiBpdHMgbGVmdCBzdWJ0cmVlIGlzIHRvbyBzbWFsbCBjb21wYXJlZCB0byB0aGUgcmlnaHRcbiAqIFJldHVybiB0aGUgbmV3IHJvb3QgaWYgYW55XG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5sZWZ0VG9vU21hbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmJhbGFuY2VGYWN0b3IoKSA+PSAtMSkgeyByZXR1cm4gdGhpczsgfSAgIC8vIExlZnQgaXMgbm90IHRvbyBzbWFsbCwgZG9uJ3QgY2hhbmdlXG5cbiAgaWYgKHRoaXMucmlnaHQuYmFsYW5jZUZhY3RvcigpID4gMCkge1xuICAgIHRoaXMucmlnaHQucmlnaHRSb3RhdGlvbigpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMubGVmdFJvdGF0aW9uKCk7XG59O1xuXG5cbi8qKlxuICogUmViYWxhbmNlIHRoZSB0cmVlIGFsb25nIHRoZSBnaXZlbiBwYXRoLiBUaGUgcGF0aCBpcyBnaXZlbiByZXZlcnNlZCAoYXMgaGUgd2FzIGNhbGN1bGF0ZWRcbiAqIGluIHRoZSBpbnNlcnQgYW5kIGRlbGV0ZSBmdW5jdGlvbnMpLlxuICogUmV0dXJucyB0aGUgbmV3IHJvb3Qgb2YgdGhlIHRyZWVcbiAqIE9mIGNvdXJzZSwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHBhdGggbXVzdCBiZSB0aGUgcm9vdCBvZiB0aGUgdHJlZVxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUucmViYWxhbmNlQWxvbmdQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgdmFyIG5ld1Jvb3QgPSB0aGlzXG4gICAgLCByb3RhdGVkXG4gICAgLCBpO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgZGVsZXRlIHRoaXMuaGVpZ2h0OyByZXR1cm4gdGhpczsgfSAgIC8vIEVtcHR5IHRyZWVcblxuICAvLyBSZWJhbGFuY2UgdGhlIHRyZWUgYW5kIHVwZGF0ZSBhbGwgaGVpZ2h0c1xuICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgcGF0aFtpXS5oZWlnaHQgPSAxICsgTWF0aC5tYXgocGF0aFtpXS5sZWZ0ID8gcGF0aFtpXS5sZWZ0LmhlaWdodCA6IDAsIHBhdGhbaV0ucmlnaHQgPyBwYXRoW2ldLnJpZ2h0LmhlaWdodCA6IDApO1xuXG4gICAgaWYgKHBhdGhbaV0uYmFsYW5jZUZhY3RvcigpID4gMSkge1xuICAgICAgcm90YXRlZCA9IHBhdGhbaV0ucmlnaHRUb29TbWFsbCgpO1xuICAgICAgaWYgKGkgPT09IDApIHsgbmV3Um9vdCA9IHJvdGF0ZWQ7IH1cbiAgICB9XG5cbiAgICBpZiAocGF0aFtpXS5iYWxhbmNlRmFjdG9yKCkgPCAtMSkge1xuICAgICAgcm90YXRlZCA9IHBhdGhbaV0ubGVmdFRvb1NtYWxsKCk7XG4gICAgICBpZiAoaSA9PT0gMCkgeyBuZXdSb290ID0gcm90YXRlZDsgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdSb290O1xufTtcblxuXG4vKipcbiAqIEluc2VydCBhIGtleSwgdmFsdWUgcGFpciBpbiB0aGUgdHJlZSB3aGlsZSBtYWludGFpbmluZyB0aGUgQVZMIHRyZWUgaGVpZ2h0IGNvbnN0cmFpbnRcbiAqIFJldHVybiBhIHBvaW50ZXIgdG8gdGhlIHJvb3Qgbm9kZSwgd2hpY2ggbWF5IGhhdmUgY2hhbmdlZFxuICovXG5fQVZMVHJlZS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIGluc2VydFBhdGggPSBbXVxuICAgICwgY3VycmVudE5vZGUgPSB0aGlzXG4gICAgO1xuXG4gIC8vIEVtcHR5IHRyZWUsIGluc2VydCBhcyByb290XG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgdGhpcy5oZWlnaHQgPSAxO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gSW5zZXJ0IG5ldyBsZWFmIGF0IHRoZSByaWdodCBwbGFjZVxuICB3aGlsZSAodHJ1ZSkge1xuICAgIC8vIFNhbWUga2V5OiBubyBjaGFuZ2UgaW4gdGhlIHRyZWUgc3RydWN0dXJlXG4gICAgaWYgKGN1cnJlbnROb2RlLmNvbXBhcmVLZXlzKGN1cnJlbnROb2RlLmtleSwga2V5KSA9PT0gMCkge1xuICAgICAgaWYgKGN1cnJlbnROb2RlLnVuaXF1ZSkge1xuICAgICAgICB0aHJvdyB7IG1lc3NhZ2U6IFwiQ2FuJ3QgaW5zZXJ0IGtleSBcIiArIGtleSArIFwiLCBpdCB2aW9sYXRlcyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRcIlxuICAgICAgICAgICAgICAsIGtleToga2V5XG4gICAgICAgICAgICAgICwgZXJyb3JUeXBlOiAndW5pcXVlVmlvbGF0ZWQnXG4gICAgICAgICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50Tm9kZS5kYXRhLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaW5zZXJ0UGF0aC5wdXNoKGN1cnJlbnROb2RlKTtcblxuICAgIGlmIChjdXJyZW50Tm9kZS5jb21wYXJlS2V5cyhrZXksIGN1cnJlbnROb2RlLmtleSkgPCAwKSB7XG4gICAgICBpZiAoIWN1cnJlbnROb2RlLmxlZnQpIHtcbiAgICAgICAgaW5zZXJ0UGF0aC5wdXNoKGN1cnJlbnROb2RlLmNyZWF0ZUxlZnRDaGlsZCh7IGtleToga2V5LCB2YWx1ZTogdmFsdWUgfSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubGVmdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjdXJyZW50Tm9kZS5yaWdodCkge1xuICAgICAgICBpbnNlcnRQYXRoLnB1c2goY3VycmVudE5vZGUuY3JlYXRlUmlnaHRDaGlsZCh7IGtleToga2V5LCB2YWx1ZTogdmFsdWUgfSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucmlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMucmViYWxhbmNlQWxvbmdQYXRoKGluc2VydFBhdGgpO1xufTtcblxuLy8gSW5zZXJ0IGluIHRoZSBpbnRlcm5hbCB0cmVlLCB1cGRhdGUgdGhlIHBvaW50ZXIgdG8gdGhlIHJvb3QgaWYgbmVlZGVkXG5BVkxUcmVlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB2YXIgbmV3VHJlZSA9IHRoaXMudHJlZS5pbnNlcnQoa2V5LCB2YWx1ZSk7XG5cbiAgLy8gSWYgbmV3VHJlZSBpcyB1bmRlZmluZWQsIHRoYXQgbWVhbnMgaXRzIHN0cnVjdHVyZSB3YXMgbm90IG1vZGlmaWVkXG4gIGlmIChuZXdUcmVlKSB7IHRoaXMudHJlZSA9IG5ld1RyZWU7IH1cbn07XG5cblxuLyoqXG4gKiBEZWxldGUgYSBrZXkgb3IganVzdCBhIHZhbHVlIGFuZCByZXR1cm4gdGhlIG5ldyByb290IG9mIHRoZSB0cmVlXG4gKiBAcGFyYW0ge0tleX0ga2V5XG4gKiBAcGFyYW0ge1ZhbHVlfSB2YWx1ZSBPcHRpb25hbC4gSWYgbm90IHNldCwgdGhlIHdob2xlIGtleSBpcyBkZWxldGVkLiBJZiBzZXQsIG9ubHkgdGhpcyB2YWx1ZSBpcyBkZWxldGVkXG4gKi9cbl9BVkxUcmVlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB2YXIgbmV3RGF0YSA9IFtdLCByZXBsYWNlV2l0aFxuICAgICwgc2VsZiA9IHRoaXNcbiAgICAsIGN1cnJlbnROb2RlID0gdGhpc1xuICAgICwgZGVsZXRlUGF0aCA9IFtdXG4gICAgO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuIHRoaXM7IH0gICAvLyBFbXB0eSB0cmVlXG5cbiAgLy8gRWl0aGVyIG5vIG1hdGNoIGlzIGZvdW5kIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gZnJvbSB3aXRoaW4gdGhlIGxvb3BcbiAgLy8gT3IgYSBtYXRjaCBpcyBmb3VuZCBhbmQgZGVsZXRlUGF0aCB3aWxsIGNvbnRhaW4gdGhlIHBhdGggZnJvbSB0aGUgcm9vdCB0byB0aGUgbm9kZSB0byBkZWxldGUgYWZ0ZXIgdGhlIGxvb3BcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoY3VycmVudE5vZGUuY29tcGFyZUtleXMoa2V5LCBjdXJyZW50Tm9kZS5rZXkpID09PSAwKSB7IGJyZWFrOyB9XG5cbiAgICBkZWxldGVQYXRoLnB1c2goY3VycmVudE5vZGUpO1xuXG4gICAgaWYgKGN1cnJlbnROb2RlLmNvbXBhcmVLZXlzKGtleSwgY3VycmVudE5vZGUua2V5KSA8IDApIHtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS5sZWZ0KSB7XG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubGVmdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzOyAgIC8vIEtleSBub3QgZm91bmQsIG5vIG1vZGlmaWNhdGlvblxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjdXJyZW50Tm9kZS5jb21wYXJlS2V5cyhrZXksIGN1cnJlbnROb2RlLmtleSkgaXMgPiAwXG4gICAgICBpZiAoY3VycmVudE5vZGUucmlnaHQpIHtcbiAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5yaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzOyAgIC8vIEtleSBub3QgZm91bmQsIG5vIG1vZGlmaWNhdGlvblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIERlbGV0ZSBvbmx5IGEgdmFsdWUgKG5vIHRyZWUgbW9kaWZpY2F0aW9uKVxuICBpZiAoY3VycmVudE5vZGUuZGF0YS5sZW5ndGggPiAxICYmIHZhbHVlKSB7XG4gICAgY3VycmVudE5vZGUuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICBpZiAoIWN1cnJlbnROb2RlLmNoZWNrVmFsdWVFcXVhbGl0eShkLCB2YWx1ZSkpIHsgbmV3RGF0YS5wdXNoKGQpOyB9XG4gICAgfSk7XG4gICAgY3VycmVudE5vZGUuZGF0YSA9IG5ld0RhdGE7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBEZWxldGUgYSB3aG9sZSBub2RlXG5cbiAgLy8gTGVhZlxuICBpZiAoIWN1cnJlbnROb2RlLmxlZnQgJiYgIWN1cnJlbnROb2RlLnJpZ2h0KSB7XG4gICAgaWYgKGN1cnJlbnROb2RlID09PSB0aGlzKSB7ICAgLy8gVGhpcyBsZWFmIGlzIGFsc28gdGhlIHJvb3RcbiAgICAgIGRlbGV0ZSBjdXJyZW50Tm9kZS5rZXk7XG4gICAgICBjdXJyZW50Tm9kZS5kYXRhID0gW107XG4gICAgICBkZWxldGUgY3VycmVudE5vZGUuaGVpZ2h0O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS5wYXJlbnQubGVmdCA9PT0gY3VycmVudE5vZGUpIHtcbiAgICAgICAgY3VycmVudE5vZGUucGFyZW50LmxlZnQgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudE5vZGUucGFyZW50LnJpZ2h0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlYmFsYW5jZUFsb25nUGF0aChkZWxldGVQYXRoKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIE5vZGUgd2l0aCBvbmx5IG9uZSBjaGlsZFxuICBpZiAoIWN1cnJlbnROb2RlLmxlZnQgfHwgIWN1cnJlbnROb2RlLnJpZ2h0KSB7XG4gICAgcmVwbGFjZVdpdGggPSBjdXJyZW50Tm9kZS5sZWZ0ID8gY3VycmVudE5vZGUubGVmdCA6IGN1cnJlbnROb2RlLnJpZ2h0O1xuXG4gICAgaWYgKGN1cnJlbnROb2RlID09PSB0aGlzKSB7ICAgLy8gVGhpcyBub2RlIGlzIGFsc28gdGhlIHJvb3RcbiAgICAgIHJlcGxhY2VXaXRoLnBhcmVudCA9IG51bGw7XG4gICAgICByZXR1cm4gcmVwbGFjZVdpdGg7ICAgLy8gaGVpZ2h0IG9mIHJlcGxhY2VXaXRoIGlzIG5lY2Vzc2FyaWx5IDEgYmVjYXVzZSB0aGUgdHJlZSB3YXMgYmFsYW5jZWQgYmVmb3JlIGRlbGV0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS5wYXJlbnQubGVmdCA9PT0gY3VycmVudE5vZGUpIHtcbiAgICAgICAgY3VycmVudE5vZGUucGFyZW50LmxlZnQgPSByZXBsYWNlV2l0aDtcbiAgICAgICAgcmVwbGFjZVdpdGgucGFyZW50ID0gY3VycmVudE5vZGUucGFyZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudE5vZGUucGFyZW50LnJpZ2h0ID0gcmVwbGFjZVdpdGg7XG4gICAgICAgIHJlcGxhY2VXaXRoLnBhcmVudCA9IGN1cnJlbnROb2RlLnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmViYWxhbmNlQWxvbmdQYXRoKGRlbGV0ZVBhdGgpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gTm9kZSB3aXRoIHR3byBjaGlsZHJlblxuICAvLyBVc2UgdGhlIGluLW9yZGVyIHByZWRlY2Vzc29yIChubyBuZWVkIHRvIHJhbmRvbWl6ZSBzaW5jZSB3ZSBhY3RpdmVseSByZWJhbGFuY2UpXG4gIGRlbGV0ZVBhdGgucHVzaChjdXJyZW50Tm9kZSk7XG4gIHJlcGxhY2VXaXRoID0gY3VycmVudE5vZGUubGVmdDtcblxuICAvLyBTcGVjaWFsIGNhc2U6IHRoZSBpbi1vcmRlciBwcmVkZWNlc3NvciBpcyByaWdodCBiZWxvdyB0aGUgbm9kZSB0byBkZWxldGVcbiAgaWYgKCFyZXBsYWNlV2l0aC5yaWdodCkge1xuICAgIGN1cnJlbnROb2RlLmtleSA9IHJlcGxhY2VXaXRoLmtleTtcbiAgICBjdXJyZW50Tm9kZS5kYXRhID0gcmVwbGFjZVdpdGguZGF0YTtcbiAgICBjdXJyZW50Tm9kZS5sZWZ0ID0gcmVwbGFjZVdpdGgubGVmdDtcbiAgICBpZiAocmVwbGFjZVdpdGgubGVmdCkgeyByZXBsYWNlV2l0aC5sZWZ0LnBhcmVudCA9IGN1cnJlbnROb2RlOyB9XG4gICAgcmV0dXJuIHRoaXMucmViYWxhbmNlQWxvbmdQYXRoKGRlbGV0ZVBhdGgpO1xuICB9XG5cbiAgLy8gQWZ0ZXIgdGhpcyBsb29wLCByZXBsYWNlV2l0aCBpcyB0aGUgcmlnaHQtbW9zdCBsZWFmIGluIHRoZSBsZWZ0IHN1YnRyZWVcbiAgLy8gYW5kIGRlbGV0ZVBhdGggdGhlIHBhdGggZnJvbSB0aGUgcm9vdCAoaW5jbHVzaXZlKSB0byByZXBsYWNlV2l0aCAoZXhjbHVzaXZlKVxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChyZXBsYWNlV2l0aC5yaWdodCkge1xuICAgICAgZGVsZXRlUGF0aC5wdXNoKHJlcGxhY2VXaXRoKTtcbiAgICAgIHJlcGxhY2VXaXRoID0gcmVwbGFjZVdpdGgucmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGN1cnJlbnROb2RlLmtleSA9IHJlcGxhY2VXaXRoLmtleTtcbiAgY3VycmVudE5vZGUuZGF0YSA9IHJlcGxhY2VXaXRoLmRhdGE7XG5cbiAgcmVwbGFjZVdpdGgucGFyZW50LnJpZ2h0ID0gcmVwbGFjZVdpdGgubGVmdDtcbiAgaWYgKHJlcGxhY2VXaXRoLmxlZnQpIHsgcmVwbGFjZVdpdGgubGVmdC5wYXJlbnQgPSByZXBsYWNlV2l0aC5wYXJlbnQ7IH1cblxuICByZXR1cm4gdGhpcy5yZWJhbGFuY2VBbG9uZ1BhdGgoZGVsZXRlUGF0aCk7XG59O1xuXG4vLyBEZWxldGUgYSB2YWx1ZVxuQVZMVHJlZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG5ld1RyZWUgPSB0aGlzLnRyZWUuZGVsZXRlKGtleSwgdmFsdWUpO1xuXG4gIC8vIElmIG5ld1RyZWUgaXMgdW5kZWZpbmVkLCB0aGF0IG1lYW5zIGl0cyBzdHJ1Y3R1cmUgd2FzIG5vdCBtb2RpZmllZFxuICBpZiAobmV3VHJlZSkgeyB0aGlzLnRyZWUgPSBuZXdUcmVlOyB9XG59O1xuXG5cbi8qKlxuICogT3RoZXIgZnVuY3Rpb25zIHdlIHdhbnQgdG8gdXNlIG9uIGFuIEFWTFRyZWUgYXMgaWYgaXQgd2VyZSB0aGUgaW50ZXJuYWwgX0FWTFRyZWVcbiAqL1xuWydnZXROdW1iZXJPZktleXMnLCAnc2VhcmNoJywgJ2JldHdlZW5Cb3VuZHMnLCAncHJldHR5UHJpbnQnLCAnZXhlY3V0ZU9uRXZlcnlOb2RlJ10uZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgQVZMVHJlZS5wcm90b3R5cGVbZm5dID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRyZWVbZm5dLmFwcGx5KHRoaXMudHJlZSwgYXJndW1lbnRzKTtcbiAgfTtcbn0pO1xuXG5cbi8vIEludGVyZmFjZVxubW9kdWxlLmV4cG9ydHMgPSBBVkxUcmVlO1xuXG59LHtcIi4vYnN0XCI6MyxcIi4vY3VzdG9tVXRpbHNcIjo0LFwidW5kZXJzY29yZVwiOjUsXCJ1dGlsXCI6MjJ9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogU2ltcGxlIGJpbmFyeSBzZWFyY2ggdHJlZVxuICovXG52YXIgY3VzdG9tVXRpbHMgPSByZXF1aXJlKCcuL2N1c3RvbVV0aWxzJyk7XG5cblxuLyoqXG4gKiBDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gIG9wdGlvbnMudW5pcXVlIFdoZXRoZXIgdG8gZW5mb3JjZSBhICd1bmlxdWUnIGNvbnN0cmFpbnQgb24gdGhlIGtleSBvciBub3RcbiAqIEBwYXJhbSB7S2V5fSAgICAgIG9wdGlvbnMua2V5IEluaXRpYWxpemUgdGhpcyBCU1QncyBrZXkgd2l0aCBrZXlcbiAqIEBwYXJhbSB7VmFsdWV9ICAgIG9wdGlvbnMudmFsdWUgSW5pdGlhbGl6ZSB0aGlzIEJTVCdzIGRhdGEgd2l0aCBbdmFsdWVdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmNvbXBhcmVLZXlzIEluaXRpYWxpemUgdGhpcyBCU1QncyBjb21wYXJlS2V5c1xuICovXG5mdW5jdGlvbiBCaW5hcnlTZWFyY2hUcmVlIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHRoaXMubGVmdCA9IG51bGw7XG4gIHRoaXMucmlnaHQgPSBudWxsO1xuICB0aGlzLnBhcmVudCA9IG9wdGlvbnMucGFyZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBhcmVudCA6IG51bGw7XG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdrZXknKSkgeyB0aGlzLmtleSA9IG9wdGlvbnMua2V5OyB9XG4gIHRoaXMuZGF0YSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgPyBbb3B0aW9ucy52YWx1ZV0gOiBbXTtcbiAgdGhpcy51bmlxdWUgPSBvcHRpb25zLnVuaXF1ZSB8fCBmYWxzZTtcblxuICB0aGlzLmNvbXBhcmVLZXlzID0gb3B0aW9ucy5jb21wYXJlS2V5cyB8fCBjdXN0b21VdGlscy5kZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbjtcbiAgdGhpcy5jaGVja1ZhbHVlRXF1YWxpdHkgPSBvcHRpb25zLmNoZWNrVmFsdWVFcXVhbGl0eSB8fCBjdXN0b21VdGlscy5kZWZhdWx0Q2hlY2tWYWx1ZUVxdWFsaXR5O1xufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNZXRob2RzIHVzZWQgdG8gdGVzdCB0aGUgdHJlZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4vKipcbiAqIEdldCB0aGUgZGVzY2VuZGFudCB3aXRoIG1heCBrZXlcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZ2V0TWF4S2V5RGVzY2VuZGFudCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICByZXR1cm4gdGhpcy5yaWdodC5nZXRNYXhLZXlEZXNjZW5kYW50KCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBHZXQgdGhlIG1heGltdW0ga2V5XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmdldE1heEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0TWF4S2V5RGVzY2VuZGFudCgpLmtleTtcbn07XG5cblxuLyoqXG4gKiBHZXQgdGhlIGRlc2NlbmRhbnQgd2l0aCBtaW4ga2V5XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmdldE1pbktleURlc2NlbmRhbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmxlZnQpIHtcbiAgICByZXR1cm4gdGhpcy5sZWZ0LmdldE1pbktleURlc2NlbmRhbnQoKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5cbi8qKlxuICogR2V0IHRoZSBtaW5pbXVtIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXRNaW5LZXkgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldE1pbktleURlc2NlbmRhbnQoKS5rZXk7XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgdGhhdCBhbGwgbm9kZXMgKGluY2wuIGxlYXZlcykgZnVsbGZpbCBjb25kaXRpb24gZ2l2ZW4gYnkgZm5cbiAqIHRlc3QgaXMgYSBmdW5jdGlvbiBwYXNzZWQgZXZlcnkgKGtleSwgZGF0YSkgYW5kIHdoaWNoIHRocm93cyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uID0gZnVuY3Rpb24gKHRlc3QpIHtcbiAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdrZXknKSkgeyByZXR1cm47IH1cblxuICB0ZXN0KHRoaXMua2V5LCB0aGlzLmRhdGEpO1xuICBpZiAodGhpcy5sZWZ0KSB7IHRoaXMubGVmdC5jaGVja0FsbE5vZGVzRnVsbGZpbGxDb25kaXRpb24odGVzdCk7IH1cbiAgaWYgKHRoaXMucmlnaHQpIHsgdGhpcy5yaWdodC5jaGVja0FsbE5vZGVzRnVsbGZpbGxDb25kaXRpb24odGVzdCk7IH1cbn07XG5cblxuLyoqXG4gKiBDaGVjayB0aGF0IHRoZSBjb3JlIEJTVCBwcm9wZXJ0aWVzIG9uIG5vZGUgb3JkZXJpbmcgYXJlIHZlcmlmaWVkXG4gKiBUaHJvdyBpZiB0aGV5IGFyZW4ndFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5jaGVja05vZGVPcmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuOyB9XG5cbiAgaWYgKHRoaXMubGVmdCkge1xuICAgIHRoaXMubGVmdC5jaGVja0FsbE5vZGVzRnVsbGZpbGxDb25kaXRpb24oZnVuY3Rpb24gKGspIHtcbiAgICAgIGlmIChzZWxmLmNvbXBhcmVLZXlzKGssIHNlbGYua2V5KSA+PSAwKSB7XG4gICAgICAgIHRocm93ICdUcmVlIHdpdGggcm9vdCAnICsgc2VsZi5rZXkgKyAnIGlzIG5vdCBhIGJpbmFyeSBzZWFyY2ggdHJlZSc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5sZWZ0LmNoZWNrTm9kZU9yZGVyaW5nKCk7XG4gIH1cblxuICBpZiAodGhpcy5yaWdodCkge1xuICAgIHRoaXMucmlnaHQuY2hlY2tBbGxOb2Rlc0Z1bGxmaWxsQ29uZGl0aW9uKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoc2VsZi5jb21wYXJlS2V5cyhrLCBzZWxmLmtleSkgPD0gMCkge1xuICAgICAgICB0aHJvdyAnVHJlZSB3aXRoIHJvb3QgJyArIHNlbGYua2V5ICsgJyBpcyBub3QgYSBiaW5hcnkgc2VhcmNoIHRyZWUnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucmlnaHQuY2hlY2tOb2RlT3JkZXJpbmcoKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENoZWNrIHRoYXQgYWxsIHBvaW50ZXJzIGFyZSBjb2hlcmVudCBpbiB0aGlzIHRyZWVcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuY2hlY2tJbnRlcm5hbFBvaW50ZXJzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgaWYgKHRoaXMubGVmdC5wYXJlbnQgIT09IHRoaXMpIHsgdGhyb3cgJ1BhcmVudCBwb2ludGVyIGJyb2tlbiBmb3Iga2V5ICcgKyB0aGlzLmtleTsgfVxuICAgIHRoaXMubGVmdC5jaGVja0ludGVybmFsUG9pbnRlcnMoKTtcbiAgfVxuXG4gIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgaWYgKHRoaXMucmlnaHQucGFyZW50ICE9PSB0aGlzKSB7IHRocm93ICdQYXJlbnQgcG9pbnRlciBicm9rZW4gZm9yIGtleSAnICsgdGhpcy5rZXk7IH1cbiAgICB0aGlzLnJpZ2h0LmNoZWNrSW50ZXJuYWxQb2ludGVycygpO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ2hlY2sgdGhhdCBhIHRyZWUgaXMgYSBCU1QgYXMgZGVmaW5lZCBoZXJlIChub2RlIG9yZGVyaW5nIGFuZCBwb2ludGVyIHJlZmVyZW5jZXMpXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNoZWNrSXNCU1QgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2hlY2tOb2RlT3JkZXJpbmcoKTtcbiAgdGhpcy5jaGVja0ludGVybmFsUG9pbnRlcnMoKTtcbiAgaWYgKHRoaXMucGFyZW50KSB7IHRocm93IFwiVGhlIHJvb3Qgc2hvdWxkbid0IGhhdmUgYSBwYXJlbnRcIjsgfVxufTtcblxuXG4vKipcbiAqIEdldCBudW1iZXIgb2Yga2V5cyBpbnNlcnRlZFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXROdW1iZXJPZktleXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZXM7XG5cbiAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdrZXknKSkgeyByZXR1cm4gMDsgfVxuXG4gIHJlcyA9IDE7XG4gIGlmICh0aGlzLmxlZnQpIHsgcmVzICs9IHRoaXMubGVmdC5nZXROdW1iZXJPZktleXMoKTsgfVxuICBpZiAodGhpcy5yaWdodCkgeyByZXMgKz0gdGhpcy5yaWdodC5nZXROdW1iZXJPZktleXMoKTsgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1ldGhvZHMgdXNlZCB0byBhY3R1YWxseSB3b3JrIG9uIHRoZSB0cmVlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENyZWF0ZSBhIEJTVCBzaW1pbGFyIChpLmUuIHNhbWUgb3B0aW9ucyBleGNlcHQgZm9yIGtleSBhbmQgdmFsdWUpIHRvIHRoZSBjdXJyZW50IG9uZVxuICogVXNlIHRoZSBzYW1lIGNvbnN0cnVjdG9yIChpLmUuIEJpbmFyeVNlYXJjaFRyZWUsIEFWTFRyZWUgZXRjKVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgc2VlIGNvbnN0cnVjdG9yXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNyZWF0ZVNpbWlsYXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy51bmlxdWUgPSB0aGlzLnVuaXF1ZTtcbiAgb3B0aW9ucy5jb21wYXJlS2V5cyA9IHRoaXMuY29tcGFyZUtleXM7XG4gIG9wdGlvbnMuY2hlY2tWYWx1ZUVxdWFsaXR5ID0gdGhpcy5jaGVja1ZhbHVlRXF1YWxpdHk7XG5cbiAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9wdGlvbnMpO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZSB0aGUgbGVmdCBjaGlsZCBvZiB0aGlzIEJTVCBhbmQgcmV0dXJuIGl0XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNyZWF0ZUxlZnRDaGlsZCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciBsZWZ0Q2hpbGQgPSB0aGlzLmNyZWF0ZVNpbWlsYXIob3B0aW9ucyk7XG4gIGxlZnRDaGlsZC5wYXJlbnQgPSB0aGlzO1xuICB0aGlzLmxlZnQgPSBsZWZ0Q2hpbGQ7XG5cbiAgcmV0dXJuIGxlZnRDaGlsZDtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGUgdGhlIHJpZ2h0IGNoaWxkIG9mIHRoaXMgQlNUIGFuZCByZXR1cm4gaXRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuY3JlYXRlUmlnaHRDaGlsZCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciByaWdodENoaWxkID0gdGhpcy5jcmVhdGVTaW1pbGFyKG9wdGlvbnMpO1xuICByaWdodENoaWxkLnBhcmVudCA9IHRoaXM7XG4gIHRoaXMucmlnaHQgPSByaWdodENoaWxkO1xuXG4gIHJldHVybiByaWdodENoaWxkO1xufTtcblxuXG4vKipcbiAqIEluc2VydCBhIG5ldyBlbGVtZW50XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIC8vIEVtcHR5IHRyZWUsIGluc2VydCBhcyByb290XG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU2FtZSBrZXkgYXMgcm9vdFxuICBpZiAodGhpcy5jb21wYXJlS2V5cyh0aGlzLmtleSwga2V5KSA9PT0gMCkge1xuICAgIGlmICh0aGlzLnVuaXF1ZSkge1xuICAgICAgdGhyb3cgeyBtZXNzYWdlOiBcIkNhbid0IGluc2VydCBrZXkgXCIgKyBrZXkgKyBcIiwgaXQgdmlvbGF0ZXMgdGhlIHVuaXF1ZSBjb25zdHJhaW50XCJcbiAgICAgICAgICAgICwga2V5OiBrZXlcbiAgICAgICAgICAgICwgZXJyb3JUeXBlOiAndW5pcXVlVmlvbGF0ZWQnXG4gICAgICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpIDwgMCkge1xuICAgIC8vIEluc2VydCBpbiBsZWZ0IHN1YnRyZWVcbiAgICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgICB0aGlzLmxlZnQuaW5zZXJ0KGtleSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNyZWF0ZUxlZnRDaGlsZCh7IGtleToga2V5LCB2YWx1ZTogdmFsdWUgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEluc2VydCBpbiByaWdodCBzdWJ0cmVlXG4gICAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICAgIHRoaXMucmlnaHQuaW5zZXJ0KGtleSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNyZWF0ZVJpZ2h0Q2hpbGQoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFNlYXJjaCBmb3IgYWxsIGRhdGEgY29ycmVzcG9uZGluZyB0byBhIGtleVxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbiAoa2V5KSB7XG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuIFtdOyB9XG5cbiAgaWYgKHRoaXMuY29tcGFyZUtleXModGhpcy5rZXksIGtleSkgPT09IDApIHsgcmV0dXJuIHRoaXMuZGF0YTsgfVxuXG4gIGlmICh0aGlzLmNvbXBhcmVLZXlzKGtleSwgdGhpcy5rZXkpIDwgMCkge1xuICAgIGlmICh0aGlzLmxlZnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlZnQuc2VhcmNoKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJpZ2h0LnNlYXJjaChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCB0ZWxscyB3aGV0aGVyIGEgZ2l2ZW4ga2V5IG1hdGNoZXMgYSBsb3dlciBib3VuZFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXRMb3dlckJvdW5kTWF0Y2hlciA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gTm8gbG93ZXIgYm91bmRcbiAgaWYgKCFxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGd0JykgJiYgIXF1ZXJ5Lmhhc093blByb3BlcnR5KCckZ3RlJykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgfVxuXG4gIGlmIChxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGd0JykgJiYgcXVlcnkuaGFzT3duUHJvcGVydHkoJyRndGUnKSkge1xuICAgIGlmIChzZWxmLmNvbXBhcmVLZXlzKHF1ZXJ5LiRndGUsIHF1ZXJ5LiRndCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGd0KSA+IDA7IH07XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuY29tcGFyZUtleXMocXVlcnkuJGd0ZSwgcXVlcnkuJGd0KSA+IDApIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGd0ZSkgPj0gMDsgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kZ3QpID4gMDsgfTtcbiAgICB9XG4gIH1cblxuICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoJyRndCcpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kZ3QpID4gMDsgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRndGUpID49IDA7IH07XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHRlbGxzIHdoZXRoZXIgYSBnaXZlbiBrZXkgbWF0Y2hlcyBhbiB1cHBlciBib3VuZFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXRVcHBlckJvdW5kTWF0Y2hlciA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gTm8gbG93ZXIgYm91bmRcbiAgaWYgKCFxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGx0JykgJiYgIXF1ZXJ5Lmhhc093blByb3BlcnR5KCckbHRlJykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgfVxuXG4gIGlmIChxdWVyeS5oYXNPd25Qcm9wZXJ0eSgnJGx0JykgJiYgcXVlcnkuaGFzT3duUHJvcGVydHkoJyRsdGUnKSkge1xuICAgIGlmIChzZWxmLmNvbXBhcmVLZXlzKHF1ZXJ5LiRsdGUsIHF1ZXJ5LiRsdCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGx0KSA8IDA7IH07XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuY29tcGFyZUtleXMocXVlcnkuJGx0ZSwgcXVlcnkuJGx0KSA8IDApIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBzZWxmLmNvbXBhcmVLZXlzKGtleSwgcXVlcnkuJGx0ZSkgPD0gMDsgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kbHQpIDwgMDsgfTtcbiAgICB9XG4gIH1cblxuICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoJyRsdCcpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNlbGYuY29tcGFyZUtleXMoa2V5LCBxdWVyeS4kbHQpIDwgMDsgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gc2VsZi5jb21wYXJlS2V5cyhrZXksIHF1ZXJ5LiRsdGUpIDw9IDA7IH07XG4gIH1cbn07XG5cblxuLy8gQXBwZW5kIGFsbCBlbGVtZW50cyBpbiB0b0FwcGVuZCB0byBhcnJheVxuZnVuY3Rpb24gYXBwZW5kIChhcnJheSwgdG9BcHBlbmQpIHtcbiAgdmFyIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHRvQXBwZW5kLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgYXJyYXkucHVzaCh0b0FwcGVuZFtpXSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEdldCBhbGwgZGF0YSBmb3IgYSBrZXkgYmV0d2VlbiBib3VuZHNcbiAqIFJldHVybiBpdCBpbiBrZXkgb3JkZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBNb25nby1zdHlsZSBxdWVyeSB3aGVyZSBrZXlzIGFyZSAkbHQsICRsdGUsICRndCBvciAkZ3RlIChvdGhlciBrZXlzIGFyZSBub3QgY29uc2lkZXJlZClcbiAqIEBwYXJhbSB7RnVuY3Rpb25zfSBsYm0vdWJtIG1hdGNoaW5nIGZ1bmN0aW9ucyBjYWxjdWxhdGVkIGF0IHRoZSBmaXJzdCByZWN1cnNpdmUgc3RlcFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5iZXR3ZWVuQm91bmRzID0gZnVuY3Rpb24gKHF1ZXJ5LCBsYm0sIHVibSkge1xuICB2YXIgcmVzID0gW107XG5cbiAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdrZXknKSkgeyByZXR1cm4gW107IH0gICAvLyBFbXB0eSB0cmVlXG5cbiAgbGJtID0gbGJtIHx8IHRoaXMuZ2V0TG93ZXJCb3VuZE1hdGNoZXIocXVlcnkpO1xuICB1Ym0gPSB1Ym0gfHwgdGhpcy5nZXRVcHBlckJvdW5kTWF0Y2hlcihxdWVyeSk7XG5cbiAgaWYgKGxibSh0aGlzLmtleSkgJiYgdGhpcy5sZWZ0KSB7IGFwcGVuZChyZXMsIHRoaXMubGVmdC5iZXR3ZWVuQm91bmRzKHF1ZXJ5LCBsYm0sIHVibSkpOyB9XG4gIGlmIChsYm0odGhpcy5rZXkpICYmIHVibSh0aGlzLmtleSkpIHsgYXBwZW5kKHJlcywgdGhpcy5kYXRhKTsgfVxuICBpZiAodWJtKHRoaXMua2V5KSAmJiB0aGlzLnJpZ2h0KSB7IGFwcGVuZChyZXMsIHRoaXMucmlnaHQuYmV0d2VlbkJvdW5kcyhxdWVyeSwgbGJtLCB1Ym0pKTsgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG5cbi8qKlxuICogRGVsZXRlIHRoZSBjdXJyZW50IG5vZGUgaWYgaXQgaXMgYSBsZWFmXG4gKiBSZXR1cm4gdHJ1ZSBpZiBpdCB3YXMgZGVsZXRlZFxuICovXG5CaW5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5kZWxldGVJZkxlYWYgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmxlZnQgfHwgdGhpcy5yaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAvLyBUaGUgbGVhZiBpcyBpdHNlbGYgYSByb290XG4gIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICBkZWxldGUgdGhpcy5rZXk7XG4gICAgdGhpcy5kYXRhID0gW107XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodGhpcy5wYXJlbnQubGVmdCA9PT0gdGhpcykge1xuICAgIHRoaXMucGFyZW50LmxlZnQgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucGFyZW50LnJpZ2h0ID0gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuXG4vKipcbiAqIERlbGV0ZSB0aGUgY3VycmVudCBub2RlIGlmIGl0IGhhcyBvbmx5IG9uZSBjaGlsZFxuICogUmV0dXJuIHRydWUgaWYgaXQgd2FzIGRlbGV0ZWRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZGVsZXRlSWZPbmx5T25lQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjaGlsZDtcblxuICBpZiAodGhpcy5sZWZ0ICYmICF0aGlzLnJpZ2h0KSB7IGNoaWxkID0gdGhpcy5sZWZ0OyB9XG4gIGlmICghdGhpcy5sZWZ0ICYmIHRoaXMucmlnaHQpIHsgY2hpbGQgPSB0aGlzLnJpZ2h0OyB9XG4gIGlmICghY2hpbGQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgLy8gUm9vdFxuICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgdGhpcy5rZXkgPSBjaGlsZC5rZXk7XG4gICAgdGhpcy5kYXRhID0gY2hpbGQuZGF0YTtcblxuICAgIHRoaXMubGVmdCA9IG51bGw7XG4gICAgaWYgKGNoaWxkLmxlZnQpIHtcbiAgICAgIHRoaXMubGVmdCA9IGNoaWxkLmxlZnQ7XG4gICAgICBjaGlsZC5sZWZ0LnBhcmVudCA9IHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5yaWdodCA9IG51bGw7XG4gICAgaWYgKGNoaWxkLnJpZ2h0KSB7XG4gICAgICB0aGlzLnJpZ2h0ID0gY2hpbGQucmlnaHQ7XG4gICAgICBjaGlsZC5yaWdodC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHRoaXMucGFyZW50LmxlZnQgPT09IHRoaXMpIHtcbiAgICB0aGlzLnBhcmVudC5sZWZ0ID0gY2hpbGQ7XG4gICAgY2hpbGQucGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wYXJlbnQucmlnaHQgPSBjaGlsZDtcbiAgICBjaGlsZC5wYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuXG4vKipcbiAqIERlbGV0ZSBhIGtleSBvciBqdXN0IGEgdmFsdWVcbiAqIEBwYXJhbSB7S2V5fSBrZXlcbiAqIEBwYXJhbSB7VmFsdWV9IHZhbHVlIE9wdGlvbmFsLiBJZiBub3Qgc2V0LCB0aGUgd2hvbGUga2V5IGlzIGRlbGV0ZWQuIElmIHNldCwgb25seSB0aGlzIHZhbHVlIGlzIGRlbGV0ZWRcbiAqL1xuQmluYXJ5U2VhcmNoVHJlZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG5ld0RhdGEgPSBbXSwgcmVwbGFjZVdpdGhcbiAgICAsIHNlbGYgPSB0aGlzXG4gICAgO1xuXG4gIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHsgcmV0dXJuOyB9XG5cbiAgaWYgKHRoaXMuY29tcGFyZUtleXMoa2V5LCB0aGlzLmtleSkgPCAwKSB7XG4gICAgaWYgKHRoaXMubGVmdCkgeyB0aGlzLmxlZnQuZGVsZXRlKGtleSwgdmFsdWUpOyB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHRoaXMuY29tcGFyZUtleXMoa2V5LCB0aGlzLmtleSkgPiAwKSB7XG4gICAgaWYgKHRoaXMucmlnaHQpIHsgdGhpcy5yaWdodC5kZWxldGUoa2V5LCB2YWx1ZSk7IH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXRoaXMuY29tcGFyZUtleXMoa2V5LCB0aGlzLmtleSkgPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgLy8gRGVsZXRlIG9ubHkgYSB2YWx1ZVxuICBpZiAodGhpcy5kYXRhLmxlbmd0aCA+IDEgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICBpZiAoIXNlbGYuY2hlY2tWYWx1ZUVxdWFsaXR5KGQsIHZhbHVlKSkgeyBuZXdEYXRhLnB1c2goZCk7IH1cbiAgICB9KTtcbiAgICBzZWxmLmRhdGEgPSBuZXdEYXRhO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlbGV0ZSB0aGUgd2hvbGUgbm9kZVxuICBpZiAodGhpcy5kZWxldGVJZkxlYWYoKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGhpcy5kZWxldGVJZk9ubHlPbmVDaGlsZCgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gV2UgYXJlIGluIHRoZSBjYXNlIHdoZXJlIHRoZSBub2RlIHRvIGRlbGV0ZSBoYXMgdHdvIGNoaWxkcmVuXG4gIGlmIChNYXRoLnJhbmRvbSgpID49IDAuNSkgeyAgIC8vIFJhbmRvbWl6ZSByZXBsYWNlbWVudCB0byBhdm9pZCB1bmJhbGFuY2luZyB0aGUgdHJlZSB0b28gbXVjaFxuICAgIC8vIFVzZSB0aGUgaW4tb3JkZXIgcHJlZGVjZXNzb3JcbiAgICByZXBsYWNlV2l0aCA9IHRoaXMubGVmdC5nZXRNYXhLZXlEZXNjZW5kYW50KCk7XG5cbiAgICB0aGlzLmtleSA9IHJlcGxhY2VXaXRoLmtleTtcbiAgICB0aGlzLmRhdGEgPSByZXBsYWNlV2l0aC5kYXRhO1xuXG4gICAgaWYgKHRoaXMgPT09IHJlcGxhY2VXaXRoLnBhcmVudCkgeyAgIC8vIFNwZWNpYWwgY2FzZVxuICAgICAgdGhpcy5sZWZ0ID0gcmVwbGFjZVdpdGgubGVmdDtcbiAgICAgIGlmIChyZXBsYWNlV2l0aC5sZWZ0KSB7IHJlcGxhY2VXaXRoLmxlZnQucGFyZW50ID0gcmVwbGFjZVdpdGgucGFyZW50OyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VXaXRoLnBhcmVudC5yaWdodCA9IHJlcGxhY2VXaXRoLmxlZnQ7XG4gICAgICBpZiAocmVwbGFjZVdpdGgubGVmdCkgeyByZXBsYWNlV2l0aC5sZWZ0LnBhcmVudCA9IHJlcGxhY2VXaXRoLnBhcmVudDsgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBVc2UgdGhlIGluLW9yZGVyIHN1Y2Nlc3NvclxuICAgIHJlcGxhY2VXaXRoID0gdGhpcy5yaWdodC5nZXRNaW5LZXlEZXNjZW5kYW50KCk7XG5cbiAgICB0aGlzLmtleSA9IHJlcGxhY2VXaXRoLmtleTtcbiAgICB0aGlzLmRhdGEgPSByZXBsYWNlV2l0aC5kYXRhO1xuXG4gICAgaWYgKHRoaXMgPT09IHJlcGxhY2VXaXRoLnBhcmVudCkgeyAgIC8vIFNwZWNpYWwgY2FzZVxuICAgICAgdGhpcy5yaWdodCA9IHJlcGxhY2VXaXRoLnJpZ2h0O1xuICAgICAgaWYgKHJlcGxhY2VXaXRoLnJpZ2h0KSB7IHJlcGxhY2VXaXRoLnJpZ2h0LnBhcmVudCA9IHJlcGxhY2VXaXRoLnBhcmVudDsgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlV2l0aC5wYXJlbnQubGVmdCA9IHJlcGxhY2VXaXRoLnJpZ2h0O1xuICAgICAgaWYgKHJlcGxhY2VXaXRoLnJpZ2h0KSB7IHJlcGxhY2VXaXRoLnJpZ2h0LnBhcmVudCA9IHJlcGxhY2VXaXRoLnBhcmVudDsgfVxuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIEV4ZWN1dGUgYSBmdW5jdGlvbiBvbiBldmVyeSBub2RlIG9mIHRoZSB0cmVlLCBpbiBrZXkgb3JkZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFNpZ25hdHVyZTogbm9kZS4gTW9zdCB1c2VmdWwgd2lsbCBwcm9iYWJseSBiZSBub2RlLmtleSBhbmQgbm9kZS5kYXRhXG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmV4ZWN1dGVPbkV2ZXJ5Tm9kZSA9IGZ1bmN0aW9uIChmbikge1xuICBpZiAodGhpcy5sZWZ0KSB7IHRoaXMubGVmdC5leGVjdXRlT25FdmVyeU5vZGUoZm4pOyB9XG4gIGZuKHRoaXMpO1xuICBpZiAodGhpcy5yaWdodCkgeyB0aGlzLnJpZ2h0LmV4ZWN1dGVPbkV2ZXJ5Tm9kZShmbik7IH1cbn07XG5cblxuLyoqXG4gKiBQcmV0dHkgcHJpbnQgYSB0cmVlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHByaW50RGF0YSBUbyBwcmludCB0aGUgbm9kZXMnIGRhdGEgYWxvbmcgd2l0aCB0aGUga2V5XG4gKi9cbkJpbmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLnByZXR0eVByaW50ID0gZnVuY3Rpb24gKHByaW50RGF0YSwgc3BhY2luZykge1xuICBzcGFjaW5nID0gc3BhY2luZyB8fCBcIlwiO1xuXG4gIGNvbnNvbGUubG9nKHNwYWNpbmcgKyBcIiogXCIgKyB0aGlzLmtleSk7XG4gIGlmIChwcmludERhdGEpIHsgY29uc29sZS5sb2coc3BhY2luZyArIFwiKiBcIiArIHRoaXMuZGF0YSk7IH1cblxuICBpZiAoIXRoaXMubGVmdCAmJiAhdGhpcy5yaWdodCkgeyByZXR1cm47IH1cblxuICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgdGhpcy5sZWZ0LnByZXR0eVByaW50KHByaW50RGF0YSwgc3BhY2luZyArIFwiICBcIik7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coc3BhY2luZyArIFwiICAqXCIpO1xuICB9XG4gIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgdGhpcy5yaWdodC5wcmV0dHlQcmludChwcmludERhdGEsIHNwYWNpbmcgKyBcIiAgXCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKHNwYWNpbmcgKyBcIiAgKlwiKTtcbiAgfVxufTtcblxuXG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cyA9IEJpbmFyeVNlYXJjaFRyZWU7XG5cbn0se1wiLi9jdXN0b21VdGlsc1wiOjR9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IHdpdGggdGhlIG51bWJlcnMgZnJvbSAwIHRvIG4tMSwgaW4gYSByYW5kb20gb3JkZXJcbiAqL1xuZnVuY3Rpb24gZ2V0UmFuZG9tQXJyYXkgKG4pIHtcbiAgdmFyIHJlcywgbmV4dDtcblxuICBpZiAobiA9PT0gMCkgeyByZXR1cm4gW107IH1cbiAgaWYgKG4gPT09IDEpIHsgcmV0dXJuIFswXTsgfVxuXG4gIHJlcyA9IGdldFJhbmRvbUFycmF5KG4gLSAxKTtcbiAgbmV4dCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pO1xuICByZXMuc3BsaWNlKG5leHQsIDAsIG4gLSAxKTsgICAvLyBBZGQgbi0xIGF0IGEgcmFuZG9tIHBvc2l0aW9uIGluIHRoZSBhcnJheVxuXG4gIHJldHVybiByZXM7XG59O1xubW9kdWxlLmV4cG9ydHMuZ2V0UmFuZG9tQXJyYXkgPSBnZXRSYW5kb21BcnJheTtcblxuXG4vKlxuICogRGVmYXVsdCBjb21wYXJlS2V5cyBmdW5jdGlvbiB3aWxsIHdvcmsgZm9yIG51bWJlcnMsIHN0cmluZ3MgYW5kIGRhdGVzXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlS2V5c0Z1bmN0aW9uIChhLCBiKSB7XG4gIGlmIChhIDwgYikgeyByZXR1cm4gLTE7IH1cbiAgaWYgKGEgPiBiKSB7IHJldHVybiAxOyB9XG4gIGlmIChhID09PSBiKSB7IHJldHVybiAwOyB9XG5cbiAgdGhyb3cgeyBtZXNzYWdlOiBcIkNvdWxkbid0IGNvbXBhcmUgZWxlbWVudHNcIiwgYTogYSwgYjogYiB9O1xufVxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdENvbXBhcmVLZXlzRnVuY3Rpb24gPSBkZWZhdWx0Q29tcGFyZUtleXNGdW5jdGlvbjtcblxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdHdvIHZhbHVlcyBhcmUgZXF1YWwgKHVzZWQgaW4gbm9uLXVuaXF1ZSBkZWxldGlvbilcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdENoZWNrVmFsdWVFcXVhbGl0eSAoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cbm1vZHVsZS5leHBvcnRzLmRlZmF1bHRDaGVja1ZhbHVlRXF1YWxpdHkgPSBkZWZhdWx0Q2hlY2tWYWx1ZUVxdWFsaXR5O1xuXG59LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vICAgICBVbmRlcnNjb3JlLmpzIDEuNC40XG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBJbmMuXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vIEJhc2VsaW5lIHNldHVwXG4gIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBnbG9iYWxgIG9uIHRoZSBzZXJ2ZXIuXG4gIHZhciByb290ID0gdGhpcztcblxuICAvLyBTYXZlIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYF9gIHZhcmlhYmxlLlxuICB2YXIgcHJldmlvdXNVbmRlcnNjb3JlID0gcm9vdC5fO1xuXG4gIC8vIEVzdGFibGlzaCB0aGUgb2JqZWN0IHRoYXQgZ2V0cyByZXR1cm5lZCB0byBicmVhayBvdXQgb2YgYSBsb29wIGl0ZXJhdGlvbi5cbiAgdmFyIGJyZWFrZXIgPSB7fTtcblxuICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOlxuICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG4gIHZhciBwdXNoICAgICAgICAgICAgID0gQXJyYXlQcm90by5wdXNoLFxuICAgICAgc2xpY2UgICAgICAgICAgICA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgICBjb25jYXQgICAgICAgICAgID0gQXJyYXlQcm90by5jb25jYXQsXG4gICAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSAgID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgLy8gQWxsICoqRUNNQVNjcmlwdCA1KiogbmF0aXZlIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9ucyB0aGF0IHdlIGhvcGUgdG8gdXNlXG4gIC8vIGFyZSBkZWNsYXJlZCBoZXJlLlxuICB2YXJcbiAgICBuYXRpdmVGb3JFYWNoICAgICAgPSBBcnJheVByb3RvLmZvckVhY2gsXG4gICAgbmF0aXZlTWFwICAgICAgICAgID0gQXJyYXlQcm90by5tYXAsXG4gICAgbmF0aXZlUmVkdWNlICAgICAgID0gQXJyYXlQcm90by5yZWR1Y2UsXG4gICAgbmF0aXZlUmVkdWNlUmlnaHQgID0gQXJyYXlQcm90by5yZWR1Y2VSaWdodCxcbiAgICBuYXRpdmVGaWx0ZXIgICAgICAgPSBBcnJheVByb3RvLmZpbHRlcixcbiAgICBuYXRpdmVFdmVyeSAgICAgICAgPSBBcnJheVByb3RvLmV2ZXJ5LFxuICAgIG5hdGl2ZVNvbWUgICAgICAgICA9IEFycmF5UHJvdG8uc29tZSxcbiAgICBuYXRpdmVJbmRleE9mICAgICAgPSBBcnJheVByb3RvLmluZGV4T2YsXG4gICAgbmF0aXZlTGFzdEluZGV4T2YgID0gQXJyYXlQcm90by5sYXN0SW5kZXhPZixcbiAgICBuYXRpdmVJc0FycmF5ICAgICAgPSBBcnJheS5pc0FycmF5LFxuICAgIG5hdGl2ZUtleXMgICAgICAgICA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZUJpbmQgICAgICAgICA9IEZ1bmNQcm90by5iaW5kO1xuXG4gIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuICB2YXIgXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7XG4gICAgdGhpcy5fd3JhcHBlZCA9IG9iajtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKk5vZGUuanMqKiwgd2l0aFxuICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIGluXG4gIC8vIHRoZSBicm93c2VyLCBhZGQgYF9gIGFzIGEgZ2xvYmFsIG9iamVjdCB2aWEgYSBzdHJpbmcgaWRlbnRpZmllcixcbiAgLy8gZm9yIENsb3N1cmUgQ29tcGlsZXIgXCJhZHZhbmNlZFwiIG1vZGUuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF87XG4gICAgfVxuICAgIGV4cG9ydHMuXyA9IF87XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5fID0gXztcbiAgfVxuXG4gIC8vIEN1cnJlbnQgdmVyc2lvbi5cbiAgXy5WRVJTSU9OID0gJzEuNC40JztcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIG9iamVjdHMgd2l0aCB0aGUgYnVpbHQtaW4gYGZvckVhY2hgLCBhcnJheXMsIGFuZCByYXcgb2JqZWN0cy5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGZvckVhY2hgIGlmIGF2YWlsYWJsZS5cbiAgdmFyIGVhY2ggPSBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm47XG4gICAgaWYgKG5hdGl2ZUZvckVhY2ggJiYgb2JqLmZvckVhY2ggPT09IG5hdGl2ZUZvckVhY2gpIHtcbiAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopID09PSBicmVha2VyKSByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKF8uaGFzKG9iaiwga2V5KSkge1xuICAgICAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaikgPT09IGJyZWFrZXIpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdG9yIHRvIGVhY2ggZWxlbWVudC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYG1hcGAgaWYgYXZhaWxhYmxlLlxuICBfLm1hcCA9IF8uY29sbGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdHM7XG4gICAgaWYgKG5hdGl2ZU1hcCAmJiBvYmoubWFwID09PSBuYXRpdmVNYXApIHJldHVybiBvYmoubWFwKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoXSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICB2YXIgcmVkdWNlRXJyb3IgPSAnUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSc7XG5cbiAgLy8gKipSZWR1Y2UqKiBidWlsZHMgdXAgYSBzaW5nbGUgcmVzdWx0IGZyb20gYSBsaXN0IG9mIHZhbHVlcywgYWthIGBpbmplY3RgLFxuICAvLyBvciBgZm9sZGxgLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgcmVkdWNlYCBpZiBhdmFpbGFibGUuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgbWVtbywgY29udGV4dCkge1xuICAgIHZhciBpbml0aWFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gICAgaWYgKG9iaiA9PSBudWxsKSBvYmogPSBbXTtcbiAgICBpZiAobmF0aXZlUmVkdWNlICYmIG9iai5yZWR1Y2UgPT09IG5hdGl2ZVJlZHVjZSkge1xuICAgICAgaWYgKGNvbnRleHQpIGl0ZXJhdG9yID0gXy5iaW5kKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBpbml0aWFsID8gb2JqLnJlZHVjZShpdGVyYXRvciwgbWVtbykgOiBvYmoucmVkdWNlKGl0ZXJhdG9yKTtcbiAgICB9XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKCFpbml0aWFsKSB7XG4gICAgICAgIG1lbW8gPSB2YWx1ZTtcbiAgICAgICAgaW5pdGlhbCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW1vID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBtZW1vLCB2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5pdGlhbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihyZWR1Y2VFcnJvcik7XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGByZWR1Y2VSaWdodGAgaWYgYXZhaWxhYmxlLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIG1lbW8sIGNvbnRleHQpIHtcbiAgICB2YXIgaW5pdGlhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICAgIGlmIChvYmogPT0gbnVsbCkgb2JqID0gW107XG4gICAgaWYgKG5hdGl2ZVJlZHVjZVJpZ2h0ICYmIG9iai5yZWR1Y2VSaWdodCA9PT0gbmF0aXZlUmVkdWNlUmlnaHQpIHtcbiAgICAgIGlmIChjb250ZXh0KSBpdGVyYXRvciA9IF8uYmluZChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgICByZXR1cm4gaW5pdGlhbCA/IG9iai5yZWR1Y2VSaWdodChpdGVyYXRvciwgbWVtbykgOiBvYmoucmVkdWNlUmlnaHQoaXRlcmF0b3IpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSArbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgfVxuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGluZGV4ID0ga2V5cyA/IGtleXNbLS1sZW5ndGhdIDogLS1sZW5ndGg7XG4gICAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgICAgbWVtbyA9IG9ialtpbmRleF07XG4gICAgICAgIGluaXRpYWwgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgb2JqW2luZGV4XSwgaW5kZXgsIGxpc3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5pdGlhbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihyZWR1Y2VFcnJvcik7XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGFueShvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkge1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyB0aGF0IHBhc3MgYSB0cnV0aCB0ZXN0LlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZmlsdGVyYCBpZiBhdmFpbGFibGUuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHRzO1xuICAgIGlmIChuYXRpdmVGaWx0ZXIgJiYgb2JqLmZpbHRlciA9PT0gbmF0aXZlRmlsdGVyKSByZXR1cm4gb2JqLmZpbHRlcihpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0c1tyZXN1bHRzLmxlbmd0aF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiAhaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgIH0sIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZXZlcnlgIGlmIGF2YWlsYWJsZS5cbiAgLy8gQWxpYXNlZCBhcyBgYWxsYC5cbiAgXy5ldmVyeSA9IF8uYWxsID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGl0ZXJhdG9yIHx8IChpdGVyYXRvciA9IF8uaWRlbnRpdHkpO1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAobmF0aXZlRXZlcnkgJiYgb2JqLmV2ZXJ5ID09PSBuYXRpdmVFdmVyeSkgcmV0dXJuIG9iai5ldmVyeShpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKCEocmVzdWx0ID0gcmVzdWx0ICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkpIHJldHVybiBicmVha2VyO1xuICAgIH0pO1xuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYHNvbWVgIGlmIGF2YWlsYWJsZS5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgdmFyIGFueSA9IF8uc29tZSA9IF8uYW55ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGl0ZXJhdG9yIHx8IChpdGVyYXRvciA9IF8uaWRlbnRpdHkpO1xuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKG5hdGl2ZVNvbWUgJiYgb2JqLnNvbWUgPT09IG5hdGl2ZVNvbWUpIHJldHVybiBvYmouc29tZShpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHJlc3VsdCB8fCAocmVzdWx0ID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKSkgcmV0dXJuIGJyZWFrZXI7XG4gICAgfSk7XG4gICAgcmV0dXJuICEhcmVzdWx0O1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gdmFsdWUgKHVzaW5nIGA9PT1gKS5cbiAgLy8gQWxpYXNlZCBhcyBgaW5jbHVkZWAuXG4gIF8uY29udGFpbnMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIHRhcmdldCkge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChuYXRpdmVJbmRleE9mICYmIG9iai5pbmRleE9mID09PSBuYXRpdmVJbmRleE9mKSByZXR1cm4gb2JqLmluZGV4T2YodGFyZ2V0KSAhPSAtMTtcbiAgICByZXR1cm4gYW55KG9iaiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdGFyZ2V0O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGlzRnVuYyA9IF8uaXNGdW5jdGlvbihtZXRob2QpO1xuICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKGlzRnVuYyA/IG1ldGhvZCA6IHZhbHVlW21ldGhvZF0pLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSl7IHJldHVybiB2YWx1ZVtrZXldOyB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaWx0ZXJgOiBzZWxlY3Rpbmcgb25seSBvYmplY3RzXG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ud2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzLCBmaXJzdCkge1xuICAgIGlmIChfLmlzRW1wdHkoYXR0cnMpKSByZXR1cm4gZmlyc3QgPyBudWxsIDogW107XG4gICAgcmV0dXJuIF9bZmlyc3QgPyAnZmluZCcgOiAnZmlsdGVyJ10ob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZm9yICh2YXIga2V5IGluIGF0dHJzKSB7XG4gICAgICAgIGlmIChhdHRyc1trZXldICE9PSB2YWx1ZVtrZXldKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLndoZXJlKG9iaiwgYXR0cnMsIHRydWUpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IG9yIChlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgLy8gQ2FuJ3Qgb3B0aW1pemUgYXJyYXlzIG9mIGludGVnZXJzIGxvbmdlciB0aGFuIDY1LDUzNSBlbGVtZW50cy5cbiAgLy8gU2VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODA3OTdcbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzQXJyYXkob2JqKSAmJiBvYmpbMF0gPT09ICtvYmpbMF0gJiYgb2JqLmxlbmd0aCA8IDY1NTM1KSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgb2JqKTtcbiAgICB9XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzRW1wdHkob2JqKSkgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB2YXIgcmVzdWx0ID0ge2NvbXB1dGVkIDogLUluZmluaXR5LCB2YWx1ZTogLUluZmluaXR5fTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSBpdGVyYXRvciA/IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSA6IHZhbHVlO1xuICAgICAgY29tcHV0ZWQgPj0gcmVzdWx0LmNvbXB1dGVkICYmIChyZXN1bHQgPSB7dmFsdWUgOiB2YWx1ZSwgY29tcHV0ZWQgOiBjb21wdXRlZH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpZiAoIWl0ZXJhdG9yICYmIF8uaXNBcnJheShvYmopICYmIG9ialswXSA9PT0gK29ialswXSAmJiBvYmoubGVuZ3RoIDwgNjU1MzUpIHtcbiAgICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLCBvYmopO1xuICAgIH1cbiAgICBpZiAoIWl0ZXJhdG9yICYmIF8uaXNFbXB0eShvYmopKSByZXR1cm4gSW5maW5pdHk7XG4gICAgdmFyIHJlc3VsdCA9IHtjb21wdXRlZCA6IEluZmluaXR5LCB2YWx1ZTogSW5maW5pdHl9O1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHZhciBjb21wdXRlZCA9IGl0ZXJhdG9yID8gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpIDogdmFsdWU7XG4gICAgICBjb21wdXRlZCA8IHJlc3VsdC5jb21wdXRlZCAmJiAocmVzdWx0ID0ge3ZhbHVlIDogdmFsdWUsIGNvbXB1dGVkIDogY29tcHV0ZWR9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9O1xuXG4gIC8vIFNodWZmbGUgYW4gYXJyYXkuXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByYW5kO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNodWZmbGVkID0gW107XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oaW5kZXgrKyk7XG4gICAgICBzaHVmZmxlZFtpbmRleCAtIDFdID0gc2h1ZmZsZWRbcmFuZF07XG4gICAgICBzaHVmZmxlZFtyYW5kXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBzaHVmZmxlZDtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBsb29rdXAgaXRlcmF0b3JzLlxuICB2YXIgbG9va3VwSXRlcmF0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUgOiBmdW5jdGlvbihvYmopeyByZXR1cm4gb2JqW3ZhbHVlXTsgfTtcbiAgfTtcblxuICAvLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0b3IuXG4gIF8uc29ydEJ5ID0gZnVuY3Rpb24ob2JqLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIHZhciBpdGVyYXRvciA9IGxvb2t1cEl0ZXJhdG9yKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUgOiB2YWx1ZSxcbiAgICAgICAgaW5kZXggOiBpbmRleCxcbiAgICAgICAgY3JpdGVyaWEgOiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdClcbiAgICAgIH07XG4gICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhO1xuICAgICAgdmFyIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgIGlmIChhID4gYiB8fCBhID09PSB2b2lkIDApIHJldHVybiAxO1xuICAgICAgICBpZiAoYSA8IGIgfHwgYiA9PT0gdm9pZCAwKSByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVmdC5pbmRleCA8IHJpZ2h0LmluZGV4ID8gLTEgOiAxO1xuICAgIH0pLCAndmFsdWUnKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB1c2VkIGZvciBhZ2dyZWdhdGUgXCJncm91cCBieVwiIG9wZXJhdGlvbnMuXG4gIHZhciBncm91cCA9IGZ1bmN0aW9uKG9iaiwgdmFsdWUsIGNvbnRleHQsIGJlaGF2aW9yKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHZhciBpdGVyYXRvciA9IGxvb2t1cEl0ZXJhdG9yKHZhbHVlIHx8IF8uaWRlbnRpdHkpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIHZhciBrZXkgPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgIGJlaGF2aW9yKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHcm91cHMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbi4gUGFzcyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlXG4gIC8vIHRvIGdyb3VwIGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgY3JpdGVyaW9uLlxuICBfLmdyb3VwQnkgPSBmdW5jdGlvbihvYmosIHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGdyb3VwKG9iaiwgdmFsdWUsIGNvbnRleHQsIGZ1bmN0aW9uKHJlc3VsdCwga2V5LCB2YWx1ZSkge1xuICAgICAgKF8uaGFzKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldIDogKHJlc3VsdFtrZXldID0gW10pKS5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZnVuY3Rpb24ob2JqLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBncm91cChvYmosIHZhbHVlLCBjb250ZXh0LCBmdW5jdGlvbihyZXN1bHQsIGtleSkge1xuICAgICAgaWYgKCFfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldID0gMDtcbiAgICAgIHJlc3VsdFtrZXldKys7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgPT0gbnVsbCA/IF8uaWRlbnRpdHkgOiBsb29rdXBJdGVyYXRvcihpdGVyYXRvcik7XG4gICAgdmFyIHZhbHVlID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBhcnJheVttaWRdKSA8IHZhbHVlID8gbG93ID0gbWlkICsgMSA6IGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gU2FmZWx5IGNvbnZlcnQgYW55dGhpbmcgaXRlcmFibGUgaW50byBhIHJlYWwsIGxpdmUgYXJyYXkuXG4gIF8udG9BcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghb2JqKSByZXR1cm4gW107XG4gICAgaWYgKF8uaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICAgIGlmIChvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiAob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgcmV0dXJuIChuICE9IG51bGwpICYmICFndWFyZCA/IHNsaWNlLmNhbGwoYXJyYXksIDAsIG4pIDogYXJyYXlbMF07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgbGFzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEVzcGVjaWFsbHkgdXNlZnVsIG9uXG4gIC8vIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIGFsbCB0aGUgdmFsdWVzIGluXG4gIC8vIHRoZSBhcnJheSwgZXhjbHVkaW5nIHRoZSBsYXN0IE4uIFRoZSAqKmd1YXJkKiogY2hlY2sgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aFxuICAvLyBgXy5tYXBgLlxuICBfLmluaXRpYWwgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgMCwgYXJyYXkubGVuZ3RoIC0gKChuID09IG51bGwpIHx8IGd1YXJkID8gMSA6IG4pKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIFRoZSAqKmd1YXJkKiogY2hlY2sgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmxhc3QgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICBpZiAoKG4gIT0gbnVsbCkgJiYgIWd1YXJkKSB7XG4gICAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgTWF0aC5tYXgoYXJyYXkubGVuZ3RoIC0gbiwgMCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqXG4gIC8vIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5yZXN0ID0gXy50YWlsID0gXy5kcm9wID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIChuID09IG51bGwpIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIF8uaWRlbnRpdHkpO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgb3V0cHV0KSB7XG4gICAgZWFjaChpbnB1dCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHNoYWxsb3cgPyBwdXNoLmFwcGx5KG91dHB1dCwgdmFsdWUpIDogZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgb3V0cHV0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvbXBsZXRlbHkgZmxhdHRlbmVkIHZlcnNpb24gb2YgYW4gYXJyYXkuXG4gIF8uZmxhdHRlbiA9IGZ1bmN0aW9uKGFycmF5LCBzaGFsbG93KSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3csIFtdKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRvcjtcbiAgICAgIGl0ZXJhdG9yID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB2YXIgaW5pdGlhbCA9IGl0ZXJhdG9yID8gXy5tYXAoYXJyYXksIGl0ZXJhdG9yLCBjb250ZXh0KSA6IGFycmF5O1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBlYWNoKGluaXRpYWwsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKGlzU29ydGVkID8gKCFpbmRleCB8fCBzZWVuW3NlZW4ubGVuZ3RoIC0gMV0gIT09IHZhbHVlKSA6ICFfLmNvbnRhaW5zKHNlZW4sIHZhbHVlKSkge1xuICAgICAgICBzZWVuLnB1c2godmFsdWUpO1xuICAgICAgICByZXN1bHRzLnB1c2goYXJyYXlbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bmlxKGNvbmNhdC5hcHBseShBcnJheVByb3RvLCBhcmd1bWVudHMpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoXy51bmlxKGFycmF5KSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIF8uZXZlcnkocmVzdCwgZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIF8uaW5kZXhPZihvdGhlciwgaXRlbSkgPj0gMDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IGNvbmNhdC5hcHBseShBcnJheVByb3RvLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gIV8uY29udGFpbnMocmVzdCwgdmFsdWUpOyB9KTtcbiAgfTtcblxuICAvLyBaaXAgdG9nZXRoZXIgbXVsdGlwbGUgbGlzdHMgaW50byBhIHNpbmdsZSBhcnJheSAtLSBlbGVtZW50cyB0aGF0IHNoYXJlXG4gIC8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuICBfLnppcCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIHZhciBsZW5ndGggPSBfLm1heChfLnBsdWNrKGFyZ3MsICdsZW5ndGgnKSk7XG4gICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRzW2ldID0gXy5wbHVjayhhcmdzLCBcIlwiICsgaSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgXy5vYmplY3QgPSBmdW5jdGlvbihsaXN0LCB2YWx1ZXMpIHtcbiAgICBpZiAobGlzdCA9PSBudWxsKSByZXR1cm4ge307XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBJZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBseSB1cyB3aXRoIGluZGV4T2YgKEknbSBsb29raW5nIGF0IHlvdSwgKipNU0lFKiopLFxuICAvLyB3ZSBuZWVkIHRoaXMgZnVuY3Rpb24uIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW5cbiAgLy8gaXRlbSBpbiBhbiBhcnJheSwgb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGluZGV4T2ZgIGlmIGF2YWlsYWJsZS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpc1NvcnRlZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gLTE7XG4gICAgdmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgaWYgKHR5cGVvZiBpc1NvcnRlZCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpID0gKGlzU29ydGVkIDwgMCA/IE1hdGgubWF4KDAsIGwgKyBpc1NvcnRlZCkgOiBpc1NvcnRlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpID0gXy5zb3J0ZWRJbmRleChhcnJheSwgaXRlbSk7XG4gICAgICAgIHJldHVybiBhcnJheVtpXSA9PT0gaXRlbSA/IGkgOiAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hdGl2ZUluZGV4T2YgJiYgYXJyYXkuaW5kZXhPZiA9PT0gbmF0aXZlSW5kZXhPZikgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSwgaXNTb3J0ZWQpO1xuICAgIGZvciAoOyBpIDwgbDsgaSsrKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgbGFzdEluZGV4T2ZgIGlmIGF2YWlsYWJsZS5cbiAgXy5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBmcm9tKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiAtMTtcbiAgICB2YXIgaGFzSW5kZXggPSBmcm9tICE9IG51bGw7XG4gICAgaWYgKG5hdGl2ZUxhc3RJbmRleE9mICYmIGFycmF5Lmxhc3RJbmRleE9mID09PSBuYXRpdmVMYXN0SW5kZXhPZikge1xuICAgICAgcmV0dXJuIGhhc0luZGV4ID8gYXJyYXkubGFzdEluZGV4T2YoaXRlbSwgZnJvbSkgOiBhcnJheS5sYXN0SW5kZXhPZihpdGVtKTtcbiAgICB9XG4gICAgdmFyIGkgPSAoaGFzSW5kZXggPyBmcm9tIDogYXJyYXkubGVuZ3RoKTtcbiAgICB3aGlsZSAoaS0tKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhbiBpbnRlZ2VyIEFycmF5IGNvbnRhaW5pbmcgYW4gYXJpdGhtZXRpYyBwcm9ncmVzc2lvbi4gQSBwb3J0IG9mXG4gIC8vIHRoZSBuYXRpdmUgUHl0aG9uIGByYW5nZSgpYCBmdW5jdGlvbi4gU2VlXG4gIC8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9mdW5jdGlvbnMuaHRtbCNyYW5nZSkuXG4gIF8ucmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHN0b3AgPSBzdGFydCB8fCAwO1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBzdGVwID0gYXJndW1lbnRzWzJdIHx8IDE7XG5cbiAgICB2YXIgbGVuID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciBpZHggPSAwO1xuICAgIHZhciByYW5nZSA9IG5ldyBBcnJheShsZW4pO1xuXG4gICAgd2hpbGUoaWR4IDwgbGVuKSB7XG4gICAgICByYW5nZVtpZHgrK10gPSBzdGFydDtcbiAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4gIC8vIG9wdGlvbmFsbHkpLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgRnVuY3Rpb24uYmluZGAgaWZcbiAgLy8gYXZhaWxhYmxlLlxuICBfLmJpbmQgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0KSB7XG4gICAgaWYgKGZ1bmMuYmluZCA9PT0gbmF0aXZlQmluZCAmJiBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC5cbiAgXy5wYXJ0aWFsID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQmluZCBhbGwgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0XG4gIC8vIGFsbCBjYWxsYmFja3MgZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZnVuY3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkgZnVuY3MgPSBfLmZ1bmN0aW9ucyhvYmopO1xuICAgIGVhY2goZnVuY3MsIGZ1bmN0aW9uKGYpIHsgb2JqW2ZdID0gXy5iaW5kKG9ialtmXSwgb2JqKTsgfSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtbyA9IHt9O1xuICAgIGhhc2hlciB8fCAoaGFzaGVyID0gXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGtleSA9IGhhc2hlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIF8uaGFzKG1lbW8sIGtleSkgPyBtZW1vW2tleV0gOiAobWVtb1trZXldID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgfTtcblxuICAvLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbiAgLy8gY2xlYXJlZC5cbiAgXy5kZWZlciA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICByZXR1cm4gXy5kZWxheS5hcHBseShfLCBbZnVuYywgMV0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSkpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS5cbiAgXy50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgY29udGV4dCwgYXJncywgdGltZW91dCwgcmVzdWx0O1xuICAgIHZhciBwcmV2aW91cyA9IDA7XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcmV2aW91cyA9IG5ldyBEYXRlO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gIC8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3JcbiAgLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4gIC8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG4gIF8uZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICB2YXIgdGltZW91dCwgcmVzdWx0O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9O1xuICAgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3dcbiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbiAgXy5vbmNlID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHZhciByYW4gPSBmYWxzZSwgbWVtbztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocmFuKSByZXR1cm4gbWVtbztcbiAgICAgIHJhbiA9IHRydWU7XG4gICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGZ1bmN0aW9uIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgc2Vjb25kLFxuICAvLyBhbGxvd2luZyB5b3UgdG8gYWRqdXN0IGFyZ3VtZW50cywgcnVuIGNvZGUgYmVmb3JlIGFuZCBhZnRlciwgYW5kXG4gIC8vIGNvbmRpdGlvbmFsbHkgZXhlY3V0ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gIF8ud3JhcCA9IGZ1bmN0aW9uKGZ1bmMsIHdyYXBwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IFtmdW5jXTtcbiAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiB3cmFwcGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZ1bmNzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgZm9yICh2YXIgaSA9IGZ1bmNzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGFyZ3MgPSBbZnVuY3NbaV0uYXBwbHkodGhpcywgYXJncyldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgYWZ0ZXIgYmVpbmcgY2FsbGVkIE4gdGltZXMuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIGlmICh0aW1lcyA8PSAwKSByZXR1cm4gZnVuYygpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2BcbiAgXy5rZXlzID0gbmF0aXZlS2V5cyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqICE9PSBPYmplY3Qob2JqKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBvYmplY3QnKTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIGtleXNba2V5cy5sZW5ndGhdID0ga2V5O1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkgdmFsdWVzLnB1c2gob2JqW2tleV0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIF8ucGFpcnMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcGFpcnMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBwYWlycy5wdXNoKFtrZXksIG9ialtrZXldXSk7XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkgcmVzdWx0W29ialtrZXldXSA9IGtleTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgdmFyIGtleXMgPSBjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBlYWNoKGtleXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBvYmopIGNvcHlba2V5XSA9IG9ialtrZXldO1xuICAgIH0pO1xuICAgIHJldHVybiBjb3B5O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGNvcHkgPSB7fTtcbiAgICB2YXIga2V5cyA9IGNvbmNhdC5hcHBseShBcnJheVByb3RvLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICghXy5jb250YWlucyhrZXlzLCBrZXkpKSBjb3B5W2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAob2JqW3Byb3BdID09IG51bGwpIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgSGFybW9ueSBgZWdhbGAgcHJvcG9zYWw6IGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbC5cbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT0gMSAvIGI7XG4gICAgLy8gQSBzdHJpY3QgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgbnVsbCA9PSB1bmRlZmluZWRgLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICAgIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgLy8gU3RyaW5ncywgbnVtYmVycywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICAgIHJldHVybiBhID09IFN0cmluZyhiKTtcbiAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3JcbiAgICAgICAgLy8gb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgIHJldHVybiBhICE9ICthID8gYiAhPSArYiA6IChhID09IDAgPyAxIC8gYSA9PSAxIC8gYiA6IGEgPT0gK2IpO1xuICAgICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XG4gICAgICBjYXNlICdbb2JqZWN0IEJvb2xlYW5dJzpcbiAgICAgICAgLy8gQ29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1lcmljIHByaW1pdGl2ZSB2YWx1ZXMuIERhdGVzIGFyZSBjb21wYXJlZCBieSB0aGVpclxuICAgICAgICAvLyBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnMuIE5vdGUgdGhhdCBpbnZhbGlkIGRhdGVzIHdpdGggbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zXG4gICAgICAgIC8vIG9mIGBOYU5gIGFyZSBub3QgZXF1aXZhbGVudC5cbiAgICAgICAgcmV0dXJuICthID09ICtiO1xuICAgICAgLy8gUmVnRXhwcyBhcmUgY29tcGFyZWQgYnkgdGhlaXIgc291cmNlIHBhdHRlcm5zIGFuZCBmbGFncy5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAgIHJldHVybiBhLnNvdXJjZSA9PSBiLnNvdXJjZSAmJlxuICAgICAgICAgICAgICAgYS5nbG9iYWwgPT0gYi5nbG9iYWwgJiZcbiAgICAgICAgICAgICAgIGEubXVsdGlsaW5lID09IGIubXVsdGlsaW5lICYmXG4gICAgICAgICAgICAgICBhLmlnbm9yZUNhc2UgPT0gYi5pZ25vcmVDYXNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgIT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcbiAgICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT0gYjtcbiAgICB9XG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuICAgIHZhciBzaXplID0gMCwgcmVzdWx0ID0gdHJ1ZTtcbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICBpZiAoY2xhc3NOYW1lID09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgc2l6ZSA9IGEubGVuZ3RoO1xuICAgICAgcmVzdWx0ID0gc2l6ZSA9PSBiLmxlbmd0aDtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgICAgd2hpbGUgKHNpemUtLSkge1xuICAgICAgICAgIGlmICghKHJlc3VsdCA9IGVxKGFbc2l6ZV0sIGJbc2l6ZV0sIGFTdGFjaywgYlN0YWNrKSkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3Rgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIChhQ3RvciBpbnN0YW5jZW9mIGFDdG9yKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uaXNGdW5jdGlvbihiQ3RvcikgJiYgKGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIGZvciAodmFyIGtleSBpbiBhKSB7XG4gICAgICAgIGlmIChfLmhhcyhhLCBrZXkpKSB7XG4gICAgICAgICAgLy8gQ291bnQgdGhlIGV4cGVjdGVkIG51bWJlciBvZiBwcm9wZXJ0aWVzLlxuICAgICAgICAgIHNpemUrKztcbiAgICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXIuXG4gICAgICAgICAgaWYgKCEocmVzdWx0ID0gXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzLlxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBmb3IgKGtleSBpbiBiKSB7XG4gICAgICAgICAgaWYgKF8uaGFzKGIsIGtleSkgJiYgIShzaXplLS0pKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSAhc2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBvYmplY3QgZnJvbSB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgYVN0YWNrLnBvcCgpO1xuICAgIGJTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIsIFtdLCBbXSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4gIC8vIEFuIFwiZW1wdHlcIiBvYmplY3QgaGFzIG5vIGVudW1lcmFibGUgb3duLXByb3BlcnRpZXMuXG4gIF8uaXNFbXB0eSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKF8uaXNBcnJheShvYmopIHx8IF8uaXNTdHJpbmcob2JqKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD9cbiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbiAgXy5pc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSBhbiBvYmplY3Q/XG4gIF8uaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBPYmplY3Qob2JqKTtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cC5cbiAgZWFjaChbJ0FyZ3VtZW50cycsICdGdW5jdGlvbicsICdTdHJpbmcnLCAnTnVtYmVyJywgJ0RhdGUnLCAnUmVnRXhwJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFKSwgd2hlcmVcbiAgLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbiAgaWYgKCFfLmlzQXJndW1lbnRzKGFyZ3VtZW50cykpIHtcbiAgICBfLmlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gISEob2JqICYmIF8uaGFzKG9iaiwgJ2NhbGxlZScpKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gT3B0aW1pemUgYGlzRnVuY3Rpb25gIGlmIGFwcHJvcHJpYXRlLlxuICBpZiAodHlwZW9mICgvLi8pICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIGlzRmluaXRlKG9iaikgJiYgIWlzTmFOKHBhcnNlRmxvYXQob2JqKSk7XG4gIH07XG5cbiAgLy8gSXMgdGhlIGdpdmVuIHZhbHVlIGBOYU5gPyAoTmFOIGlzIHRoZSBvbmx5IG51bWJlciB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGYpLlxuICBfLmlzTmFOID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF8uaXNOdW1iZXIob2JqKSAmJiBvYmogIT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGVxdWFsIHRvIG51bGw/XG4gIF8uaXNOdWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIHVuZGVmaW5lZD9cbiAgXy5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHZvaWQgMDtcbiAgfTtcblxuICAvLyBTaG9ydGN1dCBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHByb3BlcnR5IGRpcmVjdGx5XG4gIC8vIG9uIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuXG4gIF8uaGFzID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRvcnMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkobik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBpKTtcbiAgICByZXR1cm4gYWNjdW07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAoaW5jbHVzaXZlKS5cbiAgXy5yYW5kb20gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gIH07XG5cbiAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVudGl0eU1hcCA9IHtcbiAgICBlc2NhcGU6IHtcbiAgICAgICcmJzogJyZhbXA7JyxcbiAgICAgICc8JzogJyZsdDsnLFxuICAgICAgJz4nOiAnJmd0OycsXG4gICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAgICcvJzogJyYjeDJGOydcbiAgICB9XG4gIH07XG4gIGVudGl0eU1hcC51bmVzY2FwZSA9IF8uaW52ZXJ0KGVudGl0eU1hcC5lc2NhcGUpO1xuXG4gIC8vIFJlZ2V4ZXMgY29udGFpbmluZyB0aGUga2V5cyBhbmQgdmFsdWVzIGxpc3RlZCBpbW1lZGlhdGVseSBhYm92ZS5cbiAgdmFyIGVudGl0eVJlZ2V4ZXMgPSB7XG4gICAgZXNjYXBlOiAgIG5ldyBSZWdFeHAoJ1snICsgXy5rZXlzKGVudGl0eU1hcC5lc2NhcGUpLmpvaW4oJycpICsgJ10nLCAnZycpLFxuICAgIHVuZXNjYXBlOiBuZXcgUmVnRXhwKCcoJyArIF8ua2V5cyhlbnRpdHlNYXAudW5lc2NhcGUpLmpvaW4oJ3wnKSArICcpJywgJ2cnKVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9ucyBmb3IgZXNjYXBpbmcgYW5kIHVuZXNjYXBpbmcgc3RyaW5ncyB0by9mcm9tIEhUTUwgaW50ZXJwb2xhdGlvbi5cbiAgXy5lYWNoKFsnZXNjYXBlJywgJ3VuZXNjYXBlJ10sIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIF9bbWV0aG9kXSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgaWYgKHN0cmluZyA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgICByZXR1cm4gKCcnICsgc3RyaW5nKS5yZXBsYWNlKGVudGl0eVJlZ2V4ZXNbbWV0aG9kXSwgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eU1hcFttZXRob2RdW21hdGNoXTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIElmIHRoZSB2YWx1ZSBvZiB0aGUgbmFtZWQgcHJvcGVydHkgaXMgYSBmdW5jdGlvbiB0aGVuIGludm9rZSBpdDtcbiAgLy8gb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSl7XG4gICAgICB2YXIgZnVuYyA9IF9bbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgZnVuYy5hcHBseShfLCBhcmdzKSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGUgICAgOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgIGludGVycG9sYXRlIDogLzwlPShbXFxzXFxTXSs/KSU+L2csXG4gICAgZXNjYXBlICAgICAgOiAvPCUtKFtcXHNcXFNdKz8pJT4vZ1xuICB9O1xuXG4gIC8vIFdoZW4gY3VzdG9taXppbmcgYHRlbXBsYXRlU2V0dGluZ3NgLCBpZiB5b3UgZG9uJ3Qgd2FudCB0byBkZWZpbmUgYW5cbiAgLy8gaW50ZXJwb2xhdGlvbiwgZXZhbHVhdGlvbiBvciBlc2NhcGluZyByZWdleCwgd2UgbmVlZCBvbmUgdGhhdCBpc1xuICAvLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbiAgdmFyIG5vTWF0Y2ggPSAvKC4pXi87XG5cbiAgLy8gQ2VydGFpbiBjaGFyYWN0ZXJzIG5lZWQgdG8gYmUgZXNjYXBlZCBzbyB0aGF0IHRoZXkgY2FuIGJlIHB1dCBpbnRvIGFcbiAgLy8gc3RyaW5nIGxpdGVyYWwuXG4gIHZhciBlc2NhcGVzID0ge1xuICAgIFwiJ1wiOiAgICAgIFwiJ1wiLFxuICAgICdcXFxcJzogICAgICdcXFxcJyxcbiAgICAnXFxyJzogICAgICdyJyxcbiAgICAnXFxuJzogICAgICduJyxcbiAgICAnXFx0JzogICAgICd0JyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgdmFyIGVzY2FwZXIgPSAvXFxcXHwnfFxccnxcXG58XFx0fFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIF8udGVtcGxhdGUgPSBmdW5jdGlvbih0ZXh0LCBkYXRhLCBzZXR0aW5ncykge1xuICAgIHZhciByZW5kZXI7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cChbXG4gICAgICAoc2V0dGluZ3MuZXNjYXBlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuZXZhbHVhdGUgfHwgbm9NYXRjaCkuc291cmNlXG4gICAgXS5qb2luKCd8JykgKyAnfCQnLCAnZycpO1xuXG4gICAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzb3VyY2UgPSBcIl9fcCs9J1wiO1xuICAgIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgICAgc291cmNlICs9IHRleHQuc2xpY2UoaW5kZXgsIG9mZnNldClcbiAgICAgICAgLnJlcGxhY2UoZXNjYXBlciwgZnVuY3Rpb24obWF0Y2gpIHsgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdOyB9KTtcblxuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGVzY2FwZSArIFwiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiO1xuICAgICAgfVxuICAgICAgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfVxuICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG4gICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArIFwicmV0dXJuIF9fcDtcXG5cIjtcblxuICAgIHRyeSB7XG4gICAgICByZW5kZXIgPSBuZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicsICdfJywgc291cmNlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEpIHJldHVybiByZW5kZXIoZGF0YSwgXyk7XG4gICAgdmFyIHRlbXBsYXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF8pO1xuICAgIH07XG5cbiAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbiBzb3VyY2UgYXMgYSBjb252ZW5pZW5jZSBmb3IgcHJlY29tcGlsYXRpb24uXG4gICAgdGVtcGxhdGUuc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAoc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicpICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24sIHdoaWNoIHdpbGwgZGVsZWdhdGUgdG8gdGhlIHdyYXBwZXIuXG4gIF8uY2hhaW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXyhvYmopLmNoYWluKCk7XG4gIH07XG5cbiAgLy8gT09QXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAvLyBJZiBVbmRlcnNjb3JlIGlzIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLCBpdCByZXR1cm5zIGEgd3JhcHBlZCBvYmplY3QgdGhhdFxuICAvLyBjYW4gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIHRoZVxuICAvLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLlxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb250aW51ZSBjaGFpbmluZyBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0aGlzLl9jaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqO1xuICB9O1xuXG4gIC8vIEFkZCBhbGwgb2YgdGhlIFVuZGVyc2NvcmUgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgXy5taXhpbihfKTtcblxuICAvLyBBZGQgYWxsIG11dGF0b3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBlYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgICBtZXRob2QuYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKChuYW1lID09ICdzaGlmdCcgfHwgbmFtZSA9PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQuY2FsbCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBlYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xuXG4gIF8uZXh0ZW5kKF8ucHJvdG90eXBlLCB7XG5cbiAgICAvLyBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG4gICAgY2hhaW46IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fY2hhaW4gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl93cmFwcGVkO1xuICAgIH1cblxuICB9KTtcblxufSkuY2FsbCh0aGlzKTtcblxufSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5pZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbi8qIVxuICAgIGxvY2FsRm9yYWdlIC0tIE9mZmxpbmUgU3RvcmFnZSwgSW1wcm92ZWRcbiAgICBWZXJzaW9uIDEuMy4wXG4gICAgaHR0cHM6Ly9tb3ppbGxhLmdpdGh1Yi5pby9sb2NhbEZvcmFnZVxuICAgIChjKSAyMDEzLTIwMTUgTW96aWxsYSwgQXBhY2hlIExpY2Vuc2UgMi4wXG4qL1xuKGZ1bmN0aW9uKCkge1xudmFyIGRlZmluZSwgcmVxdWlyZU1vZHVsZSwgcmVxdWlyZSwgcmVxdWlyZWpzO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciByZWdpc3RyeSA9IHt9LCBzZWVuID0ge307XG5cbiAgZGVmaW5lID0gZnVuY3Rpb24obmFtZSwgZGVwcywgY2FsbGJhY2spIHtcbiAgICByZWdpc3RyeVtuYW1lXSA9IHsgZGVwczogZGVwcywgY2FsbGJhY2s6IGNhbGxiYWNrIH07XG4gIH07XG5cbiAgcmVxdWlyZWpzID0gcmVxdWlyZSA9IHJlcXVpcmVNb2R1bGUgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJlcXVpcmVqcy5fZWFrX3NlZW4gPSByZWdpc3RyeTtcblxuICAgIGlmIChzZWVuW25hbWVdKSB7IHJldHVybiBzZWVuW25hbWVdOyB9XG4gICAgc2VlbltuYW1lXSA9IHt9O1xuXG4gICAgaWYgKCFyZWdpc3RyeVtuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgbW9kdWxlIFwiICsgbmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIG1vZCA9IHJlZ2lzdHJ5W25hbWVdLFxuICAgICAgICBkZXBzID0gbW9kLmRlcHMsXG4gICAgICAgIGNhbGxiYWNrID0gbW9kLmNhbGxiYWNrLFxuICAgICAgICByZWlmaWVkID0gW10sXG4gICAgICAgIGV4cG9ydHM7XG5cbiAgICBmb3IgKHZhciBpPTAsIGw9ZGVwcy5sZW5ndGg7IGk8bDsgaSsrKSB7XG4gICAgICBpZiAoZGVwc1tpXSA9PT0gJ2V4cG9ydHMnKSB7XG4gICAgICAgIHJlaWZpZWQucHVzaChleHBvcnRzID0ge30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVpZmllZC5wdXNoKHJlcXVpcmVNb2R1bGUocmVzb2x2ZShkZXBzW2ldKSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIHJlaWZpZWQpO1xuICAgIHJldHVybiBzZWVuW25hbWVdID0gZXhwb3J0cyB8fCB2YWx1ZTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmUoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5jaGFyQXQoMCkgIT09ICcuJykgeyByZXR1cm4gY2hpbGQ7IH1cbiAgICAgIHZhciBwYXJ0cyA9IGNoaWxkLnNwbGl0KFwiL1wiKTtcbiAgICAgIHZhciBwYXJlbnRCYXNlID0gbmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMCwgLTEpO1xuXG4gICAgICBmb3IgKHZhciBpPTAsIGw9cGFydHMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgIGlmIChwYXJ0ID09PSAnLi4nKSB7IHBhcmVudEJhc2UucG9wKCk7IH1cbiAgICAgICAgZWxzZSBpZiAocGFydCA9PT0gJy4nKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgIGVsc2UgeyBwYXJlbnRCYXNlLnB1c2gocGFydCk7IH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcmVudEJhc2Uuam9pbihcIi9cIik7XG4gICAgfVxuICB9O1xufSkoKTtcblxuZGVmaW5lKFwicHJvbWlzZS9hbGxcIiwgXG4gIFtcIi4vdXRpbHNcIixcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKiBnbG9iYWwgdG9TdHJpbmcgKi9cblxuICAgIHZhciBpc0FycmF5ID0gX19kZXBlbmRlbmN5MV9fLmlzQXJyYXk7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBfX2RlcGVuZGVuY3kxX18uaXNGdW5jdGlvbjtcblxuICAgIC8qKlxuICAgICAgUmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgdGhlIGdpdmVuIHByb21pc2VzIGhhdmUgYmVlblxuICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuIFRoZSByZXR1cm4gcHJvbWlzZVxuICAgICAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgdGhhdCBnaXZlcyBhbGwgdGhlIHZhbHVlcyBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlXG4gICAgICBwYXNzZWQgaW4gdGhlIGBwcm9taXNlc2AgYXJyYXkgYXJndW1lbnQuXG5cbiAgICAgIEV4YW1wbGU6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgICAgIHZhciBwcm9taXNlMiA9IFJTVlAucmVzb2x2ZSgyKTtcbiAgICAgIHZhciBwcm9taXNlMyA9IFJTVlAucmVzb2x2ZSgzKTtcbiAgICAgIHZhciBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gICAgICBSU1ZQLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgICAgIC8vIFRoZSBhcnJheSBoZXJlIHdvdWxkIGJlIFsgMSwgMiwgMyBdO1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBSU1ZQLmFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICAgICAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlcydzXG4gICAgICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgICAgIEV4YW1wbGU6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgICAgIHZhciBwcm9taXNlMiA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcihcIjJcIikpO1xuICAgICAgdmFyIHByb21pc2UzID0gUlNWUC5yZWplY3QobmV3IEVycm9yKFwiM1wiKSk7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICAgICAgUlNWUC5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgICAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVucyBiZWNhdXNlIHRoZXJlIGFyZSByZWplY3RlZCBwcm9taXNlcyFcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIGFsbFxuICAgICAgQGZvciBSU1ZQXG4gICAgICBAcGFyYW0ge0FycmF5fSBwcm9taXNlc1xuICAgICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gICAgICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBQcm9taXNlID0gdGhpcztcblxuICAgICAgaWYgKCFpc0FycmF5KHByb21pc2VzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIGFsbC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdLCByZW1haW5pbmcgPSBwcm9taXNlcy5sZW5ndGgsXG4gICAgICAgIHByb21pc2U7XG5cbiAgICAgICAgaWYgKHJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZXIoaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJlc29sdmVBbGwoaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUFsbChpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICAgICAgaWYgKHByb21pc2UgJiYgaXNGdW5jdGlvbihwcm9taXNlLnRoZW4pKSB7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZXIoaSksIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmVBbGwoaSwgcHJvbWlzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5hbGwgPSBhbGw7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS9hc2FwXCIsIFxuICBbXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBicm93c2VyR2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSA/IHdpbmRvdyA6IHt9O1xuICAgIHZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgdmFyIGxvY2FsID0gKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSA/IGdsb2JhbCA6ICh0aGlzID09PSB1bmRlZmluZWQ/IHdpbmRvdzp0aGlzKTtcblxuICAgIC8vIG5vZGVcbiAgICBmdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBub2RlLmRhdGEgPSAoaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1c2VTZXRUaW1lb3V0KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2NhbC5zZXRUaW1lb3V0KGZsdXNoLCAxKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHF1ZXVlID0gW107XG4gICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0dXBsZSA9IHF1ZXVlW2ldO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0dXBsZVswXSwgYXJnID0gdHVwbGVbMV07XG4gICAgICAgIGNhbGxiYWNrKGFyZyk7XG4gICAgICB9XG4gICAgICBxdWV1ZSA9IFtdO1xuICAgIH1cblxuICAgIHZhciBzY2hlZHVsZUZsdXNoO1xuXG4gICAgLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgICAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG4gICAgfSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgc2NoZWR1bGVGbHVzaCA9IHVzZU11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgICAgIHZhciBsZW5ndGggPSBxdWV1ZS5wdXNoKFtjYWxsYmFjaywgYXJnXSk7XG4gICAgICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIElmIGxlbmd0aCBpcyAxLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAgICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAgICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18uYXNhcCA9IGFzYXA7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS9jb25maWdcIiwgXG4gIFtcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgIGluc3RydW1lbnQ6IGZhbHNlXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgY29uZmlnW25hbWVdID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29uZmlnW25hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9fZXhwb3J0c19fLmNvbmZpZyA9IGNvbmZpZztcbiAgICBfX2V4cG9ydHNfXy5jb25maWd1cmUgPSBjb25maWd1cmU7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS9wb2x5ZmlsbFwiLCBcbiAgW1wiLi9wcm9taXNlXCIsXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2RlcGVuZGVuY3kxX18sIF9fZGVwZW5kZW5jeTJfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKmdsb2JhbCBzZWxmKi9cbiAgICB2YXIgUlNWUFByb21pc2UgPSBfX2RlcGVuZGVuY3kxX18uUHJvbWlzZTtcbiAgICB2YXIgaXNGdW5jdGlvbiA9IF9fZGVwZW5kZW5jeTJfXy5pc0Z1bmN0aW9uO1xuXG4gICAgZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gICAgICB2YXIgbG9jYWw7XG5cbiAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBsb2NhbCA9IGdsb2JhbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgIGxvY2FsID0gd2luZG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXM2UHJvbWlzZVN1cHBvcnQgPSBcbiAgICAgICAgXCJQcm9taXNlXCIgaW4gbG9jYWwgJiZcbiAgICAgICAgLy8gU29tZSBvZiB0aGVzZSBtZXRob2RzIGFyZSBtaXNzaW5nIGZyb21cbiAgICAgICAgLy8gRmlyZWZveC9DaHJvbWUgZXhwZXJpbWVudGFsIGltcGxlbWVudGF0aW9uc1xuICAgICAgICBcInJlc29sdmVcIiBpbiBsb2NhbC5Qcm9taXNlICYmXG4gICAgICAgIFwicmVqZWN0XCIgaW4gbG9jYWwuUHJvbWlzZSAmJlxuICAgICAgICBcImFsbFwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgXCJyYWNlXCIgaW4gbG9jYWwuUHJvbWlzZSAmJlxuICAgICAgICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAgICAgICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciByZXNvbHZlO1xuICAgICAgICAgIG5ldyBsb2NhbC5Qcm9taXNlKGZ1bmN0aW9uKHIpIHsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHJlc29sdmUpO1xuICAgICAgICB9KCkpO1xuXG4gICAgICBpZiAoIWVzNlByb21pc2VTdXBwb3J0KSB7XG4gICAgICAgIGxvY2FsLlByb21pc2UgPSBSU1ZQUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5wb2x5ZmlsbCA9IHBvbHlmaWxsO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcHJvbWlzZVwiLCBcbiAgW1wiLi9jb25maWdcIixcIi4vdXRpbHNcIixcIi4vYWxsXCIsXCIuL3JhY2VcIixcIi4vcmVzb2x2ZVwiLFwiLi9yZWplY3RcIixcIi4vYXNhcFwiLFwiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2RlcGVuZGVuY3kyX18sIF9fZGVwZW5kZW5jeTNfXywgX19kZXBlbmRlbmN5NF9fLCBfX2RlcGVuZGVuY3k1X18sIF9fZGVwZW5kZW5jeTZfXywgX19kZXBlbmRlbmN5N19fLCBfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBjb25maWcgPSBfX2RlcGVuZGVuY3kxX18uY29uZmlnO1xuICAgIHZhciBjb25maWd1cmUgPSBfX2RlcGVuZGVuY3kxX18uY29uZmlndXJlO1xuICAgIHZhciBvYmplY3RPckZ1bmN0aW9uID0gX19kZXBlbmRlbmN5Ml9fLm9iamVjdE9yRnVuY3Rpb247XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBfX2RlcGVuZGVuY3kyX18uaXNGdW5jdGlvbjtcbiAgICB2YXIgbm93ID0gX19kZXBlbmRlbmN5Ml9fLm5vdztcbiAgICB2YXIgYWxsID0gX19kZXBlbmRlbmN5M19fLmFsbDtcbiAgICB2YXIgcmFjZSA9IF9fZGVwZW5kZW5jeTRfXy5yYWNlO1xuICAgIHZhciBzdGF0aWNSZXNvbHZlID0gX19kZXBlbmRlbmN5NV9fLnJlc29sdmU7XG4gICAgdmFyIHN0YXRpY1JlamVjdCA9IF9fZGVwZW5kZW5jeTZfXy5yZWplY3Q7XG4gICAgdmFyIGFzYXAgPSBfX2RlcGVuZGVuY3k3X18uYXNhcDtcblxuICAgIHZhciBjb3VudGVyID0gMDtcblxuICAgIGNvbmZpZy5hc3luYyA9IGFzYXA7IC8vIGRlZmF1bHQgYXN5bmMgaXMgYXNhcDtcblxuICAgIGZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICAgICAgaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCBwcm9taXNlKSB7XG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZWplY3RQcm9taXNlKGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgICAgIHZhbHVlLCBlcnJvciwgc3VjY2VlZGVkLCBmYWlsZWQ7XG5cbiAgICAgIGlmIChoYXNDYWxsYmFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIFBFTkRJTkcgICA9IHZvaWQgMDtcbiAgICB2YXIgU0VBTEVEICAgID0gMDtcbiAgICB2YXIgRlVMRklMTEVEID0gMTtcbiAgICB2YXIgUkVKRUNURUQgID0gMjtcblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgICAgIHZhciBsZW5ndGggPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgUkVKRUNURURdICA9IG9uUmVqZWN0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSwgc2V0dGxlZCkge1xuICAgICAgdmFyIGNoaWxkLCBjYWxsYmFjaywgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycywgZGV0YWlsID0gcHJvbWlzZS5fZGV0YWlsO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgICAgIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBudWxsO1xuICAgIH1cblxuICAgIFByb21pc2UucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IFByb21pc2UsXG5cbiAgICAgIF9zdGF0ZTogdW5kZWZpbmVkLFxuICAgICAgX2RldGFpbDogdW5kZWZpbmVkLFxuICAgICAgX3N1YnNjcmliZXJzOiB1bmRlZmluZWQsXG5cbiAgICAgIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcztcblxuICAgICAgICB2YXIgdGhlblByb21pc2UgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihmdW5jdGlvbigpIHt9KTtcblxuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gYXJndW1lbnRzO1xuICAgICAgICAgIGNvbmZpZy5hc3luYyhmdW5jdGlvbiBpbnZva2VQcm9taXNlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayhwcm9taXNlLl9zdGF0ZSwgdGhlblByb21pc2UsIGNhbGxiYWNrc1twcm9taXNlLl9zdGF0ZSAtIDFdLCBwcm9taXNlLl9kZXRhaWwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1YnNjcmliZSh0aGlzLCB0aGVuUHJvbWlzZSwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoZW5Qcm9taXNlO1xuICAgICAgfSxcblxuICAgICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFByb21pc2UuYWxsID0gYWxsO1xuICAgIFByb21pc2UucmFjZSA9IHJhY2U7XG4gICAgUHJvbWlzZS5yZXNvbHZlID0gc3RhdGljUmVzb2x2ZTtcbiAgICBQcm9taXNlLnJlamVjdCA9IHN0YXRpY1JlamVjdDtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICB2YXIgdGhlbiA9IG51bGwsXG4gICAgICByZXNvbHZlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICB0aGVuID0gdmFsdWUudGhlbjtcblxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgIGlmIChyZXNvbHZlZCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAocmVzb2x2ZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKCFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7IHJldHVybjsgfVxuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBTRUFMRUQ7XG4gICAgICBwcm9taXNlLl9kZXRhaWwgPSB2YWx1ZTtcblxuICAgICAgY29uZmlnLmFzeW5jKHB1Ymxpc2hGdWxmaWxsbWVudCwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7IHJldHVybjsgfVxuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBTRUFMRUQ7XG4gICAgICBwcm9taXNlLl9kZXRhaWwgPSByZWFzb247XG5cbiAgICAgIGNvbmZpZy5hc3luYyhwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoRnVsZmlsbG1lbnQocHJvbWlzZSkge1xuICAgICAgcHVibGlzaChwcm9taXNlLCBwcm9taXNlLl9zdGF0ZSA9IEZVTEZJTExFRCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gICAgICBwdWJsaXNoKHByb21pc2UsIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQpO1xuICAgIH1cblxuICAgIF9fZXhwb3J0c19fLlByb21pc2UgPSBQcm9taXNlO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcmFjZVwiLCBcbiAgW1wiLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIC8qIGdsb2JhbCB0b1N0cmluZyAqL1xuICAgIHZhciBpc0FycmF5ID0gX19kZXBlbmRlbmN5MV9fLmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgIGBSU1ZQLnJhY2VgIGFsbG93cyB5b3UgdG8gd2F0Y2ggYSBzZXJpZXMgb2YgcHJvbWlzZXMgYW5kIGFjdCBhcyBzb29uIGFzIHRoZVxuICAgICAgZmlyc3QgcHJvbWlzZSBnaXZlbiB0byB0aGUgYHByb21pc2VzYCBhcmd1bWVudCBmdWxmaWxscyBvciByZWplY3RzLlxuXG4gICAgICBFeGFtcGxlOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZTEgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXNvbHZlKFwicHJvbWlzZSAxXCIpO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBwcm9taXNlMiA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIHJlc29sdmUoXCJwcm9taXNlIDJcIik7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgUlNWUC5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vIHJlc3VsdCA9PT0gXCJwcm9taXNlIDJcIiBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAgICAgLy8gd2FzIHJlc29sdmVkLlxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgYFJTVlAucmFjZWAgaXMgZGV0ZXJtaW5pc3RpYyBpbiB0aGF0IG9ubHkgdGhlIHN0YXRlIG9mIHRoZSBmaXJzdCBjb21wbGV0ZWRcbiAgICAgIHByb21pc2UgbWF0dGVycy4gRm9yIGV4YW1wbGUsIGV2ZW4gaWYgb3RoZXIgcHJvbWlzZXMgZ2l2ZW4gdG8gdGhlIGBwcm9taXNlc2BcbiAgICAgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBjb21wbGV0ZWQgcHJvbWlzZSBoYXMgYmVjb21lXG4gICAgICByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZCBwcm9taXNlXG4gICAgICB3aWxsIGJlY29tZSByZWplY3RlZDpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVzb2x2ZShcInByb21pc2UgMVwiKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcHJvbWlzZTIgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwicHJvbWlzZSAyXCIpKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH0pO1xuXG4gICAgICBSU1ZQLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gXCJwcm9taXNlMlwiIGJlY2F1c2UgcHJvbWlzZSAyIGJlY2FtZSByZWplY3RlZCBiZWZvcmVcbiAgICAgICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgcmFjZVxuICAgICAgQGZvciBSU1ZQXG4gICAgICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gICAgICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBkZXNjcmliaW5nIHRoZSBwcm9taXNlIHJldHVybmVkLlxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgYmVjb21lcyBmdWxmaWxsZWQgd2l0aCB0aGUgdmFsdWUgdGhlIGZpcnN0XG4gICAgICBjb21wbGV0ZWQgcHJvbWlzZXMgaXMgcmVzb2x2ZWQgd2l0aCBpZiB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2Ugd2FzXG4gICAgICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiB0aGF0IHRoZSBmaXJzdCBjb21wbGV0ZWQgcHJvbWlzZVxuICAgICAgd2FzIHJlamVjdGVkIHdpdGguXG4gICAgKi9cbiAgICBmdW5jdGlvbiByYWNlKHByb21pc2VzKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIFByb21pc2UgPSB0aGlzO1xuXG4gICAgICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXSwgcHJvbWlzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5yYWNlID0gcmFjZTtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3JlamVjdFwiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKipcbiAgICAgIGBSU1ZQLnJlamVjdGAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWRcbiAgICAgIGByZWFzb25gLiBgUlNWUC5yZWplY3RgIGlzIGVzc2VudGlhbGx5IHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZSA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCByZWplY3RcbiAgICAgIEBmb3IgUlNWUFxuICAgICAgQHBhcmFtIHtBbnl9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgICAgIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGlkZW50aWZ5aW5nIHRoZSByZXR1cm5lZCBwcm9taXNlLlxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW5cbiAgICAgIGByZWFzb25gLlxuICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBQcm9taXNlID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5yZWplY3QgPSByZWplY3Q7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS9yZXNvbHZlXCIsIFxuICBbXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdGhpcykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBQcm9taXNlID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3V0aWxzXCIsIFxuICBbXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIG9iamVjdE9yRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oeCkgfHwgKHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT09IG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBcnJheSh4KSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgfVxuXG4gICAgLy8gRGF0ZS5ub3cgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2VycyA8IElFOVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvbm93I0NvbXBhdGliaWxpdHlcbiAgICB2YXIgbm93ID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgfTtcblxuXG4gICAgX19leHBvcnRzX18ub2JqZWN0T3JGdW5jdGlvbiA9IG9iamVjdE9yRnVuY3Rpb247XG4gICAgX19leHBvcnRzX18uaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgX19leHBvcnRzX18uaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgX19leHBvcnRzX18ubm93ID0gbm93O1xuICB9KTtcbnJlcXVpcmVNb2R1bGUoJ3Byb21pc2UvcG9seWZpbGwnKS5wb2x5ZmlsbCgpO1xufSgpKTsoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJsb2NhbGZvcmFnZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJsb2NhbGZvcmFnZVwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICAvLyBDdXN0b20gZHJpdmVycyBhcmUgc3RvcmVkIGhlcmUgd2hlbiBgZGVmaW5lRHJpdmVyKClgIGlzIGNhbGxlZC5cblx0ICAgIC8vIFRoZXkgYXJlIHNoYXJlZCBhY3Jvc3MgYWxsIGluc3RhbmNlcyBvZiBsb2NhbEZvcmFnZS5cblx0ICAgIHZhciBDdXN0b21Ecml2ZXJzID0ge307XG5cblx0ICAgIHZhciBEcml2ZXJUeXBlID0ge1xuXHQgICAgICAgIElOREVYRUREQjogJ2FzeW5jU3RvcmFnZScsXG5cdCAgICAgICAgTE9DQUxTVE9SQUdFOiAnbG9jYWxTdG9yYWdlV3JhcHBlcicsXG5cdCAgICAgICAgV0VCU1FMOiAnd2ViU1FMU3RvcmFnZSdcblx0ICAgIH07XG5cblx0ICAgIHZhciBEZWZhdWx0RHJpdmVyT3JkZXIgPSBbRHJpdmVyVHlwZS5JTkRFWEVEREIsIERyaXZlclR5cGUuV0VCU1FMLCBEcml2ZXJUeXBlLkxPQ0FMU1RPUkFHRV07XG5cblx0ICAgIHZhciBMaWJyYXJ5TWV0aG9kcyA9IFsnY2xlYXInLCAnZ2V0SXRlbScsICdpdGVyYXRlJywgJ2tleScsICdrZXlzJywgJ2xlbmd0aCcsICdyZW1vdmVJdGVtJywgJ3NldEl0ZW0nXTtcblxuXHQgICAgdmFyIERlZmF1bHRDb25maWcgPSB7XG5cdCAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuXHQgICAgICAgIGRyaXZlcjogRGVmYXVsdERyaXZlck9yZGVyLnNsaWNlKCksXG5cdCAgICAgICAgbmFtZTogJ2xvY2FsZm9yYWdlJyxcblx0ICAgICAgICAvLyBEZWZhdWx0IERCIHNpemUgaXMgX0pVU1QgVU5ERVJfIDVNQiwgYXMgaXQncyB0aGUgaGlnaGVzdCBzaXplXG5cdCAgICAgICAgLy8gd2UgY2FuIHVzZSB3aXRob3V0IGEgcHJvbXB0LlxuXHQgICAgICAgIHNpemU6IDQ5ODA3MzYsXG5cdCAgICAgICAgc3RvcmVOYW1lOiAna2V5dmFsdWVwYWlycycsXG5cdCAgICAgICAgdmVyc2lvbjogMS4wXG5cdCAgICB9O1xuXG5cdCAgICAvLyBDaGVjayB0byBzZWUgaWYgSW5kZXhlZERCIGlzIGF2YWlsYWJsZSBhbmQgaWYgaXQgaXMgdGhlIGxhdGVzdFxuXHQgICAgLy8gaW1wbGVtZW50YXRpb247IGl0J3Mgb3VyIHByZWZlcnJlZCBiYWNrZW5kIGxpYnJhcnkuIFdlIHVzZSBcIl9zcGVjX3Rlc3RcIlxuXHQgICAgLy8gYXMgdGhlIG5hbWUgb2YgdGhlIGRhdGFiYXNlIGJlY2F1c2UgaXQncyBub3QgdGhlIG9uZSB3ZSdsbCBvcGVyYXRlIG9uLFxuXHQgICAgLy8gYnV0IGl0J3MgdXNlZnVsIHRvIG1ha2Ugc3VyZSBpdHMgdXNpbmcgdGhlIHJpZ2h0IHNwZWMuXG5cdCAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL2lzc3Vlcy8xMjhcblx0ICAgIHZhciBkcml2ZXJTdXBwb3J0ID0gKGZ1bmN0aW9uIChzZWxmKSB7XG5cdCAgICAgICAgLy8gSW5pdGlhbGl6ZSBJbmRleGVkREI7IGZhbGwgYmFjayB0byB2ZW5kb3ItcHJlZml4ZWQgdmVyc2lvbnNcblx0ICAgICAgICAvLyBpZiBuZWVkZWQuXG5cdCAgICAgICAgdmFyIGluZGV4ZWREQiA9IGluZGV4ZWREQiB8fCBzZWxmLmluZGV4ZWREQiB8fCBzZWxmLndlYmtpdEluZGV4ZWREQiB8fCBzZWxmLm1vekluZGV4ZWREQiB8fCBzZWxmLk9JbmRleGVkREIgfHwgc2VsZi5tc0luZGV4ZWREQjtcblxuXHQgICAgICAgIHZhciByZXN1bHQgPSB7fTtcblxuXHQgICAgICAgIHJlc3VsdFtEcml2ZXJUeXBlLldFQlNRTF0gPSAhIXNlbGYub3BlbkRhdGFiYXNlO1xuXHQgICAgICAgIHJlc3VsdFtEcml2ZXJUeXBlLklOREVYRUREQl0gPSAhIShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFdlIG1pbWljIFBvdWNoREIgaGVyZTsganVzdCBVQSB0ZXN0IGZvciBTYWZhcmkgKHdoaWNoLCBhcyBvZlxuXHQgICAgICAgICAgICAvLyBpT1MgOC9Zb3NlbWl0ZSwgZG9lc24ndCBwcm9wZXJseSBzdXBwb3J0IEluZGV4ZWREQikuXG5cdCAgICAgICAgICAgIC8vIEluZGV4ZWREQiBzdXBwb3J0IGlzIGJyb2tlbiBhbmQgZGlmZmVyZW50IGZyb20gQmxpbmsncy5cblx0ICAgICAgICAgICAgLy8gVGhpcyBpcyBmYXN0ZXIgdGhhbiB0aGUgdGVzdCBjYXNlIChhbmQgaXQncyBzeW5jKSwgc28gd2UganVzdFxuXHQgICAgICAgICAgICAvLyBkbyB0aGlzLiAqU0lHSCpcblx0ICAgICAgICAgICAgLy8gaHR0cDovL2JsLm9ja3Mub3JnL25vbGFubGF3c29uL3Jhdy9jODNlOTAzOWVkZjIyNzgwNDdlOS9cblx0ICAgICAgICAgICAgLy9cblx0ICAgICAgICAgICAgLy8gV2UgdGVzdCBmb3Igb3BlbkRhdGFiYXNlIGJlY2F1c2UgSUUgTW9iaWxlIGlkZW50aWZpZXMgaXRzZWxmXG5cdCAgICAgICAgICAgIC8vIGFzIFNhZmFyaS4gT2ggdGhlIGx1bHouLi5cblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLm9wZW5EYXRhYmFzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5uYXZpZ2F0b3IgJiYgc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50ICYmIC9TYWZhcmkvLnRlc3Qoc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL0Nocm9tZS8udGVzdChzZWxmLm5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpbmRleGVkREIgJiYgdHlwZW9mIGluZGV4ZWREQi5vcGVuID09PSAnZnVuY3Rpb24nICYmXG5cdCAgICAgICAgICAgICAgICAvLyBTb21lIFNhbXN1bmcvSFRDIEFuZHJvaWQgNC4wLTQuMyBkZXZpY2VzXG5cdCAgICAgICAgICAgICAgICAvLyBoYXZlIG9sZGVyIEluZGV4ZWREQiBzcGVjczsgaWYgdGhpcyBpc24ndCBhdmFpbGFibGVcblx0ICAgICAgICAgICAgICAgIC8vIHRoZWlyIEluZGV4ZWREQiBpcyB0b28gb2xkIGZvciB1cyB0byB1c2UuXG5cdCAgICAgICAgICAgICAgICAvLyAoUmVwbGFjZXMgdGhlIG9udXBncmFkZW5lZWRlZCB0ZXN0Lilcblx0ICAgICAgICAgICAgICAgIHR5cGVvZiBzZWxmLklEQktleVJhbmdlICE9PSAndW5kZWZpbmVkJztcblx0ICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSkoKTtcblxuXHQgICAgICAgIHJlc3VsdFtEcml2ZXJUeXBlLkxPQ0FMU1RPUkFHRV0gPSAhIShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5sb2NhbFN0b3JhZ2UgJiYgJ3NldEl0ZW0nIGluIHNlbGYubG9jYWxTdG9yYWdlICYmIHNlbGYubG9jYWxTdG9yYWdlLnNldEl0ZW07XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pKCk7XG5cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfSkodGhpcyk7XG5cblx0ICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJnKSB7XG5cdCAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHQgICAgfTtcblxuXHQgICAgZnVuY3Rpb24gY2FsbFdoZW5SZWFkeShsb2NhbEZvcmFnZUluc3RhbmNlLCBsaWJyYXJ5TWV0aG9kKSB7XG5cdCAgICAgICAgbG9jYWxGb3JhZ2VJbnN0YW5jZVtsaWJyYXJ5TWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIF9hcmdzID0gYXJndW1lbnRzO1xuXHQgICAgICAgICAgICByZXR1cm4gbG9jYWxGb3JhZ2VJbnN0YW5jZS5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsRm9yYWdlSW5zdGFuY2VbbGlicmFyeU1ldGhvZF0uYXBwbHkobG9jYWxGb3JhZ2VJbnN0YW5jZSwgX2FyZ3MpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBleHRlbmQoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblxuXHQgICAgICAgICAgICBpZiAoYXJnKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGFyZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZ1trZXldKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW2tleV0gPSBhcmdba2V5XS5zbGljZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW2tleV0gPSBhcmdba2V5XTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGlzTGlicmFyeURyaXZlcihkcml2ZXJOYW1lKSB7XG5cdCAgICAgICAgZm9yICh2YXIgZHJpdmVyIGluIERyaXZlclR5cGUpIHtcblx0ICAgICAgICAgICAgaWYgKERyaXZlclR5cGUuaGFzT3duUHJvcGVydHkoZHJpdmVyKSAmJiBEcml2ZXJUeXBlW2RyaXZlcl0gPT09IGRyaXZlck5hbWUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgTG9jYWxGb3JhZ2UgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGZ1bmN0aW9uIExvY2FsRm9yYWdlKG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsRm9yYWdlKTtcblxuXHQgICAgICAgICAgICB0aGlzLklOREVYRUREQiA9IERyaXZlclR5cGUuSU5ERVhFRERCO1xuXHQgICAgICAgICAgICB0aGlzLkxPQ0FMU1RPUkFHRSA9IERyaXZlclR5cGUuTE9DQUxTVE9SQUdFO1xuXHQgICAgICAgICAgICB0aGlzLldFQlNRTCA9IERyaXZlclR5cGUuV0VCU1FMO1xuXG5cdCAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRDb25maWcgPSBleHRlbmQoe30sIERlZmF1bHRDb25maWcpO1xuXHQgICAgICAgICAgICB0aGlzLl9jb25maWcgPSBleHRlbmQoe30sIHRoaXMuX2RlZmF1bHRDb25maWcsIG9wdGlvbnMpO1xuXHQgICAgICAgICAgICB0aGlzLl9kcml2ZXJTZXQgPSBudWxsO1xuXHQgICAgICAgICAgICB0aGlzLl9pbml0RHJpdmVyID0gbnVsbDtcblx0ICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdGhpcy5fZGJJbmZvID0gbnVsbDtcblxuXHQgICAgICAgICAgICB0aGlzLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXREcml2ZXIodGhpcy5fY29uZmlnLmRyaXZlcik7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gVGhlIGFjdHVhbCBsb2NhbEZvcmFnZSBvYmplY3QgdGhhdCB3ZSBleHBvc2UgYXMgYSBtb2R1bGUgb3IgdmlhIGFcblx0ICAgICAgICAvLyBnbG9iYWwuIEl0J3MgZXh0ZW5kZWQgYnkgcHVsbGluZyBpbiBvbmUgb2Ygb3VyIG90aGVyIGxpYnJhcmllcy5cblxuXHQgICAgICAgIC8vIFNldCBhbnkgY29uZmlnIHZhbHVlcyBmb3IgbG9jYWxGb3JhZ2U7IGNhbiBiZSBjYWxsZWQgYW55dGltZSBiZWZvcmVcblx0ICAgICAgICAvLyB0aGUgZmlyc3QgQVBJIGNhbGwgKGUuZy4gYGdldEl0ZW1gLCBgc2V0SXRlbWApLlxuXHQgICAgICAgIC8vIFdlIGxvb3AgdGhyb3VnaCBvcHRpb25zIHNvIHdlIGRvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBjb25maWdcblx0ICAgICAgICAvLyB2YWx1ZXMuXG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuY29uZmlnID0gZnVuY3Rpb24gY29uZmlnKG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgLy8gSWYgdGhlIG9wdGlvbnMgYXJndW1lbnQgaXMgYW4gb2JqZWN0LCB3ZSB1c2UgaXQgdG8gc2V0IHZhbHVlcy5cblx0ICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSByZXR1cm4gZWl0aGVyIGEgc3BlY2lmaWVkIGNvbmZpZyB2YWx1ZSBvciBhbGxcblx0ICAgICAgICAgICAgLy8gY29uZmlnIHZhbHVlcy5cblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgICAgICAgLy8gSWYgbG9jYWxmb3JhZ2UgaXMgcmVhZHkgYW5kIGZ1bGx5IGluaXRpYWxpemVkLCB3ZSBjYW4ndCBzZXRcblx0ICAgICAgICAgICAgICAgIC8vIGFueSBuZXcgY29uZmlndXJhdGlvbiB2YWx1ZXMuIEluc3RlYWQsIHdlIHJldHVybiBhbiBlcnJvci5cblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZWFkeSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJDYW4ndCBjYWxsIGNvbmZpZygpIGFmdGVyIGxvY2FsZm9yYWdlIFwiICsgJ2hhcyBiZWVuIHVzZWQuJyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAnc3RvcmVOYW1lJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2ldID0gb3B0aW9uc1tpXS5yZXBsYWNlKC9cXFcvZywgJ18nKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWdbaV0gPSBvcHRpb25zW2ldO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBhZnRlciBhbGwgY29uZmlnIG9wdGlvbnMgYXJlIHNldCBhbmRcblx0ICAgICAgICAgICAgICAgIC8vIHRoZSBkcml2ZXIgb3B0aW9uIGlzIHVzZWQsIHRyeSBzZXR0aW5nIGl0XG5cdCAgICAgICAgICAgICAgICBpZiAoJ2RyaXZlcicgaW4gb3B0aW9ucyAmJiBvcHRpb25zLmRyaXZlcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RHJpdmVyKHRoaXMuX2NvbmZpZy5kcml2ZXIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWdbb3B0aW9uc107XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIC8vIFVzZWQgdG8gZGVmaW5lIGEgY3VzdG9tIGRyaXZlciwgc2hhcmVkIGFjcm9zcyBhbGwgaW5zdGFuY2VzIG9mXG5cdCAgICAgICAgLy8gbG9jYWxGb3JhZ2UuXG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuZGVmaW5lRHJpdmVyID0gZnVuY3Rpb24gZGVmaW5lRHJpdmVyKGRyaXZlck9iamVjdCwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBkcml2ZXJOYW1lID0gZHJpdmVyT2JqZWN0Ll9kcml2ZXI7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBsaWFuY2VFcnJvciA9IG5ldyBFcnJvcignQ3VzdG9tIGRyaXZlciBub3QgY29tcGxpYW50OyBzZWUgJyArICdodHRwczovL21vemlsbGEuZ2l0aHViLmlvL2xvY2FsRm9yYWdlLyNkZWZpbmVkcml2ZXInKTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbmFtaW5nRXJyb3IgPSBuZXcgRXJyb3IoJ0N1c3RvbSBkcml2ZXIgbmFtZSBhbHJlYWR5IGluIHVzZTogJyArIGRyaXZlck9iamVjdC5fZHJpdmVyKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIEEgZHJpdmVyIG5hbWUgc2hvdWxkIGJlIGRlZmluZWQgYW5kIG5vdCBvdmVybGFwIHdpdGggdGhlXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gbGlicmFyeS1kZWZpbmVkLCBkZWZhdWx0IGRyaXZlcnMuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFkcml2ZXJPYmplY3QuX2RyaXZlcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoY29tcGxpYW5jZUVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaXNMaWJyYXJ5RHJpdmVyKGRyaXZlck9iamVjdC5fZHJpdmVyKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmFtaW5nRXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGN1c3RvbURyaXZlck1ldGhvZHMgPSBMaWJyYXJ5TWV0aG9kcy5jb25jYXQoJ19pbml0U3RvcmFnZScpO1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VzdG9tRHJpdmVyTWV0aG9kcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9tRHJpdmVyTWV0aG9kID0gY3VzdG9tRHJpdmVyTWV0aG9kc1tpXTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXN0b21Ecml2ZXJNZXRob2QgfHwgIWRyaXZlck9iamVjdFtjdXN0b21Ecml2ZXJNZXRob2RdIHx8IHR5cGVvZiBkcml2ZXJPYmplY3RbY3VzdG9tRHJpdmVyTWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGNvbXBsaWFuY2VFcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICB2YXIgc3VwcG9ydFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCdfc3VwcG9ydCcgaW4gZHJpdmVyT2JqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcml2ZXJPYmplY3QuX3N1cHBvcnQgJiYgdHlwZW9mIGRyaXZlck9iamVjdC5fc3VwcG9ydCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydFByb21pc2UgPSBkcml2ZXJPYmplY3QuX3N1cHBvcnQoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCEhZHJpdmVyT2JqZWN0Ll9zdXBwb3J0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN1cHBvcnRSZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZHJpdmVyU3VwcG9ydFtkcml2ZXJOYW1lXSA9IHN1cHBvcnRSZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbURyaXZlcnNbZHJpdmVyTmFtZV0gPSBkcml2ZXJPYmplY3Q7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cblx0ICAgICAgICAgICAgcHJvbWlzZS50aGVuKGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5kcml2ZXIgPSBmdW5jdGlvbiBkcml2ZXIoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXIgfHwgbnVsbDtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmdldERyaXZlciA9IGZ1bmN0aW9uIGdldERyaXZlcihkcml2ZXJOYW1lLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuXHQgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgICAgIHZhciBnZXREcml2ZXJQcm9taXNlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpc0xpYnJhcnlEcml2ZXIoZHJpdmVyTmFtZSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRyaXZlck5hbWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBzZWxmLklOREVYRUREQjpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHNlbGYuTE9DQUxTVE9SQUdFOlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugc2VsZi5XRUJTUUw6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEN1c3RvbURyaXZlcnNbZHJpdmVyTmFtZV0pIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEN1c3RvbURyaXZlcnNbZHJpdmVyTmFtZV0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdEcml2ZXIgbm90IGZvdW5kLicpKTtcblx0ICAgICAgICAgICAgfSkoKTtcblxuXHQgICAgICAgICAgICBnZXREcml2ZXJQcm9taXNlLnRoZW4oY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuXHQgICAgICAgICAgICByZXR1cm4gZ2V0RHJpdmVyUHJvbWlzZTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmdldFNlcmlhbGl6ZXIgPSBmdW5jdGlvbiBnZXRTZXJpYWxpemVyKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBzZXJpYWxpemVyUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUoX193ZWJwYWNrX3JlcXVpcmVfXygzKSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICBzZXJpYWxpemVyUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZXJQcm9taXNlO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiByZWFkeShjYWxsYmFjaykge1xuXHQgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLl9kcml2ZXJTZXQudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoc2VsZi5fcmVhZHkgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWFkeSA9IHNlbGYuX2luaXREcml2ZXIoKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3JlYWR5O1xuXHQgICAgICAgICAgICB9KTtcblxuXHQgICAgICAgICAgICBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5zZXREcml2ZXIgPSBmdW5jdGlvbiBzZXREcml2ZXIoZHJpdmVycywgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgIGlmICghaXNBcnJheShkcml2ZXJzKSkge1xuXHQgICAgICAgICAgICAgICAgZHJpdmVycyA9IFtkcml2ZXJzXTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBzdXBwb3J0ZWREcml2ZXJzID0gdGhpcy5fZ2V0U3VwcG9ydGVkRHJpdmVycyhkcml2ZXJzKTtcblxuXHQgICAgICAgICAgICBmdW5jdGlvbiBzZXREcml2ZXJUb0NvbmZpZygpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGYuX2NvbmZpZy5kcml2ZXIgPSBzZWxmLmRyaXZlcigpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgZnVuY3Rpb24gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RHJpdmVySW5kZXggPSAwO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZHJpdmVyUHJvbWlzZUxvb3AoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50RHJpdmVySW5kZXggPCBzdXBwb3J0ZWREcml2ZXJzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBzdXBwb3J0ZWREcml2ZXJzW2N1cnJlbnREcml2ZXJJbmRleF07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RHJpdmVySW5kZXgrKztcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlYWR5ID0gbnVsbDtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0RHJpdmVyKGRyaXZlck5hbWUpLnRoZW4oZnVuY3Rpb24gKGRyaXZlcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2V4dGVuZChkcml2ZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWFkeSA9IHNlbGYuX2luaXRTdG9yYWdlKHNlbGYuX2NvbmZpZyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3JlYWR5O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlbJ2NhdGNoJ10oZHJpdmVyUHJvbWlzZUxvb3ApO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdObyBhdmFpbGFibGUgc3RvcmFnZSBtZXRob2QgZm91bmQuJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RyaXZlclNldCA9IFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2RyaXZlclNldDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHJpdmVyUHJvbWlzZUxvb3AoKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBUaGVyZSBtaWdodCBiZSBhIGRyaXZlciBpbml0aWFsaXphdGlvbiBpbiBwcm9ncmVzc1xuXHQgICAgICAgICAgICAvLyBzbyB3YWl0IGZvciBpdCB0byBmaW5pc2ggaW4gb3JkZXIgdG8gYXZvaWQgYSBwb3NzaWJsZVxuXHQgICAgICAgICAgICAvLyByYWNlIGNvbmRpdGlvbiB0byBzZXQgX2RiSW5mb1xuXHQgICAgICAgICAgICB2YXIgb2xkRHJpdmVyU2V0RG9uZSA9IHRoaXMuX2RyaXZlclNldCAhPT0gbnVsbCA/IHRoaXMuX2RyaXZlclNldFsnY2F0Y2gnXShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdCAgICAgICAgICAgIH0pIDogUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0ICAgICAgICAgICAgdGhpcy5fZHJpdmVyU2V0ID0gb2xkRHJpdmVyU2V0RG9uZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkcml2ZXJOYW1lID0gc3VwcG9ydGVkRHJpdmVyc1swXTtcblx0ICAgICAgICAgICAgICAgIHNlbGYuX2RiSW5mbyA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICBzZWxmLl9yZWFkeSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldERyaXZlcihkcml2ZXJOYW1lKS50aGVuKGZ1bmN0aW9uIChkcml2ZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxmLl9kcml2ZXIgPSBkcml2ZXIuX2RyaXZlcjtcblx0ICAgICAgICAgICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGYuX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSgpO1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGYuX2luaXREcml2ZXIgPSBpbml0RHJpdmVyKHN1cHBvcnRlZERyaXZlcnMpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ05vIGF2YWlsYWJsZSBzdG9yYWdlIG1ldGhvZCBmb3VuZC4nKTtcblx0ICAgICAgICAgICAgICAgIHNlbGYuX2RyaXZlclNldCA9IFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9kcml2ZXJTZXQ7XG5cdCAgICAgICAgICAgIH0pO1xuXG5cdCAgICAgICAgICAgIHRoaXMuX2RyaXZlclNldC50aGVuKGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyaXZlclNldDtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gc3VwcG9ydHMoZHJpdmVyTmFtZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gISFkcml2ZXJTdXBwb3J0W2RyaXZlck5hbWVdO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuX2V4dGVuZCA9IGZ1bmN0aW9uIF9leHRlbmQobGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBsaWJyYXJ5TWV0aG9kc0FuZFByb3BlcnRpZXMpO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuX2dldFN1cHBvcnRlZERyaXZlcnMgPSBmdW5jdGlvbiBfZ2V0U3VwcG9ydGVkRHJpdmVycyhkcml2ZXJzKSB7XG5cdCAgICAgICAgICAgIHZhciBzdXBwb3J0ZWREcml2ZXJzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkcml2ZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlcnNbaV07XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5zdXBwb3J0cyhkcml2ZXJOYW1lKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZERyaXZlcnMucHVzaChkcml2ZXJOYW1lKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gc3VwcG9ydGVkRHJpdmVycztcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkgPSBmdW5jdGlvbiBfd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5KCkge1xuXHQgICAgICAgICAgICAvLyBBZGQgYSBzdHViIGZvciBlYWNoIGRyaXZlciBBUEkgbWV0aG9kIHRoYXQgZGVsYXlzIHRoZSBjYWxsIHRvIHRoZVxuXHQgICAgICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRyaXZlciBtZXRob2QgdW50aWwgbG9jYWxGb3JhZ2UgaXMgcmVhZHkuIFRoZXNlIHN0dWJzXG5cdCAgICAgICAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGRyaXZlciBtZXRob2RzIGFzIHNvb24gYXMgdGhlIGRyaXZlciBpc1xuXHQgICAgICAgICAgICAvLyBsb2FkZWQsIHNvIHRoZXJlIGlzIG5vIHBlcmZvcm1hbmNlIGltcGFjdC5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMaWJyYXJ5TWV0aG9kcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgY2FsbFdoZW5SZWFkeSh0aGlzLCBMaWJyYXJ5TWV0aG9kc1tpXSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2Uob3B0aW9ucykge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IExvY2FsRm9yYWdlKG9wdGlvbnMpO1xuXHQgICAgICAgIH07XG5cblx0ICAgICAgICByZXR1cm4gTG9jYWxGb3JhZ2U7XG5cdCAgICB9KSgpO1xuXG5cdCAgICB2YXIgbG9jYWxGb3JhZ2UgPSBuZXcgTG9jYWxGb3JhZ2UoKTtcblxuXHQgICAgZXhwb3J0c1snZGVmYXVsdCddID0gbG9jYWxGb3JhZ2U7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBTb21lIGNvZGUgb3JpZ2luYWxseSBmcm9tIGFzeW5jX3N0b3JhZ2UuanMgaW5cblx0Ly8gW0dhaWFdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhLWIyZy9nYWlhKS5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIHZhciBnbG9iYWxPYmplY3QgPSB0aGlzO1xuXHQgICAgLy8gSW5pdGlhbGl6ZSBJbmRleGVkREI7IGZhbGwgYmFjayB0byB2ZW5kb3ItcHJlZml4ZWQgdmVyc2lvbnMgaWYgbmVlZGVkLlxuXHQgICAgdmFyIGluZGV4ZWREQiA9IGluZGV4ZWREQiB8fCB0aGlzLmluZGV4ZWREQiB8fCB0aGlzLndlYmtpdEluZGV4ZWREQiB8fCB0aGlzLm1vekluZGV4ZWREQiB8fCB0aGlzLk9JbmRleGVkREIgfHwgdGhpcy5tc0luZGV4ZWREQjtcblxuXHQgICAgLy8gSWYgSW5kZXhlZERCIGlzbid0IGF2YWlsYWJsZSwgd2UgZ2V0IG91dHRhIGhlcmUhXG5cdCAgICBpZiAoIWluZGV4ZWREQikge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgdmFyIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUgPSAnbG9jYWwtZm9yYWdlLWRldGVjdC1ibG9iLXN1cHBvcnQnO1xuXHQgICAgdmFyIHN1cHBvcnRzQmxvYnM7XG5cdCAgICB2YXIgZGJDb250ZXh0cztcblxuXHQgICAgLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG5cdCAgICAvLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yLiAoaS5lLlxuXHQgICAgLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBhdCBsZWFzdCkuXG5cdCAgICBmdW5jdGlvbiBfY3JlYXRlQmxvYihwYXJ0cywgcHJvcGVydGllcykge1xuXHQgICAgICAgIHBhcnRzID0gcGFydHMgfHwgW107XG5cdCAgICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgIGlmIChlLm5hbWUgIT09ICdUeXBlRXJyb3InKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBCbG9iQnVpbGRlciA9IGdsb2JhbE9iamVjdC5CbG9iQnVpbGRlciB8fCBnbG9iYWxPYmplY3QuTVNCbG9iQnVpbGRlciB8fCBnbG9iYWxPYmplY3QuTW96QmxvYkJ1aWxkZXIgfHwgZ2xvYmFsT2JqZWN0LldlYktpdEJsb2JCdWlsZGVyO1xuXHQgICAgICAgICAgICB2YXIgYnVpbGRlciA9IG5ldyBCbG9iQnVpbGRlcigpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG5cdCAgICAgICAgICAgICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gVHJhbnNmb3JtIGEgYmluYXJ5IHN0cmluZyB0byBhbiBhcnJheSBidWZmZXIsIGJlY2F1c2Ugb3RoZXJ3aXNlXG5cdCAgICAvLyB3ZWlyZCBzdHVmZiBoYXBwZW5zIHdoZW4geW91IHRyeSB0byB3b3JrIHdpdGggdGhlIGJpbmFyeSBzdHJpbmcgZGlyZWN0bHkuXG5cdCAgICAvLyBJdCBpcyBrbm93bi5cblx0ICAgIC8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNDk2NzY0Ny8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG5cdCAgICAvLyBlbmNvZGUtZGVjb2RlLWltYWdlLXdpdGgtYmFzZTY0LWJyZWFrcy1pbWFnZSAoMjAxMy0wNC0yMSlcblx0ICAgIGZ1bmN0aW9uIF9iaW5TdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuXHQgICAgICAgIHZhciBsZW5ndGggPSBiaW4ubGVuZ3RoO1xuXHQgICAgICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcblx0ICAgICAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gYnVmO1xuXHQgICAgfVxuXG5cdCAgICAvLyBGZXRjaCBhIGJsb2IgdXNpbmcgYWpheC4gVGhpcyByZXZlYWxzIGJ1Z3MgaW4gQ2hyb21lIDwgNDMuXG5cdCAgICAvLyBGb3IgZGV0YWlscyBvbiBhbGwgdGhpcyBqdW5rOlxuXHQgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vbGFubGF3c29uL3N0YXRlLW9mLWJpbmFyeS1kYXRhLWluLXRoZS1icm93c2VyI3JlYWRtZVxuXHQgICAgZnVuY3Rpb24gX2Jsb2JBamF4KHVybCkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0ICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG5cdCAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXHQgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcblxuXHQgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSA0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHhoci5yZXNwb25zZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogeGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmVqZWN0KHsgc3RhdHVzOiB4aHIuc3RhdHVzLCByZXNwb25zZTogeGhyLnJlc3BvbnNlIH0pO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB4aHIuc2VuZCgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICAvL1xuXHQgICAgLy8gRGV0ZWN0IGJsb2Igc3VwcG9ydC4gQ2hyb21lIGRpZG4ndCBzdXBwb3J0IGl0IHVudGlsIHZlcnNpb24gMzguXG5cdCAgICAvLyBJbiB2ZXJzaW9uIDM3IHRoZXkgaGFkIGEgYnJva2VuIHZlcnNpb24gd2hlcmUgUE5HcyAoYW5kIHBvc3NpYmx5XG5cdCAgICAvLyBvdGhlciBiaW5hcnkgdHlwZXMpIGFyZW4ndCBzdG9yZWQgY29ycmVjdGx5LCBiZWNhdXNlIHdoZW4geW91IGZldGNoXG5cdCAgICAvLyB0aGVtLCB0aGUgY29udGVudCB0eXBlIGlzIGFsd2F5cyBudWxsLlxuXHQgICAgLy9cblx0ICAgIC8vIEZ1cnRoZXJtb3JlLCB0aGV5IGhhdmUgc29tZSBvdXRzdGFuZGluZyBidWdzIHdoZXJlIGJsb2JzIG9jY2FzaW9uYWxseVxuXHQgICAgLy8gYXJlIHJlYWQgYnkgRmlsZVJlYWRlciBhcyBudWxsLCBvciBieSBhamF4IGFzIDQwNHMuXG5cdCAgICAvL1xuXHQgICAgLy8gU2FkbHkgd2UgdXNlIHRoZSA0MDQgYnVnIHRvIGRldGVjdCB0aGUgRmlsZVJlYWRlciBidWcsIHNvIGlmIHRoZXlcblx0ICAgIC8vIGdldCBmaXhlZCBpbmRlcGVuZGVudGx5IGFuZCByZWxlYXNlZCBpbiBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgQ2hyb21lLFxuXHQgICAgLy8gdGhlbiB0aGUgYnVnIGNvdWxkIGNvbWUgYmFjay4gU28gaXQncyB3b3J0aHdoaWxlIHRvIHdhdGNoIHRoZXNlIGlzc3Vlczpcblx0ICAgIC8vIDQwNCBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc5MTZcblx0ICAgIC8vIEZpbGVSZWFkZXIgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3ODM2XG5cdCAgICAvL1xuXHQgICAgZnVuY3Rpb24gX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyhpZGIpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICB2YXIgYmxvYiA9IF9jcmVhdGVCbG9iKFsnJ10sIHsgdHlwZTogJ2ltYWdlL3BuZycgfSk7XG5cdCAgICAgICAgICAgIHZhciB0eG4gPSBpZGIudHJhbnNhY3Rpb24oW0RFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG5cdCAgICAgICAgICAgIHR4bi5vYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKS5wdXQoYmxvYiwgJ2tleScpO1xuXHQgICAgICAgICAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIC8vIGhhdmUgdG8gZG8gaXQgaW4gYSBzZXBhcmF0ZSB0cmFuc2FjdGlvbiwgZWxzZSB0aGUgY29ycmVjdFxuXHQgICAgICAgICAgICAgICAgLy8gY29udGVudCB0eXBlIGlzIGFsd2F5cyByZXR1cm5lZFxuXHQgICAgICAgICAgICAgICAgdmFyIGJsb2JUeG4gPSBpZGIudHJhbnNhY3Rpb24oW0RFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgZ2V0QmxvYlJlcSA9IGJsb2JUeG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkuZ2V0KCdrZXknKTtcblx0ICAgICAgICAgICAgICAgIGdldEJsb2JSZXEub25lcnJvciA9IHJlamVjdDtcblx0ICAgICAgICAgICAgICAgIGdldEJsb2JSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZWRCbG9iID0gZS50YXJnZXQucmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHN0b3JlZEJsb2IpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgX2Jsb2JBamF4KHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoISEocmVzICYmIHJlcy50eXBlID09PSAnaW1hZ2UvcG5nJykpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yLCBzbyBhc3N1bWUgdW5zdXBwb3J0ZWRcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gX2NoZWNrQmxvYlN1cHBvcnQoaWRiKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBzdXBwb3J0c0Jsb2JzID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdXBwb3J0c0Jsb2JzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9jaGVja0Jsb2JTdXBwb3J0V2l0aG91dENhY2hpbmcoaWRiKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICBzdXBwb3J0c0Jsb2JzID0gdmFsdWU7XG5cdCAgICAgICAgICAgIHJldHVybiBzdXBwb3J0c0Jsb2JzO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICAvLyBlbmNvZGUgYSBibG9iIGZvciBpbmRleGVkZGIgZW5naW5lcyB0aGF0IGRvbid0IHN1cHBvcnQgYmxvYnNcblx0ICAgIGZ1bmN0aW9uIF9lbmNvZGVCbG9iKGJsb2IpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0ICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG5cdCAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJ0b2EoZS50YXJnZXQucmVzdWx0IHx8ICcnKTtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuXHQgICAgICAgICAgICAgICAgICAgIF9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYjogdHJ1ZSxcblx0ICAgICAgICAgICAgICAgICAgICBkYXRhOiBiYXNlNjQsXG5cdCAgICAgICAgICAgICAgICAgICAgdHlwZTogYmxvYi50eXBlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgLy8gZGVjb2RlIGFuIGVuY29kZWQgYmxvYlxuXHQgICAgZnVuY3Rpb24gX2RlY29kZUJsb2IoZW5jb2RlZEJsb2IpIHtcblx0ICAgICAgICB2YXIgYXJyYXlCdWZmID0gX2JpblN0cmluZ1RvQXJyYXlCdWZmZXIoYXRvYihlbmNvZGVkQmxvYi5kYXRhKSk7XG5cdCAgICAgICAgcmV0dXJuIF9jcmVhdGVCbG9iKFthcnJheUJ1ZmZdLCB7IHR5cGU6IGVuY29kZWRCbG9iLnR5cGUgfSk7XG5cdCAgICB9XG5cblx0ICAgIC8vIGlzIHRoaXMgb25lIG9mIG91ciBmYW5jeSBlbmNvZGVkIGJsb2JzP1xuXHQgICAgZnVuY3Rpb24gX2lzRW5jb2RlZEJsb2IodmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuX19sb2NhbF9mb3JhZ2VfZW5jb2RlZF9ibG9iO1xuXHQgICAgfVxuXG5cdCAgICAvLyBPcGVuIHRoZSBJbmRleGVkREIgZGF0YWJhc2UgKGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBvbmUgaWYgb25lIGRpZG4ndFxuXHQgICAgLy8gcHJldmlvdXNseSBleGlzdCksIHVzaW5nIGFueSBvcHRpb25zIHNldCBpbiB0aGUgY29uZmlnLlxuXHQgICAgZnVuY3Rpb24gX2luaXRTdG9yYWdlKG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIGRiSW5mbyA9IHtcblx0ICAgICAgICAgICAgZGI6IG51bGxcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgaWYgKG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG5cdCAgICAgICAgICAgICAgICBkYkluZm9baV0gPSBvcHRpb25zW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gSW5pdGlhbGl6ZSBhIHNpbmdsZXRvbiBjb250YWluZXIgZm9yIGFsbCBydW5uaW5nIGxvY2FsRm9yYWdlcy5cblx0ICAgICAgICBpZiAoIWRiQ29udGV4dHMpIHtcblx0ICAgICAgICAgICAgZGJDb250ZXh0cyA9IHt9O1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBjb250ZXh0IG9mIHRoZSBkYXRhYmFzZTtcblx0ICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV07XG5cblx0ICAgICAgICAvLyAuLi5vciBjcmVhdGUgYSBuZXcgY29udGV4dC5cblx0ICAgICAgICBpZiAoIWRiQ29udGV4dCkge1xuXHQgICAgICAgICAgICBkYkNvbnRleHQgPSB7XG5cdCAgICAgICAgICAgICAgICAvLyBSdW5uaW5nIGxvY2FsRm9yYWdlcyBzaGFyaW5nIGEgZGF0YWJhc2UuXG5cdCAgICAgICAgICAgICAgICBmb3JhZ2VzOiBbXSxcblx0ICAgICAgICAgICAgICAgIC8vIFNoYXJlZCBkYXRhYmFzZS5cblx0ICAgICAgICAgICAgICAgIGRiOiBudWxsXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBuZXcgY29udGV4dCBpbiB0aGUgZ2xvYmFsIGNvbnRhaW5lci5cblx0ICAgICAgICAgICAgZGJDb250ZXh0c1tkYkluZm8ubmFtZV0gPSBkYkNvbnRleHQ7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gUmVnaXN0ZXIgaXRzZWxmIGFzIGEgcnVubmluZyBsb2NhbEZvcmFnZSBpbiB0aGUgY3VycmVudCBjb250ZXh0LlxuXHQgICAgICAgIGRiQ29udGV4dC5mb3JhZ2VzLnB1c2godGhpcyk7XG5cblx0ICAgICAgICAvLyBDcmVhdGUgYW4gYXJyYXkgb2YgcmVhZGluZXNzIG9mIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcy5cblx0ICAgICAgICB2YXIgcmVhZHlQcm9taXNlcyA9IFtdO1xuXG5cdCAgICAgICAgZnVuY3Rpb24gaWdub3JlRXJyb3JzKCkge1xuXHQgICAgICAgICAgICAvLyBEb24ndCBoYW5kbGUgZXJyb3JzIGhlcmUsXG5cdCAgICAgICAgICAgIC8vIGp1c3QgbWFrZXMgc3VyZSByZWxhdGVkIGxvY2FsRm9yYWdlcyBhcmVuJ3QgcGVuZGluZy5cblx0ICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGJDb250ZXh0LmZvcmFnZXMubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgdmFyIGZvcmFnZSA9IGRiQ29udGV4dC5mb3JhZ2VzW2pdO1xuXHQgICAgICAgICAgICBpZiAoZm9yYWdlICE9PSB0aGlzKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBEb24ndCB3YWl0IGZvciBpdHNlbGYuLi5cblx0ICAgICAgICAgICAgICAgIHJlYWR5UHJvbWlzZXMucHVzaChmb3JhZ2UucmVhZHkoKVsnY2F0Y2gnXShpZ25vcmVFcnJvcnMpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFRha2UgYSBzbmFwc2hvdCBvZiB0aGUgcmVsYXRlZCBsb2NhbEZvcmFnZXMuXG5cdCAgICAgICAgdmFyIGZvcmFnZXMgPSBkYkNvbnRleHQuZm9yYWdlcy5zbGljZSgwKTtcblxuXHQgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNvbm5lY3Rpb24gcHJvY2VzcyBvbmx5IHdoZW5cblx0ICAgICAgICAvLyBhbGwgdGhlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzIGFyZW4ndCBwZW5kaW5nLlxuXHQgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZWFkeVByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgZGJJbmZvLmRiID0gZGJDb250ZXh0LmRiO1xuXHQgICAgICAgICAgICAvLyBHZXQgdGhlIGNvbm5lY3Rpb24gb3Igb3BlbiBhIG5ldyBvbmUgd2l0aG91dCB1cGdyYWRlLlxuXHQgICAgICAgICAgICByZXR1cm4gX2dldE9yaWdpbmFsQ29ubmVjdGlvbihkYkluZm8pO1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5kYiA9IGRiO1xuXHQgICAgICAgICAgICBpZiAoX2lzVXBncmFkZU5lZWRlZChkYkluZm8sIHNlbGYuX2RlZmF1bHRDb25maWcudmVyc2lvbikpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFJlb3BlbiB0aGUgZGF0YWJhc2UgZm9yIHVwZ3JhZGluZy5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0VXBncmFkZWRDb25uZWN0aW9uKGRiSW5mbyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIGRiO1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG5cdCAgICAgICAgICAgIGRiSW5mby5kYiA9IGRiQ29udGV4dC5kYiA9IGRiO1xuXHQgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBkYkluZm87XG5cdCAgICAgICAgICAgIC8vIFNoYXJlIHRoZSBmaW5hbCBjb25uZWN0aW9uIGFtb25nc3QgcmVsYXRlZCBsb2NhbEZvcmFnZXMuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGsgaW4gZm9yYWdlcykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGZvcmFnZSA9IGZvcmFnZXNba107XG5cdCAgICAgICAgICAgICAgICBpZiAoZm9yYWdlICE9PSBzZWxmKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gU2VsZiBpcyBhbHJlYWR5IHVwLXRvLWRhdGUuXG5cdCAgICAgICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8uZGIgPSBkYkluZm8uZGI7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8udmVyc2lvbiA9IGRiSW5mby52ZXJzaW9uO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIF9nZXRPcmlnaW5hbENvbm5lY3Rpb24oZGJJbmZvKSB7XG5cdCAgICAgICAgcmV0dXJuIF9nZXRDb25uZWN0aW9uKGRiSW5mbywgZmFsc2UpO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBfZ2V0VXBncmFkZWRDb25uZWN0aW9uKGRiSW5mbykge1xuXHQgICAgICAgIHJldHVybiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIHRydWUpO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIHVwZ3JhZGVOZWVkZWQpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBpZiAoZGJJbmZvLmRiKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAodXBncmFkZU5lZWRlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRiSW5mby5kYi5jbG9zZSgpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShkYkluZm8uZGIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdmFyIGRiQXJncyA9IFtkYkluZm8ubmFtZV07XG5cblx0ICAgICAgICAgICAgaWYgKHVwZ3JhZGVOZWVkZWQpIHtcblx0ICAgICAgICAgICAgICAgIGRiQXJncy5wdXNoKGRiSW5mby52ZXJzaW9uKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHZhciBvcGVucmVxID0gaW5kZXhlZERCLm9wZW4uYXBwbHkoaW5kZXhlZERCLCBkYkFyZ3MpO1xuXG5cdCAgICAgICAgICAgIGlmICh1cGdyYWRlTmVlZGVkKSB7XG5cdCAgICAgICAgICAgICAgICBvcGVucmVxLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gb3BlbnJlcS5yZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm9sZFZlcnNpb24gPD0gMSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkZWQgd2hlbiBzdXBwb3J0IGZvciBibG9iIHNoaW1zIHdhcyBhZGRlZFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXgubmFtZSA9PT0gJ0NvbnN0cmFpbnRFcnJvcicpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBcIicgKyBkYkluZm8ubmFtZSArICdcIicgKyAnIGhhcyBiZWVuIHVwZ3JhZGVkIGZyb20gdmVyc2lvbiAnICsgZS5vbGRWZXJzaW9uICsgJyB0byB2ZXJzaW9uICcgKyBlLm5ld1ZlcnNpb24gKyAnLCBidXQgdGhlIHN0b3JhZ2UgXCInICsgZGJJbmZvLnN0b3JlTmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGV4O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIG9wZW5yZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJlamVjdChvcGVucmVxLmVycm9yKTtcblx0ICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICBvcGVucmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUob3BlbnJlcS5yZXN1bHQpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBfaXNVcGdyYWRlTmVlZGVkKGRiSW5mbywgZGVmYXVsdFZlcnNpb24pIHtcblx0ICAgICAgICBpZiAoIWRiSW5mby5kYikge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgaXNOZXdTdG9yZSA9ICFkYkluZm8uZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhkYkluZm8uc3RvcmVOYW1lKTtcblx0ICAgICAgICB2YXIgaXNEb3duZ3JhZGUgPSBkYkluZm8udmVyc2lvbiA8IGRiSW5mby5kYi52ZXJzaW9uO1xuXHQgICAgICAgIHZhciBpc1VwZ3JhZGUgPSBkYkluZm8udmVyc2lvbiA+IGRiSW5mby5kYi52ZXJzaW9uO1xuXG5cdCAgICAgICAgaWYgKGlzRG93bmdyYWRlKSB7XG5cdCAgICAgICAgICAgIC8vIElmIHRoZSB2ZXJzaW9uIGlzIG5vdCB0aGUgZGVmYXVsdCBvbmVcblx0ICAgICAgICAgICAgLy8gdGhlbiB3YXJuIGZvciBpbXBvc3NpYmxlIGRvd25ncmFkZS5cblx0ICAgICAgICAgICAgaWYgKGRiSW5mby52ZXJzaW9uICE9PSBkZWZhdWx0VmVyc2lvbikge1xuXHQgICAgICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybignVGhlIGRhdGFiYXNlIFwiJyArIGRiSW5mby5uYW1lICsgJ1wiJyArICcgY2FuXFwndCBiZSBkb3duZ3JhZGVkIGZyb20gdmVyc2lvbiAnICsgZGJJbmZvLmRiLnZlcnNpb24gKyAnIHRvIHZlcnNpb24gJyArIGRiSW5mby52ZXJzaW9uICsgJy4nKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAvLyBBbGlnbiB0aGUgdmVyc2lvbnMgdG8gcHJldmVudCBlcnJvcnMuXG5cdCAgICAgICAgICAgIGRiSW5mby52ZXJzaW9uID0gZGJJbmZvLmRiLnZlcnNpb247XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKGlzVXBncmFkZSB8fCBpc05ld1N0b3JlKSB7XG5cdCAgICAgICAgICAgIC8vIElmIHRoZSBzdG9yZSBpcyBuZXcgdGhlbiBpbmNyZW1lbnQgdGhlIHZlcnNpb24gKGlmIG5lZWRlZCkuXG5cdCAgICAgICAgICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGFuIFwidXBncmFkZW5lZWRlZFwiIGV2ZW50IHdoaWNoIGlzIHJlcXVpcmVkXG5cdCAgICAgICAgICAgIC8vIGZvciBjcmVhdGluZyBhIHN0b3JlLlxuXHQgICAgICAgICAgICBpZiAoaXNOZXdTdG9yZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGluY1ZlcnNpb24gPSBkYkluZm8uZGIudmVyc2lvbiArIDE7XG5cdCAgICAgICAgICAgICAgICBpZiAoaW5jVmVyc2lvbiA+IGRiSW5mby52ZXJzaW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGJJbmZvLnZlcnNpb24gPSBpbmNWZXJzaW9uO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBnZXRJdGVtKGtleSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmdldChrZXkpO1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlcS5yZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoX2lzRW5jb2RlZEJsb2IodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2RlY29kZUJsb2IodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIC8vIEl0ZXJhdGUgb3ZlciBhbGwgaXRlbXMgc3RvcmVkIGluIGRhdGFiYXNlLlxuXHQgICAgZnVuY3Rpb24gaXRlcmF0ZShpdGVyYXRvciwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblxuXHQgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLm9wZW5DdXJzb3IoKTtcblx0ICAgICAgICAgICAgICAgIHZhciBpdGVyYXRpb25OdW1iZXIgPSAxO1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjdXJzb3IudmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaXNFbmNvZGVkQmxvYih2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2RlY29kZUJsb2IodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvcih2YWx1ZSwgY3Vyc29yLmtleSwgaXRlcmF0aW9uTnVtYmVyKyspO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHZvaWQgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yWydjb250aW51ZSddKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblxuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgdmFyIGRiSW5mbztcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9jaGVja0Jsb2JTdXBwb3J0KGRiSW5mby5kYik7XG5cdCAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2JTdXBwb3J0KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWJsb2JTdXBwb3J0ICYmIHZhbHVlIGluc3RhbmNlb2YgQmxvYikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBfZW5jb2RlQmxvYih2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFRoZSByZWFzb24gd2UgZG9uJ3QgX3NhdmVfIG51bGwgaXMgYmVjYXVzZSBJRSAxMCBkb2VzXG5cdCAgICAgICAgICAgICAgICAvLyBub3Qgc3VwcG9ydCBzYXZpbmcgdGhlIGBudWxsYCB0eXBlIGluIEluZGV4ZWREQi4gSG93XG5cdCAgICAgICAgICAgICAgICAvLyBpcm9uaWMsIGdpdmVuIHRoZSBidWcgYmVsb3chXG5cdCAgICAgICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL2lzc3Vlcy8xNjFcblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBDYXN0IHRvIHVuZGVmaW5lZCBzbyB0aGUgdmFsdWUgcGFzc2VkIHRvXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2svcHJvbWlzZSBpcyB0aGUgc2FtZSBhcyB3aGF0IG9uZSB3b3VsZCBnZXQgb3V0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gb2YgYGdldEl0ZW0oKWAgbGF0ZXIuIFRoaXMgbGVhZHMgdG8gc29tZSB3ZWlyZG5lc3Ncblx0ICAgICAgICAgICAgICAgICAgICAvLyAoc2V0SXRlbSgnZm9vJywgdW5kZWZpbmVkKSB3aWxsIHJldHVybiBgbnVsbGApLCBidXRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBteSBmYXVsdCBsb2NhbFN0b3JhZ2UgaXMgb3VyIGJhc2VsaW5lIGFuZCB0aGF0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gaXQncyB3ZWlyZC5cblx0ICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25hYm9ydCA9IHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcS5lcnJvciA/IHJlcS5lcnJvciA6IHJlcS50cmFuc2FjdGlvbi5lcnJvcjtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiByZW1vdmVJdGVtKGtleSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkd3JpdGUnKTtcblx0ICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBXZSB1c2UgYSBHcnVudCB0YXNrIHRvIG1ha2UgdGhpcyBzYWZlIGZvciBJRSBhbmQgc29tZVxuXHQgICAgICAgICAgICAgICAgLy8gdmVyc2lvbnMgb2YgQW5kcm9pZCAoaW5jbHVkaW5nIHRob3NlIHVzZWQgYnkgQ29yZG92YSkuXG5cdCAgICAgICAgICAgICAgICAvLyBOb3JtYWxseSBJRSB3b24ndCBsaWtlIGAuZGVsZXRlKClgIGFuZCB3aWxsIGluc2lzdCBvblxuXHQgICAgICAgICAgICAgICAgLy8gdXNpbmcgYFsnZGVsZXRlJ10oKWAsIGJ1dCB3ZSBoYXZlIGEgYnVpbGQgc3RlcCB0aGF0XG5cdCAgICAgICAgICAgICAgICAvLyBmaXhlcyB0aGlzIGZvciB1cyBub3cuXG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmVbJ2RlbGV0ZSddKGtleSk7XG5cdCAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICAvLyBUaGUgcmVxdWVzdCB3aWxsIGJlIGFsc28gYmUgYWJvcnRlZCBpZiB3ZSd2ZSBleGNlZWRlZCBvdXIgc3RvcmFnZVxuXHQgICAgICAgICAgICAgICAgLy8gc3BhY2UuXG5cdCAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmFib3J0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gY2xlYXIoY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblx0ICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5jbGVhcigpO1xuXG5cdCAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gbGVuZ3RoKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuY291bnQoKTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcS5yZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24ga2V5KG4sIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIGlmIChuIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblxuXHQgICAgICAgICAgICAgICAgdmFyIGFkdmFuY2VkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUub3BlbkN1cnNvcigpO1xuXHQgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnNvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIHRoZXJlIHdlcmVuJ3QgZW5vdWdoIGtleXNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG4gPT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0aGUgZmlyc3Qga2V5LCByZXR1cm4gaXQgaWYgdGhhdCdzIHdoYXQgdGhleVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YW50ZWQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY3Vyc29yLmtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhZHZhbmNlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBhc2sgdGhlIGN1cnNvciB0byBza2lwIGFoZWFkIG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlY29yZHMuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuYWR2YW5jZShuKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgZ2V0IGhlcmUsIHdlJ3ZlIGdvdCB0aGUgbnRoIGtleS5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY3Vyc29yLmtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBrZXlzKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG5cdCAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShrZXlzKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChjdXJzb3Iua2V5KTtcblx0ICAgICAgICAgICAgICAgICAgICBjdXJzb3JbJ2NvbnRpbnVlJ10oKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIGlmIChjYWxsYmFjaykge1xuXHQgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgdmFyIGFzeW5jU3RvcmFnZSA9IHtcblx0ICAgICAgICBfZHJpdmVyOiAnYXN5bmNTdG9yYWdlJyxcblx0ICAgICAgICBfaW5pdFN0b3JhZ2U6IF9pbml0U3RvcmFnZSxcblx0ICAgICAgICBpdGVyYXRlOiBpdGVyYXRlLFxuXHQgICAgICAgIGdldEl0ZW06IGdldEl0ZW0sXG5cdCAgICAgICAgc2V0SXRlbTogc2V0SXRlbSxcblx0ICAgICAgICByZW1vdmVJdGVtOiByZW1vdmVJdGVtLFxuXHQgICAgICAgIGNsZWFyOiBjbGVhcixcblx0ICAgICAgICBsZW5ndGg6IGxlbmd0aCxcblx0ICAgICAgICBrZXk6IGtleSxcblx0ICAgICAgICBrZXlzOiBrZXlzXG5cdCAgICB9O1xuXG5cdCAgICBleHBvcnRzWydkZWZhdWx0J10gPSBhc3luY1N0b3JhZ2U7XG5cdH0pLmNhbGwodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBzZWxmKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBJZiBJbmRleGVkREIgaXNuJ3QgYXZhaWxhYmxlLCB3ZSdsbCBmYWxsIGJhY2sgdG8gbG9jYWxTdG9yYWdlLlxuXHQvLyBOb3RlIHRoYXQgdGhpcyB3aWxsIGhhdmUgY29uc2lkZXJhYmxlIHBlcmZvcm1hbmNlIGFuZCBzdG9yYWdlXG5cdC8vIHNpZGUtZWZmZWN0cyAoYWxsIGRhdGEgd2lsbCBiZSBzZXJpYWxpemVkIG9uIHNhdmUgYW5kIG9ubHkgZGF0YSB0aGF0XG5cdC8vIGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcgdmlhIGBKU09OLnN0cmluZ2lmeSgpYCB3aWxsIGJlIHNhdmVkKS5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAndXNlIHN0cmljdCc7XG5cblx0ICAgIHZhciBnbG9iYWxPYmplY3QgPSB0aGlzO1xuXHQgICAgdmFyIGxvY2FsU3RvcmFnZSA9IG51bGw7XG5cblx0ICAgIC8vIElmIHRoZSBhcHAgaXMgcnVubmluZyBpbnNpZGUgYSBHb29nbGUgQ2hyb21lIHBhY2thZ2VkIHdlYmFwcCwgb3Igc29tZVxuXHQgICAgLy8gb3RoZXIgY29udGV4dCB3aGVyZSBsb2NhbFN0b3JhZ2UgaXNuJ3QgYXZhaWxhYmxlLCB3ZSBkb24ndCB1c2Vcblx0ICAgIC8vIGxvY2FsU3RvcmFnZS4gVGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpcyBwcmVmZXJyZWQgb3ZlciB0aGUgb2xkXG5cdCAgICAvLyBgaWYgKHdpbmRvdy5jaHJvbWUgJiYgd2luZG93LmNocm9tZS5ydW50aW1lKWAgY29kZS5cblx0ICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvaXNzdWVzLzY4XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIElmIGxvY2FsU3RvcmFnZSBpc24ndCBhdmFpbGFibGUsIHdlIGdldCBvdXR0YSBoZXJlIVxuXHQgICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIGluc2lkZSBhIHRyeSBjYXRjaFxuXHQgICAgICAgIGlmICghdGhpcy5sb2NhbFN0b3JhZ2UgfHwgISgnc2V0SXRlbScgaW4gdGhpcy5sb2NhbFN0b3JhZ2UpKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gSW5pdGlhbGl6ZSBsb2NhbFN0b3JhZ2UgYW5kIGNyZWF0ZSBhIHZhcmlhYmxlIHRvIHVzZSB0aHJvdWdob3V0XG5cdCAgICAgICAgLy8gdGhlIGNvZGUuXG5cdCAgICAgICAgbG9jYWxTdG9yYWdlID0gdGhpcy5sb2NhbFN0b3JhZ2U7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICAvLyBDb25maWcgdGhlIGxvY2FsU3RvcmFnZSBiYWNrZW5kLCB1c2luZyBvcHRpb25zIHNldCBpbiB0aGUgY29uZmlnLlxuXHQgICAgZnVuY3Rpb24gX2luaXRTdG9yYWdlKG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIGRiSW5mbyA9IHt9O1xuXHQgICAgICAgIGlmIChvcHRpb25zKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGRiSW5mby5rZXlQcmVmaXggPSBkYkluZm8ubmFtZSArICcvJztcblxuXHQgICAgICAgIGlmIChkYkluZm8uc3RvcmVOYW1lICE9PSBzZWxmLl9kZWZhdWx0Q29uZmlnLnN0b3JlTmFtZSkge1xuXHQgICAgICAgICAgICBkYkluZm8ua2V5UHJlZml4ICs9IGRiSW5mby5zdG9yZU5hbWUgKyAnLyc7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgc2VsZi5fZGJJbmZvID0gZGJJbmZvO1xuXG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgcmVzb2x2ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsaWIpIHtcblx0ICAgICAgICAgICAgZGJJbmZvLnNlcmlhbGl6ZXIgPSBsaWI7XG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgLy8gUmVtb3ZlIGFsbCBrZXlzIGZyb20gdGhlIGRhdGFzdG9yZSwgZWZmZWN0aXZlbHkgZGVzdHJveWluZyBhbGwgZGF0YSBpblxuXHQgICAgLy8gdGhlIGFwcCdzIGtleS92YWx1ZSBzdG9yZSFcblx0ICAgIGZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIga2V5UHJlZml4ID0gc2VsZi5fZGJJbmZvLmtleVByZWZpeDtcblxuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gbG9jYWxTdG9yYWdlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBSZXRyaWV2ZSBhbiBpdGVtIGZyb20gdGhlIHN0b3JlLiBVbmxpa2UgdGhlIG9yaWdpbmFsIGFzeW5jX3N0b3JhZ2Vcblx0ICAgIC8vIGxpYnJhcnkgaW4gR2FpYSwgd2UgZG9uJ3QgbW9kaWZ5IHJldHVybiB2YWx1ZXMgYXQgYWxsLiBJZiBhIGtleSdzIHZhbHVlXG5cdCAgICAvLyBpcyBgdW5kZWZpbmVkYCwgd2UgcGFzcyB0aGF0IHZhbHVlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICAgIGZ1bmN0aW9uIGdldEl0ZW0oa2V5LCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShkYkluZm8ua2V5UHJlZml4ICsga2V5KTtcblxuXHQgICAgICAgICAgICAvLyBJZiBhIHJlc3VsdCB3YXMgZm91bmQsIHBhcnNlIGl0IGZyb20gdGhlIHNlcmlhbGl6ZWRcblx0ICAgICAgICAgICAgLy8gc3RyaW5nIGludG8gYSBKUyBvYmplY3QuIElmIHJlc3VsdCBpc24ndCB0cnV0aHksIHRoZSBrZXlcblx0ICAgICAgICAgICAgLy8gaXMgbGlrZWx5IHVuZGVmaW5lZCBhbmQgd2UnbGwgcGFzcyBpdCBzdHJhaWdodCB0byB0aGVcblx0ICAgICAgICAgICAgLy8gY2FsbGJhY2suXG5cdCAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRiSW5mby5zZXJpYWxpemVyLmRlc2VyaWFsaXplKHJlc3VsdCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gSXRlcmF0ZSBvdmVyIGFsbCBpdGVtcyBpbiB0aGUgc3RvcmUuXG5cdCAgICBmdW5jdGlvbiBpdGVyYXRlKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICB2YXIga2V5UHJlZml4ID0gZGJJbmZvLmtleVByZWZpeDtcblx0ICAgICAgICAgICAgdmFyIGtleVByZWZpeExlbmd0aCA9IGtleVByZWZpeC5sZW5ndGg7XG5cdCAgICAgICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgIC8vIFdlIHVzZSBhIGRlZGljYXRlZCBpdGVyYXRvciBpbnN0ZWFkIG9mIHRoZSBgaWAgdmFyaWFibGUgYmVsb3dcblx0ICAgICAgICAgICAgLy8gc28gb3RoZXIga2V5cyB3ZSBmZXRjaCBpbiBsb2NhbFN0b3JhZ2UgYXJlbid0IGNvdW50ZWQgaW5cblx0ICAgICAgICAgICAgLy8gdGhlIGBpdGVyYXRpb25OdW1iZXJgIGFyZ3VtZW50IHBhc3NlZCB0byB0aGUgYGl0ZXJhdGUoKWBcblx0ICAgICAgICAgICAgLy8gY2FsbGJhY2suXG5cdCAgICAgICAgICAgIC8vXG5cdCAgICAgICAgICAgIC8vIFNlZTogZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL3B1bGwvNDM1I2Rpc2N1c3Npb25fcjM4MDYxNTMwXG5cdCAgICAgICAgICAgIHZhciBpdGVyYXRpb25OdW1iZXIgPSAxO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgIT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIElmIGEgcmVzdWx0IHdhcyBmb3VuZCwgcGFyc2UgaXQgZnJvbSB0aGUgc2VyaWFsaXplZFxuXHQgICAgICAgICAgICAgICAgLy8gc3RyaW5nIGludG8gYSBKUyBvYmplY3QuIElmIHJlc3VsdCBpc24ndCB0cnV0aHksIHRoZVxuXHQgICAgICAgICAgICAgICAgLy8ga2V5IGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHRcblx0ICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBpdGVyYXRvci5cblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICB2YWx1ZSA9IGl0ZXJhdG9yKHZhbHVlLCBrZXkuc3Vic3RyaW5nKGtleVByZWZpeExlbmd0aCksIGl0ZXJhdGlvbk51bWJlcisrKTtcblxuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIC8vIFNhbWUgYXMgbG9jYWxTdG9yYWdlJ3Mga2V5KCkgbWV0aG9kLCBleGNlcHQgdGFrZXMgYSBjYWxsYmFjay5cblx0ICAgIGZ1bmN0aW9uIGtleShuLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdDtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IGxvY2FsU3RvcmFnZS5rZXkobik7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSBudWxsO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBwcmVmaXggZnJvbSB0aGUga2V5LCBpZiBhIGtleSBpcyBmb3VuZC5cblx0ICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cmluZyhkYkluZm8ua2V5UHJlZml4Lmxlbmd0aCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGxvY2FsU3RvcmFnZS5sZW5ndGg7XG5cdCAgICAgICAgICAgIHZhciBrZXlzID0gW107XG5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5rZXkoaSkuaW5kZXhPZihkYkluZm8ua2V5UHJlZml4KSA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChsb2NhbFN0b3JhZ2Uua2V5KGkpLnN1YnN0cmluZyhkYkluZm8ua2V5UHJlZml4Lmxlbmd0aCkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGtleXM7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBTdXBwbHkgdGhlIG51bWJlciBvZiBrZXlzIGluIHRoZSBkYXRhc3RvcmUgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgICAgZnVuY3Rpb24gbGVuZ3RoKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5rZXlzKCkudGhlbihmdW5jdGlvbiAoa2V5cykge1xuXHQgICAgICAgICAgICByZXR1cm4ga2V5cy5sZW5ndGg7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBSZW1vdmUgYW4gaXRlbSBmcm9tIHRoZSBzdG9yZSwgbmljZSBhbmQgc2ltcGxlLlxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZGJJbmZvLmtleVByZWZpeCArIGtleSk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBTZXQgYSBrZXkncyB2YWx1ZSBhbmQgcnVuIGFuIG9wdGlvbmFsIGNhbGxiYWNrIG9uY2UgdGhlIHZhbHVlIGlzIHNldC5cblx0ICAgIC8vIFVubGlrZSBHYWlhJ3MgaW1wbGVtZW50YXRpb24sIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwYXNzZWQgdGhlIHZhbHVlLFxuXHQgICAgLy8gaW4gY2FzZSB5b3Ugd2FudCB0byBvcGVyYXRlIG9uIHRoYXQgdmFsdWUgb25seSBhZnRlciB5b3UncmUgc3VyZSBpdFxuXHQgICAgLy8gc2F2ZWQsIG9yIHNvbWV0aGluZyBsaWtlIHRoYXQuXG5cdCAgICBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuXHQgICAgICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gQ29udmVydCB1bmRlZmluZWQgdmFsdWVzIHRvIG51bGwuXG5cdCAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL3B1bGwvNDJcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFNhdmUgdGhlIG9yaWdpbmFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrLlxuXHQgICAgICAgICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHZhbHVlO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLCBmdW5jdGlvbiAodmFsdWUsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGRiSW5mby5rZXlQcmVmaXggKyBrZXksIHZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3JpZ2luYWxWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvY2FsU3RvcmFnZSBjYXBhY2l0eSBleGNlZWRlZC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBhIHNwZWNpZmljIGVycm9yL2V2ZW50LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ1F1b3RhRXhjZWVkZWRFcnJvcicgfHwgZS5uYW1lID09PSAnTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRUQnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuXHQgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICB2YXIgbG9jYWxTdG9yYWdlV3JhcHBlciA9IHtcblx0ICAgICAgICBfZHJpdmVyOiAnbG9jYWxTdG9yYWdlV3JhcHBlcicsXG5cdCAgICAgICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UsXG5cdCAgICAgICAgLy8gRGVmYXVsdCBBUEksIGZyb20gR2FpYS9sb2NhbFN0b3JhZ2UuXG5cdCAgICAgICAgaXRlcmF0ZTogaXRlcmF0ZSxcblx0ICAgICAgICBnZXRJdGVtOiBnZXRJdGVtLFxuXHQgICAgICAgIHNldEl0ZW06IHNldEl0ZW0sXG5cdCAgICAgICAgcmVtb3ZlSXRlbTogcmVtb3ZlSXRlbSxcblx0ICAgICAgICBjbGVhcjogY2xlYXIsXG5cdCAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG5cdCAgICAgICAga2V5OiBrZXksXG5cdCAgICAgICAga2V5czoga2V5c1xuXHQgICAgfTtcblxuXHQgICAgZXhwb3J0c1snZGVmYXVsdCddID0gbG9jYWxTdG9yYWdlV3JhcHBlcjtcblx0fSkuY2FsbCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHNlbGYpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHQoZnVuY3Rpb24gKCkge1xuXHQgICAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgICAvLyBTYWRseSwgdGhlIGJlc3Qgd2F5IHRvIHNhdmUgYmluYXJ5IGRhdGEgaW4gV2ViU1FML2xvY2FsU3RvcmFnZSBpcyBzZXJpYWxpemluZ1xuXHQgICAgLy8gaXQgdG8gQmFzZTY0LCBzbyB0aGlzIGlzIGhvdyB3ZSBzdG9yZSBpdCB0byBwcmV2ZW50IHZlcnkgc3RyYW5nZSBlcnJvcnMgd2l0aCBsZXNzXG5cdCAgICAvLyB2ZXJib3NlIHdheXMgb2YgYmluYXJ5IDwtPiBzdHJpbmcgZGF0YSBzdG9yYWdlLlxuXHQgICAgdmFyIEJBU0VfQ0hBUlMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cblx0ICAgIHZhciBCTE9CX1RZUEVfUFJFRklYID0gJ35+bG9jYWxfZm9yYWdlX3R5cGV+Jztcblx0ICAgIHZhciBCTE9CX1RZUEVfUFJFRklYX1JFR0VYID0gL15+fmxvY2FsX2ZvcmFnZV90eXBlfihbXn5dKyl+LztcblxuXHQgICAgdmFyIFNFUklBTElaRURfTUFSS0VSID0gJ19fbGZzY19fOic7XG5cdCAgICB2YXIgU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIID0gU0VSSUFMSVpFRF9NQVJLRVIubGVuZ3RoO1xuXG5cdCAgICAvLyBPTUcgdGhlIHNlcmlhbGl6YXRpb25zIVxuXHQgICAgdmFyIFRZUEVfQVJSQVlCVUZGRVIgPSAnYXJiZic7XG5cdCAgICB2YXIgVFlQRV9CTE9CID0gJ2Jsb2InO1xuXHQgICAgdmFyIFRZUEVfSU5UOEFSUkFZID0gJ3NpMDgnO1xuXHQgICAgdmFyIFRZUEVfVUlOVDhBUlJBWSA9ICd1aTA4Jztcblx0ICAgIHZhciBUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZID0gJ3VpYzgnO1xuXHQgICAgdmFyIFRZUEVfSU5UMTZBUlJBWSA9ICdzaTE2Jztcblx0ICAgIHZhciBUWVBFX0lOVDMyQVJSQVkgPSAnc2kzMic7XG5cdCAgICB2YXIgVFlQRV9VSU5UMTZBUlJBWSA9ICd1cjE2Jztcblx0ICAgIHZhciBUWVBFX1VJTlQzMkFSUkFZID0gJ3VpMzInO1xuXHQgICAgdmFyIFRZUEVfRkxPQVQzMkFSUkFZID0gJ2ZsMzInO1xuXHQgICAgdmFyIFRZUEVfRkxPQVQ2NEFSUkFZID0gJ2ZsNjQnO1xuXHQgICAgdmFyIFRZUEVfU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIID0gU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIICsgVFlQRV9BUlJBWUJVRkZFUi5sZW5ndGg7XG5cblx0ICAgIC8vIEdldCBvdXQgb2Ygb3VyIGhhYml0IG9mIHVzaW5nIGB3aW5kb3dgIGlubGluZSwgYXQgbGVhc3QuXG5cdCAgICB2YXIgZ2xvYmFsT2JqZWN0ID0gdGhpcztcblxuXHQgICAgLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG5cdCAgICAvLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yLiAoaS5lLlxuXHQgICAgLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBhdCBsZWFzdCkuXG5cdCAgICBmdW5jdGlvbiBfY3JlYXRlQmxvYihwYXJ0cywgcHJvcGVydGllcykge1xuXHQgICAgICAgIHBhcnRzID0gcGFydHMgfHwgW107XG5cdCAgICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IEJsb2IocGFydHMsIHByb3BlcnRpZXMpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICBpZiAoZXJyLm5hbWUgIT09ICdUeXBlRXJyb3InKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgQmxvYkJ1aWxkZXIgPSBnbG9iYWxPYmplY3QuQmxvYkJ1aWxkZXIgfHwgZ2xvYmFsT2JqZWN0Lk1TQmxvYkJ1aWxkZXIgfHwgZ2xvYmFsT2JqZWN0Lk1vekJsb2JCdWlsZGVyIHx8IGdsb2JhbE9iamVjdC5XZWJLaXRCbG9iQnVpbGRlcjtcblxuXHQgICAgICAgICAgICB2YXIgYnVpbGRlciA9IG5ldyBCbG9iQnVpbGRlcigpO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG5cdCAgICAgICAgICAgICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHByb3BlcnRpZXMudHlwZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICAvLyBTZXJpYWxpemUgYSB2YWx1ZSwgYWZ0ZXJ3YXJkcyBleGVjdXRpbmcgYSBjYWxsYmFjayAod2hpY2ggdXN1YWxseVxuXHQgICAgLy8gaW5zdHJ1Y3RzIHRoZSBgc2V0SXRlbSgpYCBjYWxsYmFjay9wcm9taXNlIHRvIGJlIGV4ZWN1dGVkKS4gVGhpcyBpcyBob3dcblx0ICAgIC8vIHdlIHN0b3JlIGJpbmFyeSBkYXRhIHdpdGggbG9jYWxTdG9yYWdlLlxuXHQgICAgZnVuY3Rpb24gc2VyaWFsaXplKHZhbHVlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciB2YWx1ZVN0cmluZyA9ICcnO1xuXHQgICAgICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICAgICAgICB2YWx1ZVN0cmluZyA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gQ2Fubm90IHVzZSBgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcmAgb3Igc3VjaCBoZXJlLCBhcyB0aGVzZVxuXHQgICAgICAgIC8vIGNoZWNrcyBmYWlsIHdoZW4gcnVubmluZyB0aGUgdGVzdHMgdXNpbmcgY2FzcGVyLmpzLi4uXG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyBUT0RPOiBTZWUgd2h5IHRob3NlIHRlc3RzIGZhaWwgYW5kIHVzZSBhIGJldHRlciBzb2x1dGlvbi5cblx0ICAgICAgICBpZiAodmFsdWUgJiYgKHZhbHVlLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScgfHwgdmFsdWUuYnVmZmVyICYmIHZhbHVlLmJ1ZmZlci50b1N0cmluZygpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSkge1xuXHQgICAgICAgICAgICAvLyBDb252ZXJ0IGJpbmFyeSBhcnJheXMgdG8gYSBzdHJpbmcgYW5kIHByZWZpeCB0aGUgc3RyaW5nIHdpdGhcblx0ICAgICAgICAgICAgLy8gYSBzcGVjaWFsIG1hcmtlci5cblx0ICAgICAgICAgICAgdmFyIGJ1ZmZlcjtcblx0ICAgICAgICAgICAgdmFyIG1hcmtlciA9IFNFUklBTElaRURfTUFSS0VSO1xuXG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG5cdCAgICAgICAgICAgICAgICBidWZmZXIgPSB2YWx1ZTtcblx0ICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0FSUkFZQlVGRkVSO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgYnVmZmVyID0gdmFsdWUuYnVmZmVyO1xuXG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEludDhBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfSU5UOEFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgVWludDhBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDhBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UOENMQU1QRURBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVTdHJpbmcgPT09ICdbb2JqZWN0IEludDE2QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0lOVDE2QVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBVaW50MTZBcnJheV0nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfVUlOVDE2QVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBJbnQzMkFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9JTlQzMkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgVWludDMyQXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQzMkFSUkFZO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScpIHtcblx0ICAgICAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9GTE9BVDMyQVJSQVk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlU3RyaW5nID09PSAnW29iamVjdCBGbG9hdDY0QXJyYXldJykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0ZMT0FUNjRBUlJBWTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IHR5cGUgZm9yIEJpbmFyeUFycmF5JykpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgY2FsbGJhY2sobWFya2VyICsgYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVN0cmluZyA9PT0gJ1tvYmplY3QgQmxvYl0nKSB7XG5cdCAgICAgICAgICAgIC8vIENvbnZlciB0aGUgYmxvYiB0byBhIGJpbmFyeUFycmF5IGFuZCB0aGVuIHRvIGEgc3RyaW5nLlxuXHQgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cblx0ICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBCYWNrd2FyZHMtY29tcGF0aWJsZSBwcmVmaXggZm9yIHRoZSBibG9iIHR5cGUuXG5cdCAgICAgICAgICAgICAgICB2YXIgc3RyID0gQkxPQl9UWVBFX1BSRUZJWCArIHZhbHVlLnR5cGUgKyAnficgKyBidWZmZXJUb1N0cmluZyh0aGlzLnJlc3VsdCk7XG5cblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKFNFUklBTElaRURfTUFSS0VSICsgVFlQRV9CTE9CICsgc3RyKTtcblx0ICAgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHZhbHVlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcblx0ICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkbid0IGNvbnZlcnQgdmFsdWUgaW50byBhIEpTT04gc3RyaW5nOiBcIiwgdmFsdWUpO1xuXG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gRGVzZXJpYWxpemUgZGF0YSB3ZSd2ZSBpbnNlcnRlZCBpbnRvIGEgdmFsdWUgY29sdW1uL2ZpZWxkLiBXZSBwbGFjZVxuXHQgICAgLy8gc3BlY2lhbCBtYXJrZXJzIGludG8gb3VyIHN0cmluZ3MgdG8gbWFyayB0aGVtIGFzIGVuY29kZWQ7IHRoaXMgaXNuJ3Rcblx0ICAgIC8vIGFzIG5pY2UgYXMgYSBtZXRhIGZpZWxkLCBidXQgaXQncyB0aGUgb25seSBzYW5lIHRoaW5nIHdlIGNhbiBkbyB3aGlsc3Rcblx0ICAgIC8vIGtlZXBpbmcgbG9jYWxTdG9yYWdlIHN1cHBvcnQgaW50YWN0LlxuXHQgICAgLy9cblx0ICAgIC8vIE9mdGVudGltZXMgdGhpcyB3aWxsIGp1c3QgZGVzZXJpYWxpemUgSlNPTiBjb250ZW50LCBidXQgaWYgd2UgaGF2ZSBhXG5cdCAgICAvLyBzcGVjaWFsIG1hcmtlciAoU0VSSUFMSVpFRF9NQVJLRVIsIGRlZmluZWQgYWJvdmUpLCB3ZSB3aWxsIGV4dHJhY3Rcblx0ICAgIC8vIHNvbWUga2luZCBvZiBhcnJheWJ1ZmZlci9iaW5hcnkgZGF0YS90eXBlZCBhcnJheSBvdXQgb2YgdGhlIHN0cmluZy5cblx0ICAgIGZ1bmN0aW9uIGRlc2VyaWFsaXplKHZhbHVlKSB7XG5cdCAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCBtYXJrZWQgdGhpcyBzdHJpbmcgYXMgYmVpbmcgc3BlY2lhbGx5IHNlcmlhbGl6ZWQgKGkuZS5cblx0ICAgICAgICAvLyBzb21ldGhpbmcgb3RoZXIgdGhhbiBzZXJpYWxpemVkIEpTT04pLCB3ZSBjYW4ganVzdCByZXR1cm4gaXQgYW5kIGJlXG5cdCAgICAgICAgLy8gZG9uZSB3aXRoIGl0LlxuXHQgICAgICAgIGlmICh2YWx1ZS5zdWJzdHJpbmcoMCwgU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIKSAhPT0gU0VSSUFMSVpFRF9NQVJLRVIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBkZWFscyB3aXRoIGRlc2VyaWFsaXppbmcgc29tZSBraW5kIG9mIEJsb2Igb3Jcblx0ICAgICAgICAvLyBUeXBlZEFycmF5LiBGaXJzdCB3ZSBzZXBhcmF0ZSBvdXQgdGhlIHR5cGUgb2YgZGF0YSB3ZSdyZSBkZWFsaW5nXG5cdCAgICAgICAgLy8gd2l0aCBmcm9tIHRoZSBkYXRhIGl0c2VsZi5cblx0ICAgICAgICB2YXIgc2VyaWFsaXplZFN0cmluZyA9IHZhbHVlLnN1YnN0cmluZyhUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCk7XG5cdCAgICAgICAgdmFyIHR5cGUgPSB2YWx1ZS5zdWJzdHJpbmcoU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RILCBUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCk7XG5cblx0ICAgICAgICB2YXIgYmxvYlR5cGU7XG5cdCAgICAgICAgLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgYmxvYiB0eXBlIHNlcmlhbGl6YXRpb24gc3RyYXRlZ3kuXG5cdCAgICAgICAgLy8gREJzIGNyZWF0ZWQgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBsb2NhbEZvcmFnZSB3aWxsIHNpbXBseSBub3QgaGF2ZSB0aGUgYmxvYiB0eXBlLlxuXHQgICAgICAgIGlmICh0eXBlID09PSBUWVBFX0JMT0IgJiYgQkxPQl9UWVBFX1BSRUZJWF9SRUdFWC50ZXN0KHNlcmlhbGl6ZWRTdHJpbmcpKSB7XG5cdCAgICAgICAgICAgIHZhciBtYXRjaGVyID0gc2VyaWFsaXplZFN0cmluZy5tYXRjaChCTE9CX1RZUEVfUFJFRklYX1JFR0VYKTtcblx0ICAgICAgICAgICAgYmxvYlR5cGUgPSBtYXRjaGVyWzFdO1xuXHQgICAgICAgICAgICBzZXJpYWxpemVkU3RyaW5nID0gc2VyaWFsaXplZFN0cmluZy5zdWJzdHJpbmcobWF0Y2hlclswXS5sZW5ndGgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgYnVmZmVyID0gc3RyaW5nVG9CdWZmZXIoc2VyaWFsaXplZFN0cmluZyk7XG5cblx0ICAgICAgICAvLyBSZXR1cm4gdGhlIHJpZ2h0IHR5cGUgYmFzZWQgb24gdGhlIGNvZGUvdHlwZSBzZXQgZHVyaW5nXG5cdCAgICAgICAgLy8gc2VyaWFsaXphdGlvbi5cblx0ICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX0FSUkFZQlVGRkVSOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX0JMT0I6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX2NyZWF0ZUJsb2IoW2J1ZmZlcl0sIHsgdHlwZTogYmxvYlR5cGUgfSk7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9JTlQ4QVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludDhBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfVUlOVDhBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfVUlOVDhDTEFNUEVEQVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9JTlQxNkFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQxNkFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGNhc2UgVFlQRV9VSU5UMTZBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX0lOVDMyQVJSQVk6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX1VJTlQzMkFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xuXHQgICAgICAgICAgICBjYXNlIFRZUEVfRkxPQVQzMkFSUkFZOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcblx0ICAgICAgICAgICAgY2FzZSBUWVBFX0ZMT0FUNjRBUlJBWTpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQ2NEFycmF5KGJ1ZmZlcik7XG5cdCAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua293biB0eXBlOiAnICsgdHlwZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBzdHJpbmdUb0J1ZmZlcihzZXJpYWxpemVkU3RyaW5nKSB7XG5cdCAgICAgICAgLy8gRmlsbCB0aGUgc3RyaW5nIGludG8gYSBBcnJheUJ1ZmZlci5cblx0ICAgICAgICB2YXIgYnVmZmVyTGVuZ3RoID0gc2VyaWFsaXplZFN0cmluZy5sZW5ndGggKiAwLjc1O1xuXHQgICAgICAgIHZhciBsZW4gPSBzZXJpYWxpemVkU3RyaW5nLmxlbmd0aDtcblx0ICAgICAgICB2YXIgaTtcblx0ICAgICAgICB2YXIgcCA9IDA7XG5cdCAgICAgICAgdmFyIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xuXG5cdCAgICAgICAgaWYgKHNlcmlhbGl6ZWRTdHJpbmdbc2VyaWFsaXplZFN0cmluZy5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuXHQgICAgICAgICAgICBpZiAoc2VyaWFsaXplZFN0cmluZ1tzZXJpYWxpemVkU3RyaW5nLmxlbmd0aCAtIDJdID09PSAnPScpIHtcblx0ICAgICAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpO1xuXHQgICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcblx0ICAgICAgICAgICAgZW5jb2RlZDEgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpXSk7XG5cdCAgICAgICAgICAgIGVuY29kZWQyID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaSArIDFdKTtcblx0ICAgICAgICAgICAgZW5jb2RlZDMgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpICsgMl0pO1xuXHQgICAgICAgICAgICBlbmNvZGVkNCA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2kgKyAzXSk7XG5cblx0ICAgICAgICAgICAgLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuXHQgICAgICAgICAgICBieXRlc1twKytdID0gZW5jb2RlZDEgPDwgMiB8IGVuY29kZWQyID4+IDQ7XG5cdCAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDIgJiAxNSkgPDwgNCB8IGVuY29kZWQzID4+IDI7XG5cdCAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDMgJiAzKSA8PCA2IHwgZW5jb2RlZDQgJiA2Mztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcblx0ICAgIH1cblxuXHQgICAgLy8gQ29udmVydHMgYSBidWZmZXIgdG8gYSBzdHJpbmcgdG8gc3RvcmUsIHNlcmlhbGl6ZWQsIGluIHRoZSBiYWNrZW5kXG5cdCAgICAvLyBzdG9yYWdlIGxpYnJhcnkuXG5cdCAgICBmdW5jdGlvbiBidWZmZXJUb1N0cmluZyhidWZmZXIpIHtcblx0ICAgICAgICAvLyBiYXNlNjQtYXJyYXlidWZmZXJcblx0ICAgICAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuXHQgICAgICAgIHZhciBiYXNlNjRTdHJpbmcgPSAnJztcblx0ICAgICAgICB2YXIgaTtcblxuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMykge1xuXHQgICAgICAgICAgICAvKmpzbGludCBiaXR3aXNlOiB0cnVlICovXG5cdCAgICAgICAgICAgIGJhc2U2NFN0cmluZyArPSBCQVNFX0NIQVJTW2J5dGVzW2ldID4+IDJdO1xuXHQgICAgICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1soYnl0ZXNbaV0gJiAzKSA8PCA0IHwgYnl0ZXNbaSArIDFdID4+IDRdO1xuXHQgICAgICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1soYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpICsgMl0gPj4gNl07XG5cdCAgICAgICAgICAgIGJhc2U2NFN0cmluZyArPSBCQVNFX0NIQVJTW2J5dGVzW2kgKyAyXSAmIDYzXTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAoYnl0ZXMubGVuZ3RoICUgMyA9PT0gMikge1xuXHQgICAgICAgICAgICBiYXNlNjRTdHJpbmcgPSBiYXNlNjRTdHJpbmcuc3Vic3RyaW5nKDAsIGJhc2U2NFN0cmluZy5sZW5ndGggLSAxKSArICc9Jztcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ5dGVzLmxlbmd0aCAlIDMgPT09IDEpIHtcblx0ICAgICAgICAgICAgYmFzZTY0U3RyaW5nID0gYmFzZTY0U3RyaW5nLnN1YnN0cmluZygwLCBiYXNlNjRTdHJpbmcubGVuZ3RoIC0gMikgKyAnPT0nO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBiYXNlNjRTdHJpbmc7XG5cdCAgICB9XG5cblx0ICAgIHZhciBsb2NhbGZvcmFnZVNlcmlhbGl6ZXIgPSB7XG5cdCAgICAgICAgc2VyaWFsaXplOiBzZXJpYWxpemUsXG5cdCAgICAgICAgZGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuXHQgICAgICAgIHN0cmluZ1RvQnVmZmVyOiBzdHJpbmdUb0J1ZmZlcixcblx0ICAgICAgICBidWZmZXJUb1N0cmluZzogYnVmZmVyVG9TdHJpbmdcblx0ICAgIH07XG5cblx0ICAgIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGxvY2FsZm9yYWdlU2VyaWFsaXplcjtcblx0fSkuY2FsbCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHNlbGYpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXG5cdCAqIEluY2x1ZGVzIGNvZGUgZnJvbTpcblx0ICpcblx0ICogYmFzZTY0LWFycmF5YnVmZmVyXG5cdCAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXJcblx0ICpcblx0ICogQ29weXJpZ2h0IChjKSAyMDEyIE5pa2xhcyB2b24gSGVydHplblxuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0KGZ1bmN0aW9uICgpIHtcblx0ICAgICd1c2Ugc3RyaWN0JztcblxuXHQgICAgdmFyIGdsb2JhbE9iamVjdCA9IHRoaXM7XG5cdCAgICB2YXIgb3BlbkRhdGFiYXNlID0gdGhpcy5vcGVuRGF0YWJhc2U7XG5cblx0ICAgIC8vIElmIFdlYlNRTCBtZXRob2RzIGFyZW4ndCBhdmFpbGFibGUsIHdlIGNhbiBzdG9wIG5vdy5cblx0ICAgIGlmICghb3BlbkRhdGFiYXNlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICAvLyBPcGVuIHRoZSBXZWJTUUwgZGF0YWJhc2UgKGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBvbmUgaWYgb25lIGRpZG4ndFxuXHQgICAgLy8gcHJldmlvdXNseSBleGlzdCksIHVzaW5nIGFueSBvcHRpb25zIHNldCBpbiB0aGUgY29uZmlnLlxuXHQgICAgZnVuY3Rpb24gX2luaXRTdG9yYWdlKG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIGRiSW5mbyA9IHtcblx0ICAgICAgICAgICAgZGI6IG51bGxcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgaWYgKG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG5cdCAgICAgICAgICAgICAgICBkYkluZm9baV0gPSB0eXBlb2Ygb3B0aW9uc1tpXSAhPT0gJ3N0cmluZycgPyBvcHRpb25zW2ldLnRvU3RyaW5nKCkgOiBvcHRpb25zW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGRiSW5mb1Byb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIC8vIE9wZW4gdGhlIGRhdGFiYXNlOyB0aGUgb3BlbkRhdGFiYXNlIEFQSSB3aWxsIGF1dG9tYXRpY2FsbHlcblx0ICAgICAgICAgICAgLy8gY3JlYXRlIGl0IGZvciB1cyBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiID0gb3BlbkRhdGFiYXNlKGRiSW5mby5uYW1lLCBTdHJpbmcoZGJJbmZvLnZlcnNpb24pLCBkYkluZm8uZGVzY3JpcHRpb24sIGRiSW5mby5zaXplKTtcblx0ICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc2V0RHJpdmVyKHNlbGYuTE9DQUxTVE9SQUdFKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5faW5pdFN0b3JhZ2Uob3B0aW9ucyk7XG5cdCAgICAgICAgICAgICAgICB9KS50aGVuKHJlc29sdmUpWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDcmVhdGUgb3VyIGtleS92YWx1ZSB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuXHQgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIChpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLCBrZXkgdW5pcXVlLCB2YWx1ZSknLCBbXSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgcmVzb2x2ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsaWIpIHtcblx0ICAgICAgICAgICAgZGJJbmZvLnNlcmlhbGl6ZXIgPSBsaWI7XG5cdCAgICAgICAgICAgIHJldHVybiBkYkluZm9Qcm9taXNlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBnZXRJdGVtKGtleSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgKiBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyBXSEVSRSBrZXkgPSA/IExJTUlUIDEnLCBba2V5XSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5sZW5ndGggPyByZXN1bHRzLnJvd3MuaXRlbSgwKS52YWx1ZSA6IG51bGw7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgc2VyaWFsaXplZCBjb250ZW50IHdlIG5lZWQgdG9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5wYWNrLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGl0ZXJhdGUoaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUICogRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gcmVzdWx0cy5yb3dzO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gcm93cy5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByb3dzLml0ZW0oaSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlbS52YWx1ZTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgc2VyaWFsaXplZCBjb250ZW50XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHVucGFjay5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvcihyZXN1bHQsIGl0ZW0ua2V5LCBpICsgMSk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZvaWQoMCkgcHJldmVudHMgcHJvYmxlbXMgd2l0aCByZWRlZmluaXRpb25cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIGB1bmRlZmluZWRgLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdm9pZCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuXHQgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcblx0ICAgICAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFRoZSBsb2NhbFN0b3JhZ2UgQVBJIGRvZXNuJ3QgcmV0dXJuIHVuZGVmaW5lZCB2YWx1ZXMgaW4gYW5cblx0ICAgICAgICAgICAgICAgIC8vIFwiZXhwZWN0ZWRcIiB3YXksIHNvIHVuZGVmaW5lZCBpcyBhbHdheXMgY2FzdCB0byBudWxsIGluIGFsbFxuXHQgICAgICAgICAgICAgICAgLy8gZHJpdmVycy4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9wdWxsLzQyXG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgb3JpZ2luYWwgdmFsdWUgdG8gcGFzcyB0byB0aGUgY2FsbGJhY2suXG5cdCAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHZhbHVlO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLCBmdW5jdGlvbiAodmFsdWUsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ0lOU0VSVCBPUiBSRVBMQUNFIElOVE8gJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnIChrZXksIHZhbHVlKSBWQUxVRVMgKD8sID8pJywgW2tleSwgdmFsdWVdLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvcmlnaW5hbFZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHNxbEVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdHJhbnNhY3Rpb24gZmFpbGVkOyBjaGVja1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gc2VlIGlmIGl0J3MgYSBxdW90YSBlcnJvci5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxFcnJvci5jb2RlID09PSBzcWxFcnJvci5RVU9UQV9FUlIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSByZWplY3QgdGhlIGNhbGxiYWNrIG91dHJpZ2h0IGZvciBub3csIGJ1dFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3Mgd29ydGggdHJ5aW5nIHRvIHJlLXJ1biB0aGUgdHJhbnNhY3Rpb24uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbiBpZiB0aGUgdXNlciBhY2NlcHRzIHRoZSBwcm9tcHQgdG8gdXNlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW9yZSBzdG9yYWdlIG9uIFNhZmFyaSwgdGhpcyBlcnJvciB3aWxsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmUgY2FsbGVkLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVHJ5IHRvIHJlLXJ1biB0aGUgdHJhbnNhY3Rpb24uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHNxbEVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiByZW1vdmVJdGVtKGtleSwgY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cblx0ICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG5cdCAgICAgICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUga2V5ID0gPycsIFtrZXldLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pWydjYXRjaCddKHJlamVjdCk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBEZWxldGVzIGV2ZXJ5IGl0ZW0gaW4gdGhlIHRhYmxlLlxuXHQgICAgLy8gVE9ETzogRmluZCBvdXQgaWYgdGhpcyByZXNldHMgdGhlIEFVVE9fSU5DUkVNRU5UIG51bWJlci5cblx0ICAgIGZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSlbJ2NhdGNoJ10ocmVqZWN0KTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cblx0ICAgIC8vIERvZXMgYSBzaW1wbGUgYENPVU5UKGtleSlgIHRvIGdldCB0aGUgbnVtYmVyIG9mIGl0ZW1zIHN0b3JlZCBpblxuXHQgICAgLy8gbG9jYWxGb3JhZ2UuXG5cdCAgICBmdW5jdGlvbiBsZW5ndGgoY2FsbGJhY2spIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcblx0ICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIEFoaGgsIFNRTCBtYWtlcyB0aGlzIG9uZSBzb29vb29vIGVhc3kuXG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgQ09VTlQoa2V5KSBhcyBjIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLml0ZW0oMCkuYztcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgLy8gUmV0dXJuIHRoZSBrZXkgbG9jYXRlZCBhdCBrZXkgaW5kZXggWDsgZXNzZW50aWFsbHkgZ2V0cyB0aGUga2V5IGZyb20gYVxuXHQgICAgLy8gYFdIRVJFIGlkID0gP2AuIFRoaXMgaXMgdGhlIG1vc3QgZWZmaWNpZW50IHdheSBJIGNhbiB0aGluayB0byBpbXBsZW1lbnRcblx0ICAgIC8vIHRoaXMgcmFyZWx5LXVzZWQgKGluIG15IGV4cGVyaWVuY2UpIHBhcnQgb2YgdGhlIEFQSSwgYnV0IGl0IGNhbiBzZWVtXG5cdCAgICAvLyBpbmNvbnNpc3RlbnQsIGJlY2F1c2Ugd2UgZG8gYElOU0VSVCBPUiBSRVBMQUNFIElOVE9gIG9uIGBzZXRJdGVtKClgLCBzb1xuXHQgICAgLy8gdGhlIElEIG9mIGVhY2gga2V5IHdpbGwgY2hhbmdlIGV2ZXJ5IHRpbWUgaXQncyB1cGRhdGVkLiBQZXJoYXBzIGEgc3RvcmVkXG5cdCAgICAvLyBwcm9jZWR1cmUgZm9yIHRoZSBgc2V0SXRlbSgpYCBTUUwgd291bGQgc29sdmUgdGhpcyBwcm9ibGVtP1xuXHQgICAgLy8gVE9ETzogRG9uJ3QgY2hhbmdlIElEIG9uIGBzZXRJdGVtKClgLlxuXHQgICAgZnVuY3Rpb24ga2V5KG4sIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cdCAgICAgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCBrZXkgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUgaWQgPSA/IExJTUlUIDEnLCBbbiArIDFdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLmxlbmd0aCA/IHJlc3VsdHMucm93cy5pdGVtKDApLmtleSA6IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQgICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXHQgICAgICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1Qga2V5IEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5yb3dzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2gocmVzdWx0cy5yb3dzLml0ZW0oaSkua2V5KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoa2V5cyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KVsnY2F0Y2gnXShyZWplY3QpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuXHQgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICB2YXIgd2ViU1FMU3RvcmFnZSA9IHtcblx0ICAgICAgICBfZHJpdmVyOiAnd2ViU1FMU3RvcmFnZScsXG5cdCAgICAgICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UsXG5cdCAgICAgICAgaXRlcmF0ZTogaXRlcmF0ZSxcblx0ICAgICAgICBnZXRJdGVtOiBnZXRJdGVtLFxuXHQgICAgICAgIHNldEl0ZW06IHNldEl0ZW0sXG5cdCAgICAgICAgcmVtb3ZlSXRlbTogcmVtb3ZlSXRlbSxcblx0ICAgICAgICBjbGVhcjogY2xlYXIsXG5cdCAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG5cdCAgICAgICAga2V5OiBrZXksXG5cdCAgICAgICAga2V5czoga2V5c1xuXHQgICAgfTtcblxuXHQgICAgZXhwb3J0c1snZGVmYXVsdCddID0gd2ViU1FMU3RvcmFnZTtcblx0fSkuY2FsbCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHNlbGYpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJyksdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbn0se1wiX3Byb2Nlc3NcIjoyMH1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBTcGVjaWZpYyBjdXN0b21VdGlscyBmb3IgdGhlIGJyb3dzZXIsIHdoZXJlIHdlIGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoZSBDcnlwdG8gYW5kIEJ1ZmZlciBtb2R1bGVzXG4gKi9cblxuLyoqXG4gKiBUYWtlbiBmcm9tIHRoZSBjcnlwdG8tYnJvd3NlcmlmeSBtb2R1bGVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kb21pbmljdGFyci9jcnlwdG8tYnJvd3NlcmlmeVxuICogTk9URTogTWF0aC5yYW5kb20oKSBkb2VzIG5vdCBndWFyYW50ZWUgXCJjcnlwdG9ncmFwaGljIHF1YWxpdHlcIiBidXQgd2UgYWN0dWFsbHkgZG9uJ3QgbmVlZCBpdFxuICovXG5mdW5jdGlvbiByYW5kb21CeXRlcyAoc2l6ZSkge1xuICB2YXIgYnl0ZXMgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gIHZhciByO1xuXG4gIGZvciAodmFyIGkgPSAwLCByOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgaWYgKChpICYgMHgwMykgPT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICBieXRlc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgfVxuXG4gIHJldHVybiBieXRlcztcbn1cblxuXG4vKipcbiAqIFRha2VuIGZyb20gdGhlIGJhc2U2NC1qcyBtb2R1bGVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9cbiAqL1xuZnVuY3Rpb24gYnl0ZUFycmF5VG9CYXNlNjQgKHVpbnQ4KSB7XG4gIHZhciBsb29rdXAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbiAgICAsIGV4dHJhQnl0ZXMgPSB1aW50OC5sZW5ndGggJSAzICAgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgICAsIG91dHB1dCA9IFwiXCJcbiAgICAsIHRlbXAsIGxlbmd0aCwgaTtcblxuICBmdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICAgIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gKyBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gKyBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArIGxvb2t1cFtudW0gJiAweDNGXTtcbiAgfTtcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAoaSA9IDAsIGxlbmd0aCA9IHVpbnQ4Lmxlbmd0aCAtIGV4dHJhQnl0ZXM7IGkgPCBsZW5ndGg7IGkgKz0gMykge1xuICAgIHRlbXAgPSAodWludDhbaV0gPDwgMTYpICsgKHVpbnQ4W2kgKyAxXSA8PCA4KSArICh1aW50OFtpICsgMl0pO1xuICAgIG91dHB1dCArPSB0cmlwbGV0VG9CYXNlNjQodGVtcCk7XG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIHN3aXRjaCAoZXh0cmFCeXRlcykge1xuICAgIGNhc2UgMTpcbiAgICAgIHRlbXAgPSB1aW50OFt1aW50OC5sZW5ndGggLSAxXTtcbiAgICAgIG91dHB1dCArPSBsb29rdXBbdGVtcCA+PiAyXTtcbiAgICAgIG91dHB1dCArPSBsb29rdXBbKHRlbXAgPDwgNCkgJiAweDNGXTtcbiAgICAgIG91dHB1dCArPSAnPT0nO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgdGVtcCA9ICh1aW50OFt1aW50OC5sZW5ndGggLSAyXSA8PCA4KSArICh1aW50OFt1aW50OC5sZW5ndGggLSAxXSk7XG4gICAgICBvdXRwdXQgKz0gbG9va3VwW3RlbXAgPj4gMTBdO1xuICAgICAgb3V0cHV0ICs9IGxvb2t1cFsodGVtcCA+PiA0KSAmIDB4M0ZdO1xuICAgICAgb3V0cHV0ICs9IGxvb2t1cFsodGVtcCA8PCAyKSAmIDB4M0ZdO1xuICAgICAgb3V0cHV0ICs9ICc9JztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG4vKipcbiAqIFJldHVybiBhIHJhbmRvbSBhbHBoYW51bWVyaWNhbCBzdHJpbmcgb2YgbGVuZ3RoIGxlblxuICogVGhlcmUgaXMgYSB2ZXJ5IHNtYWxsIHByb2JhYmlsaXR5IChsZXNzIHRoYW4gMS8xLDAwMCwwMDApIGZvciB0aGUgbGVuZ3RoIHRvIGJlIGxlc3MgdGhhbiBsZW5cbiAqIChpbCB0aGUgYmFzZTY0IGNvbnZlcnNpb24geWllbGRzIHRvbyBtYW55IHBsdXNlcyBhbmQgc2xhc2hlcykgYnV0XG4gKiB0aGF0J3Mgbm90IGFuIGlzc3VlIGhlcmVcbiAqIFRoZSBwcm9iYWJpbGl0eSBvZiBhIGNvbGxpc2lvbiBpcyBleHRyZW1lbHkgc21hbGwgKG5lZWQgMyoxMF4xMiBkb2N1bWVudHMgdG8gaGF2ZSBvbmUgY2hhbmNlIGluIGEgbWlsbGlvbiBvZiBhIGNvbGxpc2lvbilcbiAqIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JpcnRoZGF5X3Byb2JsZW1cbiAqL1xuZnVuY3Rpb24gdWlkIChsZW4pIHtcbiAgcmV0dXJuIGJ5dGVBcnJheVRvQmFzZTY0KHJhbmRvbUJ5dGVzKE1hdGguY2VpbChNYXRoLm1heCg4LCBsZW4gKiAyKSkpKS5yZXBsYWNlKC9bK1xcL10vZywgJycpLnNsaWNlKDAsIGxlbik7XG59XG5cblxuXG5tb2R1bGUuZXhwb3J0cy51aWQgPSB1aWQ7XG5cbn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBXYXkgZGF0YSBpcyBzdG9yZWQgZm9yIHRoaXMgZGF0YWJhc2VcbiAqIEZvciBhIE5vZGUuanMvTm9kZSBXZWJraXQgZGF0YWJhc2UgaXQncyB0aGUgZmlsZSBzeXN0ZW1cbiAqIEZvciBhIGJyb3dzZXItc2lkZSBkYXRhYmFzZSBpdCdzIGxvY2FsZm9yYWdlLCB3aGljaCB1c2VzIHRoZSBiZXN0IGJhY2tlbmQgYXZhaWxhYmxlIChJbmRleGVkREIgdGhlbiBXZWJTUUwgdGhlbiBsb2NhbFN0b3JhZ2UpXG4gKlxuICogVGhpcyB2ZXJzaW9uIGlzIHRoZSBicm93c2VyIHZlcnNpb25cbiAqL1xuXG52YXIgbG9jYWxmb3JhZ2UgPSByZXF1aXJlKCdsb2NhbGZvcmFnZScpXG5cbi8vIENvbmZpZ3VyZSBsb2NhbGZvcmFnZSB0byBkaXNwbGF5IE5lREIgbmFtZSBmb3Igbm93LiBXb3VsZCBiZSBhIGdvb2QgaWRlYSB0byBsZXQgdXNlciB1c2UgaGlzIG93biBhcHAgbmFtZVxubG9jYWxmb3JhZ2UuY29uZmlnKHtcbiAgbmFtZTogJ05lREInXG4sIHN0b3JlTmFtZTogJ25lZGJkYXRhJ1xufSk7XG5cblxuZnVuY3Rpb24gZXhpc3RzIChmaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgbG9jYWxmb3JhZ2UuZ2V0SXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKGVyciwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IG51bGwpIHsgICAvLyBFdmVuIGlmIHZhbHVlIGlzIHVuZGVmaW5lZCwgbG9jYWxmb3JhZ2UgcmV0dXJucyBudWxsXG4gICAgICByZXR1cm4gY2FsbGJhY2sodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhmYWxzZSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG5mdW5jdGlvbiByZW5hbWUgKGZpbGVuYW1lLCBuZXdGaWxlbmFtZSwgY2FsbGJhY2spIHtcbiAgbG9jYWxmb3JhZ2UuZ2V0SXRlbShmaWxlbmFtZSwgZnVuY3Rpb24gKGVyciwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIGxvY2FsZm9yYWdlLnJlbW92ZUl0ZW0obmV3RmlsZW5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrKCk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGZvcmFnZS5zZXRJdGVtKG5ld0ZpbGVuYW1lLCB2YWx1ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NhbGZvcmFnZS5yZW1vdmVJdGVtKGZpbGVuYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gd3JpdGVGaWxlIChmaWxlbmFtZSwgY29udGVudHMsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8vIE9wdGlvbnMgZG8gbm90IG1hdHRlciBpbiBicm93c2VyIHNldHVwXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYWxsYmFjayA9IG9wdGlvbnM7IH1cbiAgbG9jYWxmb3JhZ2Uuc2V0SXRlbShmaWxlbmFtZSwgY29udGVudHMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrKCk7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIGFwcGVuZEZpbGUgKGZpbGVuYW1lLCB0b0FwcGVuZCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgLy8gT3B0aW9ucyBkbyBub3QgbWF0dGVyIGluIGJyb3dzZXIgc2V0dXBcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7IGNhbGxiYWNrID0gb3B0aW9uczsgfVxuXG4gIGxvY2FsZm9yYWdlLmdldEl0ZW0oZmlsZW5hbWUsIGZ1bmN0aW9uIChlcnIsIGNvbnRlbnRzKSB7XG4gICAgY29udGVudHMgPSBjb250ZW50cyB8fCAnJztcbiAgICBjb250ZW50cyArPSB0b0FwcGVuZDtcbiAgICBsb2NhbGZvcmFnZS5zZXRJdGVtKGZpbGVuYW1lLCBjb250ZW50cywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2soKTsgfSk7XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIHJlYWRGaWxlIChmaWxlbmFtZSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgLy8gT3B0aW9ucyBkbyBub3QgbWF0dGVyIGluIGJyb3dzZXIgc2V0dXBcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7IGNhbGxiYWNrID0gb3B0aW9uczsgfVxuICBsb2NhbGZvcmFnZS5nZXRJdGVtKGZpbGVuYW1lLCBmdW5jdGlvbiAoZXJyLCBjb250ZW50cykgeyByZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGVudHMgfHwgJycpOyB9KTtcbn1cblxuXG5mdW5jdGlvbiB1bmxpbmsgKGZpbGVuYW1lLCBjYWxsYmFjaykge1xuICBsb2NhbGZvcmFnZS5yZW1vdmVJdGVtKGZpbGVuYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbn1cblxuXG4vLyBOb3RoaW5nIHRvIGRvLCBubyBkaXJlY3RvcmllcyB3aWxsIGJlIHVzZWQgb24gdGhlIGJyb3dzZXJcbmZ1bmN0aW9uIG1rZGlycCAoZGlyLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2soKTtcbn1cblxuXG4vLyBOb3RoaW5nIHRvIGRvLCBubyBkYXRhIGNvcnJ1cHRpb24gcG9zc2libGUgaW4gdGhlIGJyb3dlclxuZnVuY3Rpb24gZW5zdXJlRGF0YWZpbGVJbnRlZ3JpdHkgKGZpbGVuYW1lLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG59XG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cy5leGlzdHMgPSBleGlzdHM7XG5tb2R1bGUuZXhwb3J0cy5yZW5hbWUgPSByZW5hbWU7XG5tb2R1bGUuZXhwb3J0cy53cml0ZUZpbGUgPSB3cml0ZUZpbGU7XG5tb2R1bGUuZXhwb3J0cy5jcmFzaFNhZmVXcml0ZUZpbGUgPSB3cml0ZUZpbGU7ICAgLy8gTm8gbmVlZCBmb3IgYSBjcmFzaCBzYWZlIGZ1bmN0aW9uIGluIHRoZSBicm93c2VyXG5tb2R1bGUuZXhwb3J0cy5hcHBlbmRGaWxlID0gYXBwZW5kRmlsZTtcbm1vZHVsZS5leHBvcnRzLnJlYWRGaWxlID0gcmVhZEZpbGU7XG5tb2R1bGUuZXhwb3J0cy51bmxpbmsgPSB1bmxpbms7XG5tb2R1bGUuZXhwb3J0cy5ta2RpcnAgPSBta2RpcnA7XG5tb2R1bGUuZXhwb3J0cy5lbnN1cmVEYXRhZmlsZUludGVncml0eSA9IGVuc3VyZURhdGFmaWxlSW50ZWdyaXR5O1xuXG5cbn0se1wibG9jYWxmb3JhZ2VcIjo3fV0sMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIERhdGFzdG9yZSA9IHJlcXVpcmUoJy4vbGliL2RhdGFzdG9yZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFzdG9yZTtcblxufSx7XCIuL2xpYi9kYXRhc3RvcmVcIjoxMn1dLDExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogTWFuYWdlIGFjY2VzcyB0byBkYXRhLCBiZSBpdCB0byBmaW5kLCB1cGRhdGUgb3IgcmVtb3ZlIGl0XG4gKi9cbnZhciBtb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWwnKVxuICAsIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJylcbiAgO1xuXG5cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY3Vyc29yIGZvciB0aGlzIGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RGF0YXN0b3JlfSBkYiAtIFRoZSBkYXRhc3RvcmUgdGhpcyBjdXJzb3IgaXMgYm91bmQgdG9cbiAqIEBwYXJhbSB7UXVlcnl9IHF1ZXJ5IC0gVGhlIHF1ZXJ5IHRoaXMgY3Vyc29yIHdpbGwgb3BlcmF0ZSBvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY0RuIC0gSGFuZGxlciB0byBiZSBleGVjdXRlZCBhZnRlciBjdXJzb3IgaGFzIGZvdW5kIHRoZSByZXN1bHRzIGFuZCBiZWZvcmUgdGhlIGNhbGxiYWNrIHBhc3NlZCB0byBmaW5kL2ZpbmRPbmUvdXBkYXRlL3JlbW92ZVxuICovXG5mdW5jdGlvbiBDdXJzb3IgKGRiLCBxdWVyeSwgZXhlY0ZuKSB7XG4gIHRoaXMuZGIgPSBkYjtcbiAgdGhpcy5xdWVyeSA9IHF1ZXJ5IHx8IHt9O1xuICBpZiAoZXhlY0ZuKSB7IHRoaXMuZXhlY0ZuID0gZXhlY0ZuOyB9XG59XG5cblxuLyoqXG4gKiBTZXQgYSBsaW1pdCB0byB0aGUgbnVtYmVyIG9mIHJlc3VsdHNcbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uKGxpbWl0KSB7XG4gIHRoaXMuX2xpbWl0ID0gbGltaXQ7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqIFNraXAgYSB0aGUgbnVtYmVyIG9mIHJlc3VsdHNcbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24oc2tpcCkge1xuICB0aGlzLl9za2lwID0gc2tpcDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogU29ydCByZXN1bHRzIG9mIHRoZSBxdWVyeVxuICogQHBhcmFtIHtTb3J0UXVlcnl9IHNvcnRRdWVyeSAtIFNvcnRRdWVyeSBpcyB7IGZpZWxkOiBvcmRlciB9LCBmaWVsZCBjYW4gdXNlIHRoZSBkb3Qtbm90YXRpb24sIG9yZGVyIGlzIDEgZm9yIGFzY2VuZGluZyBhbmQgLTEgZm9yIGRlc2NlbmRpbmdcbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oc29ydFF1ZXJ5KSB7XG4gIHRoaXMuX3NvcnQgPSBzb3J0UXVlcnk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqIEFkZCB0aGUgdXNlIG9mIGEgcHJvamVjdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHByb2plY3Rpb24gLSBNb25nb0RCLXN0eWxlIHByb2plY3Rpb24uIHt9IG1lYW5zIHRha2UgYWxsIGZpZWxkcy4gVGhlbiBpdCdzIHsga2V5MTogMSwga2V5MjogMSB9IHRvIHRha2Ugb25seSBrZXkxIGFuZCBrZXkyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5MTogMCwga2V5MjogMCB9IHRvIG9taXQgb25seSBrZXkxIGFuZCBrZXkyLiBFeGNlcHQgX2lkLCB5b3UgY2FuJ3QgbWl4IHRha2VzIGFuZCBvbWl0c1xuICovXG5DdXJzb3IucHJvdG90eXBlLnByb2plY3Rpb24gPSBmdW5jdGlvbihwcm9qZWN0aW9uKSB7XG4gIHRoaXMuX3Byb2plY3Rpb24gPSBwcm9qZWN0aW9uO1xuICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBBcHBseSB0aGUgcHJvamVjdGlvblxuICovXG5DdXJzb3IucHJvdG90eXBlLnByb2plY3QgPSBmdW5jdGlvbiAoY2FuZGlkYXRlcykge1xuICB2YXIgcmVzID0gW10sIHNlbGYgPSB0aGlzXG4gICAgLCBrZWVwSWQsIGFjdGlvbiwga2V5c1xuICAgIDtcblxuICBpZiAodGhpcy5fcHJvamVjdGlvbiA9PT0gdW5kZWZpbmVkIHx8IE9iamVjdC5rZXlzKHRoaXMuX3Byb2plY3Rpb24pLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjYW5kaWRhdGVzO1xuICB9XG5cbiAga2VlcElkID0gdGhpcy5fcHJvamVjdGlvbi5faWQgPT09IDAgPyBmYWxzZSA6IHRydWU7XG4gIHRoaXMuX3Byb2plY3Rpb24gPSBfLm9taXQodGhpcy5fcHJvamVjdGlvbiwgJ19pZCcpO1xuXG4gIC8vIENoZWNrIGZvciBjb25zaXN0ZW5jeVxuICBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fcHJvamVjdGlvbik7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGlmIChhY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBzZWxmLl9wcm9qZWN0aW9uW2tdICE9PSBhY3Rpb24pIHsgdGhyb3cgXCJDYW4ndCBib3RoIGtlZXAgYW5kIG9taXQgZmllbGRzIGV4Y2VwdCBmb3IgX2lkXCI7IH1cbiAgICBhY3Rpb24gPSBzZWxmLl9wcm9qZWN0aW9uW2tdO1xuICB9KTtcblxuICAvLyBEbyB0aGUgYWN0dWFsIHByb2plY3Rpb25cbiAgY2FuZGlkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICB2YXIgdG9QdXNoID0gYWN0aW9uID09PSAxID8gXy5waWNrKGNhbmRpZGF0ZSwga2V5cykgOiBfLm9taXQoY2FuZGlkYXRlLCBrZXlzKTtcbiAgICBpZiAoa2VlcElkKSB7XG4gICAgICB0b1B1c2guX2lkID0gY2FuZGlkYXRlLl9pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRvUHVzaC5faWQ7XG4gICAgfVxuICAgIHJlcy5wdXNoKHRvUHVzaCk7XG4gIH0pO1xuXG4gIHJldHVybiByZXM7XG59O1xuXG5cbi8qKlxuICogR2V0IGFsbCBtYXRjaGluZyBlbGVtZW50c1xuICogV2lsbCByZXR1cm4gcG9pbnRlcnMgdG8gbWF0Y2hlZCBlbGVtZW50cyAoc2hhbGxvdyBjb3BpZXMpLCByZXR1cm5pbmcgZnVsbCBjb3BpZXMgaXMgdGhlIHJvbGUgb2YgZmluZCBvciBmaW5kT25lXG4gKiBUaGlzIGlzIGFuIGludGVybmFsIGZ1bmN0aW9uLCB1c2UgZXhlYyB3aGljaCB1c2VzIHRoZSBleGVjdXRvclxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gU2lnbmF0dXJlOiBlcnIsIHJlc3VsdHNcbiAqL1xuQ3Vyc29yLnByb3RvdHlwZS5fZXhlYyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHZhciBjYW5kaWRhdGVzID0gdGhpcy5kYi5nZXRDYW5kaWRhdGVzKHRoaXMucXVlcnkpXG4gICAgLCByZXMgPSBbXSwgYWRkZWQgPSAwLCBza2lwcGVkID0gMCwgc2VsZiA9IHRoaXNcbiAgICAsIGVycm9yID0gbnVsbFxuICAgICwgaSwga2V5cywga2V5XG4gICAgO1xuXG4gIHRyeSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChtb2RlbC5tYXRjaChjYW5kaWRhdGVzW2ldLCB0aGlzLnF1ZXJ5KSkge1xuICAgICAgICAvLyBJZiBhIHNvcnQgaXMgZGVmaW5lZCwgd2FpdCBmb3IgdGhlIHJlc3VsdHMgdG8gYmUgc29ydGVkIGJlZm9yZSBhcHBseWluZyBsaW1pdCBhbmQgc2tpcFxuICAgICAgICBpZiAoIXRoaXMuX3NvcnQpIHtcbiAgICAgICAgICBpZiAodGhpcy5fc2tpcCAmJiB0aGlzLl9za2lwID4gc2tpcHBlZCkge1xuICAgICAgICAgICAgc2tpcHBlZCArPSAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMucHVzaChjYW5kaWRhdGVzW2ldKTtcbiAgICAgICAgICAgIGFkZGVkICs9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGltaXQgJiYgdGhpcy5fbGltaXQgPD0gYWRkZWQpIHsgYnJlYWs7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLnB1c2goY2FuZGlkYXRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICB9XG5cbiAgLy8gQXBwbHkgYWxsIHNvcnRzXG4gIGlmICh0aGlzLl9zb3J0KSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3NvcnQpO1xuXG4gICAgLy8gU29ydGluZ1xuICAgIHZhciBjcml0ZXJpYSA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgY3JpdGVyaWEucHVzaCh7IGtleToga2V5LCBkaXJlY3Rpb246IHNlbGYuX3NvcnRba2V5XSB9KTtcbiAgICB9XG4gICAgcmVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgdmFyIGNyaXRlcmlvbiwgY29tcGFyZSwgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjcml0ZXJpYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjcml0ZXJpb24gPSBjcml0ZXJpYVtpXTtcbiAgICAgICAgY29tcGFyZSA9IGNyaXRlcmlvbi5kaXJlY3Rpb24gKiBtb2RlbC5jb21wYXJlVGhpbmdzKG1vZGVsLmdldERvdFZhbHVlKGEsIGNyaXRlcmlvbi5rZXkpLCBtb2RlbC5nZXREb3RWYWx1ZShiLCBjcml0ZXJpb24ua2V5KSk7XG4gICAgICAgIGlmIChjb21wYXJlICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBhcmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH0pO1xuXG4gICAgLy8gQXBwbHlpbmcgbGltaXQgYW5kIHNraXBcbiAgICB2YXIgbGltaXQgPSB0aGlzLl9saW1pdCB8fCByZXMubGVuZ3RoXG4gICAgICAsIHNraXAgPSB0aGlzLl9za2lwIHx8IDA7XG5cbiAgICByZXMgPSByZXMuc2xpY2Uoc2tpcCwgc2tpcCArIGxpbWl0KTtcbiAgfVxuXG4gIC8vIEFwcGx5IHByb2plY3Rpb25cbiAgdHJ5IHtcbiAgICByZXMgPSB0aGlzLnByb2plY3QocmVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVycm9yID0gZTtcbiAgICByZXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodGhpcy5leGVjRm4pIHtcbiAgICByZXR1cm4gdGhpcy5leGVjRm4oZXJyb3IsIHJlcywgY2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjYWxsYmFjayhlcnJvciwgcmVzKTtcbiAgfVxufTtcblxuQ3Vyc29yLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmRiLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLCBmbjogdGhpcy5fZXhlYywgYXJndW1lbnRzOiBhcmd1bWVudHMgfSk7XG59O1xuXG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cyA9IEN1cnNvcjtcblxufSx7XCIuL21vZGVsXCI6MTUsXCJ1bmRlcnNjb3JlXCI6MTh9XSwxMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgY3VzdG9tVXRpbHMgPSByZXF1aXJlKCcuL2N1c3RvbVV0aWxzJylcbiAgLCBtb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWwnKVxuICAsIGFzeW5jID0gcmVxdWlyZSgnYXN5bmMnKVxuICAsIEV4ZWN1dG9yID0gcmVxdWlyZSgnLi9leGVjdXRvcicpXG4gICwgSW5kZXggPSByZXF1aXJlKCcuL2luZGV4ZXMnKVxuICAsIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpXG4gICwgUGVyc2lzdGVuY2UgPSByZXF1aXJlKCcuL3BlcnNpc3RlbmNlJylcbiAgLCBDdXJzb3IgPSByZXF1aXJlKCcuL2N1cnNvcicpXG4gIDtcblxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5maWxlbmFtZSBPcHRpb25hbCwgZGF0YXN0b3JlIHdpbGwgYmUgaW4tbWVtb3J5IG9ubHkgaWYgbm90IHByb3ZpZGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMudGltZXN0YW1wRGF0YSBPcHRpb25hbCwgZGVmYXVsdHMgdG8gZmFsc2UuIElmIHNldCB0byB0cnVlLCBjcmVhdGVkQXQgYW5kIHVwZGF0ZWRBdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIHBvcHVsYXRlZCBhdXRvbWF0aWNhbGx5IChpZiBub3Qgc3BlY2lmaWVkIGJ5IHVzZXIpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuaW5NZW1vcnlPbmx5IE9wdGlvbmFsLCBkZWZhdWx0cyB0byBmYWxzZVxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMubm9kZVdlYmtpdEFwcE5hbWUgT3B0aW9uYWwsIHNwZWNpZnkgdGhlIG5hbWUgb2YgeW91ciBOVyBhcHAgaWYgeW91IHdhbnQgb3B0aW9ucy5maWxlbmFtZSB0byBiZSByZWxhdGl2ZSB0byB0aGUgZGlyZWN0b3J5IHdoZXJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBXZWJraXQgc3RvcmVzIGFwcGxpY2F0aW9uIGRhdGEgc3VjaCBhcyBjb29raWVzIGFuZCBsb2NhbCBzdG9yYWdlICh0aGUgYmVzdCBwbGFjZSB0byBzdG9yZSBkYXRhIGluIG15IG9waW5pb24pXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuYXV0b2xvYWQgT3B0aW9uYWwsIGRlZmF1bHRzIHRvIGZhbHNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9ubG9hZCBPcHRpb25hbCwgaWYgYXV0b2xvYWQgaXMgdXNlZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBsb2FkIGRhdGFiYXNlIHdpdGggdGhlIGVycm9yIG9iamVjdCBhcyBwYXJhbWV0ZXIuIElmIHlvdSBkb24ndCBwYXNzIGl0IHRoZSBlcnJvciB3aWxsIGJlIHRocm93blxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5hZnRlclNlcmlhbGl6YXRpb24gYW5kIG9wdGlvbnMuYmVmb3JlRGVzZXJpYWxpemF0aW9uIE9wdGlvbmFsLCBzZXJpYWxpemF0aW9uIGhvb2tzXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5jb3JydXB0QWxlcnRUaHJlc2hvbGQgT3B0aW9uYWwsIHRocmVzaG9sZCBhZnRlciB3aGljaCBhbiBhbGVydCBpcyB0aHJvd24gaWYgdG9vIG11Y2ggZGF0YSBpcyBjb3JydXB0XG4gKi9cbmZ1bmN0aW9uIERhdGFzdG9yZSAob3B0aW9ucykge1xuICB2YXIgZmlsZW5hbWU7XG5cbiAgLy8gUmV0cm9jb21wYXRpYmlsaXR5IHdpdGggdjAuNiBhbmQgYmVmb3JlXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICBmaWxlbmFtZSA9IG9wdGlvbnM7XG4gICAgdGhpcy5pbk1lbW9yeU9ubHkgPSBmYWxzZTsgICAvLyBEZWZhdWx0XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgZmlsZW5hbWUgPSBvcHRpb25zLmZpbGVuYW1lO1xuICAgIHRoaXMuaW5NZW1vcnlPbmx5ID0gb3B0aW9ucy5pbk1lbW9yeU9ubHkgfHwgZmFsc2U7XG4gICAgdGhpcy5hdXRvbG9hZCA9IG9wdGlvbnMuYXV0b2xvYWQgfHwgZmFsc2U7XG4gICAgdGhpcy50aW1lc3RhbXBEYXRhID0gb3B0aW9ucy50aW1lc3RhbXBEYXRhIHx8IGZhbHNlO1xuICB9XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgaW4gbWVtb3J5IG9yIHBlcnNpc3RlbnRcbiAgaWYgKCFmaWxlbmFtZSB8fCB0eXBlb2YgZmlsZW5hbWUgIT09ICdzdHJpbmcnIHx8IGZpbGVuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMuZmlsZW5hbWUgPSBudWxsO1xuICAgIHRoaXMuaW5NZW1vcnlPbmx5ID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gIH1cblxuICAvLyBQZXJzaXN0ZW5jZSBoYW5kbGluZ1xuICB0aGlzLnBlcnNpc3RlbmNlID0gbmV3IFBlcnNpc3RlbmNlKHsgZGI6IHRoaXMsIG5vZGVXZWJraXRBcHBOYW1lOiBvcHRpb25zLm5vZGVXZWJraXRBcHBOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgYWZ0ZXJTZXJpYWxpemF0aW9uOiBvcHRpb25zLmFmdGVyU2VyaWFsaXphdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGJlZm9yZURlc2VyaWFsaXphdGlvbjogb3B0aW9ucy5iZWZvcmVEZXNlcmlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjb3JydXB0QWxlcnRUaHJlc2hvbGQ6IG9wdGlvbnMuY29ycnVwdEFsZXJ0VGhyZXNob2xkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gIC8vIFRoaXMgbmV3IGV4ZWN1dG9yIGlzIHJlYWR5IGlmIHdlIGRvbid0IHVzZSBwZXJzaXN0ZW5jZVxuICAvLyBJZiB3ZSBkbywgaXQgd2lsbCBvbmx5IGJlIHJlYWR5IG9uY2UgbG9hZERhdGFiYXNlIGlzIGNhbGxlZFxuICB0aGlzLmV4ZWN1dG9yID0gbmV3IEV4ZWN1dG9yKCk7XG4gIGlmICh0aGlzLmluTWVtb3J5T25seSkgeyB0aGlzLmV4ZWN1dG9yLnJlYWR5ID0gdHJ1ZTsgfVxuXG4gIC8vIEluZGV4ZWQgYnkgZmllbGQgbmFtZSwgZG90IG5vdGF0aW9uIGNhbiBiZSB1c2VkXG4gIC8vIF9pZCBpcyBhbHdheXMgaW5kZXhlZCBhbmQgc2luY2UgX2lkcyBhcmUgZ2VuZXJhdGVkIHJhbmRvbWx5IHRoZSB1bmRlcmx5aW5nXG4gIC8vIGJpbmFyeSBpcyBhbHdheXMgd2VsbC1iYWxhbmNlZFxuICB0aGlzLmluZGV4ZXMgPSB7fTtcbiAgdGhpcy5pbmRleGVzLl9pZCA9IG5ldyBJbmRleCh7IGZpZWxkTmFtZTogJ19pZCcsIHVuaXF1ZTogdHJ1ZSB9KTtcblxuICAvLyBRdWV1ZSBhIGxvYWQgb2YgdGhlIGRhdGFiYXNlIHJpZ2h0IGF3YXkgYW5kIGNhbGwgdGhlIG9ubG9hZCBoYW5kbGVyXG4gIC8vIEJ5IGRlZmF1bHQgKG5vIG9ubG9hZCBoYW5kbGVyKSwgaWYgdGhlcmUgaXMgYW4gZXJyb3IgdGhlcmUsIG5vIG9wZXJhdGlvbiB3aWxsIGJlIHBvc3NpYmxlIHNvIHdhcm4gdGhlIHVzZXIgYnkgdGhyb3dpbmcgYW4gZXhjZXB0aW9uXG4gIGlmICh0aGlzLmF1dG9sb2FkKSB7IHRoaXMubG9hZERhdGFiYXNlKG9wdGlvbnMub25sb2FkIHx8IGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7IHRocm93IGVycjsgfVxuICB9KTsgfVxufVxuXG5cbi8qKlxuICogTG9hZCB0aGUgZGF0YWJhc2UgZnJvbSB0aGUgZGF0YWZpbGUsIGFuZCB0cmlnZ2VyIHRoZSBleGVjdXRpb24gb2YgYnVmZmVyZWQgY29tbWFuZHMgaWYgYW55XG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUubG9hZERhdGFiYXNlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLnBlcnNpc3RlbmNlLCBmbjogdGhpcy5wZXJzaXN0ZW5jZS5sb2FkRGF0YWJhc2UsIGFyZ3VtZW50czogYXJndW1lbnRzIH0sIHRydWUpO1xufTtcblxuXG4vKipcbiAqIEdldCBhbiBhcnJheSBvZiBhbGwgdGhlIGRhdGEgaW4gdGhlIGRhdGFiYXNlXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuZ2V0QWxsRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhlcy5faWQuZ2V0QWxsKCk7XG59O1xuXG5cbi8qKlxuICogUmVzZXQgYWxsIGN1cnJlbnRseSBkZWZpbmVkIGluZGV4ZXNcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5yZXNldEluZGV4ZXMgPSBmdW5jdGlvbiAobmV3RGF0YSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgT2JqZWN0LmtleXModGhpcy5pbmRleGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgc2VsZi5pbmRleGVzW2ldLnJlc2V0KG5ld0RhdGEpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBFbnN1cmUgYW4gaW5kZXggaXMga2VwdCBmb3IgdGhpcyBmaWVsZC4gU2FtZSBwYXJhbWV0ZXJzIGFzIGxpYi9pbmRleGVzXG4gKiBGb3Igbm93IHRoaXMgZnVuY3Rpb24gaXMgc3luY2hyb25vdXMsIHdlIG5lZWQgdG8gdGVzdCBob3cgbXVjaCB0aW1lIGl0IHRha2VzXG4gKiBXZSB1c2UgYW4gYXN5bmMgQVBJIGZvciBjb25zaXN0ZW5jeSB3aXRoIHRoZSByZXN0IG9mIHRoZSBjb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5maWVsZE5hbWVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy51bmlxdWVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5zcGFyc2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrLCBzaWduYXR1cmU6IGVyclxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmVuc3VyZUluZGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNiKSB7XG4gIHZhciBjYWxsYmFjayA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9O1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGlmICghb3B0aW9ucy5maWVsZE5hbWUpIHsgcmV0dXJuIGNhbGxiYWNrKHsgbWlzc2luZ0ZpZWxkTmFtZTogdHJ1ZSB9KTsgfVxuICBpZiAodGhpcy5pbmRleGVzW29wdGlvbnMuZmllbGROYW1lXSkgeyByZXR1cm4gY2FsbGJhY2sobnVsbCk7IH1cblxuICB0aGlzLmluZGV4ZXNbb3B0aW9ucy5maWVsZE5hbWVdID0gbmV3IEluZGV4KG9wdGlvbnMpO1xuXG4gIHRyeSB7XG4gICAgdGhpcy5pbmRleGVzW29wdGlvbnMuZmllbGROYW1lXS5pbnNlcnQodGhpcy5nZXRBbGxEYXRhKCkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZGVsZXRlIHRoaXMuaW5kZXhlc1tvcHRpb25zLmZpZWxkTmFtZV07XG4gICAgcmV0dXJuIGNhbGxiYWNrKGUpO1xuICB9XG5cbiAgLy8gV2UgbWF5IHdhbnQgdG8gZm9yY2UgYWxsIG9wdGlvbnMgdG8gYmUgcGVyc2lzdGVkIGluY2x1ZGluZyBkZWZhdWx0cywgbm90IGp1c3QgdGhlIG9uZXMgcGFzc2VkIHRoZSBpbmRleCBjcmVhdGlvbiBmdW5jdGlvblxuICB0aGlzLnBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZShbeyAkJGluZGV4Q3JlYXRlZDogb3B0aW9ucyB9XSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFJlbW92ZSBhbiBpbmRleFxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkTmFtZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgT3B0aW9uYWwgY2FsbGJhY2ssIHNpZ25hdHVyZTogZXJyXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUucmVtb3ZlSW5kZXggPSBmdW5jdGlvbiAoZmllbGROYW1lLCBjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICBkZWxldGUgdGhpcy5pbmRleGVzW2ZpZWxkTmFtZV07XG5cbiAgdGhpcy5wZXJzaXN0ZW5jZS5wZXJzaXN0TmV3U3RhdGUoW3sgJCRpbmRleFJlbW92ZWQ6IGZpZWxkTmFtZSB9XSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEFkZCBvbmUgb3Igc2V2ZXJhbCBkb2N1bWVudChzKSB0byBhbGwgaW5kZXhlc1xuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmFkZFRvSW5kZXhlcyA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgdmFyIGksIGZhaWxpbmdJbmRleCwgZXJyb3JcbiAgICAsIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmluZGV4ZXMpXG4gICAgO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaW5kZXhlc1trZXlzW2ldXS5pbnNlcnQoZG9jKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBmYWlsaW5nSW5kZXggPSBpO1xuICAgICAgZXJyb3IgPSBlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYW4gZXJyb3IgaGFwcGVuZWQsIHdlIG5lZWQgdG8gcm9sbGJhY2sgdGhlIGluc2VydCBvbiBhbGwgb3RoZXIgaW5kZXhlc1xuICBpZiAoZXJyb3IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmFpbGluZ0luZGV4OyBpICs9IDEpIHtcbiAgICAgIHRoaXMuaW5kZXhlc1trZXlzW2ldXS5yZW1vdmUoZG9jKTtcbiAgICB9XG5cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlbW92ZSBvbmUgb3Igc2V2ZXJhbCBkb2N1bWVudChzKSBmcm9tIGFsbCBpbmRleGVzXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUucmVtb3ZlRnJvbUluZGV4ZXMgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBPYmplY3Qua2V5cyh0aGlzLmluZGV4ZXMpLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICBzZWxmLmluZGV4ZXNbaV0ucmVtb3ZlKGRvYyk7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFVwZGF0ZSBvbmUgb3Igc2V2ZXJhbCBkb2N1bWVudHMgaW4gYWxsIGluZGV4ZXNcbiAqIFRvIHVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMsIG9sZERvYyBtdXN0IGJlIGFuIGFycmF5IG9mIHsgb2xkRG9jLCBuZXdEb2MgfSBwYWlyc1xuICogSWYgb25lIHVwZGF0ZSB2aW9sYXRlcyBhIGNvbnN0cmFpbnQsIGFsbCBjaGFuZ2VzIGFyZSByb2xsZWQgYmFja1xuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLnVwZGF0ZUluZGV4ZXMgPSBmdW5jdGlvbiAob2xkRG9jLCBuZXdEb2MpIHtcbiAgdmFyIGksIGZhaWxpbmdJbmRleCwgZXJyb3JcbiAgICAsIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmluZGV4ZXMpXG4gICAgO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaW5kZXhlc1trZXlzW2ldXS51cGRhdGUob2xkRG9jLCBuZXdEb2MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGZhaWxpbmdJbmRleCA9IGk7XG4gICAgICBlcnJvciA9IGU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBJZiBhbiBlcnJvciBoYXBwZW5lZCwgd2UgbmVlZCB0byByb2xsYmFjayB0aGUgdXBkYXRlIG9uIGFsbCBvdGhlciBpbmRleGVzXG4gIGlmIChlcnJvcikge1xuICAgIGZvciAoaSA9IDA7IGkgPCBmYWlsaW5nSW5kZXg7IGkgKz0gMSkge1xuICAgICAgdGhpcy5pbmRleGVzW2tleXNbaV1dLnJldmVydFVwZGF0ZShvbGREb2MsIG5ld0RvYyk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3Qgb2YgY2FuZGlkYXRlcyBmb3IgYSBnaXZlbiBxdWVyeVxuICogQ3J1ZGUgaW1wbGVtZW50YXRpb24gZm9yIG5vdywgd2UgcmV0dXJuIHRoZSBjYW5kaWRhdGVzIGdpdmVuIGJ5IHRoZSBmaXJzdCB1c2FibGUgaW5kZXggaWYgYW55XG4gKiBXZSB0cnkgdGhlIGZvbGxvd2luZyBxdWVyeSB0eXBlcywgaW4gdGhpcyBvcmRlcjogYmFzaWMgbWF0Y2gsICRpbiBtYXRjaCwgY29tcGFyaXNvbiBtYXRjaFxuICogT25lIHdheSB0byBtYWtlIGl0IGJldHRlciB3b3VsZCBiZSB0byBlbmFibGUgdGhlIHVzZSBvZiBtdWx0aXBsZSBpbmRleGVzIGlmIHRoZSBmaXJzdCB1c2FibGUgaW5kZXhcbiAqIHJldHVybnMgdG9vIG11Y2ggZGF0YS4gSSBtYXkgZG8gaXQgaW4gdGhlIGZ1dHVyZS5cbiAqXG4gKiBUT0RPOiBuZWVkcyB0byBiZSBtb3ZlZCB0byB0aGUgQ3Vyc29yIG1vZHVsZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmdldENhbmRpZGF0ZXMgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgdmFyIGluZGV4TmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmluZGV4ZXMpXG4gICAgLCB1c2FibGVRdWVyeUtleXM7XG5cbiAgLy8gRm9yIGEgYmFzaWMgbWF0Y2hcbiAgdXNhYmxlUXVlcnlLZXlzID0gW107XG4gIE9iamVjdC5rZXlzKHF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgaWYgKHR5cGVvZiBxdWVyeVtrXSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHF1ZXJ5W2tdID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgcXVlcnlba10gPT09ICdib29sZWFuJyB8fCB1dGlsLmlzRGF0ZShxdWVyeVtrXSkgfHwgcXVlcnlba10gPT09IG51bGwpIHtcbiAgICAgIHVzYWJsZVF1ZXJ5S2V5cy5wdXNoKGspO1xuICAgIH1cbiAgfSk7XG4gIHVzYWJsZVF1ZXJ5S2V5cyA9IF8uaW50ZXJzZWN0aW9uKHVzYWJsZVF1ZXJ5S2V5cywgaW5kZXhOYW1lcyk7XG4gIGlmICh1c2FibGVRdWVyeUtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4ZXNbdXNhYmxlUXVlcnlLZXlzWzBdXS5nZXRNYXRjaGluZyhxdWVyeVt1c2FibGVRdWVyeUtleXNbMF1dKTtcbiAgfVxuXG4gIC8vIEZvciBhICRpbiBtYXRjaFxuICB1c2FibGVRdWVyeUtleXMgPSBbXTtcbiAgT2JqZWN0LmtleXMocXVlcnkpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAocXVlcnlba10gJiYgcXVlcnlba10uaGFzT3duUHJvcGVydHkoJyRpbicpKSB7XG4gICAgICB1c2FibGVRdWVyeUtleXMucHVzaChrKTtcbiAgICB9XG4gIH0pO1xuICB1c2FibGVRdWVyeUtleXMgPSBfLmludGVyc2VjdGlvbih1c2FibGVRdWVyeUtleXMsIGluZGV4TmFtZXMpO1xuICBpZiAodXNhYmxlUXVlcnlLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleGVzW3VzYWJsZVF1ZXJ5S2V5c1swXV0uZ2V0TWF0Y2hpbmcocXVlcnlbdXNhYmxlUXVlcnlLZXlzWzBdXS4kaW4pO1xuICB9XG5cbiAgLy8gRm9yIGEgY29tcGFyaXNvbiBtYXRjaFxuICB1c2FibGVRdWVyeUtleXMgPSBbXTtcbiAgT2JqZWN0LmtleXMocXVlcnkpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAocXVlcnlba10gJiYgKHF1ZXJ5W2tdLmhhc093blByb3BlcnR5KCckbHQnKSB8fCBxdWVyeVtrXS5oYXNPd25Qcm9wZXJ0eSgnJGx0ZScpIHx8IHF1ZXJ5W2tdLmhhc093blByb3BlcnR5KCckZ3QnKSB8fCBxdWVyeVtrXS5oYXNPd25Qcm9wZXJ0eSgnJGd0ZScpKSkge1xuICAgICAgdXNhYmxlUXVlcnlLZXlzLnB1c2goayk7XG4gICAgfVxuICB9KTtcbiAgdXNhYmxlUXVlcnlLZXlzID0gXy5pbnRlcnNlY3Rpb24odXNhYmxlUXVlcnlLZXlzLCBpbmRleE5hbWVzKTtcbiAgaWYgKHVzYWJsZVF1ZXJ5S2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhlc1t1c2FibGVRdWVyeUtleXNbMF1dLmdldEJldHdlZW5Cb3VuZHMocXVlcnlbdXNhYmxlUXVlcnlLZXlzWzBdXSk7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0LCByZXR1cm4gYWxsIHRoZSBEQiBkYXRhXG4gIHJldHVybiB0aGlzLmdldEFsbERhdGEoKTtcbn07XG5cblxuLyoqXG4gKiBJbnNlcnQgYSBuZXcgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrLCBzaWduYXR1cmU6IGVyciwgaW5zZXJ0ZWREb2NcbiAqXG4gKiBAYXBpIHByaXZhdGUgVXNlIERhdGFzdG9yZS5pbnNlcnQgd2hpY2ggaGFzIHRoZSBzYW1lIHNpZ25hdHVyZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLl9pbnNlcnQgPSBmdW5jdGlvbiAobmV3RG9jLCBjYikge1xuICB2YXIgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgICwgcHJlcGFyZWREb2NcbiAgICA7XG5cbiAgdHJ5IHtcbiAgICBwcmVwYXJlZERvYyA9IHRoaXMucHJlcGFyZURvY3VtZW50Rm9ySW5zZXJ0aW9uKG5ld0RvYylcbiAgICB0aGlzLl9pbnNlcnRJbkNhY2hlKHByZXBhcmVkRG9jKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgfVxuXG4gIHRoaXMucGVyc2lzdGVuY2UucGVyc2lzdE5ld1N0YXRlKHV0aWwuaXNBcnJheShwcmVwYXJlZERvYykgPyBwcmVwYXJlZERvYyA6IFtwcmVwYXJlZERvY10sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG1vZGVsLmRlZXBDb3B5KHByZXBhcmVkRG9jKSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgX2lkIHRoYXQncyBub3QgYWxyZWFkeSBpbiB1c2VcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5jcmVhdGVOZXdJZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRlbnRhdGl2ZUlkID0gY3VzdG9tVXRpbHMudWlkKDE2KTtcbiAgLy8gVHJ5IGFzIG1hbnkgdGltZXMgYXMgbmVlZGVkIHRvIGdldCBhbiB1bnVzZWQgX2lkLiBBcyBleHBsYWluZWQgaW4gY3VzdG9tVXRpbHMsIHRoZSBwcm9iYWJpbGl0eSBvZiB0aGlzIGV2ZXIgaGFwcGVuaW5nIGlzIGV4dHJlbWVseSBzbWFsbCwgc28gdGhpcyBpcyBPKDEpXG4gIGlmICh0aGlzLmluZGV4ZXMuX2lkLmdldE1hdGNoaW5nKHRlbnRhdGl2ZUlkKS5sZW5ndGggPiAwKSB7XG4gICAgdGVudGF0aXZlSWQgPSB0aGlzLmNyZWF0ZU5ld0lkKCk7XG4gIH1cbiAgcmV0dXJuIHRlbnRhdGl2ZUlkO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlIGEgZG9jdW1lbnQgKG9yIGFycmF5IG9mIGRvY3VtZW50cykgdG8gYmUgaW5zZXJ0ZWQgaW4gYSBkYXRhYmFzZVxuICogTWVhbmluZyBhZGRzIF9pZCBhbmQgdGltZXN0YW1wcyBpZiBuZWNlc3Nhcnkgb24gYSBjb3B5IG9mIG5ld0RvYyB0byBhdm9pZCBhbnkgc2lkZSBlZmZlY3Qgb24gdXNlciBpbnB1dFxuICogQGFwaSBwcml2YXRlXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUucHJlcGFyZURvY3VtZW50Rm9ySW5zZXJ0aW9uID0gZnVuY3Rpb24gKG5ld0RvYykge1xuICB2YXIgcHJlcGFyZWREb2MsIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh1dGlsLmlzQXJyYXkobmV3RG9jKSkge1xuICAgIHByZXBhcmVkRG9jID0gW107XG4gICAgbmV3RG9jLmZvckVhY2goZnVuY3Rpb24gKGRvYykgeyBwcmVwYXJlZERvYy5wdXNoKHNlbGYucHJlcGFyZURvY3VtZW50Rm9ySW5zZXJ0aW9uKGRvYykpOyB9KTtcbiAgfSBlbHNlIHtcbiAgICBwcmVwYXJlZERvYyA9IG1vZGVsLmRlZXBDb3B5KG5ld0RvYyk7XG4gICAgaWYgKHByZXBhcmVkRG9jLl9pZCA9PT0gdW5kZWZpbmVkKSB7IHByZXBhcmVkRG9jLl9pZCA9IHRoaXMuY3JlYXRlTmV3SWQoKTsgfVxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGlmICh0aGlzLnRpbWVzdGFtcERhdGEgJiYgcHJlcGFyZWREb2MuY3JlYXRlZEF0ID09PSB1bmRlZmluZWQpIHsgcHJlcGFyZWREb2MuY3JlYXRlZEF0ID0gbm93OyB9XG4gICAgaWYgKHRoaXMudGltZXN0YW1wRGF0YSAmJiBwcmVwYXJlZERvYy51cGRhdGVkQXQgPT09IHVuZGVmaW5lZCkgeyBwcmVwYXJlZERvYy51cGRhdGVkQXQgPSBub3c7IH1cbiAgICBtb2RlbC5jaGVja09iamVjdChwcmVwYXJlZERvYyk7XG4gIH1cblxuICByZXR1cm4gcHJlcGFyZWREb2M7XG59O1xuXG4vKipcbiAqIElmIG5ld0RvYyBpcyBhbiBhcnJheSBvZiBkb2N1bWVudHMsIHRoaXMgd2lsbCBpbnNlcnQgYWxsIGRvY3VtZW50cyBpbiB0aGUgY2FjaGVcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLl9pbnNlcnRJbkNhY2hlID0gZnVuY3Rpb24gKHByZXBhcmVkRG9jKSB7XG4gIGlmICh1dGlsLmlzQXJyYXkocHJlcGFyZWREb2MpKSB7XG4gICAgdGhpcy5faW5zZXJ0TXVsdGlwbGVEb2NzSW5DYWNoZShwcmVwYXJlZERvYyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hZGRUb0luZGV4ZXMocHJlcGFyZWREb2MpO1xuICB9XG59O1xuXG4vKipcbiAqIElmIG9uZSBpbnNlcnRpb24gZmFpbHMgKGUuZy4gYmVjYXVzZSBvZiBhIHVuaXF1ZSBjb25zdHJhaW50KSwgcm9sbCBiYWNrIGFsbCBwcmV2aW91c1xuICogaW5zZXJ0cyBhbmQgdGhyb3dzIHRoZSBlcnJvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbkRhdGFzdG9yZS5wcm90b3R5cGUuX2luc2VydE11bHRpcGxlRG9jc0luQ2FjaGUgPSBmdW5jdGlvbiAocHJlcGFyZWREb2NzKSB7XG4gIHZhciBpLCBmYWlsaW5nSSwgZXJyb3I7XG5cbiAgZm9yIChpID0gMDsgaSA8IHByZXBhcmVkRG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmFkZFRvSW5kZXhlcyhwcmVwYXJlZERvY3NbaV0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVycm9yID0gZTtcbiAgICAgIGZhaWxpbmdJID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIGZvciAoaSA9IDA7IGkgPCBmYWlsaW5nSTsgaSArPSAxKSB7XG4gICAgICB0aGlzLnJlbW92ZUZyb21JbmRleGVzKHByZXBhcmVkRG9jc1tpXSk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbkRhdGFzdG9yZS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLCBmbjogdGhpcy5faW5zZXJ0LCBhcmd1bWVudHM6IGFyZ3VtZW50cyB9KTtcbn07XG5cblxuLyoqXG4gKiBDb3VudCBhbGwgZG9jdW1lbnRzIG1hdGNoaW5nIHRoZSBxdWVyeVxuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IE1vbmdvREItc3R5bGUgcXVlcnlcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykge1xuICB2YXIgY3Vyc29yID0gbmV3IEN1cnNvcih0aGlzLCBxdWVyeSwgZnVuY3Rpb24oZXJyLCBkb2NzLCBjYWxsYmFjaykge1xuICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgZG9jcy5sZW5ndGgpO1xuICB9KTtcblxuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY3Vyc29yLmV4ZWMoY2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjdXJzb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBGaW5kIGFsbCBkb2N1bWVudHMgbWF0Y2hpbmcgdGhlIHF1ZXJ5XG4gKiBJZiBubyBjYWxsYmFjayBpcyBwYXNzZWQsIHdlIHJldHVybiB0aGUgY3Vyc29yIHNvIHRoYXQgdXNlciBjYW4gbGltaXQsIHNraXAgYW5kIGZpbmFsbHkgZXhlY1xuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IE1vbmdvREItc3R5bGUgcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9qZWN0aW9uIE1vbmdvREItc3R5bGUgcHJvamVjdGlvblxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAocXVlcnksIHByb2plY3Rpb24sIGNhbGxiYWNrKSB7XG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIHByb2plY3Rpb24gPSB7fTtcbiAgICAgIC8vIGNhbGxiYWNrIGlzIHVuZGVmaW5lZCwgd2lsbCByZXR1cm4gYSBjdXJzb3JcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGlmICh0eXBlb2YgcHJvamVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IHByb2plY3Rpb247XG4gICAgICAgIHByb2plY3Rpb24gPSB7fTtcbiAgICAgIH0gICAvLyBJZiBub3QgYXNzdW1lIHByb2plY3Rpb24gaXMgYW4gb2JqZWN0IGFuZCBjYWxsYmFjayB1bmRlZmluZWRcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgdmFyIGN1cnNvciA9IG5ldyBDdXJzb3IodGhpcywgcXVlcnksIGZ1bmN0aW9uKGVyciwgZG9jcywgY2FsbGJhY2spIHtcbiAgICB2YXIgcmVzID0gW10sIGk7XG5cbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgcmVzLnB1c2gobW9kZWwuZGVlcENvcHkoZG9jc1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgfSk7XG5cbiAgY3Vyc29yLnByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjdXJzb3IuZXhlYyhjYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGN1cnNvcjtcbiAgfVxufTtcblxuXG4vKipcbiAqIEZpbmQgb25lIGRvY3VtZW50IG1hdGNoaW5nIHRoZSBxdWVyeVxuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IE1vbmdvREItc3R5bGUgcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9qZWN0aW9uIE1vbmdvREItc3R5bGUgcHJvamVjdGlvblxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLmZpbmRPbmUgPSBmdW5jdGlvbiAocXVlcnksIHByb2plY3Rpb24sIGNhbGxiYWNrKSB7XG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIHByb2plY3Rpb24gPSB7fTtcbiAgICAgIC8vIGNhbGxiYWNrIGlzIHVuZGVmaW5lZCwgd2lsbCByZXR1cm4gYSBjdXJzb3JcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGlmICh0eXBlb2YgcHJvamVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IHByb2plY3Rpb247XG4gICAgICAgIHByb2plY3Rpb24gPSB7fTtcbiAgICAgIH0gICAvLyBJZiBub3QgYXNzdW1lIHByb2plY3Rpb24gaXMgYW4gb2JqZWN0IGFuZCBjYWxsYmFjayB1bmRlZmluZWRcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgdmFyIGN1cnNvciA9IG5ldyBDdXJzb3IodGhpcywgcXVlcnksIGZ1bmN0aW9uKGVyciwgZG9jcywgY2FsbGJhY2spIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgaWYgKGRvY3MubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbW9kZWwuZGVlcENvcHkoZG9jc1swXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVsbCk7XG4gICAgfVxuICB9KTtcblxuICBjdXJzb3IucHJvamVjdGlvbihwcm9qZWN0aW9uKS5saW1pdCgxKTtcbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGN1cnNvci5leGVjKGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3Vyc29yO1xuICB9XG59O1xuXG5cbi8qKlxuICogVXBkYXRlIGFsbCBkb2NzIG1hdGNoaW5nIHF1ZXJ5XG4gKiBGb3Igbm93LCB2ZXJ5IG5haXZlIGltcGxlbWVudGF0aW9uIChyZWNhbGN1bGF0aW5nIHRoZSB3aG9sZSBkYXRhYmFzZSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeVxuICogQHBhcmFtIHtPYmplY3R9IHVwZGF0ZVF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25hbCBvcHRpb25zXG4gKiAgICAgICAgICAgICAgICAgb3B0aW9ucy5tdWx0aSBJZiB0cnVlLCBjYW4gdXBkYXRlIG11bHRpcGxlIGRvY3VtZW50cyAoZGVmYXVsdHMgdG8gZmFsc2UpXG4gKiAgICAgICAgICAgICAgICAgb3B0aW9ucy51cHNlcnQgSWYgdHJ1ZSwgZG9jdW1lbnQgaXMgaW5zZXJ0ZWQgaWYgdGhlIHF1ZXJ5IGRvZXNuJ3QgbWF0Y2ggYW55dGhpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrLCBzaWduYXR1cmU6IGVyciwgbnVtUmVwbGFjZWQsIHVwc2VydCAoc2V0IHRvIHRydWUgaWYgdGhlIHVwZGF0ZSB3YXMgaW4gZmFjdCBhbiB1cHNlcnQpXG4gKlxuICogQGFwaSBwcml2YXRlIFVzZSBEYXRhc3RvcmUudXBkYXRlIHdoaWNoIGhhcyB0aGUgc2FtZSBzaWduYXR1cmVcbiAqL1xuRGF0YXN0b3JlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKHF1ZXJ5LCB1cGRhdGVRdWVyeSwgb3B0aW9ucywgY2IpIHtcbiAgdmFyIGNhbGxiYWNrXG4gICAgLCBzZWxmID0gdGhpc1xuICAgICwgbnVtUmVwbGFjZWQgPSAwXG4gICAgLCBtdWx0aSwgdXBzZXJ0XG4gICAgLCBpXG4gICAgO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgeyBjYiA9IG9wdGlvbnM7IG9wdGlvbnMgPSB7fTsgfVxuICBjYWxsYmFjayA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9O1xuICBtdWx0aSA9IG9wdGlvbnMubXVsdGkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXVsdGkgOiBmYWxzZTtcbiAgdXBzZXJ0ID0gb3B0aW9ucy51cHNlcnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXBzZXJ0IDogZmFsc2U7XG5cbiAgYXN5bmMud2F0ZXJmYWxsKFtcbiAgZnVuY3Rpb24gKGNiKSB7ICAgLy8gSWYgdXBzZXJ0IG9wdGlvbiBpcyBzZXQsIGNoZWNrIHdoZXRoZXIgd2UgbmVlZCB0byBpbnNlcnQgdGhlIGRvY1xuICAgIGlmICghdXBzZXJ0KSB7IHJldHVybiBjYigpOyB9XG5cbiAgICAvLyBOZWVkIHRvIHVzZSBhbiBpbnRlcm5hbCBmdW5jdGlvbiBub3QgdGllZCB0byB0aGUgZXhlY3V0b3IgdG8gYXZvaWQgZGVhZGxvY2tcbiAgICB2YXIgY3Vyc29yID0gbmV3IEN1cnNvcihzZWxmLCBxdWVyeSk7XG4gICAgY3Vyc29yLmxpbWl0KDEpLl9leGVjKGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cbiAgICAgIGlmIChkb2NzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gY2IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0b0JlSW5zZXJ0ZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBtb2RlbC5jaGVja09iamVjdCh1cGRhdGVRdWVyeSk7XG4gICAgICAgICAgLy8gdXBkYXRlUXVlcnkgaXMgYSBzaW1wbGUgb2JqZWN0IHdpdGggbm8gbW9kaWZpZXIsIHVzZSBpdCBhcyB0aGUgZG9jdW1lbnQgdG8gaW5zZXJ0XG4gICAgICAgICAgdG9CZUluc2VydGVkID0gdXBkYXRlUXVlcnk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyB1cGRhdGVRdWVyeSBjb250YWlucyBtb2RpZmllcnMsIHVzZSB0aGUgZmluZCBxdWVyeSBhcyB0aGUgYmFzZSxcbiAgICAgICAgICAvLyBzdHJpcCBpdCBmcm9tIGFsbCBvcGVyYXRvcnMgYW5kIHVwZGF0ZSBpdCBhY2NvcmRpbmcgdG8gdXBkYXRlUXVlcnlcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdG9CZUluc2VydGVkID0gbW9kZWwubW9kaWZ5KG1vZGVsLmRlZXBDb3B5KHF1ZXJ5LCB0cnVlKSwgdXBkYXRlUXVlcnkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2luc2VydCh0b0JlSW5zZXJ0ZWQsIGZ1bmN0aW9uIChlcnIsIG5ld0RvYykge1xuICAgICAgICAgIGlmIChlcnIpIHsgcmV0dXJuIGNhbGxiYWNrKGVycik7IH1cbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgMSwgbmV3RG9jKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLCBmdW5jdGlvbiAoKSB7ICAgLy8gUGVyZm9ybSB0aGUgdXBkYXRlXG4gICAgdmFyIG1vZGlmaWVkRG9jXG5cdCAgLCBjYW5kaWRhdGVzID0gc2VsZi5nZXRDYW5kaWRhdGVzKHF1ZXJ5KVxuXHQgICwgbW9kaWZpY2F0aW9ucyA9IFtdXG5cdCAgO1xuXG4gICAgLy8gUHJlcGFyaW5nIHVwZGF0ZSAoaWYgYW4gZXJyb3IgaXMgdGhyb3duIGhlcmUgbmVpdGhlciB0aGUgZGF0YWZpbGUgbm9yXG4gICAgLy8gdGhlIGluLW1lbW9yeSBpbmRleGVzIGFyZSBhZmZlY3RlZClcbiAgICB0cnkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG1vZGVsLm1hdGNoKGNhbmRpZGF0ZXNbaV0sIHF1ZXJ5KSAmJiAobXVsdGkgfHwgbnVtUmVwbGFjZWQgPT09IDApKSB7XG4gICAgICAgICAgbnVtUmVwbGFjZWQgKz0gMTtcbiAgICAgICAgICBtb2RpZmllZERvYyA9IG1vZGVsLm1vZGlmeShjYW5kaWRhdGVzW2ldLCB1cGRhdGVRdWVyeSk7XG4gICAgICAgICAgaWYgKHNlbGYudGltZXN0YW1wRGF0YSkgeyBtb2RpZmllZERvYy51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpOyB9XG4gICAgICAgICAgbW9kaWZpY2F0aW9ucy5wdXNoKHsgb2xkRG9jOiBjYW5kaWRhdGVzW2ldLCBuZXdEb2M6IG1vZGlmaWVkRG9jIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIGRvY3MgaW4gbWVtb3J5XG4gICAgdHJ5IHtcbiAgICAgICAgc2VsZi51cGRhdGVJbmRleGVzKG1vZGlmaWNhdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBkYXRhZmlsZVxuICAgIHNlbGYucGVyc2lzdGVuY2UucGVyc2lzdE5ld1N0YXRlKF8ucGx1Y2sobW9kaWZpY2F0aW9ucywgJ25ld0RvYycpLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7IHJldHVybiBjYWxsYmFjayhlcnIpOyB9XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVtUmVwbGFjZWQpO1xuICAgIH0pO1xuICB9XG4gIF0pO1xufTtcbkRhdGFzdG9yZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmV4ZWN1dG9yLnB1c2goeyB0aGlzOiB0aGlzLCBmbjogdGhpcy5fdXBkYXRlLCBhcmd1bWVudHM6IGFyZ3VtZW50cyB9KTtcbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGRvY3MgbWF0Y2hpbmcgdGhlIHF1ZXJ5XG4gKiBGb3Igbm93IHZlcnkgbmFpdmUgaW1wbGVtZW50YXRpb24gKHNpbWlsYXIgdG8gdXBkYXRlKVxuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25hbCBvcHRpb25zXG4gKiAgICAgICAgICAgICAgICAgb3B0aW9ucy5tdWx0aSBJZiB0cnVlLCBjYW4gdXBkYXRlIG11bHRpcGxlIGRvY3VtZW50cyAoZGVmYXVsdHMgdG8gZmFsc2UpXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBPcHRpb25hbCBjYWxsYmFjaywgc2lnbmF0dXJlOiBlcnIsIG51bVJlbW92ZWRcbiAqXG4gKiBAYXBpIHByaXZhdGUgVXNlIERhdGFzdG9yZS5yZW1vdmUgd2hpY2ggaGFzIHRoZSBzYW1lIHNpZ25hdHVyZVxuICovXG5EYXRhc3RvcmUucHJvdG90eXBlLl9yZW1vdmUgPSBmdW5jdGlvbiAocXVlcnksIG9wdGlvbnMsIGNiKSB7XG4gIHZhciBjYWxsYmFja1xuICAgICwgc2VsZiA9IHRoaXNcbiAgICAsIG51bVJlbW92ZWQgPSAwXG4gICAgLCBtdWx0aVxuICAgICwgcmVtb3ZlZERvY3MgPSBbXVxuICAgICwgY2FuZGlkYXRlcyA9IHRoaXMuZ2V0Q2FuZGlkYXRlcyhxdWVyeSlcbiAgICA7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7IGNiID0gb3B0aW9uczsgb3B0aW9ucyA9IHt9OyB9XG4gIGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24gKCkge307XG4gIG11bHRpID0gb3B0aW9ucy5tdWx0aSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tdWx0aSA6IGZhbHNlO1xuXG4gIHRyeSB7XG4gICAgY2FuZGlkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICBpZiAobW9kZWwubWF0Y2goZCwgcXVlcnkpICYmIChtdWx0aSB8fCBudW1SZW1vdmVkID09PSAwKSkge1xuICAgICAgICBudW1SZW1vdmVkICs9IDE7XG4gICAgICAgIHJlbW92ZWREb2NzLnB1c2goeyAkJGRlbGV0ZWQ6IHRydWUsIF9pZDogZC5faWQgfSk7XG4gICAgICAgIHNlbGYucmVtb3ZlRnJvbUluZGV4ZXMoZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuXG4gIHNlbGYucGVyc2lzdGVuY2UucGVyc2lzdE5ld1N0YXRlKHJlbW92ZWREb2NzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBudW1SZW1vdmVkKTtcbiAgfSk7XG59O1xuRGF0YXN0b3JlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZXhlY3V0b3IucHVzaCh7IHRoaXM6IHRoaXMsIGZuOiB0aGlzLl9yZW1vdmUsIGFyZ3VtZW50czogYXJndW1lbnRzIH0pO1xufTtcblxuXG5cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YXN0b3JlO1xuXG59LHtcIi4vY3Vyc29yXCI6MTEsXCIuL2N1c3RvbVV0aWxzXCI6OCxcIi4vZXhlY3V0b3JcIjoxMyxcIi4vaW5kZXhlc1wiOjE0LFwiLi9tb2RlbFwiOjE1LFwiLi9wZXJzaXN0ZW5jZVwiOjE2LFwiYXN5bmNcIjoxNyxcInVuZGVyc2NvcmVcIjoxOCxcInV0aWxcIjoyMn1dLDEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBzZXF1ZW50aWFsbHkgZXhlY3V0aW5nIGFjdGlvbnMgb24gdGhlIGRhdGFiYXNlXG4gKi9cblxudmFyIGFzeW5jID0gcmVxdWlyZSgnYXN5bmMnKVxuICA7XG5cbmZ1bmN0aW9uIEV4ZWN1dG9yICgpIHtcbiAgdGhpcy5idWZmZXIgPSBbXTtcbiAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuXG4gIC8vIFRoaXMgcXVldWUgd2lsbCBleGVjdXRlIGFsbCBjb21tYW5kcywgb25lLWJ5LW9uZSBpbiBvcmRlclxuICB0aGlzLnF1ZXVlID0gYXN5bmMucXVldWUoZnVuY3Rpb24gKHRhc2ssIGNiKSB7XG4gICAgdmFyIGNhbGxiYWNrXG4gICAgICAsIGxhc3RBcmcgPSB0YXNrLmFyZ3VtZW50c1t0YXNrLmFyZ3VtZW50cy5sZW5ndGggLSAxXVxuICAgICAgLCBpLCBuZXdBcmd1bWVudHMgPSBbXVxuICAgICAgO1xuXG4gICAgLy8gdGFzay5hcmd1bWVudHMgaXMgYW4gYXJyYXktbGlrZSBvYmplY3Qgb24gd2hpY2ggYWRkaW5nIGEgbmV3IGZpZWxkIGRvZXNuJ3Qgd29yaywgc28gd2UgdHJhbnNmb3JtIGl0IGludG8gYSByZWFsIGFycmF5XG4gICAgZm9yIChpID0gMDsgaSA8IHRhc2suYXJndW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7IG5ld0FyZ3VtZW50cy5wdXNoKHRhc2suYXJndW1lbnRzW2ldKTsgfVxuXG4gICAgLy8gQWx3YXlzIHRlbGwgdGhlIHF1ZXVlIHRhc2sgaXMgY29tcGxldGUuIEV4ZWN1dGUgY2FsbGJhY2sgaWYgYW55IHdhcyBnaXZlbi5cbiAgICBpZiAodHlwZW9mIGxhc3RBcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICBzZXRJbW1lZGlhdGUoY2IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soY2IpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmcuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG5cbiAgICAgIG5ld0FyZ3VtZW50c1tuZXdBcmd1bWVudHMubGVuZ3RoIC0gMV0gPSBjYWxsYmFjaztcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGNiKCk7IH07XG4gICAgICBuZXdBcmd1bWVudHMucHVzaChjYWxsYmFjayk7XG4gICAgfVxuXG5cbiAgICB0YXNrLmZuLmFwcGx5KHRhc2sudGhpcywgbmV3QXJndW1lbnRzKTtcbiAgfSwgMSk7XG59XG5cblxuLyoqXG4gKiBJZiBleGVjdXRvciBpcyByZWFkeSwgcXVldWUgdGFzayAoYW5kIHByb2Nlc3MgaXQgaW1tZWRpYXRlbHkgaWYgZXhlY3V0b3Igd2FzIGlkbGUpXG4gKiBJZiBub3QsIGJ1ZmZlciB0YXNrIGZvciBsYXRlciBwcm9jZXNzaW5nXG4gKiBAcGFyYW0ge09iamVjdH0gdGFza1xuICogICAgICAgICAgICAgICAgIHRhc2sudGhpcyAtIE9iamVjdCB0byB1c2UgYXMgdGhpc1xuICogICAgICAgICAgICAgICAgIHRhc2suZm4gLSBGdW5jdGlvbiB0byBleGVjdXRlXG4gKiAgICAgICAgICAgICAgICAgdGFzay5hcmd1bWVudHMgLSBBcnJheSBvZiBhcmd1bWVudHNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VRdWV1aW5nIE9wdGlvbmFsIChkZWZhdWx0cyB0byBmYWxzZSkgZm9yY2UgZXhlY3V0b3IgdG8gcXVldWUgdGFzayBldmVuIGlmIGl0IGlzIG5vdCByZWFkeVxuICovXG5FeGVjdXRvci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXNrLCBmb3JjZVF1ZXVpbmcpIHtcbiAgaWYgKHRoaXMucmVhZHkgfHwgZm9yY2VRdWV1aW5nKSB7XG4gICAgdGhpcy5xdWV1ZS5wdXNoKHRhc2spO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYnVmZmVyLnB1c2godGFzayk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBRdWV1ZSBhbGwgdGFza3MgaW4gYnVmZmVyIChpbiB0aGUgc2FtZSBvcmRlciB0aGV5IGNhbWUgaW4pXG4gKiBBdXRvbWF0aWNhbGx5IHNldHMgZXhlY3V0b3IgYXMgcmVhZHlcbiAqL1xuRXhlY3V0b3IucHJvdG90eXBlLnByb2Nlc3NCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpO1xuICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVyLmxlbmd0aDsgaSArPSAxKSB7IHRoaXMucXVldWUucHVzaCh0aGlzLmJ1ZmZlcltpXSk7IH1cbiAgdGhpcy5idWZmZXIgPSBbXTtcbn07XG5cblxuXG4vLyBJbnRlcmZhY2Vcbm1vZHVsZS5leHBvcnRzID0gRXhlY3V0b3I7XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKVxufSx7XCJfcHJvY2Vzc1wiOjIwLFwiYXN5bmNcIjoxN31dLDE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBCaW5hcnlTZWFyY2hUcmVlID0gcmVxdWlyZSgnYmluYXJ5LXNlYXJjaC10cmVlJykuQVZMVHJlZVxuICAsIG1vZGVsID0gcmVxdWlyZSgnLi9tb2RlbCcpXG4gICwgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKVxuICAsIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgO1xuXG4vKipcbiAqIFR3byBpbmRleGVkIHBvaW50ZXJzIGFyZSBlcXVhbCBpaWYgdGhleSBwb2ludCB0byB0aGUgc2FtZSBwbGFjZVxuICovXG5mdW5jdGlvbiBjaGVja1ZhbHVlRXF1YWxpdHkgKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbi8qKlxuICogVHlwZS1hd2FyZSBwcm9qZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIHByb2plY3RGb3JVbmlxdWUgKGVsdCkge1xuICBpZiAoZWx0ID09PSBudWxsKSB7IHJldHVybiAnJG51bGwnOyB9XG4gIGlmICh0eXBlb2YgZWx0ID09PSAnc3RyaW5nJykgeyByZXR1cm4gJyRzdHJpbmcnICsgZWx0OyB9XG4gIGlmICh0eXBlb2YgZWx0ID09PSAnYm9vbGVhbicpIHsgcmV0dXJuICckYm9vbGVhbicgKyBlbHQ7IH1cbiAgaWYgKHR5cGVvZiBlbHQgPT09ICdudW1iZXInKSB7IHJldHVybiAnJG51bWJlcicgKyBlbHQ7IH1cbiAgaWYgKHV0aWwuaXNBcnJheShlbHQpKSB7IHJldHVybiAnJGRhdGUnICsgZWx0LmdldFRpbWUoKTsgfVxuICBcbiAgcmV0dXJuIGVsdDsgICAvLyBBcnJheXMgYW5kIG9iamVjdHMsIHdpbGwgY2hlY2sgZm9yIHBvaW50ZXIgZXF1YWxpdHlcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbmRleFxuICogQWxsIG1ldGhvZHMgb24gYW4gaW5kZXggZ3VhcmFudGVlIHRoYXQgZWl0aGVyIHRoZSB3aG9sZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwgYW5kIHRoZSBpbmRleCBjaGFuZ2VkXG4gKiBvciB0aGUgb3BlcmF0aW9uIHdhcyB1bnN1Y2Nlc3NmdWwgYW5kIGFuIGVycm9yIGlzIHRocm93biB3aGlsZSB0aGUgaW5kZXggaXMgdW5jaGFuZ2VkXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5maWVsZE5hbWUgT24gd2hpY2ggZmllbGQgc2hvdWxkIHRoZSBpbmRleCBhcHBseSAoY2FuIHVzZSBkb3Qgbm90YXRpb24gdG8gaW5kZXggb24gc3ViIGZpZWxkcylcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy51bmlxdWUgT3B0aW9uYWwsIGVuZm9yY2UgYSB1bmlxdWUgY29uc3RyYWludCAoZGVmYXVsdDogZmFsc2UpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuc3BhcnNlIE9wdGlvbmFsLCBhbGxvdyBhIHNwYXJzZSBpbmRleCAod2UgY2FuIGhhdmUgZG9jdW1lbnRzIGZvciB3aGljaCBmaWVsZE5hbWUgaXMgdW5kZWZpbmVkKSAoZGVmYXVsdDogZmFsc2UpXG4gKi9cbmZ1bmN0aW9uIEluZGV4IChvcHRpb25zKSB7XG4gIHRoaXMuZmllbGROYW1lID0gb3B0aW9ucy5maWVsZE5hbWU7XG4gIHRoaXMudW5pcXVlID0gb3B0aW9ucy51bmlxdWUgfHwgZmFsc2U7XG4gIHRoaXMuc3BhcnNlID0gb3B0aW9ucy5zcGFyc2UgfHwgZmFsc2U7XG5cbiAgdGhpcy50cmVlT3B0aW9ucyA9IHsgdW5pcXVlOiB0aGlzLnVuaXF1ZSwgY29tcGFyZUtleXM6IG1vZGVsLmNvbXBhcmVUaGluZ3MsIGNoZWNrVmFsdWVFcXVhbGl0eTogY2hlY2tWYWx1ZUVxdWFsaXR5IH07XG5cbiAgdGhpcy5yZXNldCgpOyAgIC8vIE5vIGRhdGEgaW4gdGhlIGJlZ2lubmluZ1xufVxuXG5cbi8qKlxuICogUmVzZXQgYW4gaW5kZXhcbiAqIEBwYXJhbSB7RG9jdW1lbnQgb3IgQXJyYXkgb2YgZG9jdW1lbnRzfSBuZXdEYXRhIE9wdGlvbmFsLCBkYXRhIHRvIGluaXRpYWxpemUgdGhlIGluZGV4IHdpdGhcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGFuIGVycm9yIGlzIHRocm93biBkdXJpbmcgaW5zZXJ0aW9uLCB0aGUgaW5kZXggaXMgbm90IG1vZGlmaWVkXG4gKi9cbkluZGV4LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIChuZXdEYXRhKSB7XG4gIHRoaXMudHJlZSA9IG5ldyBCaW5hcnlTZWFyY2hUcmVlKHRoaXMudHJlZU9wdGlvbnMpO1xuXG4gIGlmIChuZXdEYXRhKSB7IHRoaXMuaW5zZXJ0KG5ld0RhdGEpOyB9XG59O1xuXG5cbi8qKlxuICogSW5zZXJ0IGEgbmV3IGRvY3VtZW50IGluIHRoZSBpbmRleFxuICogSWYgYW4gYXJyYXkgaXMgcGFzc2VkLCB3ZSBpbnNlcnQgYWxsIGl0cyBlbGVtZW50cyAoaWYgb25lIGluc2VydGlvbiBmYWlscyB0aGUgaW5kZXggaXMgbm90IG1vZGlmaWVkKVxuICogTyhsb2cobikpXG4gKi9cbkluZGV4LnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHZhciBrZXksIHNlbGYgPSB0aGlzXG4gICAgLCBrZXlzLCBpLCBmYWlsaW5nSSwgZXJyb3JcbiAgICA7XG5cbiAgaWYgKHV0aWwuaXNBcnJheShkb2MpKSB7IHRoaXMuaW5zZXJ0TXVsdGlwbGVEb2NzKGRvYyk7IHJldHVybjsgfVxuXG4gIGtleSA9IG1vZGVsLmdldERvdFZhbHVlKGRvYywgdGhpcy5maWVsZE5hbWUpO1xuXG4gIC8vIFdlIGRvbid0IGluZGV4IGRvY3VtZW50cyB0aGF0IGRvbid0IGNvbnRhaW4gdGhlIGZpZWxkIGlmIHRoZSBpbmRleCBpcyBzcGFyc2VcbiAgaWYgKGtleSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuc3BhcnNlKSB7IHJldHVybjsgfVxuXG4gIGlmICghdXRpbC5pc0FycmF5KGtleSkpIHtcbiAgICB0aGlzLnRyZWUuaW5zZXJ0KGtleSwgZG9jKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhbiBpbnNlcnQgZmFpbHMgZHVlIHRvIGEgdW5pcXVlIGNvbnN0cmFpbnQsIHJvbGwgYmFjayBhbGwgaW5zZXJ0cyBiZWZvcmUgaXRcbiAgICBrZXlzID0gXy51bmlxKGtleSwgcHJvamVjdEZvclVuaXF1ZSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy50cmVlLmluc2VydChrZXlzW2ldLCBkb2MpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgIGZhaWxpbmdJID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGZhaWxpbmdJOyBpICs9IDEpIHtcbiAgICAgICAgdGhpcy50cmVlLmRlbGV0ZShrZXlzW2ldLCBkb2MpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBJbnNlcnQgYW4gYXJyYXkgb2YgZG9jdW1lbnRzIGluIHRoZSBpbmRleFxuICogSWYgYSBjb25zdHJhaW50IGlzIHZpb2xhdGVkLCB0aGUgY2hhbmdlcyBzaG91bGQgYmUgcm9sbGVkIGJhY2sgYW5kIGFuIGVycm9yIHRocm93blxuICpcbiAqIEBBUEkgcHJpdmF0ZVxuICovXG5JbmRleC5wcm90b3R5cGUuaW5zZXJ0TXVsdGlwbGVEb2NzID0gZnVuY3Rpb24gKGRvY3MpIHtcbiAgdmFyIGksIGVycm9yLCBmYWlsaW5nSTtcblxuICBmb3IgKGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmluc2VydChkb2NzW2ldKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvciA9IGU7XG4gICAgICBmYWlsaW5nSSA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmFpbGluZ0k7IGkgKz0gMSkge1xuICAgICAgdGhpcy5yZW1vdmUoZG9jc1tpXSk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgYSBkb2N1bWVudCBmcm9tIHRoZSBpbmRleFxuICogSWYgYW4gYXJyYXkgaXMgcGFzc2VkLCB3ZSByZW1vdmUgYWxsIGl0cyBlbGVtZW50c1xuICogVGhlIHJlbW92ZSBvcGVyYXRpb24gaXMgc2FmZSB3aXRoIHJlZ2FyZHMgdG8gdGhlICd1bmlxdWUnIGNvbnN0cmFpbnRcbiAqIE8obG9nKG4pKVxuICovXG5JbmRleC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGRvYykge1xuICB2YXIga2V5LCBzZWxmID0gdGhpcztcblxuICBpZiAodXRpbC5pc0FycmF5KGRvYykpIHsgZG9jLmZvckVhY2goZnVuY3Rpb24gKGQpIHsgc2VsZi5yZW1vdmUoZCk7IH0pOyByZXR1cm47IH1cblxuICBrZXkgPSBtb2RlbC5nZXREb3RWYWx1ZShkb2MsIHRoaXMuZmllbGROYW1lKTtcblxuICBpZiAoa2V5ID09PSB1bmRlZmluZWQgJiYgdGhpcy5zcGFyc2UpIHsgcmV0dXJuOyB9XG5cbiAgaWYgKCF1dGlsLmlzQXJyYXkoa2V5KSkge1xuICAgIHRoaXMudHJlZS5kZWxldGUoa2V5LCBkb2MpO1xuICB9IGVsc2Uge1xuICAgIF8udW5pcShrZXksIHByb2plY3RGb3JVbmlxdWUpLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICAgIHNlbGYudHJlZS5kZWxldGUoX2tleSwgZG9jKTtcbiAgICB9KTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFVwZGF0ZSBhIGRvY3VtZW50IGluIHRoZSBpbmRleFxuICogSWYgYSBjb25zdHJhaW50IGlzIHZpb2xhdGVkLCBjaGFuZ2VzIGFyZSByb2xsZWQgYmFjayBhbmQgYW4gZXJyb3IgdGhyb3duXG4gKiBOYWl2ZSBpbXBsZW1lbnRhdGlvbiwgc3RpbGwgaW4gTyhsb2cobikpXG4gKi9cbkluZGV4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAob2xkRG9jLCBuZXdEb2MpIHtcbiAgaWYgKHV0aWwuaXNBcnJheShvbGREb2MpKSB7IHRoaXMudXBkYXRlTXVsdGlwbGVEb2NzKG9sZERvYyk7IHJldHVybjsgfVxuXG4gIHRoaXMucmVtb3ZlKG9sZERvYyk7XG5cbiAgdHJ5IHtcbiAgICB0aGlzLmluc2VydChuZXdEb2MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhpcy5pbnNlcnQob2xkRG9jKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5cbi8qKlxuICogVXBkYXRlIG11bHRpcGxlIGRvY3VtZW50cyBpbiB0aGUgaW5kZXhcbiAqIElmIGEgY29uc3RyYWludCBpcyB2aW9sYXRlZCwgdGhlIGNoYW5nZXMgbmVlZCB0byBiZSByb2xsZWQgYmFja1xuICogYW5kIGFuIGVycm9yIHRocm93blxuICogQHBhcmFtIHtBcnJheSBvZiBvbGREb2MsIG5ld0RvYyBwYWlyc30gcGFpcnNcbiAqXG4gKiBAQVBJIHByaXZhdGVcbiAqL1xuSW5kZXgucHJvdG90eXBlLnVwZGF0ZU11bHRpcGxlRG9jcyA9IGZ1bmN0aW9uIChwYWlycykge1xuICB2YXIgaSwgZmFpbGluZ0ksIGVycm9yO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXMucmVtb3ZlKHBhaXJzW2ldLm9sZERvYyk7XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5pbnNlcnQocGFpcnNbaV0ubmV3RG9jKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvciA9IGU7XG4gICAgICBmYWlsaW5nSSA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBJZiBhbiBlcnJvciB3YXMgcmFpc2VkLCByb2xsIGJhY2sgY2hhbmdlcyBpbiB0aGUgaW52ZXJzZSBvcmRlclxuICBpZiAoZXJyb3IpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmFpbGluZ0k7IGkgKz0gMSkge1xuICAgICAgdGhpcy5yZW1vdmUocGFpcnNbaV0ubmV3RG9jKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRoaXMuaW5zZXJ0KHBhaXJzW2ldLm9sZERvYyk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZXZlcnQgYW4gdXBkYXRlXG4gKi9cbkluZGV4LnByb3RvdHlwZS5yZXZlcnRVcGRhdGUgPSBmdW5jdGlvbiAob2xkRG9jLCBuZXdEb2MpIHtcbiAgdmFyIHJldmVydCA9IFtdO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KG9sZERvYykpIHtcbiAgICB0aGlzLnVwZGF0ZShuZXdEb2MsIG9sZERvYyk7XG4gIH0gZWxzZSB7XG4gICAgb2xkRG9jLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHtcbiAgICAgIHJldmVydC5wdXNoKHsgb2xkRG9jOiBwYWlyLm5ld0RvYywgbmV3RG9jOiBwYWlyLm9sZERvYyB9KTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZShyZXZlcnQpO1xuICB9XG59O1xuXG5cbi8vIEFwcGVuZCBhbGwgZWxlbWVudHMgaW4gdG9BcHBlbmQgdG8gYXJyYXlcbmZ1bmN0aW9uIGFwcGVuZCAoYXJyYXksIHRvQXBwZW5kKSB7XG4gIHZhciBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCB0b0FwcGVuZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGFycmF5LnB1c2godG9BcHBlbmRbaV0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBHZXQgYWxsIGRvY3VtZW50cyBpbiBpbmRleCB3aG9zZSBrZXkgbWF0Y2ggdmFsdWUgKGlmIGl0IGlzIGEgVGhpbmcpIG9yIG9uZSBvZiB0aGUgZWxlbWVudHMgb2YgdmFsdWUgKGlmIGl0IGlzIGFuIGFycmF5IG9mIFRoaW5ncylcbiAqIEBwYXJhbSB7VGhpbmd9IHZhbHVlIFZhbHVlIHRvIG1hdGNoIHRoZSBrZXkgYWdhaW5zdFxuICogQHJldHVybiB7QXJyYXkgb2YgZG9jdW1lbnRzfVxuICovXG5JbmRleC5wcm90b3R5cGUuZ2V0TWF0Y2hpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICghdXRpbC5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB0aGlzLnRyZWUuc2VhcmNoKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX3JlcyA9IHt9LCByZXMgPSBbXTtcblxuICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIHNlbGYuZ2V0TWF0Y2hpbmcodikuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIF9yZXNbZG9jLl9pZF0gPSBkb2M7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIE9iamVjdC5rZXlzKF9yZXMpLmZvckVhY2goZnVuY3Rpb24gKF9pZCkge1xuICAgICAgcmVzLnB1c2goX3Jlc1tfaWRdKTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXM7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBHZXQgYWxsIGRvY3VtZW50cyBpbiBpbmRleCB3aG9zZSBrZXkgaXMgYmV0d2VlbiBib3VuZHMgYXJlIHRoZXkgYXJlIGRlZmluZWQgYnkgcXVlcnlcbiAqIERvY3VtZW50cyBhcmUgc29ydGVkIGJ5IGtleVxuICogQHBhcmFtIHtRdWVyeX0gcXVlcnlcbiAqIEByZXR1cm4ge0FycmF5IG9mIGRvY3VtZW50c31cbiAqL1xuSW5kZXgucHJvdG90eXBlLmdldEJldHdlZW5Cb3VuZHMgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgcmV0dXJuIHRoaXMudHJlZS5iZXR3ZWVuQm91bmRzKHF1ZXJ5KTtcbn07XG5cblxuLyoqXG4gKiBHZXQgYWxsIGVsZW1lbnRzIGluIHRoZSBpbmRleFxuICogQHJldHVybiB7QXJyYXkgb2YgZG9jdW1lbnRzfVxuICovXG5JbmRleC5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVzID0gW107XG5cbiAgdGhpcy50cmVlLmV4ZWN1dGVPbkV2ZXJ5Tm9kZShmdW5jdGlvbiAobm9kZSkge1xuICAgIHZhciBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5vZGUuZGF0YS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgcmVzLnB1c2gobm9kZS5kYXRhW2ldKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXM7XG59O1xuXG5cblxuXG4vLyBJbnRlcmZhY2Vcbm1vZHVsZS5leHBvcnRzID0gSW5kZXg7XG5cbn0se1wiLi9tb2RlbFwiOjE1LFwiYmluYXJ5LXNlYXJjaC10cmVlXCI6MSxcInVuZGVyc2NvcmVcIjoxOCxcInV0aWxcIjoyMn1dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogSGFuZGxlIG1vZGVscyAoaS5lLiBkb2NzKVxuICogU2VyaWFsaXphdGlvbi9kZXNlcmlhbGl6YXRpb25cbiAqIENvcHlpbmdcbiAqIFF1ZXJ5aW5nLCB1cGRhdGVcbiAqL1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuICAsIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJylcbiAgLCBtb2RpZmllckZ1bmN0aW9ucyA9IHt9XG4gICwgbGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucyA9IHt9XG4gICwgY29tcGFyaXNvbkZ1bmN0aW9ucyA9IHt9XG4gICwgbG9naWNhbE9wZXJhdG9ycyA9IHt9XG4gICwgYXJyYXlDb21wYXJpc29uRnVuY3Rpb25zID0ge31cbiAgO1xuXG5cbi8qKlxuICogQ2hlY2sgYSBrZXksIHRocm93IGFuIGVycm9yIGlmIHRoZSBrZXkgaXMgbm9uIHZhbGlkXG4gKiBAcGFyYW0ge1N0cmluZ30gayBrZXlcbiAqIEBwYXJhbSB7TW9kZWx9IHYgdmFsdWUsIG5lZWRlZCB0byB0cmVhdCB0aGUgRGF0ZSBlZGdlIGNhc2VcbiAqIE5vbi10cmVhdGFibGUgZWRnZSBjYXNlcyBoZXJlOiBpZiBwYXJ0IG9mIHRoZSBvYmplY3QgaWYgb2YgdGhlIGZvcm0geyAkJGRhdGU6IG51bWJlciB9IG9yIHsgJCRkZWxldGVkOiB0cnVlIH1cbiAqIEl0cyBzZXJpYWxpemVkLXRoZW4tZGVzZXJpYWxpemVkIHZlcnNpb24gaXQgd2lsbCB0cmFuc2Zvcm1lZCBpbnRvIGEgRGF0ZSBvYmplY3RcbiAqIEJ1dCB5b3UgcmVhbGx5IG5lZWQgdG8gd2FudCBpdCB0byB0cmlnZ2VyIHN1Y2ggYmVoYXZpb3VyLCBldmVuIHdoZW4gd2FybmVkIG5vdCB0byB1c2UgJyQnIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGZpZWxkIG5hbWVzLi4uXG4gKi9cbmZ1bmN0aW9uIGNoZWNrS2V5IChrLCB2KSB7XG4gIGlmICh0eXBlb2YgayA9PT0gJ251bWJlcicpIHtcbiAgICBrID0gay50b1N0cmluZygpO1xuICB9XG5cbiAgaWYgKGtbMF0gPT09ICckJyAmJiAhKGsgPT09ICckJGRhdGUnICYmIHR5cGVvZiB2ID09PSAnbnVtYmVyJykgJiYgIShrID09PSAnJCRkZWxldGVkJyAmJiB2ID09PSB0cnVlKSAmJiAhKGsgPT09ICckJGluZGV4Q3JlYXRlZCcpICYmICEoayA9PT0gJyQkaW5kZXhSZW1vdmVkJykpIHtcbiAgICB0aHJvdyAnRmllbGQgbmFtZXMgY2Fubm90IGJlZ2luIHdpdGggdGhlICQgY2hhcmFjdGVyJztcbiAgfVxuXG4gIGlmIChrLmluZGV4T2YoJy4nKSAhPT0gLTEpIHtcbiAgICB0aHJvdyAnRmllbGQgbmFtZXMgY2Fubm90IGNvbnRhaW4gYSAuJztcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgYSBEQiBvYmplY3QgYW5kIHRocm93IGFuIGVycm9yIGlmIGl0J3Mgbm90IHZhbGlkXG4gKiBXb3JrcyBieSBhcHBseWluZyB0aGUgYWJvdmUgY2hlY2tLZXkgZnVuY3Rpb24gdG8gYWxsIGZpZWxkcyByZWN1cnNpdmVseVxuICovXG5mdW5jdGlvbiBjaGVja09iamVjdCAob2JqKSB7XG4gIGlmICh1dGlsLmlzQXJyYXkob2JqKSkge1xuICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7XG4gICAgICBjaGVja09iamVjdChvKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpIHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgIGNoZWNrS2V5KGssIG9ialtrXSk7XG4gICAgICBjaGVja09iamVjdChvYmpba10pO1xuICAgIH0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBTZXJpYWxpemUgYW4gb2JqZWN0IHRvIGJlIHBlcnNpc3RlZCB0byBhIG9uZS1saW5lIHN0cmluZ1xuICogRm9yIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uLCB3ZSB1c2UgdGhlIG5hdGl2ZSBKU09OIHBhcnNlciBhbmQgbm90IGV2YWwgb3IgRnVuY3Rpb25cbiAqIFRoYXQgZ2l2ZXMgdXMgbGVzcyBmcmVlZG9tIGJ1dCBkYXRhIGVudGVyZWQgaW4gdGhlIGRhdGFiYXNlIG1heSBjb21lIGZyb20gdXNlcnNcbiAqIHNvIGV2YWwgYW5kIHRoZSBsaWtlIGFyZSBub3Qgc2FmZVxuICogQWNjZXB0ZWQgcHJpbWl0aXZlIHR5cGVzOiBOdW1iZXIsIFN0cmluZywgQm9vbGVhbiwgRGF0ZSwgbnVsbFxuICogQWNjZXB0ZWQgc2Vjb25kYXJ5IHR5cGVzOiBPYmplY3RzLCBBcnJheXNcbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplIChvYmopIHtcbiAgdmFyIHJlcztcblxuICByZXMgPSBKU09OLnN0cmluZ2lmeShvYmosIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgY2hlY2tLZXkoaywgdik7XG5cbiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH1cbiAgICBpZiAodiA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgLy8gSGFja2lzaCB3YXkgb2YgY2hlY2tpbmcgaWYgb2JqZWN0IGlzIERhdGUgKHRoaXMgd2F5IGl0IHdvcmtzIGJldHdlZW4gZXhlY3V0aW9uIGNvbnRleHRzIGluIG5vZGUtd2Via2l0KS5cbiAgICAvLyBXZSBjYW4ndCB1c2UgdmFsdWUgZGlyZWN0bHkgYmVjYXVzZSBmb3IgZGF0ZXMgaXQgaXMgYWxyZWFkeSBzdHJpbmcgaW4gdGhpcyBmdW5jdGlvbiAoZGF0ZS50b0pTT04gd2FzIGFscmVhZHkgY2FsbGVkKSwgc28gd2UgdXNlIHRoaXNcbiAgICBpZiAodHlwZW9mIHRoaXNba10uZ2V0VGltZSA9PT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4geyAkJGRhdGU6IHRoaXNba10uZ2V0VGltZSgpIH07IH1cblxuICAgIHJldHVybiB2O1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufVxuXG5cbi8qKlxuICogRnJvbSBhIG9uZS1saW5lIHJlcHJlc2VudGF0aW9uIG9mIGFuIG9iamVjdCBnZW5lcmF0ZSBieSB0aGUgc2VyaWFsaXplIGZ1bmN0aW9uXG4gKiBSZXR1cm4gdGhlIG9iamVjdCBpdHNlbGZcbiAqL1xuZnVuY3Rpb24gZGVzZXJpYWxpemUgKHJhd0RhdGEpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UocmF3RGF0YSwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICBpZiAoayA9PT0gJyQkZGF0ZScpIHsgcmV0dXJuIG5ldyBEYXRlKHYpOyB9XG4gICAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHYgPT09ICdib29sZWFuJyB8fCB2ID09PSBudWxsKSB7IHJldHVybiB2OyB9XG4gICAgaWYgKHYgJiYgdi4kJGRhdGUpIHsgcmV0dXJuIHYuJCRkYXRlOyB9XG5cbiAgICByZXR1cm4gdjtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBEZWVwIGNvcHkgYSBEQiBvYmplY3RcbiAqIFRoZSBvcHRpb25hbCBzdHJpY3RLZXlzIGZsYWcgKGRlZmF1bHRpbmcgdG8gZmFsc2UpIGluZGljYXRlcyB3aGV0aGVyIHRvIGNvcHkgZXZlcnl0aGluZyBvciBvbmx5IGZpZWxkc1xuICogd2hlcmUgdGhlIGtleXMgYXJlIHZhbGlkLCBpLmUuIGRvbid0IGJlZ2luIHdpdGggJCBhbmQgZG9uJ3QgY29udGFpbiBhIC5cbiAqL1xuZnVuY3Rpb24gZGVlcENvcHkgKG9iaiwgc3RyaWN0S2V5cykge1xuICB2YXIgcmVzO1xuXG4gIGlmICggdHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgdHlwZW9mIG9iaiA9PT0gJ251bWJlcicgfHxcbiAgICAgICB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fFxuICAgICAgIG9iaiA9PT0gbnVsbCB8fFxuICAgICAgICh1dGlsLmlzRGF0ZShvYmopKSApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgaWYgKHV0aWwuaXNBcnJheShvYmopKSB7XG4gICAgcmVzID0gW107XG4gICAgb2JqLmZvckVhY2goZnVuY3Rpb24gKG8pIHsgcmVzLnB1c2goZGVlcENvcHkobywgc3RyaWN0S2V5cykpOyB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmVzID0ge307XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoIXN0cmljdEtleXMgfHwgKGtbMF0gIT09ICckJyAmJiBrLmluZGV4T2YoJy4nKSA9PT0gLTEpKSB7XG4gICAgICAgIHJlc1trXSA9IGRlZXBDb3B5KG9ialtrXSwgc3RyaWN0S2V5cyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7ICAgLy8gRm9yIG5vdyBldmVyeXRoaW5nIGVsc2UgaXMgdW5kZWZpbmVkLiBXZSBzaG91bGQgcHJvYmFibHkgdGhyb3cgYW4gZXJyb3IgaW5zdGVhZFxufVxuXG5cbi8qKlxuICogVGVsbHMgaWYgYW4gb2JqZWN0IGlzIGEgcHJpbWl0aXZlIHR5cGUgb3IgYSBcInJlYWxcIiBvYmplY3RcbiAqIEFycmF5cyBhcmUgY29uc2lkZXJlZCBwcmltaXRpdmVcbiAqL1xuZnVuY3Rpb24gaXNQcmltaXRpdmVUeXBlIChvYmopIHtcbiAgcmV0dXJuICggdHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgdHlwZW9mIG9iaiA9PT0gJ251bWJlcicgfHxcbiAgICAgICB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fFxuICAgICAgIG9iaiA9PT0gbnVsbCB8fFxuICAgICAgIHV0aWwuaXNEYXRlKG9iaikgfHxcbiAgICAgICB1dGlsLmlzQXJyYXkob2JqKSk7XG59XG5cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgY29tcGFyaW5nIHRoaW5nc1xuICogQXNzdW1lcyB0eXBlIGNoZWNraW5nIHdhcyBhbHJlYWR5IGRvbmUgKGEgYW5kIGIgYWxyZWFkeSBoYXZlIHRoZSBzYW1lIHR5cGUpXG4gKiBjb21wYXJlTlNCIHdvcmtzIGZvciBudW1iZXJzLCBzdHJpbmdzIGFuZCBib29sZWFuc1xuICovXG5mdW5jdGlvbiBjb21wYXJlTlNCIChhLCBiKSB7XG4gIGlmIChhIDwgYikgeyByZXR1cm4gLTE7IH1cbiAgaWYgKGEgPiBiKSB7IHJldHVybiAxOyB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlQXJyYXlzIChhLCBiKSB7XG4gIHZhciBpLCBjb21wO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpOyBpICs9IDEpIHtcbiAgICBjb21wID0gY29tcGFyZVRoaW5ncyhhW2ldLCBiW2ldKTtcblxuICAgIGlmIChjb21wICE9PSAwKSB7IHJldHVybiBjb21wOyB9XG4gIH1cblxuICAvLyBDb21tb24gc2VjdGlvbiB3YXMgaWRlbnRpY2FsLCBsb25nZXN0IG9uZSB3aW5zXG4gIHJldHVybiBjb21wYXJlTlNCKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG59XG5cblxuLyoqXG4gKiBDb21wYXJlIHsgdGhpbmdzIFUgdW5kZWZpbmVkIH1cbiAqIFRoaW5ncyBhcmUgZGVmaW5lZCBhcyBhbnkgbmF0aXZlIHR5cGVzIChzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgbnVsbCwgZGF0ZSkgYW5kIG9iamVjdHNcbiAqIFdlIG5lZWQgdG8gY29tcGFyZSB3aXRoIHVuZGVmaW5lZCBhcyBpdCB3aWxsIGJlIHVzZWQgaW4gaW5kZXhlc1xuICogSW4gdGhlIGNhc2Ugb2Ygb2JqZWN0cyBhbmQgYXJyYXlzLCB3ZSBkZWVwLWNvbXBhcmVcbiAqIElmIHR3byBvYmplY3RzIGRvbnQgaGF2ZSB0aGUgc2FtZSB0eXBlLCB0aGUgKGFyYml0cmFyeSkgdHlwZSBoaWVyYXJjaHkgaXM6IHVuZGVmaW5lZCwgbnVsbCwgbnVtYmVyLCBzdHJpbmdzLCBib29sZWFuLCBkYXRlcywgYXJyYXlzLCBvYmplY3RzXG4gKiBSZXR1cm4gLTEgaWYgYSA8IGIsIDEgaWYgYSA+IGIgYW5kIDAgaWYgYSA9IGIgKG5vdGUgdGhhdCBlcXVhbGl0eSBoZXJlIGlzIE5PVCB0aGUgc2FtZSBhcyBkZWZpbmVkIGluIGFyZVRoaW5nc0VxdWFsISlcbiAqL1xuZnVuY3Rpb24gY29tcGFyZVRoaW5ncyAoYSwgYikge1xuICB2YXIgYUtleXMsIGJLZXlzLCBjb21wLCBpO1xuXG4gIC8vIHVuZGVmaW5lZFxuICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiBiID09PSB1bmRlZmluZWQgPyAwIDogLTE7IH1cbiAgaWYgKGIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gYSA9PT0gdW5kZWZpbmVkID8gMCA6IDE7IH1cblxuICAvLyBudWxsXG4gIGlmIChhID09PSBudWxsKSB7IHJldHVybiBiID09PSBudWxsID8gMCA6IC0xOyB9XG4gIGlmIChiID09PSBudWxsKSB7IHJldHVybiBhID09PSBudWxsID8gMCA6IDE7IH1cblxuICAvLyBOdW1iZXJzXG4gIGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicpIHsgcmV0dXJuIHR5cGVvZiBiID09PSAnbnVtYmVyJyA/IGNvbXBhcmVOU0IoYSwgYikgOiAtMTsgfVxuICBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ251bWJlcicgPyBjb21wYXJlTlNCKGEsIGIpIDogMTsgfVxuXG4gIC8vIFN0cmluZ3NcbiAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykgeyByZXR1cm4gdHlwZW9mIGIgPT09ICdzdHJpbmcnID8gY29tcGFyZU5TQihhLCBiKSA6IC0xOyB9XG4gIGlmICh0eXBlb2YgYiA9PT0gJ3N0cmluZycpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnc3RyaW5nJyA/IGNvbXBhcmVOU0IoYSwgYikgOiAxOyB9XG5cbiAgLy8gQm9vbGVhbnNcbiAgaWYgKHR5cGVvZiBhID09PSAnYm9vbGVhbicpIHsgcmV0dXJuIHR5cGVvZiBiID09PSAnYm9vbGVhbicgPyBjb21wYXJlTlNCKGEsIGIpIDogLTE7IH1cbiAgaWYgKHR5cGVvZiBiID09PSAnYm9vbGVhbicpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnYm9vbGVhbicgPyBjb21wYXJlTlNCKGEsIGIpIDogMTsgfVxuXG4gIC8vIERhdGVzXG4gIGlmICh1dGlsLmlzRGF0ZShhKSkgeyByZXR1cm4gdXRpbC5pc0RhdGUoYikgPyBjb21wYXJlTlNCKGEuZ2V0VGltZSgpLCBiLmdldFRpbWUoKSkgOiAtMTsgfVxuICBpZiAodXRpbC5pc0RhdGUoYikpIHsgcmV0dXJuIHV0aWwuaXNEYXRlKGEpID8gY29tcGFyZU5TQihhLmdldFRpbWUoKSwgYi5nZXRUaW1lKCkpIDogMTsgfVxuXG4gIC8vIEFycmF5cyAoZmlyc3QgZWxlbWVudCBpcyBtb3N0IHNpZ25pZmljYW50IGFuZCBzbyBvbilcbiAgaWYgKHV0aWwuaXNBcnJheShhKSkgeyByZXR1cm4gdXRpbC5pc0FycmF5KGIpID8gY29tcGFyZUFycmF5cyhhLCBiKSA6IC0xOyB9XG4gIGlmICh1dGlsLmlzQXJyYXkoYikpIHsgcmV0dXJuIHV0aWwuaXNBcnJheShhKSA/IGNvbXBhcmVBcnJheXMoYSwgYikgOiAxOyB9XG5cbiAgLy8gT2JqZWN0c1xuICBhS2V5cyA9IE9iamVjdC5rZXlzKGEpLnNvcnQoKTtcbiAgYktleXMgPSBPYmplY3Qua2V5cyhiKS5zb3J0KCk7XG5cbiAgZm9yIChpID0gMDsgaSA8IE1hdGgubWluKGFLZXlzLmxlbmd0aCwgYktleXMubGVuZ3RoKTsgaSArPSAxKSB7XG4gICAgY29tcCA9IGNvbXBhcmVUaGluZ3MoYVthS2V5c1tpXV0sIGJbYktleXNbaV1dKTtcblxuICAgIGlmIChjb21wICE9PSAwKSB7IHJldHVybiBjb21wOyB9XG4gIH1cblxuICByZXR1cm4gY29tcGFyZU5TQihhS2V5cy5sZW5ndGgsIGJLZXlzLmxlbmd0aCk7XG59XG5cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVXBkYXRpbmcgZG9jdW1lbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFRoZSBzaWduYXR1cmUgb2YgbW9kaWZpZXIgZnVuY3Rpb25zIGlzIGFzIGZvbGxvd3NcbiAqIFRoZWlyIHN0cnVjdHVyZSBpcyBhbHdheXMgdGhlIHNhbWU6IHJlY3Vyc2l2ZWx5IGZvbGxvdyB0aGUgZG90IG5vdGF0aW9uIHdoaWxlIGNyZWF0aW5nXG4gKiB0aGUgbmVzdGVkIGRvY3VtZW50cyBpZiBuZWVkZWQsIHRoZW4gYXBwbHkgdGhlIFwibGFzdCBzdGVwIG1vZGlmaWVyXCJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG1vZGVsIHRvIG1vZGlmeVxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkIENhbiBjb250YWluIGRvdHMsIGluIHRoYXQgY2FzZSB0aGF0IG1lYW5zIHdlIHdpbGwgc2V0IGEgc3ViZmllbGQgcmVjdXJzaXZlbHlcbiAqIEBwYXJhbSB7TW9kZWx9IHZhbHVlXG4gKi9cblxuLyoqXG4gKiBTZXQgYSBmaWVsZCB0byBhIG5ldyB2YWx1ZVxuICovXG5sYXN0U3RlcE1vZGlmaWVyRnVuY3Rpb25zLiRzZXQgPSBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgb2JqW2ZpZWxkXSA9IHZhbHVlO1xufTtcblxuXG4vKipcbiAqIFVuc2V0IGEgZmllbGRcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kdW5zZXQgPSBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgZGVsZXRlIG9ialtmaWVsZF07XG59O1xuXG5cbi8qKlxuICogUHVzaCBhbiBlbGVtZW50IHRvIHRoZSBlbmQgb2YgYW4gYXJyYXkgZmllbGRcbiAqL1xubGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kcHVzaCA9IGZ1bmN0aW9uIChvYmosIGZpZWxkLCB2YWx1ZSkge1xuICAvLyBDcmVhdGUgdGhlIGFycmF5IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoZmllbGQpKSB7IG9ialtmaWVsZF0gPSBbXTsgfVxuXG4gIGlmICghdXRpbC5pc0FycmF5KG9ialtmaWVsZF0pKSB7IHRocm93IFwiQ2FuJ3QgJHB1c2ggYW4gZWxlbWVudCBvbiBub24tYXJyYXkgdmFsdWVzXCI7IH1cblxuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS4kZWFjaCkge1xuICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMSkgeyB0aHJvdyBcIkNhbid0IHVzZSBhbm90aGVyIGZpZWxkIGluIGNvbmp1bmN0aW9uIHdpdGggJGVhY2hcIjsgfVxuICAgIGlmICghdXRpbC5pc0FycmF5KHZhbHVlLiRlYWNoKSkgeyB0aHJvdyBcIiRlYWNoIHJlcXVpcmVzIGFuIGFycmF5IHZhbHVlXCI7IH1cblxuICAgIHZhbHVlLiRlYWNoLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIG9ialtmaWVsZF0ucHVzaCh2KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpbZmllbGRdLnB1c2godmFsdWUpO1xuICB9XG59O1xuXG5cbi8qKlxuICogQWRkIGFuIGVsZW1lbnQgdG8gYW4gYXJyYXkgZmllbGQgb25seSBpZiBpdCBpcyBub3QgYWxyZWFkeSBpbiBpdFxuICogTm8gbW9kaWZpY2F0aW9uIGlmIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgaW4gdGhlIGFycmF5XG4gKiBOb3RlIHRoYXQgaXQgZG9lc24ndCBjaGVjayB3aGV0aGVyIHRoZSBvcmlnaW5hbCBhcnJheSBjb250YWlucyBkdXBsaWNhdGVzXG4gKi9cbmxhc3RTdGVwTW9kaWZpZXJGdW5jdGlvbnMuJGFkZFRvU2V0ID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIHZhciBhZGRUb1NldCA9IHRydWU7XG5cbiAgLy8gQ3JlYXRlIHRoZSBhcnJheSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gIGlmICghb2JqLmhhc093blByb3BlcnR5KGZpZWxkKSkgeyBvYmpbZmllbGRdID0gW107IH1cblxuICBpZiAoIXV0aWwuaXNBcnJheShvYmpbZmllbGRdKSkgeyB0aHJvdyBcIkNhbid0ICRhZGRUb1NldCBhbiBlbGVtZW50IG9uIG5vbi1hcnJheSB2YWx1ZXNcIjsgfVxuXG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLiRlYWNoKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAxKSB7IHRocm93IFwiQ2FuJ3QgdXNlIGFub3RoZXIgZmllbGQgaW4gY29uanVuY3Rpb24gd2l0aCAkZWFjaFwiOyB9XG4gICAgaWYgKCF1dGlsLmlzQXJyYXkodmFsdWUuJGVhY2gpKSB7IHRocm93IFwiJGVhY2ggcmVxdWlyZXMgYW4gYXJyYXkgdmFsdWVcIjsgfVxuXG4gICAgdmFsdWUuJGVhY2guZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgbGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucy4kYWRkVG9TZXQob2JqLCBmaWVsZCwgdik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2ZpZWxkXS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICBpZiAoY29tcGFyZVRoaW5ncyh2LCB2YWx1ZSkgPT09IDApIHsgYWRkVG9TZXQgPSBmYWxzZTsgfVxuICAgIH0pO1xuICAgIGlmIChhZGRUb1NldCkgeyBvYmpbZmllbGRdLnB1c2godmFsdWUpOyB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheVxuICovXG5sYXN0U3RlcE1vZGlmaWVyRnVuY3Rpb25zLiRwb3AgPSBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgaWYgKCF1dGlsLmlzQXJyYXkob2JqW2ZpZWxkXSkpIHsgdGhyb3cgXCJDYW4ndCAkcG9wIGFuIGVsZW1lbnQgZnJvbSBub24tYXJyYXkgdmFsdWVzXCI7IH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHsgdGhyb3cgdmFsdWUgKyBcIiBpc24ndCBhbiBpbnRlZ2VyLCBjYW4ndCB1c2UgaXQgd2l0aCAkcG9wXCI7IH1cbiAgaWYgKHZhbHVlID09PSAwKSB7IHJldHVybjsgfVxuXG4gIGlmICh2YWx1ZSA+IDApIHtcbiAgICBvYmpbZmllbGRdID0gb2JqW2ZpZWxkXS5zbGljZSgwLCBvYmpbZmllbGRdLmxlbmd0aCAtIDEpO1xuICB9IGVsc2Uge1xuICAgIG9ialtmaWVsZF0gPSBvYmpbZmllbGRdLnNsaWNlKDEpO1xuICB9XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgaW5zdGFuY2VzIG9mIGEgdmFsdWUgZnJvbSBhbiBleGlzdGluZyBhcnJheVxuICovXG5sYXN0U3RlcE1vZGlmaWVyRnVuY3Rpb25zLiRwdWxsID0gZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlKSB7XG4gIHZhciBhcnIsIGk7XG5cbiAgaWYgKCF1dGlsLmlzQXJyYXkob2JqW2ZpZWxkXSkpIHsgdGhyb3cgXCJDYW4ndCAkcHVsbCBhbiBlbGVtZW50IGZyb20gbm9uLWFycmF5IHZhbHVlc1wiOyB9XG5cbiAgYXJyID0gb2JqW2ZpZWxkXTtcbiAgZm9yIChpID0gYXJyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgaWYgKG1hdGNoKGFycltpXSwgdmFsdWUpKSB7XG4gICAgICBhcnIuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIEluY3JlbWVudCBhIG51bWVyaWMgZmllbGQncyB2YWx1ZVxuICovXG5sYXN0U3RlcE1vZGlmaWVyRnVuY3Rpb25zLiRpbmMgPSBmdW5jdGlvbiAob2JqLCBmaWVsZCwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHsgdGhyb3cgdmFsdWUgKyBcIiBtdXN0IGJlIGEgbnVtYmVyXCI7IH1cblxuICBpZiAodHlwZW9mIG9ialtmaWVsZF0gIT09ICdudW1iZXInKSB7XG4gICAgaWYgKCFfLmhhcyhvYmosIGZpZWxkKSkge1xuICAgICAgb2JqW2ZpZWxkXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIkRvbid0IHVzZSB0aGUgJGluYyBtb2RpZmllciBvbiBub24tbnVtYmVyIGZpZWxkc1wiO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvYmpbZmllbGRdICs9IHZhbHVlO1xuICB9XG59O1xuXG4vLyBHaXZlbiBpdHMgbmFtZSwgY3JlYXRlIHRoZSBjb21wbGV0ZSBtb2RpZmllciBmdW5jdGlvblxuZnVuY3Rpb24gY3JlYXRlTW9kaWZpZXJGdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIGZpZWxkLCB2YWx1ZSkge1xuICAgIHZhciBmaWVsZFBhcnRzID0gdHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJyA/IGZpZWxkLnNwbGl0KCcuJykgOiBmaWVsZDtcblxuICAgIGlmIChmaWVsZFBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9uc1ttb2RpZmllcl0ob2JqLCBmaWVsZCwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpbZmllbGRQYXJ0c1swXV0gPSBvYmpbZmllbGRQYXJ0c1swXV0gfHwge307XG4gICAgICBtb2RpZmllckZ1bmN0aW9uc1ttb2RpZmllcl0ob2JqW2ZpZWxkUGFydHNbMF1dLCBmaWVsZFBhcnRzLnNsaWNlKDEpLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBBY3R1YWxseSBjcmVhdGUgYWxsIG1vZGlmaWVyIGZ1bmN0aW9uc1xuT2JqZWN0LmtleXMobGFzdFN0ZXBNb2RpZmllckZ1bmN0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgbW9kaWZpZXJGdW5jdGlvbnNbbW9kaWZpZXJdID0gY3JlYXRlTW9kaWZpZXJGdW5jdGlvbihtb2RpZmllcik7XG59KTtcblxuXG4vKipcbiAqIE1vZGlmeSBhIERCIG9iamVjdCBhY2NvcmRpbmcgdG8gYW4gdXBkYXRlIHF1ZXJ5XG4gKi9cbmZ1bmN0aW9uIG1vZGlmeSAob2JqLCB1cGRhdGVRdWVyeSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHVwZGF0ZVF1ZXJ5KVxuICAgICwgZmlyc3RDaGFycyA9IF8ubWFwKGtleXMsIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtWzBdOyB9KVxuICAgICwgZG9sbGFyRmlyc3RDaGFycyA9IF8uZmlsdGVyKGZpcnN0Q2hhcnMsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjID09PSAnJCc7IH0pXG4gICAgLCBuZXdEb2MsIG1vZGlmaWVyc1xuICAgIDtcblxuICBpZiAoa2V5cy5pbmRleE9mKCdfaWQnKSAhPT0gLTEgJiYgdXBkYXRlUXVlcnkuX2lkICE9PSBvYmouX2lkKSB7IHRocm93IFwiWW91IGNhbm5vdCBjaGFuZ2UgYSBkb2N1bWVudCdzIF9pZFwiOyB9XG5cbiAgaWYgKGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoICE9PSAwICYmIGRvbGxhckZpcnN0Q2hhcnMubGVuZ3RoICE9PSBmaXJzdENoYXJzLmxlbmd0aCkge1xuICAgIHRocm93IFwiWW91IGNhbm5vdCBtaXggbW9kaWZpZXJzIGFuZCBub3JtYWwgZmllbGRzXCI7XG4gIH1cblxuICBpZiAoZG9sbGFyRmlyc3RDaGFycy5sZW5ndGggPT09IDApIHtcbiAgICAvLyBTaW1wbHkgcmVwbGFjZSB0aGUgb2JqZWN0IHdpdGggdGhlIHVwZGF0ZSBxdWVyeSBjb250ZW50c1xuICAgIG5ld0RvYyA9IGRlZXBDb3B5KHVwZGF0ZVF1ZXJ5KTtcbiAgICBuZXdEb2MuX2lkID0gb2JqLl9pZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBBcHBseSBtb2RpZmllcnNcbiAgICBtb2RpZmllcnMgPSBfLnVuaXEoa2V5cyk7XG4gICAgbmV3RG9jID0gZGVlcENvcHkob2JqKTtcbiAgICBtb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgdmFyIGtleXM7XG5cbiAgICAgIGlmICghbW9kaWZpZXJGdW5jdGlvbnNbbV0pIHsgdGhyb3cgXCJVbmtub3duIG1vZGlmaWVyIFwiICsgbTsgfVxuXG4gICAgICAvLyBDYW4ndCByZWx5IG9uIE9iamVjdC5rZXlzIHRocm93aW5nIG9uIG5vbiBvYmplY3RzIHNpbmNlIEVTNntcbiAgICAgIC8vIE5vdCAxMDAlIHNhdGlzZnlpbmcgYXMgbm9uIG9iamVjdHMgY2FuIGJlIGludGVycHJldGVkIGFzIG9iamVjdHMgYnV0IG5vIGZhbHNlIG5lZ2F0aXZlcyBzbyB3ZSBjYW4gbGl2ZSB3aXRoIGl0XG4gICAgICBpZiAodHlwZW9mIHVwZGF0ZVF1ZXJ5W21dICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBcIk1vZGlmaWVyIFwiICsgbSArIFwiJ3MgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3RcIjtcbiAgICAgIH1cblxuICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHVwZGF0ZVF1ZXJ5W21dKTtcbiAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICBtb2RpZmllckZ1bmN0aW9uc1ttXShuZXdEb2MsIGssIHVwZGF0ZVF1ZXJ5W21dW2tdKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ2hlY2sgcmVzdWx0IGlzIHZhbGlkIGFuZCByZXR1cm4gaXRcbiAgY2hlY2tPYmplY3QobmV3RG9jKTtcblxuICBpZiAob2JqLl9pZCAhPT0gbmV3RG9jLl9pZCkgeyB0aHJvdyBcIllvdSBjYW4ndCBjaGFuZ2UgYSBkb2N1bWVudCdzIF9pZFwiOyB9XG4gIHJldHVybiBuZXdEb2M7XG59O1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBGaW5kaW5nIGRvY3VtZW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBHZXQgYSB2YWx1ZSBmcm9tIG9iamVjdCB3aXRoIGRvdCBub3RhdGlvblxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKi9cbmZ1bmN0aW9uIGdldERvdFZhbHVlIChvYmosIGZpZWxkKSB7XG4gIHZhciBmaWVsZFBhcnRzID0gdHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJyA/IGZpZWxkLnNwbGl0KCcuJykgOiBmaWVsZFxuICAgICwgaSwgb2JqcztcblxuICBpZiAoIW9iaikgeyByZXR1cm4gdW5kZWZpbmVkOyB9ICAgLy8gZmllbGQgY2Fubm90IGJlIGVtcHR5IHNvIHRoYXQgbWVhbnMgd2Ugc2hvdWxkIHJldHVybiB1bmRlZmluZWQgc28gdGhhdCBub3RoaW5nIGNhbiBtYXRjaFxuXG4gIGlmIChmaWVsZFBhcnRzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gb2JqOyB9XG5cbiAgaWYgKGZpZWxkUGFydHMubGVuZ3RoID09PSAxKSB7IHJldHVybiBvYmpbZmllbGRQYXJ0c1swXV07IH1cblxuICBpZiAodXRpbC5pc0FycmF5KG9ialtmaWVsZFBhcnRzWzBdXSkpIHtcbiAgICAvLyBJZiB0aGUgbmV4dCBmaWVsZCBpcyBhbiBpbnRlZ2VyLCByZXR1cm4gb25seSB0aGlzIGl0ZW0gb2YgdGhlIGFycmF5XG4gICAgaSA9IHBhcnNlSW50KGZpZWxkUGFydHNbMV0sIDEwKTtcbiAgICBpZiAodHlwZW9mIGkgPT09ICdudW1iZXInICYmICFpc05hTihpKSkge1xuICAgICAgcmV0dXJuIGdldERvdFZhbHVlKG9ialtmaWVsZFBhcnRzWzBdXVtpXSwgZmllbGRQYXJ0cy5zbGljZSgyKSlcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdGhlIGFycmF5IG9mIHZhbHVlc1xuICAgIG9ianMgPSBuZXcgQXJyYXkoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgb2JqW2ZpZWxkUGFydHNbMF1dLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgb2Jqcy5wdXNoKGdldERvdFZhbHVlKG9ialtmaWVsZFBhcnRzWzBdXVtpXSwgZmllbGRQYXJ0cy5zbGljZSgxKSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqcztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0RG90VmFsdWUob2JqW2ZpZWxkUGFydHNbMF1dLCBmaWVsZFBhcnRzLnNsaWNlKDEpKTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciAndGhpbmdzJyBhcmUgZXF1YWxcbiAqIFRoaW5ncyBhcmUgZGVmaW5lZCBhcyBhbnkgbmF0aXZlIHR5cGVzIChzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgbnVsbCwgZGF0ZSkgYW5kIG9iamVjdHNcbiAqIEluIHRoZSBjYXNlIG9mIG9iamVjdCwgd2UgY2hlY2sgZGVlcCBlcXVhbGl0eVxuICogUmV0dXJucyB0cnVlIGlmIHRoZXkgYXJlLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gYXJlVGhpbmdzRXF1YWwgKGEsIGIpIHtcbiAgdmFyIGFLZXlzICwgYktleXMgLCBpO1xuXG4gIC8vIFN0cmluZ3MsIGJvb2xlYW5zLCBudW1iZXJzLCBudWxsXG4gIGlmIChhID09PSBudWxsIHx8IHR5cGVvZiBhID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgYSA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBhID09PSAnbnVtYmVyJyB8fFxuICAgICAgYiA9PT0gbnVsbCB8fCB0eXBlb2YgYiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGIgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgYiA9PT0gJ251bWJlcicpIHsgcmV0dXJuIGEgPT09IGI7IH1cblxuICAvLyBEYXRlc1xuICBpZiAodXRpbC5pc0RhdGUoYSkgfHwgdXRpbC5pc0RhdGUoYikpIHsgcmV0dXJuIHV0aWwuaXNEYXRlKGEpICYmIHV0aWwuaXNEYXRlKGIpICYmIGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKTsgfVxuXG4gIC8vIEFycmF5cyAobm8gbWF0Y2ggc2luY2UgYXJyYXlzIGFyZSB1c2VkIGFzIGEgJGluKVxuICAvLyB1bmRlZmluZWQgKG5vIG1hdGNoIHNpbmNlIHRoZXkgbWVhbiBmaWVsZCBkb2Vzbid0IGV4aXN0IGFuZCBjYW4ndCBiZSBzZXJpYWxpemVkKVxuICBpZiAodXRpbC5pc0FycmF5KGEpIHx8IHV0aWwuaXNBcnJheShiKSB8fCBhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIC8vIEdlbmVyYWwgb2JqZWN0cyAoY2hlY2sgZm9yIGRlZXAgZXF1YWxpdHkpXG4gIC8vIGEgYW5kIGIgc2hvdWxkIGJlIG9iamVjdHMgYXQgdGhpcyBwb2ludFxuICB0cnkge1xuICAgIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgZm9yIChpID0gMDsgaSA8IGFLZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGJLZXlzLmluZGV4T2YoYUtleXNbaV0pID09PSAtMSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAoIWFyZVRoaW5nc0VxdWFsKGFbYUtleXNbaV1dLCBiW2FLZXlzW2ldXSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVjayB0aGF0IHR3byB2YWx1ZXMgYXJlIGNvbXBhcmFibGVcbiAqL1xuZnVuY3Rpb24gYXJlQ29tcGFyYWJsZSAoYSwgYikge1xuICBpZiAodHlwZW9mIGEgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBhICE9PSAnbnVtYmVyJyAmJiAhdXRpbC5pc0RhdGUoYSkgJiZcbiAgICAgIHR5cGVvZiBiICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgYiAhPT0gJ251bWJlcicgJiYgIXV0aWwuaXNEYXRlKGIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYikgeyByZXR1cm4gZmFsc2U7IH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEFyaXRobWV0aWMgYW5kIGNvbXBhcmlzb24gb3BlcmF0b3JzXG4gKiBAcGFyYW0ge05hdGl2ZSB2YWx1ZX0gYSBWYWx1ZSBpbiB0aGUgb2JqZWN0XG4gKiBAcGFyYW0ge05hdGl2ZSB2YWx1ZX0gYiBWYWx1ZSBpbiB0aGUgcXVlcnlcbiAqL1xuY29tcGFyaXNvbkZ1bmN0aW9ucy4kbHQgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYXJlQ29tcGFyYWJsZShhLCBiKSAmJiBhIDwgYjtcbn07XG5cbmNvbXBhcmlzb25GdW5jdGlvbnMuJGx0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhcmVDb21wYXJhYmxlKGEsIGIpICYmIGEgPD0gYjtcbn07XG5cbmNvbXBhcmlzb25GdW5jdGlvbnMuJGd0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGFyZUNvbXBhcmFibGUoYSwgYikgJiYgYSA+IGI7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRndGUgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYXJlQ29tcGFyYWJsZShhLCBiKSAmJiBhID49IGI7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRuZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIGlmIChhID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgcmV0dXJuICFhcmVUaGluZ3NFcXVhbChhLCBiKTtcbn07XG5cbmNvbXBhcmlzb25GdW5jdGlvbnMuJGluID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgdmFyIGk7XG5cbiAgaWYgKCF1dGlsLmlzQXJyYXkoYikpIHsgdGhyb3cgXCIkaW4gb3BlcmF0b3IgY2FsbGVkIHdpdGggYSBub24tYXJyYXlcIjsgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGFyZVRoaW5nc0VxdWFsKGEsIGJbaV0pKSB7IHJldHVybiB0cnVlOyB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRuaW4gPSBmdW5jdGlvbiAoYSwgYikge1xuICBpZiAoIXV0aWwuaXNBcnJheShiKSkgeyB0aHJvdyBcIiRuaW4gb3BlcmF0b3IgY2FsbGVkIHdpdGggYSBub24tYXJyYXlcIjsgfVxuXG4gIHJldHVybiAhY29tcGFyaXNvbkZ1bmN0aW9ucy4kaW4oYSwgYik7XG59O1xuXG5jb21wYXJpc29uRnVuY3Rpb25zLiRyZWdleCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIGlmICghdXRpbC5pc1JlZ0V4cChiKSkgeyB0aHJvdyBcIiRyZWdleCBvcGVyYXRvciBjYWxsZWQgd2l0aCBub24gcmVndWxhciBleHByZXNzaW9uXCI7IH1cblxuICBpZiAodHlwZW9mIGEgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGIudGVzdChhKTtcbiAgfVxufTtcblxuY29tcGFyaXNvbkZ1bmN0aW9ucy4kZXhpc3RzID0gZnVuY3Rpb24gKHZhbHVlLCBleGlzdHMpIHtcbiAgaWYgKGV4aXN0cyB8fCBleGlzdHMgPT09ICcnKSB7ICAgLy8gVGhpcyB3aWxsIGJlIHRydWUgZm9yIGFsbCB2YWx1ZXMgb2YgZXhpc3RzIGV4Y2VwdCBmYWxzZSwgbnVsbCwgdW5kZWZpbmVkIGFuZCAwXG4gICAgZXhpc3RzID0gdHJ1ZTsgICAgICAgICAgICAgICAgIC8vIFRoYXQncyBzdHJhbmdlIGJlaGF2aW91ciAod2Ugc2hvdWxkIG9ubHkgdXNlIHRydWUvZmFsc2UpIGJ1dCB0aGF0J3MgdGhlIHdheSBNb25nbyBkb2VzIGl0Li4uXG4gIH0gZWxzZSB7XG4gICAgZXhpc3RzID0gZmFsc2U7XG4gIH1cblxuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAhZXhpc3RzXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV4aXN0cztcbiAgfVxufTtcblxuLy8gU3BlY2lmaWMgdG8gYXJyYXlzXG5jb21wYXJpc29uRnVuY3Rpb25zLiRzaXplID0gZnVuY3Rpb24gKG9iaiwgdmFsdWUpIHtcbiAgICBpZiAoIXV0aWwuaXNBcnJheShvYmopKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmICh2YWx1ZSAlIDEgIT09IDApIHsgdGhyb3cgXCIkc2l6ZSBvcGVyYXRvciBjYWxsZWQgd2l0aG91dCBhbiBpbnRlZ2VyXCI7IH1cblxuICAgIHJldHVybiAob2JqLmxlbmd0aCA9PSB2YWx1ZSk7XG59O1xuYXJyYXlDb21wYXJpc29uRnVuY3Rpb25zLiRzaXplID0gdHJ1ZTtcblxuXG4vKipcbiAqIE1hdGNoIGFueSBvZiB0aGUgc3VicXVlcmllc1xuICogQHBhcmFtIHtNb2RlbH0gb2JqXG4gKiBAcGFyYW0ge0FycmF5IG9mIFF1ZXJpZXN9IHF1ZXJ5XG4gKi9cbmxvZ2ljYWxPcGVyYXRvcnMuJG9yID0gZnVuY3Rpb24gKG9iaiwgcXVlcnkpIHtcbiAgdmFyIGk7XG5cbiAgaWYgKCF1dGlsLmlzQXJyYXkocXVlcnkpKSB7IHRocm93IFwiJG9yIG9wZXJhdG9yIHVzZWQgd2l0aG91dCBhbiBhcnJheVwiOyB9XG5cbiAgZm9yIChpID0gMDsgaSA8IHF1ZXJ5Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKG1hdGNoKG9iaiwgcXVlcnlbaV0pKSB7IHJldHVybiB0cnVlOyB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogTWF0Y2ggYWxsIG9mIHRoZSBzdWJxdWVyaWVzXG4gKiBAcGFyYW0ge01vZGVsfSBvYmpcbiAqIEBwYXJhbSB7QXJyYXkgb2YgUXVlcmllc30gcXVlcnlcbiAqL1xubG9naWNhbE9wZXJhdG9ycy4kYW5kID0gZnVuY3Rpb24gKG9iaiwgcXVlcnkpIHtcbiAgdmFyIGk7XG5cbiAgaWYgKCF1dGlsLmlzQXJyYXkocXVlcnkpKSB7IHRocm93IFwiJGFuZCBvcGVyYXRvciB1c2VkIHdpdGhvdXQgYW4gYXJyYXlcIjsgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBxdWVyeS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICghbWF0Y2gob2JqLCBxdWVyeVtpXSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBJbnZlcnRlZCBtYXRjaCBvZiB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7TW9kZWx9IG9ialxuICogQHBhcmFtIHtRdWVyeX0gcXVlcnlcbiAqL1xubG9naWNhbE9wZXJhdG9ycy4kbm90ID0gZnVuY3Rpb24gKG9iaiwgcXVlcnkpIHtcbiAgcmV0dXJuICFtYXRjaChvYmosIHF1ZXJ5KTtcbn07XG5cblxuLyoqXG4gKiBVc2UgYSBmdW5jdGlvbiB0byBtYXRjaFxuICogQHBhcmFtIHtNb2RlbH0gb2JqXG4gKiBAcGFyYW0ge1F1ZXJ5fSBxdWVyeVxuICovXG5sb2dpY2FsT3BlcmF0b3JzLiR3aGVyZSA9IGZ1bmN0aW9uIChvYmosIGZuKSB7XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKCFfLmlzRnVuY3Rpb24oZm4pKSB7IHRocm93IFwiJHdoZXJlIG9wZXJhdG9yIHVzZWQgd2l0aG91dCBhIGZ1bmN0aW9uXCI7IH1cblxuICByZXN1bHQgPSBmbi5jYWxsKG9iaik7XG4gIGlmICghXy5pc0Jvb2xlYW4ocmVzdWx0KSkgeyB0aHJvdyBcIiR3aGVyZSBmdW5jdGlvbiBtdXN0IHJldHVybiBib29sZWFuXCI7IH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKipcbiAqIFRlbGwgaWYgYSBnaXZlbiBkb2N1bWVudCBtYXRjaGVzIGEgcXVlcnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogRG9jdW1lbnQgdG8gY2hlY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeVxuICovXG5mdW5jdGlvbiBtYXRjaCAob2JqLCBxdWVyeSkge1xuICB2YXIgcXVlcnlLZXlzLCBxdWVyeUtleSwgcXVlcnlWYWx1ZSwgaTtcblxuICAvLyBQcmltaXRpdmUgcXVlcnkgYWdhaW5zdCBhIHByaW1pdGl2ZSB0eXBlXG4gIC8vIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrIHNpbmNlIHdlIGNvbnN0cnVjdCBhbiBvYmplY3Qgd2l0aCBhbiBhcmJpdHJhcnkga2V5IG9ubHkgdG8gZGVyZWZlcmVuY2UgaXQgbGF0ZXJcbiAgLy8gQnV0IEkgZG9uJ3QgaGF2ZSB0aW1lIGZvciBhIGNsZWFuZXIgaW1wbGVtZW50YXRpb24gbm93XG4gIGlmIChpc1ByaW1pdGl2ZVR5cGUob2JqKSB8fCBpc1ByaW1pdGl2ZVR5cGUocXVlcnkpKSB7XG4gICAgcmV0dXJuIG1hdGNoUXVlcnlQYXJ0KHsgbmVlZEFLZXk6IG9iaiB9LCAnbmVlZEFLZXknLCBxdWVyeSk7XG4gIH1cblxuICAvLyBOb3JtYWwgcXVlcnlcbiAgcXVlcnlLZXlzID0gT2JqZWN0LmtleXMocXVlcnkpO1xuICBmb3IgKGkgPSAwOyBpIDwgcXVlcnlLZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgcXVlcnlLZXkgPSBxdWVyeUtleXNbaV07XG4gICAgcXVlcnlWYWx1ZSA9IHF1ZXJ5W3F1ZXJ5S2V5XTtcblxuICAgIGlmIChxdWVyeUtleVswXSA9PT0gJyQnKSB7XG4gICAgICBpZiAoIWxvZ2ljYWxPcGVyYXRvcnNbcXVlcnlLZXldKSB7IHRocm93IFwiVW5rbm93biBsb2dpY2FsIG9wZXJhdG9yIFwiICsgcXVlcnlLZXk7IH1cbiAgICAgIGlmICghbG9naWNhbE9wZXJhdG9yc1txdWVyeUtleV0ob2JqLCBxdWVyeVZhbHVlKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFtYXRjaFF1ZXJ5UGFydChvYmosIHF1ZXJ5S2V5LCBxdWVyeVZhbHVlKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBNYXRjaCBhbiBvYmplY3QgYWdhaW5zdCBhIHNwZWNpZmljIHsga2V5OiB2YWx1ZSB9IHBhcnQgb2YgYSBxdWVyeVxuICogaWYgdGhlIHRyZWF0T2JqQXNWYWx1ZSBmbGFnIGlzIHNldCwgZG9uJ3QgdHJ5IHRvIG1hdGNoIGV2ZXJ5IHBhcnQgc2VwYXJhdGVseSwgYnV0IHRoZSBhcnJheSBhcyBhIHdob2xlXG4gKi9cbmZ1bmN0aW9uIG1hdGNoUXVlcnlQYXJ0IChvYmosIHF1ZXJ5S2V5LCBxdWVyeVZhbHVlLCB0cmVhdE9iakFzVmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gZ2V0RG90VmFsdWUob2JqLCBxdWVyeUtleSlcbiAgICAsIGksIGtleXMsIGZpcnN0Q2hhcnMsIGRvbGxhckZpcnN0Q2hhcnM7XG5cbiAgLy8gQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIGFuIGFycmF5IGlmIHdlIGRvbid0IGZvcmNlIGEgdHJlYXRtZW50IGFzIHZhbHVlXG4gIGlmICh1dGlsLmlzQXJyYXkob2JqVmFsdWUpICYmICF0cmVhdE9iakFzVmFsdWUpIHtcbiAgICAvLyBDaGVjayBpZiB3ZSBhcmUgdXNpbmcgYW4gYXJyYXktc3BlY2lmaWMgY29tcGFyaXNvbiBmdW5jdGlvblxuICAgIGlmIChxdWVyeVZhbHVlICE9PSBudWxsICYmIHR5cGVvZiBxdWVyeVZhbHVlID09PSAnb2JqZWN0JyAmJiAhdXRpbC5pc1JlZ0V4cChxdWVyeVZhbHVlKSkge1xuICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHF1ZXJ5VmFsdWUpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGFycmF5Q29tcGFyaXNvbkZ1bmN0aW9uc1trZXlzW2ldXSkgeyByZXR1cm4gbWF0Y2hRdWVyeVBhcnQob2JqLCBxdWVyeUtleSwgcXVlcnlWYWx1ZSwgdHJ1ZSk7IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBub3QsIHRyZWF0IGl0IGFzIGFuIGFycmF5IG9mIHsgb2JqLCBxdWVyeSB9IHdoZXJlIHRoZXJlIG5lZWRzIHRvIGJlIGF0IGxlYXN0IG9uZSBtYXRjaFxuICAgIGZvciAoaSA9IDA7IGkgPCBvYmpWYWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKG1hdGNoUXVlcnlQYXJ0KHsgazogb2JqVmFsdWVbaV0gfSwgJ2snLCBxdWVyeVZhbHVlKSkgeyByZXR1cm4gdHJ1ZTsgfSAgIC8vIGsgaGVyZSBjb3VsZCBiZSBhbnkgc3RyaW5nXG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIHF1ZXJ5VmFsdWUgaXMgYW4gYWN0dWFsIG9iamVjdC4gRGV0ZXJtaW5lIHdoZXRoZXIgaXQgY29udGFpbnMgY29tcGFyaXNvbiBvcGVyYXRvcnNcbiAgLy8gb3Igb25seSBub3JtYWwgZmllbGRzLiBNaXhlZCBvYmplY3RzIGFyZSBub3QgYWxsb3dlZFxuICBpZiAocXVlcnlWYWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgcXVlcnlWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIXV0aWwuaXNSZWdFeHAocXVlcnlWYWx1ZSkpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXMocXVlcnlWYWx1ZSk7XG4gICAgZmlyc3RDaGFycyA9IF8ubWFwKGtleXMsIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtWzBdOyB9KTtcbiAgICBkb2xsYXJGaXJzdENoYXJzID0gXy5maWx0ZXIoZmlyc3RDaGFycywgZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgPT09ICckJzsgfSk7XG5cbiAgICBpZiAoZG9sbGFyRmlyc3RDaGFycy5sZW5ndGggIT09IDAgJiYgZG9sbGFyRmlyc3RDaGFycy5sZW5ndGggIT09IGZpcnN0Q2hhcnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBcIllvdSBjYW5ub3QgbWl4IG9wZXJhdG9ycyBhbmQgbm9ybWFsIGZpZWxkc1wiO1xuICAgIH1cblxuICAgIC8vIHF1ZXJ5VmFsdWUgaXMgYW4gb2JqZWN0IG9mIHRoaXMgZm9ybTogeyAkY29tcGFyaXNvbk9wZXJhdG9yMTogdmFsdWUxLCAuLi4gfVxuICAgIGlmIChkb2xsYXJGaXJzdENoYXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmICghY29tcGFyaXNvbkZ1bmN0aW9uc1trZXlzW2ldXSkgeyB0aHJvdyBcIlVua25vd24gY29tcGFyaXNvbiBmdW5jdGlvbiBcIiArIGtleXNbaV07IH1cblxuICAgICAgICBpZiAoIWNvbXBhcmlzb25GdW5jdGlvbnNba2V5c1tpXV0ob2JqVmFsdWUsIHF1ZXJ5VmFsdWVba2V5c1tpXV0pKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gVXNpbmcgcmVndWxhciBleHByZXNzaW9ucyB3aXRoIGJhc2ljIHF1ZXJ5aW5nXG4gIGlmICh1dGlsLmlzUmVnRXhwKHF1ZXJ5VmFsdWUpKSB7IHJldHVybiBjb21wYXJpc29uRnVuY3Rpb25zLiRyZWdleChvYmpWYWx1ZSwgcXVlcnlWYWx1ZSk7IH1cblxuICAvLyBxdWVyeVZhbHVlIGlzIGVpdGhlciBhIG5hdGl2ZSB2YWx1ZSBvciBhIG5vcm1hbCBvYmplY3RcbiAgLy8gQmFzaWMgbWF0Y2hpbmcgaXMgcG9zc2libGVcbiAgaWYgKCFhcmVUaGluZ3NFcXVhbChvYmpWYWx1ZSwgcXVlcnlWYWx1ZSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG5tb2R1bGUuZXhwb3J0cy5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xubW9kdWxlLmV4cG9ydHMuZGVlcENvcHkgPSBkZWVwQ29weTtcbm1vZHVsZS5leHBvcnRzLmNoZWNrT2JqZWN0ID0gY2hlY2tPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cy5pc1ByaW1pdGl2ZVR5cGUgPSBpc1ByaW1pdGl2ZVR5cGU7XG5tb2R1bGUuZXhwb3J0cy5tb2RpZnkgPSBtb2RpZnk7XG5tb2R1bGUuZXhwb3J0cy5nZXREb3RWYWx1ZSA9IGdldERvdFZhbHVlO1xubW9kdWxlLmV4cG9ydHMubWF0Y2ggPSBtYXRjaDtcbm1vZHVsZS5leHBvcnRzLmFyZVRoaW5nc0VxdWFsID0gYXJlVGhpbmdzRXF1YWw7XG5tb2R1bGUuZXhwb3J0cy5jb21wYXJlVGhpbmdzID0gY29tcGFyZVRoaW5ncztcblxufSx7XCJ1bmRlcnNjb3JlXCI6MTgsXCJ1dGlsXCI6MjJ9XSwxNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuLyoqXG4gKiBIYW5kbGUgZXZlcnkgcGVyc2lzdGVuY2UtcmVsYXRlZCB0YXNrXG4gKiBUaGUgaW50ZXJmYWNlIERhdGFzdG9yZSBleHBlY3RzIHRvIGJlIGltcGxlbWVudGVkIGlzXG4gKiAqIFBlcnNpc3RlbmNlLmxvYWREYXRhYmFzZShjYWxsYmFjaykgYW5kIGNhbGxiYWNrIGhhcyBzaWduYXR1cmUgZXJyXG4gKiAqIFBlcnNpc3RlbmNlLnBlcnNpc3ROZXdTdGF0ZShuZXdEb2NzLCBjYWxsYmFjaykgd2hlcmUgbmV3RG9jcyBpcyBhbiBhcnJheSBvZiBkb2N1bWVudHMgYW5kIGNhbGxiYWNrIGhhcyBzaWduYXR1cmUgZXJyXG4gKi9cblxudmFyIHN0b3JhZ2UgPSByZXF1aXJlKCcuL3N0b3JhZ2UnKVxuICAsIHBhdGggPSByZXF1aXJlKCdwYXRoJylcbiAgLCBtb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWwnKVxuICAsIGFzeW5jID0gcmVxdWlyZSgnYXN5bmMnKVxuICAsIGN1c3RvbVV0aWxzID0gcmVxdWlyZSgnLi9jdXN0b21VdGlscycpXG4gICwgSW5kZXggPSByZXF1aXJlKCcuL2luZGV4ZXMnKVxuICA7XG5cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgUGVyc2lzdGVuY2Ugb2JqZWN0IGZvciBkYXRhYmFzZSBvcHRpb25zLmRiXG4gKiBAcGFyYW0ge0RhdGFzdG9yZX0gb3B0aW9ucy5kYlxuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLm5vZGVXZWJraXRBcHBOYW1lIE9wdGlvbmFsLCBzcGVjaWZ5IHRoZSBuYW1lIG9mIHlvdXIgTlcgYXBwIGlmIHlvdSB3YW50IG9wdGlvbnMuZmlsZW5hbWUgdG8gYmUgcmVsYXRpdmUgdG8gdGhlIGRpcmVjdG9yeSB3aGVyZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgV2Via2l0IHN0b3JlcyBhcHBsaWNhdGlvbiBkYXRhIHN1Y2ggYXMgY29va2llcyBhbmQgbG9jYWwgc3RvcmFnZSAodGhlIGJlc3QgcGxhY2UgdG8gc3RvcmUgZGF0YSBpbiBteSBvcGluaW9uKVxuICovXG5mdW5jdGlvbiBQZXJzaXN0ZW5jZSAob3B0aW9ucykge1xuICB2YXIgaSwgaiwgcmFuZG9tU3RyaW5nO1xuXG4gIHRoaXMuZGIgPSBvcHRpb25zLmRiO1xuICB0aGlzLmluTWVtb3J5T25seSA9IHRoaXMuZGIuaW5NZW1vcnlPbmx5O1xuICB0aGlzLmZpbGVuYW1lID0gdGhpcy5kYi5maWxlbmFtZTtcbiAgdGhpcy5jb3JydXB0QWxlcnRUaHJlc2hvbGQgPSBvcHRpb25zLmNvcnJ1cHRBbGVydFRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb3JydXB0QWxlcnRUaHJlc2hvbGQgOiAwLjE7XG5cbiAgaWYgKCF0aGlzLmluTWVtb3J5T25seSAmJiB0aGlzLmZpbGVuYW1lICYmIHRoaXMuZmlsZW5hbWUuY2hhckF0KHRoaXMuZmlsZW5hbWUubGVuZ3RoIC0gMSkgPT09ICd+Jykge1xuICAgIHRocm93IFwiVGhlIGRhdGFmaWxlIG5hbWUgY2FuJ3QgZW5kIHdpdGggYSB+LCB3aGljaCBpcyByZXNlcnZlZCBmb3IgY3Jhc2ggc2FmZSBiYWNrdXAgZmlsZXNcIjtcbiAgfVxuXG4gIC8vIEFmdGVyIHNlcmlhbGl6YXRpb24gYW5kIGJlZm9yZSBkZXNlcmlhbGl6YXRpb24gaG9va3Mgd2l0aCBzb21lIGJhc2ljIHNhbml0eSBjaGVja3NcbiAgaWYgKG9wdGlvbnMuYWZ0ZXJTZXJpYWxpemF0aW9uICYmICFvcHRpb25zLmJlZm9yZURlc2VyaWFsaXphdGlvbikge1xuICAgIHRocm93IFwiU2VyaWFsaXphdGlvbiBob29rIGRlZmluZWQgYnV0IGRlc2VyaWFsaXphdGlvbiBob29rIHVuZGVmaW5lZCwgY2F1dGlvdXNseSByZWZ1c2luZyB0byBzdGFydCBOZURCIHRvIHByZXZlbnQgZGF0YWxvc3NcIjtcbiAgfVxuICBpZiAoIW9wdGlvbnMuYWZ0ZXJTZXJpYWxpemF0aW9uICYmIG9wdGlvbnMuYmVmb3JlRGVzZXJpYWxpemF0aW9uKSB7XG4gICAgdGhyb3cgXCJTZXJpYWxpemF0aW9uIGhvb2sgdW5kZWZpbmVkIGJ1dCBkZXNlcmlhbGl6YXRpb24gaG9vayBkZWZpbmVkLCBjYXV0aW91c2x5IHJlZnVzaW5nIHRvIHN0YXJ0IE5lREIgdG8gcHJldmVudCBkYXRhbG9zc1wiO1xuICB9XG4gIHRoaXMuYWZ0ZXJTZXJpYWxpemF0aW9uID0gb3B0aW9ucy5hZnRlclNlcmlhbGl6YXRpb24gfHwgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHM7IH07XG4gIHRoaXMuYmVmb3JlRGVzZXJpYWxpemF0aW9uID0gb3B0aW9ucy5iZWZvcmVEZXNlcmlhbGl6YXRpb24gfHwgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHM7IH07XG4gIGZvciAoaSA9IDE7IGkgPCAzMDsgaSArPSAxKSB7XG4gICAgZm9yIChqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcbiAgICAgIHJhbmRvbVN0cmluZyA9IGN1c3RvbVV0aWxzLnVpZChpKTtcbiAgICAgIGlmICh0aGlzLmJlZm9yZURlc2VyaWFsaXphdGlvbih0aGlzLmFmdGVyU2VyaWFsaXphdGlvbihyYW5kb21TdHJpbmcpKSAhPT0gcmFuZG9tU3RyaW5nKSB7XG4gICAgICAgIHRocm93IFwiYmVmb3JlRGVzZXJpYWxpemF0aW9uIGlzIG5vdCB0aGUgcmV2ZXJzZSBvZiBhZnRlclNlcmlhbGl6YXRpb24sIGNhdXRpb3VzbHkgcmVmdXNpbmcgdG8gc3RhcnQgTmVEQiB0byBwcmV2ZW50IGRhdGFsb3NzXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRm9yIE5XIGFwcHMsIHN0b3JlIGRhdGEgaW4gdGhlIHNhbWUgZGlyZWN0b3J5IHdoZXJlIE5XIHN0b3JlcyBhcHBsaWNhdGlvbiBkYXRhXG4gIGlmICh0aGlzLmZpbGVuYW1lICYmIG9wdGlvbnMubm9kZVdlYmtpdEFwcE5hbWUpIHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIldBUk5JTkc6IFRoZSBub2RlV2Via2l0QXBwTmFtZSBvcHRpb24gaXMgZGVwcmVjYXRlZFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIlRvIGdldCB0aGUgcGF0aCB0byB0aGUgZGlyZWN0b3J5IHdoZXJlIE5vZGUgV2Via2l0IHN0b3JlcyB0aGUgZGF0YVwiKTtcbiAgICBjb25zb2xlLmxvZyhcImZvciB5b3VyIGFwcCwgdXNlIHRoZSBpbnRlcm5hbCBudy5ndWkgbW9kdWxlIGxpa2UgdGhpc1wiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcXVpcmUoJ253Lmd1aScpLkFwcC5kYXRhUGF0aFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIlNlZSBodHRwczovL2dpdGh1Yi5jb20vcm9nZXJ3YW5nL25vZGUtd2Via2l0L2lzc3Vlcy81MDBcIik7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gICAgdGhpcy5maWxlbmFtZSA9IFBlcnNpc3RlbmNlLmdldE5XQXBwRmlsZW5hbWUob3B0aW9ucy5ub2RlV2Via2l0QXBwTmFtZSwgdGhpcy5maWxlbmFtZSk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDaGVjayBpZiBhIGRpcmVjdG9yeSBleGlzdHMgYW5kIGNyZWF0ZSBpdCBvbiB0aGUgZmx5IGlmIGl0IGlzIG5vdCB0aGUgY2FzZVxuICogY2IgaXMgb3B0aW9uYWwsIHNpZ25hdHVyZTogZXJyXG4gKi9cblBlcnNpc3RlbmNlLmVuc3VyZURpcmVjdG9yeUV4aXN0cyA9IGZ1bmN0aW9uIChkaXIsIGNiKSB7XG4gIHZhciBjYWxsYmFjayA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgO1xuXG4gIHN0b3JhZ2UubWtkaXJwKGRpciwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfSk7XG59O1xuXG5cblxuXG4vKipcbiAqIFJldHVybiB0aGUgcGF0aCB0aGUgZGF0YWZpbGUgaWYgdGhlIGdpdmVuIGZpbGVuYW1lIGlzIHJlbGF0aXZlIHRvIHRoZSBkaXJlY3Rvcnkgd2hlcmUgTm9kZSBXZWJraXQgc3RvcmVzXG4gKiBkYXRhIGZvciB0aGlzIGFwcGxpY2F0aW9uLiBQcm9iYWJseSB0aGUgYmVzdCBwbGFjZSB0byBzdG9yZSBkYXRhXG4gKi9cblBlcnNpc3RlbmNlLmdldE5XQXBwRmlsZW5hbWUgPSBmdW5jdGlvbiAoYXBwTmFtZSwgcmVsYXRpdmVGaWxlbmFtZSkge1xuICB2YXIgaG9tZTtcblxuICBzd2l0Y2ggKHByb2Nlc3MucGxhdGZvcm0pIHtcbiAgICBjYXNlICd3aW4zMic6XG4gICAgY2FzZSAnd2luNjQnOlxuICAgICAgaG9tZSA9IHByb2Nlc3MuZW52LkxPQ0FMQVBQREFUQSB8fCBwcm9jZXNzLmVudi5BUFBEQVRBO1xuICAgICAgaWYgKCFob21lKSB7IHRocm93IFwiQ291bGRuJ3QgZmluZCB0aGUgYmFzZSBhcHBsaWNhdGlvbiBkYXRhIGZvbGRlclwiOyB9XG4gICAgICBob21lID0gcGF0aC5qb2luKGhvbWUsIGFwcE5hbWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGFyd2luJzpcbiAgICAgIGhvbWUgPSBwcm9jZXNzLmVudi5IT01FO1xuICAgICAgaWYgKCFob21lKSB7IHRocm93IFwiQ291bGRuJ3QgZmluZCB0aGUgYmFzZSBhcHBsaWNhdGlvbiBkYXRhIGRpcmVjdG9yeVwiOyB9XG4gICAgICBob21lID0gcGF0aC5qb2luKGhvbWUsICdMaWJyYXJ5JywgJ0FwcGxpY2F0aW9uIFN1cHBvcnQnLCBhcHBOYW1lKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xpbnV4JzpcbiAgICAgIGhvbWUgPSBwcm9jZXNzLmVudi5IT01FO1xuICAgICAgaWYgKCFob21lKSB7IHRocm93IFwiQ291bGRuJ3QgZmluZCB0aGUgYmFzZSBhcHBsaWNhdGlvbiBkYXRhIGRpcmVjdG9yeVwiOyB9XG4gICAgICBob21lID0gcGF0aC5qb2luKGhvbWUsICcuY29uZmlnJywgYXBwTmFtZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgXCJDYW4ndCB1c2UgdGhlIE5vZGUgV2Via2l0IHJlbGF0aXZlIHBhdGggZm9yIHBsYXRmb3JtIFwiICsgcHJvY2Vzcy5wbGF0Zm9ybTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHBhdGguam9pbihob21lLCAnbmVkYi1kYXRhJywgcmVsYXRpdmVGaWxlbmFtZSk7XG59XG5cblxuLyoqXG4gKiBQZXJzaXN0IGNhY2hlZCBkYXRhYmFzZVxuICogVGhpcyBzZXJ2ZXMgYXMgYSBjb21wYWN0aW9uIGZ1bmN0aW9uIHNpbmNlIHRoZSBjYWNoZSBhbHdheXMgY29udGFpbnMgb25seSB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyBpbiB0aGUgY29sbGVjdGlvblxuICogd2hpbGUgdGhlIGRhdGEgZmlsZSBpcyBhcHBlbmQtb25seSBzbyBpdCBtYXkgZ3JvdyBsYXJnZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrLCBzaWduYXR1cmU6IGVyclxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUucGVyc2lzdENhY2hlZERhdGFiYXNlID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBjYWxsYmFjayA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgLCB0b1BlcnNpc3QgPSAnJ1xuICAgICwgc2VsZiA9IHRoaXNcbiAgICA7XG5cbiAgaWYgKHRoaXMuaW5NZW1vcnlPbmx5KSB7IHJldHVybiBjYWxsYmFjayhudWxsKTsgfVxuXG4gIHRoaXMuZGIuZ2V0QWxsRGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIHRvUGVyc2lzdCArPSBzZWxmLmFmdGVyU2VyaWFsaXphdGlvbihtb2RlbC5zZXJpYWxpemUoZG9jKSkgKyAnXFxuJztcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHRoaXMuZGIuaW5kZXhlcykuZm9yRWFjaChmdW5jdGlvbiAoZmllbGROYW1lKSB7XG4gICAgaWYgKGZpZWxkTmFtZSAhPSBcIl9pZFwiKSB7ICAgLy8gVGhlIHNwZWNpYWwgX2lkIGluZGV4IGlzIG1hbmFnZWQgYnkgZGF0YXN0b3JlLmpzLCB0aGUgb3RoZXJzIG5lZWQgdG8gYmUgcGVyc2lzdGVkXG4gICAgICB0b1BlcnNpc3QgKz0gc2VsZi5hZnRlclNlcmlhbGl6YXRpb24obW9kZWwuc2VyaWFsaXplKHsgJCRpbmRleENyZWF0ZWQ6IHsgZmllbGROYW1lOiBmaWVsZE5hbWUsIHVuaXF1ZTogc2VsZi5kYi5pbmRleGVzW2ZpZWxkTmFtZV0udW5pcXVlLCBzcGFyc2U6IHNlbGYuZGIuaW5kZXhlc1tmaWVsZE5hbWVdLnNwYXJzZSB9fSkpICsgJ1xcbic7XG4gICAgfVxuICB9KTtcblxuICBzdG9yYWdlLmNyYXNoU2FmZVdyaXRlRmlsZSh0aGlzLmZpbGVuYW1lLCB0b1BlcnNpc3QsIGNhbGxiYWNrKTtcbn07XG5cblxuLyoqXG4gKiBRdWV1ZSBhIHJld3JpdGUgb2YgdGhlIGRhdGFmaWxlXG4gKi9cblBlcnNpc3RlbmNlLnByb3RvdHlwZS5jb21wYWN0RGF0YWZpbGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZGIuZXhlY3V0b3IucHVzaCh7IHRoaXM6IHRoaXMsIGZuOiB0aGlzLnBlcnNpc3RDYWNoZWREYXRhYmFzZSwgYXJndW1lbnRzOiBbXSB9KTtcbn07XG5cblxuLyoqXG4gKiBTZXQgYXV0b21hdGljIGNvbXBhY3Rpb24gZXZlcnkgaW50ZXJ2YWwgbXNcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMsIHdpdGggYW4gZW5mb3JjZWQgbWluaW11bSBvZiA1IHNlY29uZHNcbiAqL1xuUGVyc2lzdGVuY2UucHJvdG90eXBlLnNldEF1dG9jb21wYWN0aW9uSW50ZXJ2YWwgPSBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gICAgLCBtaW5JbnRlcnZhbCA9IDUwMDBcbiAgICAsIHJlYWxJbnRlcnZhbCA9IE1hdGgubWF4KGludGVydmFsIHx8IDAsIG1pbkludGVydmFsKVxuICAgIDtcblxuICB0aGlzLnN0b3BBdXRvY29tcGFjdGlvbigpO1xuXG4gIHRoaXMuYXV0b2NvbXBhY3Rpb25JbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuY29tcGFjdERhdGFmaWxlKCk7XG4gIH0sIHJlYWxJbnRlcnZhbCk7XG59O1xuXG5cbi8qKlxuICogU3RvcCBhdXRvY29tcGFjdGlvbiAoZG8gbm90aGluZyBpZiBhdXRvY29tcGFjdGlvbiB3YXMgbm90IHJ1bm5pbmcpXG4gKi9cblBlcnNpc3RlbmNlLnByb3RvdHlwZS5zdG9wQXV0b2NvbXBhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmF1dG9jb21wYWN0aW9uSW50ZXJ2YWxJZCkgeyBjbGVhckludGVydmFsKHRoaXMuYXV0b2NvbXBhY3Rpb25JbnRlcnZhbElkKTsgfVxufTtcblxuXG4vKipcbiAqIFBlcnNpc3QgbmV3IHN0YXRlIGZvciB0aGUgZ2l2ZW4gbmV3RG9jcyAoY2FuIGJlIGluc2VydGlvbiwgdXBkYXRlIG9yIHJlbW92YWwpXG4gKiBVc2UgYW4gYXBwZW5kLW9ubHkgZm9ybWF0XG4gKiBAcGFyYW0ge0FycmF5fSBuZXdEb2NzIENhbiBiZSBlbXB0eSBpZiBubyBkb2Mgd2FzIHVwZGF0ZWQvcmVtb3ZlZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgT3B0aW9uYWwsIHNpZ25hdHVyZTogZXJyXG4gKi9cblBlcnNpc3RlbmNlLnByb3RvdHlwZS5wZXJzaXN0TmV3U3RhdGUgPSBmdW5jdGlvbiAobmV3RG9jcywgY2IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gICAgLCB0b1BlcnNpc3QgPSAnJ1xuICAgICwgY2FsbGJhY2sgPSBjYiB8fCBmdW5jdGlvbiAoKSB7fVxuICAgIDtcblxuICAvLyBJbi1tZW1vcnkgb25seSBkYXRhc3RvcmVcbiAgaWYgKHNlbGYuaW5NZW1vcnlPbmx5KSB7IHJldHVybiBjYWxsYmFjayhudWxsKTsgfVxuXG4gIG5ld0RvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgdG9QZXJzaXN0ICs9IHNlbGYuYWZ0ZXJTZXJpYWxpemF0aW9uKG1vZGVsLnNlcmlhbGl6ZShkb2MpKSArICdcXG4nO1xuICB9KTtcblxuICBpZiAodG9QZXJzaXN0Lmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gY2FsbGJhY2sobnVsbCk7IH1cblxuICBzdG9yYWdlLmFwcGVuZEZpbGUoc2VsZi5maWxlbmFtZSwgdG9QZXJzaXN0LCAndXRmOCcsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogRnJvbSBhIGRhdGFiYXNlJ3MgcmF3IGRhdGEsIHJldHVybiB0aGUgY29ycmVzcG9uZGluZ1xuICogbWFjaGluZSB1bmRlcnN0YW5kYWJsZSBjb2xsZWN0aW9uXG4gKi9cblBlcnNpc3RlbmNlLnByb3RvdHlwZS50cmVhdFJhd0RhdGEgPSBmdW5jdGlvbiAocmF3RGF0YSkge1xuICB2YXIgZGF0YSA9IHJhd0RhdGEuc3BsaXQoJ1xcbicpXG4gICAgLCBkYXRhQnlJZCA9IHt9XG4gICAgLCB0ZGF0YSA9IFtdXG4gICAgLCBpXG4gICAgLCBpbmRleGVzID0ge31cbiAgICAsIGNvcnJ1cHRJdGVtcyA9IC0xICAgLy8gTGFzdCBsaW5lIG9mIGV2ZXJ5IGRhdGEgZmlsZSBpcyB1c3VhbGx5IGJsYW5rIHNvIG5vdCByZWFsbHkgY29ycnVwdFxuICAgIDtcblxuICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBkb2M7XG5cbiAgICB0cnkge1xuICAgICAgZG9jID0gbW9kZWwuZGVzZXJpYWxpemUodGhpcy5iZWZvcmVEZXNlcmlhbGl6YXRpb24oZGF0YVtpXSkpO1xuICAgICAgaWYgKGRvYy5faWQpIHtcbiAgICAgICAgaWYgKGRvYy4kJGRlbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICBkZWxldGUgZGF0YUJ5SWRbZG9jLl9pZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YUJ5SWRbZG9jLl9pZF0gPSBkb2M7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZG9jLiQkaW5kZXhDcmVhdGVkICYmIGRvYy4kJGluZGV4Q3JlYXRlZC5maWVsZE5hbWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ZXNbZG9jLiQkaW5kZXhDcmVhdGVkLmZpZWxkTmFtZV0gPSBkb2MuJCRpbmRleENyZWF0ZWQ7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2MuJCRpbmRleFJlbW92ZWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZGVsZXRlIGluZGV4ZXNbZG9jLiQkaW5kZXhSZW1vdmVkXTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb3JydXB0SXRlbXMgKz0gMTtcbiAgICB9XG4gIH1cblxuICAvLyBBIGJpdCBsZW5pZW50IG9uIGNvcnJ1cHRpb25cbiAgaWYgKGRhdGEubGVuZ3RoID4gMCAmJiBjb3JydXB0SXRlbXMgLyBkYXRhLmxlbmd0aCA+IHRoaXMuY29ycnVwdEFsZXJ0VGhyZXNob2xkKSB7XG4gICAgdGhyb3cgXCJNb3JlIHRoYW4gMTAlIG9mIHRoZSBkYXRhIGZpbGUgaXMgY29ycnVwdCwgdGhlIHdyb25nIGJlZm9yZURlc2VyaWFsaXphdGlvbiBob29rIG1heSBiZSB1c2VkLiBDYXV0aW91c2x5IHJlZnVzaW5nIHRvIHN0YXJ0IE5lREIgdG8gcHJldmVudCBkYXRhbG9zc1wiXG4gIH1cblxuICBPYmplY3Qua2V5cyhkYXRhQnlJZCkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHRkYXRhLnB1c2goZGF0YUJ5SWRba10pO1xuICB9KTtcblxuICByZXR1cm4geyBkYXRhOiB0ZGF0YSwgaW5kZXhlczogaW5kZXhlcyB9O1xufTtcblxuXG4vKipcbiAqIExvYWQgdGhlIGRhdGFiYXNlXG4gKiAxKSBDcmVhdGUgYWxsIGluZGV4ZXNcbiAqIDIpIEluc2VydCBhbGwgZGF0YVxuICogMykgQ29tcGFjdCB0aGUgZGF0YWJhc2VcbiAqIFRoaXMgbWVhbnMgcHVsbGluZyBkYXRhIG91dCBvZiB0aGUgZGF0YSBmaWxlIG9yIGNyZWF0aW5nIGl0IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAqIEFsc28sIGFsbCBkYXRhIGlzIHBlcnNpc3RlZCByaWdodCBhd2F5LCB3aGljaCBoYXMgdGhlIGVmZmVjdCBvZiBjb21wYWN0aW5nIHRoZSBkYXRhYmFzZSBmaWxlXG4gKiBUaGlzIG9wZXJhdGlvbiBpcyB2ZXJ5IHF1aWNrIGF0IHN0YXJ0dXAgZm9yIGEgYmlnIGNvbGxlY3Rpb24gKDYwbXMgZm9yIH4xMGsgZG9jcylcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrLCBzaWduYXR1cmU6IGVyclxuICovXG5QZXJzaXN0ZW5jZS5wcm90b3R5cGUubG9hZERhdGFiYXNlID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBjYWxsYmFjayA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgLCBzZWxmID0gdGhpc1xuICAgIDtcblxuICBzZWxmLmRiLnJlc2V0SW5kZXhlcygpO1xuXG4gIC8vIEluLW1lbW9yeSBvbmx5IGRhdGFzdG9yZVxuICBpZiAoc2VsZi5pbk1lbW9yeU9ubHkpIHsgcmV0dXJuIGNhbGxiYWNrKG51bGwpOyB9XG5cbiAgYXN5bmMud2F0ZXJmYWxsKFtcbiAgICBmdW5jdGlvbiAoY2IpIHtcbiAgICAgIFBlcnNpc3RlbmNlLmVuc3VyZURpcmVjdG9yeUV4aXN0cyhwYXRoLmRpcm5hbWUoc2VsZi5maWxlbmFtZSksIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgc3RvcmFnZS5lbnN1cmVEYXRhZmlsZUludGVncml0eShzZWxmLmZpbGVuYW1lLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgc3RvcmFnZS5yZWFkRmlsZShzZWxmLmZpbGVuYW1lLCAndXRmOCcsIGZ1bmN0aW9uIChlcnIsIHJhd0RhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHsgcmV0dXJuIGNiKGVycik7IH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFyIHRyZWF0ZWREYXRhID0gc2VsZi50cmVhdFJhd0RhdGEocmF3RGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYihlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVjcmVhdGUgYWxsIGluZGV4ZXMgaW4gdGhlIGRhdGFmaWxlXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0cmVhdGVkRGF0YS5pbmRleGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgc2VsZi5kYi5pbmRleGVzW2tleV0gPSBuZXcgSW5kZXgodHJlYXRlZERhdGEuaW5kZXhlc1trZXldKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBGaWxsIGNhY2hlZCBkYXRhYmFzZSAoaS5lLiBhbGwgaW5kZXhlcykgd2l0aCBkYXRhXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzZWxmLmRiLnJlc2V0SW5kZXhlcyh0cmVhdGVkRGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgc2VsZi5kYi5yZXNldEluZGV4ZXMoKTsgICAvLyBSb2xsYmFjayBhbnkgaW5kZXggd2hpY2ggZGlkbid0IGZhaWxcbiAgICAgICAgICAgICAgcmV0dXJuIGNiKGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLmRiLnBlcnNpc3RlbmNlLnBlcnNpc3RDYWNoZWREYXRhYmFzZShjYik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICBdLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgaWYgKGVycikgeyByZXR1cm4gY2FsbGJhY2soZXJyKTsgfVxuXG4gICAgICAgc2VsZi5kYi5leGVjdXRvci5wcm9jZXNzQnVmZmVyKCk7XG4gICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICB9KTtcbn07XG5cblxuLy8gSW50ZXJmYWNlXG5tb2R1bGUuZXhwb3J0cyA9IFBlcnNpc3RlbmNlO1xuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSlcbn0se1wiLi9jdXN0b21VdGlsc1wiOjgsXCIuL2luZGV4ZXNcIjoxNCxcIi4vbW9kZWxcIjoxNSxcIi4vc3RvcmFnZVwiOjksXCJfcHJvY2Vzc1wiOjIwLFwiYXN5bmNcIjoxNyxcInBhdGhcIjoxOX1dLDE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4vKmdsb2JhbCBzZXRJbW1lZGlhdGU6IGZhbHNlLCBzZXRUaW1lb3V0OiBmYWxzZSwgY29uc29sZTogZmFsc2UgKi9cbihmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgYXN5bmMgPSB7fTtcblxuICAgIC8vIGdsb2JhbCBvbiB0aGUgc2VydmVyLCB3aW5kb3cgaW4gdGhlIGJyb3dzZXJcbiAgICB2YXIgcm9vdCwgcHJldmlvdXNfYXN5bmM7XG5cbiAgICByb290ID0gdGhpcztcbiAgICBpZiAocm9vdCAhPSBudWxsKSB7XG4gICAgICBwcmV2aW91c19hc3luYyA9IHJvb3QuYXN5bmM7XG4gICAgfVxuXG4gICAgYXN5bmMubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcm9vdC5hc3luYyA9IHByZXZpb3VzX2FzeW5jO1xuICAgICAgICByZXR1cm4gYXN5bmM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9ubHlfb25jZShmbikge1xuICAgICAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjYWxsZWQpIHRocm93IG5ldyBFcnJvcihcIkNhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC5cIik7XG4gICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgZm4uYXBwbHkocm9vdCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLy8gY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxpdHkgZnVuY3Rpb25zIC8vLy9cblxuICAgIHZhciBfZWFjaCA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yKSB7XG4gICAgICAgIGlmIChhcnIuZm9yRWFjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyci5mb3JFYWNoKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyW2ldLCBpLCBhcnIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBfbWFwID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IpIHtcbiAgICAgICAgaWYgKGFyci5tYXApIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIubWFwKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICBfZWFjaChhcnIsIGZ1bmN0aW9uICh4LCBpLCBhKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goaXRlcmF0b3IoeCwgaSwgYSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcblxuICAgIHZhciBfcmVkdWNlID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIG1lbW8pIHtcbiAgICAgICAgaWYgKGFyci5yZWR1Y2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIucmVkdWNlKGl0ZXJhdG9yLCBtZW1vKTtcbiAgICAgICAgfVxuICAgICAgICBfZWFjaChhcnIsIGZ1bmN0aW9uICh4LCBpLCBhKSB7XG4gICAgICAgICAgICBtZW1vID0gaXRlcmF0b3IobWVtbywgeCwgaSwgYSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuXG4gICAgdmFyIF9rZXlzID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgIGZvciAodmFyIGsgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH07XG5cbiAgICAvLy8vIGV4cG9ydGVkIGFzeW5jIG1vZHVsZSBmdW5jdGlvbnMgLy8vL1xuXG4gICAgLy8vLyBuZXh0VGljayBpbXBsZW1lbnRhdGlvbiB3aXRoIGJyb3dzZXItY29tcGF0aWJsZSBmYWxsYmFjayAvLy8vXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCAhKHByb2Nlc3MubmV4dFRpY2spKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhc3luYy5uZXh0VGljayA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIC8vIG5vdCBhIGRpcmVjdCBhbGlhcyBmb3IgSUUxMCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUgPSBhc3luYy5uZXh0VGljaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzeW5jLm5leHRUaWNrID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gYXN5bmMubmV4dFRpY2s7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzeW5jLm5leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgLy8gbm90IGEgZGlyZWN0IGFsaWFzIGZvciBJRTEwIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUgPSBhc3luYy5uZXh0VGljaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jLmVhY2ggPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgaWYgKCFhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tcGxldGVkID0gMDtcbiAgICAgICAgX2VhY2goYXJyLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgaXRlcmF0b3IoeCwgb25seV9vbmNlKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA+PSBhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBhc3luYy5mb3JFYWNoID0gYXN5bmMuZWFjaDtcblxuICAgIGFzeW5jLmVhY2hTZXJpZXMgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgaWYgKCFhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tcGxldGVkID0gMDtcbiAgICAgICAgdmFyIGl0ZXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihhcnJbY29tcGxldGVkXSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGl0ZXJhdGUoKTtcbiAgICB9O1xuICAgIGFzeW5jLmZvckVhY2hTZXJpZXMgPSBhc3luYy5lYWNoU2VyaWVzO1xuXG4gICAgYXN5bmMuZWFjaExpbWl0ID0gZnVuY3Rpb24gKGFyciwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZm4gPSBfZWFjaExpbWl0KGxpbWl0KTtcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgW2FyciwgaXRlcmF0b3IsIGNhbGxiYWNrXSk7XG4gICAgfTtcbiAgICBhc3luYy5mb3JFYWNoTGltaXQgPSBhc3luYy5lYWNoTGltaXQ7XG5cbiAgICB2YXIgX2VhY2hMaW1pdCA9IGZ1bmN0aW9uIChsaW1pdCkge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICBpZiAoIWFyci5sZW5ndGggfHwgbGltaXQgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlZCA9IDA7XG4gICAgICAgICAgICB2YXIgc3RhcnRlZCA9IDA7XG4gICAgICAgICAgICB2YXIgcnVubmluZyA9IDA7XG5cbiAgICAgICAgICAgIChmdW5jdGlvbiByZXBsZW5pc2ggKCkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmIHN0YXJ0ZWQgPCBhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZyArPSAxO1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJbc3RhcnRlZCAtIDFdLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVubmluZyAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQgPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGVuaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIHZhciBkb1BhcmFsbGVsID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgW2FzeW5jLmVhY2hdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgZG9QYXJhbGxlbExpbWl0ID0gZnVuY3Rpb24obGltaXQsIGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgW19lYWNoTGltaXQobGltaXQpXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIGRvU2VyaWVzID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgW2FzeW5jLmVhY2hTZXJpZXNdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuXG4gICAgdmFyIF9hc3luY01hcCA9IGZ1bmN0aW9uIChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIGFyciA9IF9tYXAoYXJyLCBmdW5jdGlvbiAoeCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIHtpbmRleDogaSwgdmFsdWU6IHh9O1xuICAgICAgICB9KTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LnZhbHVlLCBmdW5jdGlvbiAoZXJyLCB2KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1t4LmluZGV4XSA9IHY7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdHMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGFzeW5jLm1hcCA9IGRvUGFyYWxsZWwoX2FzeW5jTWFwKTtcbiAgICBhc3luYy5tYXBTZXJpZXMgPSBkb1NlcmllcyhfYXN5bmNNYXApO1xuICAgIGFzeW5jLm1hcExpbWl0ID0gZnVuY3Rpb24gKGFyciwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX21hcExpbWl0KGxpbWl0KShhcnIsIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIHZhciBfbWFwTGltaXQgPSBmdW5jdGlvbihsaW1pdCkge1xuICAgICAgICByZXR1cm4gZG9QYXJhbGxlbExpbWl0KGxpbWl0LCBfYXN5bmNNYXApO1xuICAgIH07XG5cbiAgICAvLyByZWR1Y2Ugb25seSBoYXMgYSBzZXJpZXMgdmVyc2lvbiwgYXMgZG9pbmcgcmVkdWNlIGluIHBhcmFsbGVsIHdvbid0XG4gICAgLy8gd29yayBpbiBtYW55IHNpdHVhdGlvbnMuXG4gICAgYXN5bmMucmVkdWNlID0gZnVuY3Rpb24gKGFyciwgbWVtbywgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jLmVhY2hTZXJpZXMoYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKG1lbW8sIHgsIGZ1bmN0aW9uIChlcnIsIHYpIHtcbiAgICAgICAgICAgICAgICBtZW1vID0gdjtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgbWVtbyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gaW5qZWN0IGFsaWFzXG4gICAgYXN5bmMuaW5qZWN0ID0gYXN5bmMucmVkdWNlO1xuICAgIC8vIGZvbGRsIGFsaWFzXG4gICAgYXN5bmMuZm9sZGwgPSBhc3luYy5yZWR1Y2U7XG5cbiAgICBhc3luYy5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIChhcnIsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmV2ZXJzZWQgPSBfbWFwKGFyciwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KS5yZXZlcnNlKCk7XG4gICAgICAgIGFzeW5jLnJlZHVjZShyZXZlcnNlZCwgbWVtbywgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8vIGZvbGRyIGFsaWFzXG4gICAgYXN5bmMuZm9sZHIgPSBhc3luYy5yZWR1Y2VSaWdodDtcblxuICAgIHZhciBfZmlsdGVyID0gZnVuY3Rpb24gKGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgYXJyID0gX21hcChhcnIsIGZ1bmN0aW9uICh4LCBpKSB7XG4gICAgICAgICAgICByZXR1cm4ge2luZGV4OiBpLCB2YWx1ZTogeH07XG4gICAgICAgIH0pO1xuICAgICAgICBlYWNoZm4oYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgudmFsdWUsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKF9tYXAocmVzdWx0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgICAgICAgICAgfSksIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHgudmFsdWU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMuZmlsdGVyID0gZG9QYXJhbGxlbChfZmlsdGVyKTtcbiAgICBhc3luYy5maWx0ZXJTZXJpZXMgPSBkb1NlcmllcyhfZmlsdGVyKTtcbiAgICAvLyBzZWxlY3QgYWxpYXNcbiAgICBhc3luYy5zZWxlY3QgPSBhc3luYy5maWx0ZXI7XG4gICAgYXN5bmMuc2VsZWN0U2VyaWVzID0gYXN5bmMuZmlsdGVyU2VyaWVzO1xuXG4gICAgdmFyIF9yZWplY3QgPSBmdW5jdGlvbiAoZWFjaGZuLCBhcnIsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICBhcnIgPSBfbWFwKGFyciwgZnVuY3Rpb24gKHgsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiB7aW5kZXg6IGksIHZhbHVlOiB4fTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IoeC52YWx1ZSwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKF9tYXAocmVzdWx0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgICAgICAgICAgfSksIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHgudmFsdWU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYXN5bmMucmVqZWN0ID0gZG9QYXJhbGxlbChfcmVqZWN0KTtcbiAgICBhc3luYy5yZWplY3RTZXJpZXMgPSBkb1NlcmllcyhfcmVqZWN0KTtcblxuICAgIHZhciBfZGV0ZWN0ID0gZnVuY3Rpb24gKGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgbWFpbl9jYWxsYmFjaykge1xuICAgICAgICBlYWNoZm4oYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1haW5fY2FsbGJhY2soeCk7XG4gICAgICAgICAgICAgICAgICAgIG1haW5fY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIG1haW5fY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBhc3luYy5kZXRlY3QgPSBkb1BhcmFsbGVsKF9kZXRlY3QpO1xuICAgIGFzeW5jLmRldGVjdFNlcmllcyA9IGRvU2VyaWVzKF9kZXRlY3QpO1xuXG4gICAgYXN5bmMuc29tZSA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yLCBtYWluX2NhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jLmVhY2goYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFpbl9jYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgbWFpbl9jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIG1haW5fY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIGFueSBhbGlhc1xuICAgIGFzeW5jLmFueSA9IGFzeW5jLnNvbWU7XG5cbiAgICBhc3luYy5ldmVyeSA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yLCBtYWluX2NhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jLmVhY2goYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2KSB7XG4gICAgICAgICAgICAgICAgICAgIG1haW5fY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBtYWluX2NhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgbWFpbl9jYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBhbGwgYWxpYXNcbiAgICBhc3luYy5hbGwgPSBhc3luYy5ldmVyeTtcblxuICAgIGFzeW5jLnNvcnRCeSA9IGZ1bmN0aW9uIChhcnIsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBhc3luYy5tYXAoYXJyLCBmdW5jdGlvbiAoeCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHgsIGZ1bmN0aW9uIChlcnIsIGNyaXRlcmlhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3ZhbHVlOiB4LCBjcml0ZXJpYTogY3JpdGVyaWF9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYSwgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBfbWFwKHJlc3VsdHMuc29ydChmbiksIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLmF1dG8gPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIHZhciBrZXlzID0gX2tleXModGFza3MpO1xuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xuXG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdmFyIGFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMudW5zaGlmdChmbik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldID09PSBmbikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGFza0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX2VhY2gobGlzdGVuZXJzLnNsaWNlKDApLCBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYWRkTGlzdGVuZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF9rZXlzKHJlc3VsdHMpLmxlbmd0aCA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBfZWFjaChrZXlzLCBmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSAodGFza3Nba10gaW5zdGFuY2VvZiBGdW5jdGlvbikgPyBbdGFza3Nba11dOiB0YXNrc1trXTtcbiAgICAgICAgICAgIHZhciB0YXNrQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzYWZlUmVzdWx0cyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBfZWFjaChfa2V5cyhyZXN1bHRzKSwgZnVuY3Rpb24ocmtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlc3VsdHNbcmtleV0gPSByZXN1bHRzW3JrZXldO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2FmZVJlc3VsdHNba10gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIHNhZmVSZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCBzdWJzZXF1ZW50IGVycm9ycyBoaXR0aW5nIGNhbGxiYWNrIG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKHRhc2tDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciByZXF1aXJlcyA9IHRhc2suc2xpY2UoMCwgTWF0aC5hYnModGFzay5sZW5ndGggLSAxKSkgfHwgW107XG4gICAgICAgICAgICB2YXIgcmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWR1Y2UocmVxdWlyZXMsIGZ1bmN0aW9uIChhLCB4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYSAmJiByZXN1bHRzLmhhc093blByb3BlcnR5KHgpKTtcbiAgICAgICAgICAgICAgICB9LCB0cnVlKSAmJiAhcmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShrKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIHRhc2tbdGFzay5sZW5ndGggLSAxXSh0YXNrQ2FsbGJhY2ssIHJlc3VsdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVhZHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1t0YXNrLmxlbmd0aCAtIDFdKHRhc2tDYWxsYmFjaywgcmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLndhdGVyZmFsbCA9IGZ1bmN0aW9uICh0YXNrcywgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgaWYgKHRhc2tzLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IHRvIHdhdGVyZmFsbCBtdXN0IGJlIGFuIGFycmF5IG9mIGZ1bmN0aW9ucycpO1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd3JhcEl0ZXJhdG9yID0gZnVuY3Rpb24gKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2god3JhcEl0ZXJhdG9yKG5leHQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICB3cmFwSXRlcmF0b3IoYXN5bmMuaXRlcmF0b3IodGFza3MpKSgpO1xuICAgIH07XG5cbiAgICB2YXIgX3BhcmFsbGVsID0gZnVuY3Rpb24oZWFjaGZuLCB0YXNrcywgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgaWYgKHRhc2tzLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICAgICAgZWFjaGZuLm1hcCh0YXNrcywgZnVuY3Rpb24gKGZuLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICBmbihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChudWxsLCBlcnIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xuICAgICAgICAgICAgZWFjaGZuLmVhY2goX2tleXModGFza3MpLCBmdW5jdGlvbiAoaywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0YXNrc1trXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNba10gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhc3luYy5wYXJhbGxlbCA9IGZ1bmN0aW9uICh0YXNrcywgY2FsbGJhY2spIHtcbiAgICAgICAgX3BhcmFsbGVsKHsgbWFwOiBhc3luYy5tYXAsIGVhY2g6IGFzeW5jLmVhY2ggfSwgdGFza3MsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMucGFyYWxsZWxMaW1pdCA9IGZ1bmN0aW9uKHRhc2tzLCBsaW1pdCwgY2FsbGJhY2spIHtcbiAgICAgICAgX3BhcmFsbGVsKHsgbWFwOiBfbWFwTGltaXQobGltaXQpLCBlYWNoOiBfZWFjaExpbWl0KGxpbWl0KSB9LCB0YXNrcywgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5zZXJpZXMgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gICAgICAgIGlmICh0YXNrcy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgICAgIGFzeW5jLm1hcFNlcmllcyh0YXNrcywgZnVuY3Rpb24gKGZuLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICBmbihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChudWxsLCBlcnIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xuICAgICAgICAgICAgYXN5bmMuZWFjaFNlcmllcyhfa2V5cyh0YXNrcyksIGZ1bmN0aW9uIChrLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRhc2tzW2tdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1trXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFzeW5jLml0ZXJhdG9yID0gZnVuY3Rpb24gKHRhc2tzKSB7XG4gICAgICAgIHZhciBtYWtlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBmbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzW2luZGV4XS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm4ubmV4dCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZuLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChpbmRleCA8IHRhc2tzLmxlbmd0aCAtIDEpID8gbWFrZUNhbGxiYWNrKGluZGV4ICsgMSk6IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbWFrZUNhbGxiYWNrKDApO1xuICAgIH07XG5cbiAgICBhc3luYy5hcHBseSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkoXG4gICAgICAgICAgICAgICAgbnVsbCwgYXJncy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBfY29uY2F0ID0gZnVuY3Rpb24gKGVhY2hmbiwgYXJyLCBmbiwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHIgPSBbXTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGNiKSB7XG4gICAgICAgICAgICBmbih4LCBmdW5jdGlvbiAoZXJyLCB5KSB7XG4gICAgICAgICAgICAgICAgciA9IHIuY29uY2F0KHkgfHwgW10pO1xuICAgICAgICAgICAgICAgIGNiKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBhc3luYy5jb25jYXQgPSBkb1BhcmFsbGVsKF9jb25jYXQpO1xuICAgIGFzeW5jLmNvbmNhdFNlcmllcyA9IGRvU2VyaWVzKF9jb25jYXQpO1xuXG4gICAgYXN5bmMud2hpbHN0ID0gZnVuY3Rpb24gKHRlc3QsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGVzdCgpKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXN5bmMud2hpbHN0KHRlc3QsIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMuZG9XaGlsc3QgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIGl0ZXJhdG9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ZXN0KCkpIHtcbiAgICAgICAgICAgICAgICBhc3luYy5kb1doaWxzdChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLnVudGlsID0gZnVuY3Rpb24gKHRlc3QsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRlc3QoKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzeW5jLnVudGlsKHRlc3QsIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMuZG9VbnRpbCA9IGZ1bmN0aW9uIChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgaXRlcmF0b3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0ZXN0KCkpIHtcbiAgICAgICAgICAgICAgICBhc3luYy5kb1VudGlsKGl0ZXJhdG9yLCB0ZXN0LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgYXN5bmMucXVldWUgPSBmdW5jdGlvbiAod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICAgICAgICBpZiAoY29uY3VycmVuY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uY3VycmVuY3kgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIF9pbnNlcnQocSwgZGF0YSwgcG9zLCBjYWxsYmFjaykge1xuICAgICAgICAgIGlmKGRhdGEuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XG4gICAgICAgICAgICAgIGRhdGEgPSBbZGF0YV07XG4gICAgICAgICAgfVxuICAgICAgICAgIF9lYWNoKGRhdGEsIGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICBkYXRhOiB0YXNrLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogbnVsbFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICBxLnRhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcS50YXNrcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHEuc2F0dXJhdGVkICYmIHEudGFza3MubGVuZ3RoID09PSBjb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3b3JrZXJzID0gMDtcbiAgICAgICAgdmFyIHEgPSB7XG4gICAgICAgICAgICB0YXNrczogW10sXG4gICAgICAgICAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgICAgICAgICBzYXR1cmF0ZWQ6IG51bGwsXG4gICAgICAgICAgICBlbXB0eTogbnVsbCxcbiAgICAgICAgICAgIGRyYWluOiBudWxsLFxuICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIF9pbnNlcnQocSwgZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgX2luc2VydChxLCBkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh3b3JrZXJzIDwgcS5jb25jdXJyZW5jeSAmJiBxLnRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFzayA9IHEudGFza3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHEuZW1wdHkgJiYgcS50YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2suY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5kcmFpbiAmJiBxLnRhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNiID0gb25seV9vbmNlKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBjYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxLnRhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5uaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBxO1xuICAgIH07XG5cbiAgICBhc3luYy5jYXJnbyA9IGZ1bmN0aW9uICh3b3JrZXIsIHBheWxvYWQpIHtcbiAgICAgICAgdmFyIHdvcmtpbmcgICAgID0gZmFsc2UsXG4gICAgICAgICAgICB0YXNrcyAgICAgICA9IFtdO1xuXG4gICAgICAgIHZhciBjYXJnbyA9IHtcbiAgICAgICAgICAgIHRhc2tzOiB0YXNrcyxcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQsXG4gICAgICAgICAgICBzYXR1cmF0ZWQ6IG51bGwsXG4gICAgICAgICAgICBlbXB0eTogbnVsbCxcbiAgICAgICAgICAgIGRyYWluOiBudWxsLFxuICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IFtkYXRhXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2VhY2goZGF0YSwgZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhc2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FyZ28uc2F0dXJhdGVkICYmIHRhc2tzLmxlbmd0aCA9PT0gcGF5bG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZ28uc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUoY2FyZ28ucHJvY2Vzcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgICAgICAgICBpZiAod29ya2luZykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FyZ28uZHJhaW4pIGNhcmdvLmRyYWluKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdHMgPSB0eXBlb2YgcGF5bG9hZCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRhc2tzLnNwbGljZSgwLCBwYXlsb2FkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGFza3Muc3BsaWNlKDApO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRzID0gX21hcCh0cywgZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhc2suZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmKGNhcmdvLmVtcHR5KSBjYXJnby5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIHdvcmtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdvcmtlcihkcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3b3JraW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIF9lYWNoKHRzLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5uaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjYXJnbztcbiAgICB9O1xuXG4gICAgdmFyIF9jb25zb2xlX2ZuID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncy5jb25jYXQoW2Z1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uc29sZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25zb2xlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZWFjaChhcmdzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVbbmFtZV0oeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBhc3luYy5sb2cgPSBfY29uc29sZV9mbignbG9nJyk7XG4gICAgYXN5bmMuZGlyID0gX2NvbnNvbGVfZm4oJ2RpcicpO1xuICAgIC8qYXN5bmMuaW5mbyA9IF9jb25zb2xlX2ZuKCdpbmZvJyk7XG4gICAgYXN5bmMud2FybiA9IF9jb25zb2xlX2ZuKCd3YXJuJyk7XG4gICAgYXN5bmMuZXJyb3IgPSBfY29uc29sZV9mbignZXJyb3InKTsqL1xuXG4gICAgYXN5bmMubWVtb2l6ZSA9IGZ1bmN0aW9uIChmbiwgaGFzaGVyKSB7XG4gICAgICAgIHZhciBtZW1vID0ge307XG4gICAgICAgIHZhciBxdWV1ZXMgPSB7fTtcbiAgICAgICAgaGFzaGVyID0gaGFzaGVyIHx8IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBoYXNoZXIuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICBpZiAoa2V5IGluIG1lbW8pIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBtZW1vW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5IGluIHF1ZXVlcykge1xuICAgICAgICAgICAgICAgIHF1ZXVlc1trZXldLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVldWVzW2tleV0gPSBbY2FsbGJhY2tdO1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MuY29uY2F0KFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbW9ba2V5XSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSBxdWV1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHF1ZXVlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcVtpXS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbWVtb2l6ZWQubWVtbyA9IG1lbW87XG4gICAgICAgIG1lbW9pemVkLnVubWVtb2l6ZWQgPSBmbjtcbiAgICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH07XG5cbiAgICBhc3luYy51bm1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoZm4udW5tZW1vaXplZCB8fCBmbikuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGFzeW5jLnRpbWVzID0gZnVuY3Rpb24gKGNvdW50LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGNvdW50ZXIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb3VudGVyLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzeW5jLm1hcChjb3VudGVyLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy50aW1lc1NlcmllcyA9IGZ1bmN0aW9uIChjb3VudCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjb3VudGVyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY291bnRlci5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3luYy5tYXBTZXJpZXMoY291bnRlciwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuY29tcG9zZSA9IGZ1bmN0aW9uICgvKiBmdW5jdGlvbnMuLi4gKi8pIHtcbiAgICAgICAgdmFyIGZucyA9IEFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICBhc3luYy5yZWR1Y2UoZm5zLCBhcmdzLCBmdW5jdGlvbiAobmV3YXJncywgZm4sIGNiKSB7XG4gICAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgbmV3YXJncy5jb25jYXQoW2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVyciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY2IoZXJyLCBuZXh0YXJncyk7XG4gICAgICAgICAgICAgICAgfV0pKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGF0LCBbZXJyXS5jb25jYXQocmVzdWx0cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBfYXBwbHlFYWNoID0gZnVuY3Rpb24gKGVhY2hmbiwgZm5zIC8qYXJncy4uLiovKSB7XG4gICAgICAgIHZhciBnbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICByZXR1cm4gZWFjaGZuKGZucywgZnVuY3Rpb24gKGZuLCBjYikge1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIGFyZ3MuY29uY2F0KFtjYl0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgICAgICAgICAgcmV0dXJuIGdvLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdvO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBhc3luYy5hcHBseUVhY2ggPSBkb1BhcmFsbGVsKF9hcHBseUVhY2gpO1xuICAgIGFzeW5jLmFwcGx5RWFjaFNlcmllcyA9IGRvU2VyaWVzKF9hcHBseUVhY2gpO1xuXG4gICAgYXN5bmMuZm9yZXZlciA9IGZ1bmN0aW9uIChmbiwgY2FsbGJhY2spIHtcbiAgICAgICAgZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZuKG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xuXG4gICAgLy8gQU1EIC8gUmVxdWlyZUpTXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgIT09ICd1bmRlZmluZWQnICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXN5bmM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBOb2RlLmpzXG4gICAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBhc3luYztcbiAgICB9XG4gICAgLy8gaW5jbHVkZWQgZGlyZWN0bHkgdmlhIDxzY3JpcHQ+IHRhZ1xuICAgIGVsc2Uge1xuICAgICAgICByb290LmFzeW5jID0gYXN5bmM7XG4gICAgfVxuXG59KCkpO1xuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSlcbn0se1wiX3Byb2Nlc3NcIjoyMH1dLDE4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmFyZ3VtZW50c1s0XVs1XVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cylcbn0se1wiZHVwXCI6NX1dLDE5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG59LHtcIl9wcm9jZXNzXCI6MjB9XSwyMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxufSx7fV0sMjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufVxufSx7fV0sMjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHtcIi4vc3VwcG9ydC9pc0J1ZmZlclwiOjIxLFwiX3Byb2Nlc3NcIjoyMCxcImluaGVyaXRzXCI6Nn1dLDIzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9pbmRleCA9IHJlcXVpcmUoJy4uLy4uL25vZGVfbW9kdWxlcy9uZWRiL2luZGV4LmpzJyk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGIgPSB7fTtcbmRiLnNvbmdzID0gbmV3IF9pbmRleDIuZGVmYXVsdCh7IGZpbGVuYW1lOiAnZGF0YWJhc2UvY2Fyb3Nfc29uZ3MuZGInIH0pO1xuZGIuYXJ0aXN0cyA9IG5ldyBfaW5kZXgyLmRlZmF1bHQoeyBmaWxlbmFtZTogJ2RhdGFiYXNlL2Nhcm9zX2FydGlzdHMuZGInIH0pO1xuZGIuYWxidW1zID0gbmV3IF9pbmRleDIuZGVmYXVsdCh7IGZpbGVuYW1lOiAnZGF0YWJhc2UvY2Fyb3NfYWxidW1zLmRiJyB9KTtcblxuZGIuc29uZ3MubG9hZERhdGFiYXNlKCk7XG5kYi5hcnRpc3RzLmxvYWREYXRhYmFzZSgpO1xuZGIuYWxidW1zLmxvYWREYXRhYmFzZSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuICBhZGRfbXVzaWM6IGZ1bmN0aW9uIGFkZF9tdXNpYyhkYXRhLCBjYWxsYmFjaykge1xuICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyBkYXRhLnBhdGgpO1xuICAgIGlmIChkYXRhLmFydGlzdCkge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvbmcgPSB7IHRpdGxlOiBkYXRhLnRpdGxlLCBwYXRoOiBkYXRhLnBhdGgsIG51bWJlcjogZGF0YS50cmFja251bSwgZHVyYXRpb246IGRhdGEuZHVyYXRpb24gfTtcbiAgICAgICAgdmFyIGFydGlzdCA9IHsgbmFtZTogZGF0YS5hcnRpc3QgfTtcbiAgICAgICAgdmFyIGFsYnVtID0geyB0aXRsZTogZGF0YS5hbGJ1bSwgaW1hZ2U6IGRhdGEuaW1hZ2UgfTtcblxuICAgICAgICBkYi5zb25ncy51cGRhdGUoeyB0aXRsZTogc29uZy50aXRsZSB9LCB7IHRpdGxlOiBzb25nLnRpdGxlLCBwYXRoOiBzb25nLnBhdGgsIG51bWJlcjogZGF0YS50cmFja251bSwgZHVyYXRpb246IHNvbmcuZHVyYXRpb24gfSwgeyB1cHNlcnQ6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgbnVtLCBzb25nRG9jKSB7XG4gICAgICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICAgICAgc29uZy5faWQgPSBzb25nRG9jLl9pZDtcbiAgICAgICAgICBkYi5hcnRpc3RzLnVwZGF0ZSh7IG5hbWU6IGFydGlzdC5uYW1lIH0sIHsgbmFtZTogYXJ0aXN0Lm5hbWUgfSwgeyB1cHNlcnQ6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgbnVtLCBhcnRpc3REb2MpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgICAgICAgYXJ0aXN0Ll9pZCA9IGFydGlzdERvYy5faWQ7XG4gICAgICAgICAgICBkYi5hbGJ1bXMudXBkYXRlKHsgdGl0bGU6IGFsYnVtLnRpdGxlIH0sIHsgdGl0bGU6IGFsYnVtLnRpdGxlLCBhcnRpc3Q6IGFydGlzdC5faWQsIGltYWdlOiBhbGJ1bS5pbWFnZSB9LCB7IHVwc2VydDogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBudW0sIGFsYnVtRG9jKSB7XG4gICAgICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgICAgICAgICBhbGJ1bS5faWQgPSBhbGJ1bURvYy5faWQ7XG5cbiAgICAgICAgICAgICAgZGIuc29uZ3MudXBkYXRlKHsgX2lkOiBzb25nLl9pZCB9LCB7IHRpdGxlOiBzb25nLnRpdGxlLCBhcnRpc3Q6IGFydGlzdC5faWQsIGFsYnVtOiBhbGJ1bS5faWQsIHBhdGg6IHNvbmcucGF0aCwgbnVtYmVyOiBkYXRhLnRyYWNrbnVtLCBkdXJhdGlvbjogc29uZy5kdXJhdGlvbiB9KTtcbiAgICAgICAgICAgICAgZGIuYXJ0aXN0cy51cGRhdGUoeyBfaWQ6IGFydGlzdC5faWQgfSwgeyAkYWRkVG9TZXQ6IHsgc29uZ3M6IHNvbmcuX2lkLCBhbGJ1bXM6IGFsYnVtLl9pZCB9IH0pO1xuICAgICAgICAgICAgICBkYi5hbGJ1bXMudXBkYXRlKHsgX2lkOiBhbGJ1bS5faWQgfSwgeyAkYWRkVG9TZXQ6IHsgc29uZ3M6IHNvbmcuX2lkIH0gfSk7XG5cbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pKCk7XG4gICAgfSBlbHNlIGlmIChkYXRhLnRpdGxlICYmICFkYXRhLmFydGlzdCkge1xuICAgICAgZGIuc29uZ3MudXBkYXRlKHsgdGl0bGU6IGRhdGEudGl0bGUgfSwgeyB0aXRsZTogZGF0YS50aXRsZSwgcGF0aDogZGF0YS5wYXRoIH0sIHsgdXBzZXJ0OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIG51bSwgZG9jKSB7XG4gICAgICAgIGlmIChlcnIpIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBnZXRfc29uZ3M6IGZ1bmN0aW9uIGdldF9zb25ncyhjYWxsYmFjaykge1xuICAgIHZhciBzb25ncyA9IHVuZGVmaW5lZDtcbiAgICB2YXIgYXJ0aXN0cyA9IHVuZGVmaW5lZDtcbiAgICB2YXIgYWxidW1zID0gdW5kZWZpbmVkO1xuXG4gICAgZGIuc29uZ3MuZmluZCh7fSkuc29ydCh7IHRpdGxlOiAxIH0pLmV4ZWMoZnVuY3Rpb24gKGVyciwgZG9jcykge1xuICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICB2YXIgc29uZ3MgPSBkb2NzLnNvcnQoKTtcblxuICAgICAgZGIuYXJ0aXN0cy5maW5kKHt9KS5zb3J0KHsgbmFtZTogMSB9KS5leGVjKGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICAgIHZhciBhcnRpc3RzID0gZG9jcy5zb3J0KCk7XG5cbiAgICAgICAgZGIuYWxidW1zLmZpbmQoe30pLnNvcnQoeyB0aXRsZTogMSB9KS5leGVjKGZ1bmN0aW9uIChlcnIsIGRvY3MpIHtcbiAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICAgICAgICB2YXIgYWxidW1zID0gZG9jcy5zb3J0KCk7XG5cbiAgICAgICAgICBjYWxsYmFjayh7IGFydGlzdHM6IGFydGlzdHMsIGFsYnVtczogYWxidW1zLCBzb25nczogc29uZ3MgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgcHJpbnRfc29uZ3M6IGZ1bmN0aW9uIHByaW50X3NvbmdzKCkge1xuICAgIGRiLmFydGlzdHMuZmluZCh7fSwgZnVuY3Rpb24gKGVyciwgZG9jcykge1xuICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICBjb25zb2xlLmxvZyhkb2NzKTtcbiAgICB9KTtcblxuICAgIGRiLmFsYnVtcy5maW5kKHt9LCBmdW5jdGlvbiAoZXJyLCBkb2NzKSB7XG4gICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKGVycik7XG5cbiAgICAgIGNvbnNvbGUubG9nKGRvY3MpO1xuICAgIH0pO1xuXG4gICAgZGIuc29uZ3MuZmluZCh7fSwgZnVuY3Rpb24gKGVyciwgZG9jcykge1xuICAgICAgaWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xuXG4gICAgICBjb25zb2xlLmxvZyhkb2NzKTtcbiAgICB9KTtcbiAgfSxcblxuICBwcmludF9vbmVfc29uZzogZnVuY3Rpb24gcHJpbnRfb25lX3NvbmcodGl0bGUpIHtcbiAgICBkYi5zb25ncy5maW5kT25lKHsgdGl0bGU6IHRpdGxlIH0sIGZ1bmN0aW9uIChlcnIsIGRvYykge1xuICAgICAgY29uc29sZS5sb2coZG9jKTtcbiAgICB9KTtcbiAgfSxcblxuICBkcm9wX2RiczogZnVuY3Rpb24gZHJvcF9kYnMoKSB7XG4gICAgZGIuYXJ0aXN0cy5yZW1vdmUoe30sIHsgbXVsdGk6IHRydWUgfSk7XG4gICAgZGIuYWxidW1zLnJlbW92ZSh7fSwgeyBtdWx0aTogdHJ1ZSB9KTtcbiAgICBkYi5zb25ncy5yZW1vdmUoe30sIHsgbXVsdGk6IHRydWUgfSk7XG4gIH1cblxufTtcblxufSx7XCIuLi8uLi9ub2RlX21vZHVsZXMvbmVkYi9pbmRleC5qc1wiOjEwfV0sMjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2RhdGFiYXNlID0gcmVxdWlyZSgnLi9kYXRhYmFzZS5qcycpO1xuXG52YXIgbXVzaWNTY3JvbGxlcjtcblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdDYXJPUycsIFtdKTtcblxuYXBwLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJywgZnVuY3Rpb24gKCRzY29wZSwgJGludGVydmFsKSB7XG4gICRzY29wZS5tYWlud2luZG93ID0gJ21haW4tbWVudSc7XG4gICRzY29wZS53aW5kb3dTdGFjayA9IFsnbWFpbi1tZW51J107XG4gICRzY29wZS50aW1lID0gbW9tZW50KCkuZm9ybWF0KCdoOm1tIGEnKTtcbiAgJHNjb3BlLmRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ2RkZCAtIE1NTSBEbycpO1xuICAkc2NvcGUueW9zY3JvbGwgPSBmYWxzZTtcblxuICAkc2NvcGUuZ29CYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICRzY29wZS53aW5kb3dTdGFjay5wb3AoKTtcbiAgICAkc2NvcGUubWFpbndpbmRvdyA9ICRzY29wZS53aW5kb3dTdGFja1skc2NvcGUud2luZG93U3RhY2subGVuZ3RoIC0gMV07XG4gIH07XG5cbiAgJGludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAkc2NvcGUudGltZSA9IG1vbWVudCgpLmZvcm1hdCgnaDptbSBhJyk7XG4gIH0sIDEwMDApO1xuXG4gICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgJHNjb3BlLmRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ01NL2RkJyk7XG4gIH0sIDQuMzJlKzcpO1xuXG4gICRzY29wZS5uYXZpZ2F0ZSA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgJHNjb3BlLm1haW53aW5kb3cgPSBjb250ZXh0O1xuICB9O1xufV0pO1xuXG5hcHAuY29udHJvbGxlcignTWFpbk1lbnUnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHt9XSk7XG5cbi8qKioqKioqKioqKioqKipcbiAgTXVzaWMgQ29udHJvbGxlclxuKioqKioqKioqKioqKioqL1xuXG5hcHAuY29udHJvbGxlcignTXVzaWMnLCBbJyRzY29wZScsICckZmlsdGVyJywgJyR0aW1lb3V0JywgJyRodHRwJywgJ011c2ljU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRmaWx0ZXIsICR0aW1lb3V0LCAkaHR0cCwgTXVzaWNTZXJ2aWNlKSB7XG4gICRzY29wZS5zb25ncyA9IFtdO1xuICAkc2NvcGUuYXJ0aXN0cyA9IFtdO1xuICAkc2NvcGUuYWxidW1zID0gW107XG4gICRzY29wZS5wbGF5aW5nID0gZmFsc2U7XG4gICRzY29wZS5hY3RpdmUgPSB7XG4gICAgc2lkZUJhcjogJycsXG4gICAgbGlzdFZpZXc6ICcnLFxuICAgIHNvbmc6ICcnXG4gIH07XG5cbiAgJHNjb3BlLmN1cnJlbnRBcnRpc3QgPSB7IGFydGlzdDogbnVsbCwgc29uZ3M6IFtdIH07XG5cbiAgJGh0dHAoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnL2RlbW8vZ2V0X3NvbmdzJ1xuICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAkc2NvcGUuYXJ0aXN0cyA9IHJlcy5kYXRhLmFydGlzdHM7XG4gICAgJHNjb3BlLmFsYnVtcyA9IHJlcy5kYXRhLmFsYnVtcztcbiAgICAkc2NvcGUuc29uZ3MgPSByZXMuZGF0YS5zb25ncztcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5jdXJyZW50U29uZztcbiAgfSwgZnVuY3Rpb24gKHNvbmcpIHtcbiAgICAkc2NvcGUuY3VycmVudFNvbmcgPSBzb25nO1xuICB9KTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLmN1cnJlbnRBbGJ1bTtcbiAgfSwgZnVuY3Rpb24gKGFsYnVtKSB7XG4gICAgJHNjb3BlLmN1cnJlbnRBbGJ1bSA9IGFsYnVtO1xuICB9KTtcblxuICAkc2NvcGUuY29udGV4dCA9ICcnO1xuICAkc2NvcGUuY2hhbmdlQ29udGV4dCA9IGZ1bmN0aW9uIChjdHh0LCBpbmRleCkge1xuICAgICRzY29wZS5jb250ZXh0ID0gY3R4dDtcbiAgICAkc2NvcGUuY3VycmVudEFydGlzdCA9IHsgYXJ0aXN0OiBudWxsLCBhbGJ1bXM6IFtdLCBzb25nczogW10gfTtcbiAgICAkc2NvcGUuY3VycmVudEFsYnVtID0ge307XG5cbiAgICAkc2NvcGUudXBkYXRlU2Nyb2xsZXIoaW5kZXgpO1xuICB9O1xuXG4gICRzY29wZS51cGRhdGVTY3JvbGxlciA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciBsaXN0ID0gJCgnLmxpc3QtdmlldycpW2luZGV4XTtcblxuICAgIG11c2ljU2Nyb2xsZXIuc2Nyb2xsVG8oMCwgMCwgMCk7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgbXVzaWNTY3JvbGxlci51cGRhdGVEaW1lbnNpb25zKCQobGlzdCkub3V0ZXJXaWR0aCgpLCAkKGxpc3QpLm91dGVySGVpZ2h0KCkgKyAyNSk7XG4gICAgfSwgMTAwKTtcbiAgfTtcblxuICAvLyBnZXRfc29uZ3MoZnVuY3Rpb24gKGZpbGVzKSB7XG4gIC8vICAgJHNjb3BlLnNvbmdzID0gYW5ndWxhci5jb3B5KGZpbGVzLnNvbmdzKTtcbiAgLy8gICAkc2NvcGUuYXJ0aXN0cyA9IGFuZ3VsYXIuY29weShmaWxlcy5hcnRpc3RzKTtcbiAgLy8gICAkc2NvcGUuYWxidW1zID0gYW5ndWxhci5jb3B5KGZpbGVzLmFsYnVtcyk7XG4gIC8vIH0pO1xuXG4gIC8vIGFydGlzdCB2aWV3c1xuICAkc2NvcGUuc2hvd0FsYnVtcyA9IGZ1bmN0aW9uIChhcnRpc3QsIGluZGV4KSB7XG4gICAgJHNjb3BlLmN1cnJlbnRBcnRpc3QgPSB7IGFydGlzdDogYXJ0aXN0LCBzb25nczogW10sIGFsYnVtczogW10gfTtcblxuICAgICRzY29wZS5hbGJ1bXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgYXJ0aXN0LmFsYnVtcy5mb3JFYWNoKGZ1bmN0aW9uIChhbCkge1xuICAgICAgICBpZiAoYS5faWQgPT09IGFsKSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdBbGJ1bSA9IHsgdGl0bGU6IGEudGl0bGUsIGltYWdlOiBhLmltYWdlLCBzb25nczogW10gfTtcblxuICAgICAgICAgICAgYS5zb25ncy5mb3JFYWNoKGZ1bmN0aW9uIChzbykge1xuICAgICAgICAgICAgICAkc2NvcGUuc29uZ3MuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIGlmIChzbyA9PT0gcy5faWQpIHtcbiAgICAgICAgICAgICAgICAgIG5ld0FsYnVtLnNvbmdzLnB1c2gocyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEFydGlzdC5hbGJ1bXMucHVzaChuZXdBbGJ1bSk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXBkYXRlU2Nyb2xsZXIoaW5kZXgpO1xuICB9O1xuXG4gICRzY29wZS5zaG93U29uZ3MgPSBmdW5jdGlvbiAoYWxidW0sIGluZGV4KSB7XG4gICAgJHNjb3BlLmN1cnJlbnRBbGJ1bSA9IHsgdGl0bGU6IGFsYnVtLnRpdGxlLCBhcnRpc3Q6IG51bGwsIGltYWdlOiBhbGJ1bS5pbWFnZSwgc29uZ3M6IFtdIH07XG5cbiAgICAkc2NvcGUuYXJ0aXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICBpZiAoYS5faWQgPT09IGFsYnVtLmFydGlzdCkge1xuICAgICAgICAkc2NvcGUuY3VycmVudEFsYnVtLmFydGlzdCA9IGE7XG4gICAgICAgICRzY29wZS5jdXJyZW50QXJ0aXN0LmFydGlzdCA9IGE7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuc29uZ3MuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgYWxidW0uc29uZ3MuZm9yRWFjaChmdW5jdGlvbiAoc28pIHtcbiAgICAgICAgaWYgKHMuX2lkID09PSBzbykge1xuICAgICAgICAgICRzY29wZS5jdXJyZW50QWxidW0uc29uZ3MucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXBkYXRlU2Nyb2xsZXIoaW5kZXgpO1xuICB9O1xuXG4gICRzY29wZS5nZXRBcnRpc3QgPSBmdW5jdGlvbiAoYXJ0aXN0KSB7XG4gICAgdmFyIG5hbWUgPSAnJztcbiAgICAkc2NvcGUuYXJ0aXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICBpZiAoYS5faWQgPT09IGFydGlzdCkge1xuICAgICAgICBuYW1lID0gYS5uYW1lO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5hbWU7XG4gIH07XG5cbiAgLy8gaGFuZGxlIHNvbmcgY2xpY2tcbiAgJHNjb3BlLnBsYXlTb25nID0gZnVuY3Rpb24gKHNvbmcsIHNvbmdsaXN0LCBhbGJ1bSkge1xuICAgIGlmICghc29uZ2xpc3QpIHtcbiAgICAgIHNvbmdsaXN0ID0gJHNjb3BlLnNvbmdzO1xuICAgIH1cblxuICAgIGlmICghJHNjb3BlLmN1cnJlbnRBcnRpc3QuYXJ0aXN0KSB7XG4gICAgICAkc2NvcGUuYXJ0aXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChhcikge1xuICAgICAgICBpZiAoYXIuX2lkID09PSBzb25nLmFydGlzdCkge1xuICAgICAgICAgICRzY29wZS5jdXJyZW50QXJ0aXN0LmFydGlzdCA9IGFyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFsYnVtID09PSAnbnVtYmVyJykge1xuICAgICAgJHNjb3BlLmFsYnVtcy5mb3JFYWNoKGZ1bmN0aW9uIChhbCkge1xuICAgICAgICBpZiAoYWwuX2lkID09PSBhbGJ1bSkge1xuICAgICAgICAgIE11c2ljU2VydmljZS5wbGF5U29uZyhzb25nLCBzb25nbGlzdCwgJHNjb3BlLmN1cnJlbnRBcnRpc3QsIGFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE11c2ljU2VydmljZS5wbGF5U29uZyhzb25nLCBzb25nbGlzdCwgJHNjb3BlLmN1cnJlbnRBcnRpc3QsIGFsYnVtKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnF1ZXVlU29uZyA9IGZ1bmN0aW9uIChzb25nKSB7XG4gICAgTXVzaWNTZXJ2aWNlLnF1ZXVlU29uZyhzb25nKTtcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLnNvbmdsaXN0O1xuICB9LCBmdW5jdGlvbiAobGlzdCkge1xuICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICRzY29wZS5wbGF5aW5nID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgJHNjb3BlLnNvbmdsaXN0ID0gYW5ndWxhci5jb3B5KGxpc3QpO1xuICB9LCB0cnVlKTtcbn1dKTtcblxuLyoqKioqKioqKioqKioqKlxuICBTZXR0aW5ncyBDdHJsXG4qKioqKioqKioqKioqKiovXG5cbmFwcC5jb250cm9sbGVyKCdTZXR0aW5ncycsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAkc2NvcGUuc2V0dGluZ3MgPSB7fTtcblxuICAkc2NvcGUucmVmcmVzaE11c2ljID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGZha2UgcmVmcmVzaFxuICB9O1xufV0pO1xuXG4vKioqKioqKioqKioqKioqXG4gIFBsYXllciBDdHJsXG4qKioqKioqKioqKioqKiovXG5cbmFwcC5jb250cm9sbGVyKCdQbGF5ZXInLCBbJyRzY29wZScsICckaW50ZXJ2YWwnLCAnTXVzaWNTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgJGludGVydmFsLCBNdXNpY1NlcnZpY2UpIHtcbiAgdmFyIHNvbmdsaXN0ID0gTXVzaWNTZXJ2aWNlLnNvbmdsaXN0O1xuICB2YXIgcGxheWVyID0gdW5kZWZpbmVkLFxuICAgICAgdGltZXIgPSB1bmRlZmluZWQ7XG5cbiAgJHNjb3BlLmR1cmF0aW9uID0gMDtcbiAgJHNjb3BlLnBsYXlsaXN0ID0gW107XG5cbiAgJHNjb3BlLnNjcnViYmVyID0ge307XG4gICRzY29wZS5zY3J1YmJlci52YWx1ZSA9ICcwJztcblxuICAkc2NvcGUucGxheWluZyA9IGZhbHNlO1xuICAkc2NvcGUuc29uZ2xpc3QgPSBbXTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLmR1cmF0aW9uO1xuICB9LCBmdW5jdGlvbiAoZHVyKSB7XG4gICAgJHNjb3BlLmR1cmF0aW9uID0gTWF0aC5yb3VuZChkdXIpO1xuICAgIGlmIChkdXIgPiAxKSB7XG4gICAgICB0aW1lciA9ICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICRzY29wZS5zY3J1YmJlci52YWx1ZSA9IE1hdGguZmxvb3IoTXVzaWNTZXJ2aWNlLnBsYXllci5jdXJyZW50VGltZSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH0sIHRydWUpO1xuXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNdXNpY1NlcnZpY2UucGF1c2VkO1xuICB9LCBmdW5jdGlvbiAocGF1c2VkKSB7XG4gICAgJHNjb3BlLnBhdXNlZCA9IHBhdXNlZDtcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5zb25nbGlzdDtcbiAgfSwgZnVuY3Rpb24gKGxpc3QpIHtcbiAgICBpZiAobGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAkc2NvcGUucGxheWluZyA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5wbGF5aW5nID0gZmFsc2U7XG4gICAgfVxuICAgICRzY29wZS5zb25nbGlzdCA9IGFuZ3VsYXIuY29weShsaXN0KTtcbiAgfSwgdHJ1ZSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5jdXJyZW50U29uZztcbiAgfSwgZnVuY3Rpb24gKHNvbmcpIHtcbiAgICAkc2NvcGUuY3VycmVudFNvbmcgPSBzb25nO1xuICB9KTtcblxuICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTXVzaWNTZXJ2aWNlLmN1cnJlbnRBcnRpc3Q7XG4gIH0sIGZ1bmN0aW9uIChhcnRpc3QpIHtcbiAgICAkc2NvcGUuY3VycmVudEFydGlzdCA9IGFydGlzdDtcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE11c2ljU2VydmljZS5jdXJyZW50QWxidW07XG4gIH0sIGZ1bmN0aW9uIChhbGJ1bSkge1xuICAgICRzY29wZS5jdXJyZW50QWxidW0gPSBhbGJ1bTtcbiAgfSk7XG5cbiAgLy8gbm9uLWludGVyYWN0YWJsZSBzY3J1YmJlciBmb3Igc21hbGwtcGxheWVyXG4gIC8vIHNjcnViYmVyIHdpZHRoIGlzIGR1cmF0aW9uIC8gc2NydWJiZXIgdmFsdWUgYXMgcGVyY2VudGFnZVxuICAkc2NvcGUuc2NydWJiZXJXaWR0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJHNjb3BlLmR1cmF0aW9uID4gMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJ3aWR0aFwiOiAkc2NvcGUuc2NydWJiZXIudmFsdWUgLyAkc2NvcGUuZHVyYXRpb24gKiAxMDAgKyAnJSdcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zaG93RnVsbFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKCcjcGxheWVyJykuYW5pbWF0ZSh7XG4gICAgICBib3R0b206ICcnXG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnNlZWsgPSBmdW5jdGlvbiAoc2Vla1RvKSB7XG4gICAgTXVzaWNTZXJ2aWNlLnNlZWsoc2Vla1RvKTtcbiAgfTtcblxuICAkc2NvcGUucGxheVBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICgkc2NvcGUucGF1c2VkKSB7XG4gICAgICBNdXNpY1NlcnZpY2UucGxheSgpO1xuICAgICAgdGltZXIgPSAkaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuc2NydWJiZXIudmFsdWUgPSBNYXRoLmZsb29yKE11c2ljU2VydmljZS5wbGF5ZXIuY3VycmVudFRpbWUpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE11c2ljU2VydmljZS5wYXVzZSgpO1xuICAgICAgJGludGVydmFsLmNhbmNlbCh0aW1lcik7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5mYXN0Rm9yd2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBNdXNpY1NlcnZpY2UuZmFzdEZvcndhcmQoJHNjb3BlLmN1cnJlbnRTb25nLm51bWJlcik7XG4gIH07XG5cbiAgJHNjb3BlLnJld2luZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBNdXNpY1NlcnZpY2UucmV3aW5kKCRzY29wZS5jdXJyZW50U29uZy5udW1iZXIpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2U29uZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBNdXNpY1NlcnZpY2UucHJldlNvbmcoJHNjb3BlLmN1cnJlbnRTb25nLm51bWJlcik7XG4gIH07XG59XSk7XG5cbi8qKioqKioqKioqKioqKipcbiAgTXVzaWMgU2VydmljZVxuKioqKioqKioqKioqKioqL1xuXG5hcHAuZmFjdG9yeSgnTXVzaWNTZXJ2aWNlJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHNvbmdsaXN0OiBbXSxcbiAgICBwbGF5ZXI6IG5ldyBBdWRpbygpLFxuICAgIGR1cmF0aW9uOiAxLFxuICAgIHBhdXNlZDogZmFsc2UsXG4gICAgcGxheWluZzogZmFsc2UsXG4gICAgY3VycmVudFNvbmc6IHt9LFxuICAgIGN1cnJlbnRBcnRpc3Q6IHt9LFxuICAgIGN1cnJlbnRBbGJ1bToge30sXG4gICAgZ2V0RHVyYXRpb246IGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZHVyYXRpb247XG4gICAgfSxcbiAgICBwbGF5U29uZzogZnVuY3Rpb24gcGxheVNvbmcoc29uZywgc29uZ2xpc3QsIGN1cnJlbnRBcnRpc3QsIGN1cnJlbnRBbGJ1bSkge1xuXG4gICAgICB0aGlzLnNvbmdsaXN0ID0gc29uZ2xpc3Quc29uZ3M7XG5cbiAgICAgIHRoaXMuY3VycmVudFNvbmcgPSBzb25nO1xuICAgICAgaWYgKGN1cnJlbnRBbGJ1bSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRBbGJ1bSA9IGN1cnJlbnRBbGJ1bTtcbiAgICAgIH0gZWxzZSBpZiAoc29uZ2xpc3QgJiYgc29uZ2xpc3QuaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50QWxidW0gPSBzb25nbGlzdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRBcnRpc3QpIHRoaXMuY3VycmVudEFydGlzdCA9IGN1cnJlbnRBcnRpc3Q7XG5cbiAgICAgIHRoaXMuYWRkRXZlbnQoKTtcbiAgICAgIHRoaXMucGxheShzb25nLnBhdGgucmVwbGFjZSgvXFwjL2lnLCAnJTIzJykpO1xuICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICB9LFxuICAgIGdldEN1cnJlbnRUaW1lOiBmdW5jdGlvbiBnZXRDdXJyZW50VGltZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBsYXllci5jdXJyZW50VGltZTtcbiAgICB9LFxuICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkocGF0aCkge1xuICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc3JjID0gcGF0aDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGF5ZXIucGxheSgpO1xuICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcblxuICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBmdHNjcm9sbGVyIGRpdiB0byBub3QgaGlkZSBjb250ZW50IGJlaGluZCBtdXNpYyBwbGF5ZXIgYnkgbWFraW5nIHNjcm9sbCBoZWlnaHQgKzEwMHB4XG4gICAgICAgIHZhciBzY3JvbGxlckhlaWdodCA9ICQobXVzaWNTY3JvbGxlci5jb250ZW50Q29udGFpbmVyTm9kZSkuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBzY3JvbGxlcldpZHRoID0gJChtdXNpY1Njcm9sbGVyLmNvbnRlbnRDb250YWluZXJOb2RlKS53aWR0aCgpO1xuXG4gICAgICAgIG11c2ljU2Nyb2xsZXIudXBkYXRlRGltZW5zaW9ucyhzY3JvbGxlcldpZHRoLCBzY3JvbGxlckhlaWdodCArIDEwMCwgdHJ1ZSk7XG4gICAgICB9LCAxMDApO1xuXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB0aGlzLnBsYXllci5vbmVuZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhhdC5zb25nbGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gdGhhdC5zb25nbGlzdC5pbmRleE9mKHRoYXQuY3VycmVudFNvbmcpICsgMTtcbiAgICAgICAgICB2YXIgc29uZyA9IHRoYXQuc29uZ2xpc3RbaW5kZXhdO1xuXG4gICAgICAgICAgdGhhdC5jdXJyZW50U29uZyA9IHNvbmc7XG4gICAgICAgICAgLy8gdGhhdC5jdXJyZW50QXJ0aXN0ID0gc29uZy5hcnRpc3Q7XG4gICAgICAgICAgdGhhdC5wbGF5ZXIuc3JjID0gc29uZy5wYXRoO1xuICAgICAgICAgIHRoYXQucGxheWVyLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIHRoaXMucGxheWVyLnBhdXNlKCk7XG4gICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICBzZWVrOiBmdW5jdGlvbiBzZWVrKHNlZWtUbykge1xuICAgICAgdGhpcy5wbGF5ZXIuY3VycmVudFRpbWUgPSBzZWVrVG87XG4gICAgfSxcbiAgICBmYXN0Rm9yd2FyZDogZnVuY3Rpb24gZmFzdEZvcndhcmQoaW5kZXgpIHtcbiAgICAgIHZhciBzb25nID0gdGhpcy5zb25nbGlzdFtpbmRleF07XG5cbiAgICAgIHRoaXMucGxheVNvbmcoc29uZyk7XG4gICAgfSxcbiAgICByZXdpbmQ6IGZ1bmN0aW9uIHJld2luZChpbmRleCkge1xuICAgICAgdmFyIHNvbmcgPSB0aGlzLnNvbmdsaXN0W2luZGV4IC0gMV07XG5cbiAgICAgIHRoaXMucGxheVNvbmcoc29uZyk7XG4gICAgfSxcbiAgICBwcmV2U29uZzogZnVuY3Rpb24gcHJldlNvbmcoaW5kZXgpIHtcbiAgICAgIHZhciBzb25nID0gdGhpcy5zb25nbGlzdFtpbmRleCAtIDJdO1xuXG4gICAgICB0aGlzLnBsYXlTb25nKHNvbmcpO1xuICAgIH0sXG4gICAgYWRkRXZlbnQ6IGZ1bmN0aW9uIGFkZEV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmR1cmF0aW9uID0gX3RoaXMucGxheWVyLmR1cmF0aW9uO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFwcC5maWx0ZXIoJ3RpbWVjb2RlJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoaW5wdXQgLyA2MCkgPCAxMCA/ICcwJyArIE1hdGguZmxvb3IoaW5wdXQgLyA2MCkgOiBNYXRoLmZsb29yKGlucHV0IC8gNjApO1xuICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcihpbnB1dCAlIDYwKSA8IDEwID8gJzAnICsgTWF0aC5mbG9vcihpbnB1dCAlIDYwKSA6IE1hdGguZmxvb3IoaW5wdXQgJSA2MCk7XG4gICAgcmV0dXJuIG1pbiArICc6JyArIHNlY29uZHM7XG4gIH07XG59KTtcblxuLy8gZnRzY3JvbGxlclxue1xuICB2YXIgc2Nyb2xsYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtdXNpYy1jb250ZW50Jyk7XG4gIG11c2ljU2Nyb2xsZXIgPSBuZXcgRlRTY3JvbGxlcihzY3JvbGxhYmxlLCB7XG4gICAgc2Nyb2xsYmFyczogZmFsc2UsXG4gICAgc2Nyb2xsaW5nWDogZmFsc2VcbiAgfSk7XG59XG5cbnZhciBkcm9wRGF0YSA9IGZ1bmN0aW9uIGRyb3BEYXRhKCkge1xuICBkcm9wX2RicygpO1xufTtcblxufSx7XCIuL2RhdGFiYXNlLmpzXCI6MjN9XX0se30sWzI0XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
